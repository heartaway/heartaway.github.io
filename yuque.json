[
  {
    "title": "微服务架构可视化平台实践",
    "description": "---title: 微服务架构可视化平台实践categories: 架构tags: [架构, 可视化, AHAS]date: 2018-11-22---为什么需要架构可视化随着企业进行微服务架构改造，系统架构复杂度越来越高，架构变化日益频繁，微服务改造后的实际架构模型可能与预期已经产生了巨大差...",
    "created_at": "2018-11-22T08:32:28.000Z",
    "updated_at": "2018-11-29T04:28:53.000Z",
    "published_at": "2018-11-29T04:28:53.000Z",
    "format": "asl",
    "slug": "xeop0w",
    "last_editor": {
      "id": 104361,
      "type": "User",
      "login": "xinyuan",
      "name": "心远",
      "description": "个人博主，关注高可用、微服务、故障注入、Chaos Enginering等领域，阿里云产品AHAS（应用高可用服务）技术负责人。",
      "avatar_url": "https://cdn.yuque.com/yuque/0/2018/jpeg/104361/1524454029057-avatar/d41b9efd-63b4-47f9-be3e-6ea6ffc5d9c2.jpeg",
      "large_avatar_url": "https://cdn.yuque.com/yuque/0/2018/jpeg/104361/1524454029057-avatar/d41b9efd-63b4-47f9-be3e-6ea6ffc5d9c2.jpeg?x-oss-process=image/resize,m_fill,w_320,h_320",
      "medium_avatar_url": "https://cdn.yuque.com/yuque/0/2018/jpeg/104361/1524454029057-avatar/d41b9efd-63b4-47f9-be3e-6ea6ffc5d9c2.jpeg?x-oss-process=image/resize,m_fill,w_160,h_160",
      "small_avatar_url": "https://cdn.yuque.com/yuque/0/2018/jpeg/104361/1524454029057-avatar/d41b9efd-63b4-47f9-be3e-6ea6ffc5d9c2.jpeg?x-oss-process=image/resize,m_fill,w_80,h_80",
      "followers_count": 3,
      "following_count": 1,
      "created_at": "2018-04-23T03:20:49.000Z",
      "updated_at": "2018-11-09T12:42:59.000Z",
      "_serializer": "v2.user"
    },
    "categories": "架构",
    "tags": [
      "架构",
      "可视化",
      "AHAS"
    ],
    "date": "2018-11-22 00:00:00 +0800",
    "body": "\n### <a name=\"g230wm\"></a>为什么需要架构可视化\n随着企业进行微服务架构改造，系统架构复杂度越来越高，架构变化日益频繁，微服务改造后的实际架构模型可能与预期已经产生了巨大差异，架构师或系统运维人员很难准确记忆所有资源实例的构成和交互情况；其次，系统架构在动态演化过程中可能引入了一些不可靠的因素，比如弱依赖变强依赖、局部容量不足、系统耦合过重等，给系统的稳定性带了极大的安全隐患。所以我们每次在面对系统改造、业务大促以及稳定性治理工作之前，都会通过梳理架构图的方式，呈现系统架构中个组件之间的交互方式，架构可视化能够清晰的协助我们识别架构中存在的问题以及建立高可用的系统。<!--more-->\n\n\n\n\n![image.png | left | 638x479](https://cdn.nlark.com/yuque/0/2018/png/104361/1542956362235-c47820c3-d1a6-4470-8be3-343ed710ceb7.png \"\")\n\n<div data-type=\"alignment\" data-value=\"center\" style=\"text-align:center\">\n  <div data-type=\"p\">（<em>Daniel Woods 在讲微服务时时的一张架构图）</em></div>\n</div>\n\n\n架构可视化后，可以给我们带来以下几点但不局限于此的优势：\n* 确定系统边界\n一张好的架构图，应该明确系统所包含的各个组件以及各个组件之间的核心调用关系，这些组件的集合就是系统的处理边界，系统架构的边界在一定程度上也反映了业务域的边界。\n* 架构问题识别\n基于高可用的架构准则，结合可视化的架构图，可以评估架构可能存在的安全风险，比如系统在容灾、隔离以及自愈维度下的健壮性。其次，一些架构链路可视化工具(比如鹰眼)在实际工作中确实大大提高了开发者排查与定位问题的效率。\n* 提高系统可用性\n有了系统架构的上下游依赖关系图，在故障发生时，开发人员可以借助依赖数据快速定位到问题的来源，极大缩短问题修复时间（MTTR）。借助架构图，我们还可以梳理出系统中存在的强弱依赖，在业务高峰期对弱依赖进行降级，或者针对系统依赖的各个组件进行故障模拟，以评测系统整体在面对局部故障的可靠性。\n\n### <a name=\"x8wvqr\"></a>常见架构可视化的做法\n我们熟知的架构图是静态的停留在PPT上的，很多时候我们的架构已经发生了非常大的变化，但是我们还在使用那张看上去很经典却早已过时的架构图。长时间使用与实际架构不符的架构图对线上架构的认知的危害是巨大的，我们需要在脑海中不断更新对系统架构的视图，以保持对系统架构的敏感度。每年的大促或者重大系统改造成为我们梳理系统架构、对架构进行重新认知的机会，此刻我们需要通过各种工具查看系统的各个组件分布以及不同组件的内部与外部的依赖关系，这种梳理架构图的方法是最常用的方式，权且称之为“__手工绘制法__”。\n\n手工经常干的事情，就有追求效率的同学使用计算机系统带来的自动化手段帮助自己做这件事情，比如我们常常看到的基于数据埋点的微服务可视化解决方案，这类架构可视化手段通常在分布式追踪、APM等监控领域使用较多，下图为某APM产品提供的应用维度架构可视化方案：\n\n\n![image.png | left | 747x376](https://cdn.nlark.com/yuque/0/2018/png/104361/1542964309773-458512d9-ae12-464b-a562-33df8342ac54.png \"\")\n\n我们称这种可视化方式为“__埋点式感知法__”，架构组件的识别是依赖关键的核心类检测与埋点，此种方案存在以下弊端：\n* 语言相关性：只要是系统埋点，与语言相关的特征基本就拜托不了，需要针对不同语言提供不同的依赖包；\n* 不易维护：因为是对核心类的检测，当组件包做了重大变更时，需要同步变更；\n* 不易扩展：因为是客户端识别方案，客户端一旦开放出去，新组件的支持只能等待用户更新组件；\n* 规模受限：客户端识别的另一个缺点是算法受限，服务端进行识别，可以借助大数据分析等手段更有效准确的识别；\n\n还有一种自动化架构感可视化方法，我们称之为“__无界架构感知__”，是一种语言无关性的架构识别方案，其采用采集用户主机上的进程和容器的元数据、监控数以及网路数据的最最基础的数据，在服务端构建架构图。\n\n### <a name=\"sak3aa\"></a>我们设计架构可视化的理念\n为了最大限度上降低用户进行架构可视化的成本，我们采用了无界架构感知-应用无侵入的方式微服务进行可视化，通过采集进程数据与网络调用数据，构建进程间的网络调用关系，构建微服务的架构信息。用户只需要安装我们AHAS Agent探针，即可完成架构可视化操作；对于阿里云云原生系统，我们提供了自动化安装方式，而无需登录机器。\n\n#### <a name=\"ow5ucr\"></a>核心本质\n软件架构可视化的核心点是寻找在软件体系结构中有意义和有效的元素视图以及这些元素之间的关系。我们认为一款优秀的软件架构可视化产品应该帮助用户排除掉不重要的信息，给用户呈现出对他们有价值的视图，特别是在微服务架构下庞大而复杂的调用关系链场景中。这里面的核心点是__有意义__和__有效__，要做到这两点，首先需要识别什么是有意义和有效的元素和关系，我们在此领域做的事情归纳起来就是“__识别__”，识别机器上的每个进程是什么，发生的网络调用远端是什么，唯有知晓了这些元素是什么我们才有理由和依据来判断是否对用户有意义以及其在用户架构中的重要程度。\n\n在梳理了大量架构图，我们发现用户关心的架构元素主要分为三类：\n1. 自己的应用服务；\n2. 应用对外部的资源依赖；\n3. 服务器本身的信息。 \n应用对外部资源的依赖通常以其它应用和通用中间件或者存储服务两种形式存在。故我们将需要识别的进程分为：应用服务和常见的组件服务（比如redis、mysql等），这些组件服务又分为用户自建的服务和使用公有云提供的服务，特别是对于Cloud Native应用来说，云服务的识别显得格外重要。\n目前，我们提供了20种阿里云云服务的识别以及包含mysql、redis、Tomcat等常见的21种三方服务组件，此组件库还在不断扩张中，目的就是最大限度的知晓架构中的元素到底是什么。\n\n\n\n![image.png | left | 747x377](https://cdn.nlark.com/yuque/0/2018/png/104361/1542958237398-de68d1b7-ef29-46b7-879b-41cb37b3c8a5.png \"\")\n\n<div data-type=\"alignment\" data-value=\"center\" style=\"text-align:center\">\n  <div data-type=\"p\">     （图中展示了 通过识别服务识别出来的nginx、redis组件以及阿里云中的Mysql服务和AHAS服务）</div>\n</div>\n\n\n\n\n![image.png | left | 747x385](https://cdn.nlark.com/yuque/0/2018/png/104361/1542958281395-8bb05ff4-0958-474d-8f04-546cbf8a0456.png \"\")\n\n（图中展示了节点详情的请求流向以及节点的监控等基本信息）\n\n\n\n![image.png | left | 747x304](https://cdn.nlark.com/yuque/0/2018/png/104361/1542963012342-42798fda-e169-4f2a-aaa8-481b1ff6d98b.png \"\")\n\n<div data-type=\"alignment\" data-value=\"center\" style=\"text-align:center\">\n  <div data-type=\"p\">(图中展示了识别的主机上的部分进程信息)</div>\n</div>\n\n#### <a name=\"xwhcne\"></a>架构分层\n我们同样认为架构可视化的有效性跟人的认知层次有关，架构可视化的重点是确定该工具是否更好的支持自顶向下方法、自下而上方法或者两者的结合。开发者更关心应用维度上的架构，架构师或者管理者更关心整体系统架构。所以需要针对不用的使用者提供不同层次的架构可视化视角。理想的架构图需要支持宏观维度以及不断下钻下的微观视角，我们对架构进行了分层设计，目前分为进程层、容器层和主机层，后期我们可能会继续上扩或者下钻支持地域层或者服务层。\n\n#### <a name=\"cvcnys\"></a>架构回溯\n没有哪个系统的架构是一成不变的，系统架构会随着系统的版本迭代不断进行演化。所以对架构可视化操作，还需要具备随着时间的推移可对架构信息进行自动更新已经回溯的能力。在我们提供的[架构感知](https://www.aliyun.com/product/ahas)产品中默认架构图会随着时间自动刷新，同时支持对历史的回溯，你可以选择历史中的某一刻查看架构信息，比如，重大版本的变更时，发布前与发布后的系统架构是否发生了违背一些高可用原则的问题，抑或排查是否出现了不该有的依赖问题。\n\n\n![image.png | left | 747x363](https://cdn.nlark.com/yuque/0/2018/png/104361/1542960362139-534dd303-c1b7-493a-8685-ac502e356028.png \"\")\n\n\n#### <a name=\"l3b8al\"></a>可见可得\n架构可视化解决了可见的问题，但当我们从架构图中发现了问题需要解决时，架构图还应该给我们提供便利的可交互操作入口，让我们可以完成问题发现与解决的闭环。比如通过架构感知监控到了某个应用的流量非常大，我们需要对应用进行限流或者预案，那么通过架构图，我们应该是可以完成我们期望执行的操作。在架构图中融入可以交互的运维操作，让我们从看到到操作，再到问题恢复后体现在图中，这就像计算机发展史上从命令行视图到窗口视图的转变。\n\n### <a name=\"mtfgyk\"></a>我们对架构可视化的定位\n__架构可视化不是目的，只是实现系统高可用性的手段__。借助架构感知采集到的架构数据，在识别了用户使用的组件（我们对mysql、redis、mq等的统称)后，我们借助这些组件以及与组件匹配的故障库，可以给用户自动推荐这些组件可能遇到的故障，配合我们提供的[评测服务](https://www.aliyun.com/product/ahas)让用户更方便地对组件进行各种故障的模拟与演练，以提高系统的健壮性。其次，通过架构感知识别Java Application 应用，如果发现其负载较高，配合我们提供的[限流降级](https://www.aliyun.com/product/ahas)（阿里巴巴开源的Sentinel商业版）功能，为服务的持续可用性保驾护航。\n\n\n\n\n![ahas-install.gif | center | 747x420](https://cdn.nlark.com/yuque/0/2018/gif/104361/1542969119301-c0372346-6922-4537-a611-1e772bee351f.gif \"\")\n\n<div data-type=\"alignment\" data-value=\"center\" style=\"text-align:center\">\n  <div data-type=\"p\">（白屏化安装AHAS探针）</div>\n  <div data-type=\"p\"></div>\n</div>\n\n\n\n![ahas-sentinel.gif | center | 747x420](https://cdn.nlark.com/yuque/0/2018/gif/104361/1542971799291-1e0987da-79c4-4e2d-b9d3-4e847a9c82eb.gif \"\")\n\n<div data-type=\"alignment\" data-value=\"center\" style=\"text-align:center\">\n  <div data-type=\"p\">（如何借助架构感知进行系统限流配置）</div>\n</div>\n\n我们对AHAS的定位是一款数据分析型的高可用保障产品，帮助云原生架构系统实现高可用能力的提升。架构可视化是我们给用户提供的高效运维和管控的窗口，我们期望通过丰富的云原生数据体系配合架构图的可视化以及可操作性，建立起以应用为中心的运维一体化平台。在未来，我们会加强与其它云服务的集成，比如监控、容器服务，以丰富架构感知的数据维度；其次，会在数据的深度挖掘和智能化消费上投入更多精力，真正让数据成为企业的核心价值，让数据成为保障业务的稳定性的利器。\n\n产品体验连接：[https://www.aliyun.com/product/ahas](https://www.aliyun.com/product/ahas)\n\n\n\n"
  },
  {
    "title": "本地缓存的数据变更",
    "description": "---title: 本地缓存的数据变更categories: 编程tags: [共享变量,缓存]date: 2018-11-16---背景业务上有一个需求使用基线数据中拷贝出内容，分发到不同用户集合的存储实例中，使用模型标识就是B-&gt;(u1,u2,u3...uN)，初始代码逻辑是，每个用...",
    "created_at": "2018-11-16T06:29:59.000Z",
    "updated_at": "2018-11-16T07:02:19.000Z",
    "published_at": "2018-11-16T07:02:19.000Z",
    "format": "asl",
    "slug": "dzrk19",
    "last_editor": {
      "id": 104361,
      "type": "User",
      "login": "xinyuan",
      "name": "心远",
      "description": "个人博主，关注高可用、微服务、故障注入、Chaos Enginering等领域，阿里云产品AHAS（应用高可用服务）技术负责人。",
      "avatar_url": "https://cdn.yuque.com/yuque/0/2018/jpeg/104361/1524454029057-avatar/d41b9efd-63b4-47f9-be3e-6ea6ffc5d9c2.jpeg",
      "large_avatar_url": "https://cdn.yuque.com/yuque/0/2018/jpeg/104361/1524454029057-avatar/d41b9efd-63b4-47f9-be3e-6ea6ffc5d9c2.jpeg?x-oss-process=image/resize,m_fill,w_320,h_320",
      "medium_avatar_url": "https://cdn.yuque.com/yuque/0/2018/jpeg/104361/1524454029057-avatar/d41b9efd-63b4-47f9-be3e-6ea6ffc5d9c2.jpeg?x-oss-process=image/resize,m_fill,w_160,h_160",
      "small_avatar_url": "https://cdn.yuque.com/yuque/0/2018/jpeg/104361/1524454029057-avatar/d41b9efd-63b4-47f9-be3e-6ea6ffc5d9c2.jpeg?x-oss-process=image/resize,m_fill,w_80,h_80",
      "followers_count": 3,
      "following_count": 1,
      "created_at": "2018-04-23T03:20:49.000Z",
      "updated_at": "2018-11-09T12:42:59.000Z",
      "_serializer": "v2.user"
    },
    "categories": "编程",
    "tags": [
      "共享变量",
      "缓存"
    ],
    "date": "2018-11-16 00:00:00 +0800",
    "body": "\n### <a name=\"d4zzse\"></a>背景\n业务上有一个需求使用基线数据中拷贝出内容，分发到不同用户集合的存储实例中，使用模型标识就是B->(u1,u2,u3...uN)，初始代码逻辑是，每个用户都有单独的定时器触发来执行B->uN的拷贝，执行这个过程需要首先从基线B中取出数据，然后替换为uN的用户信息，在写入uN的数据存储中（用户之间逻辑隔离非物理隔离），期初此流程没什么问题，后来考虑到每个用户读取的基线可能相同，可以对基线数据做local cache，以此来优化程序的执行性能， local cache 变量为全局共享变量，多线程可访问。\n\n\n### <a name=\"isplgh\"></a>问题\n在做性能优化使用local cache的时候，会先查询缓存是否存在，如果不存在，则查询基线数据，如果查询的基线存在的话，则回写到缓存中，并向目标用户实例中写入基线数据，整体流程如下：<!-- more -->\n\n```plain\n//首先查本地缓存\nList<ProcessEntity> processEntities = processCache.getIfPresent(cacheKey);\n        if (processEntities == null) {\n            //查询存储\n            processEntities = processSourceClient.readProcessEntitiesByTimeGrid(\n                demoDataRequest.getSourceUserId(), demoDataRequest.getSourceNamespace(),\n                demoDataRequest.getSourceTimeGrid());\n        }\n\n        if (CollectionUtils.isNotEmpty(processEntities)) {\n            //回写数据到缓存（存在多次写问题）\n            processCache.put(cacheKey, processEntities);\n            processEntities.forEach(item -> {\n                //替换用户属性，问题就在这里\n                item.setUserId(demoDataRequest.getTargetUserId());\n                item.setNamespace(demoDataRequest.getTargetNamespace());\n                item.setTimeGrid(demoDataRequest.getTargetTimeGrid());\n            });\n            \n            //写目标用户数据\n            processTargetClient.batchWriteProcessLog(processEntities);\n        }\n```\n\n增加了缓存后，我们在编码的时候，很容易认为数据我已经写到缓存中了，再对数据做处理不会影响缓存，但是我们忽略了这里的缓存是本地缓存，且是对象引用下的本地缓存，是共享数据；如果使用分布式缓存，通过数据的序列化和反序列化，相当于对象做了拷贝，不会有问题，如果使用本地缓存，存储数据的副本的话，也不会有问题；但是这里偏偏使用了本地变量，并对数据做了变更，没有引起编码时的注意，导致了错误。这个错误在单元测试的时候，也没测出来，发到生产环境上才对发现存储层在数据写入时大量报写入冲突。\n\n### <a name=\"bgu6rd\"></a>解决\n使用本地缓存时，如果有数据变更的需求，则需要使用副本，这也是共享变量在多线程中容易导致的一个容易发生的错误。\n\n\n![image.png | left | 747x300](https://cdn.nlark.com/yuque/0/2018/png/104361/1542351217947-009a8e54-41ed-4409-a896-9bad779f631c.png \"\")\n\n\n### <a name=\"q71zsp\"></a>反思\n期初线上打印出了冲突的问题，总以为是存储这边分批写的问题，后来发现这个问题的发生频次是间歇性的，且无规律，更像是具备随机性，所以决定深入排查，最后发现了编码上的一个很低级的错误。我们不要放过线上任何一个异常，除非我们把问题弄清楚了，否则“墨菲定律”告诉我们，担心出问题的地方，一定会出问题。\n"
  },
  {
    "title": "无标题",
    "description": "",
    "created_at": "2018-11-16T06:29:01.000Z",
    "updated_at": "2018-11-16T06:29:01.000Z",
    "published_at": null,
    "format": "asl",
    "slug": "ttogb2",
    "last_editor": {
      "id": 104361,
      "type": "User",
      "login": "xinyuan",
      "name": "心远",
      "description": "个人博主，关注高可用、微服务、故障注入、Chaos Enginering等领域，阿里云产品AHAS（应用高可用服务）技术负责人。",
      "avatar_url": "https://cdn.yuque.com/yuque/0/2018/jpeg/104361/1524454029057-avatar/d41b9efd-63b4-47f9-be3e-6ea6ffc5d9c2.jpeg",
      "large_avatar_url": "https://cdn.yuque.com/yuque/0/2018/jpeg/104361/1524454029057-avatar/d41b9efd-63b4-47f9-be3e-6ea6ffc5d9c2.jpeg?x-oss-process=image/resize,m_fill,w_320,h_320",
      "medium_avatar_url": "https://cdn.yuque.com/yuque/0/2018/jpeg/104361/1524454029057-avatar/d41b9efd-63b4-47f9-be3e-6ea6ffc5d9c2.jpeg?x-oss-process=image/resize,m_fill,w_160,h_160",
      "small_avatar_url": "https://cdn.yuque.com/yuque/0/2018/jpeg/104361/1524454029057-avatar/d41b9efd-63b4-47f9-be3e-6ea6ffc5d9c2.jpeg?x-oss-process=image/resize,m_fill,w_80,h_80",
      "followers_count": 3,
      "following_count": 1,
      "created_at": "2018-04-23T03:20:49.000Z",
      "updated_at": "2018-11-09T12:42:59.000Z",
      "_serializer": "v2.user"
    },
    "body": ""
  },
  {
    "title": "我为什么会在这",
    "description": "---title: 我为什么会在这categories: 思考tags: [工作, 目标]date: 2018-11-16---思考对于我们个人来说,要问自己的问题是:我为什么在这里?我如何才能帮助公司解决顾客问题？速度快效率高还不够，我们还希望更有成效。",
    "created_at": "2018-11-11T16:41:21.000Z",
    "updated_at": "2018-11-16T06:29:46.000Z",
    "published_at": "2018-11-16T06:29:45.000Z",
    "format": "asl",
    "slug": "qzi3m3",
    "last_editor": {
      "id": 104361,
      "type": "User",
      "login": "xinyuan",
      "name": "心远",
      "description": "个人博主，关注高可用、微服务、故障注入、Chaos Enginering等领域，阿里云产品AHAS（应用高可用服务）技术负责人。",
      "avatar_url": "https://cdn.yuque.com/yuque/0/2018/jpeg/104361/1524454029057-avatar/d41b9efd-63b4-47f9-be3e-6ea6ffc5d9c2.jpeg",
      "large_avatar_url": "https://cdn.yuque.com/yuque/0/2018/jpeg/104361/1524454029057-avatar/d41b9efd-63b4-47f9-be3e-6ea6ffc5d9c2.jpeg?x-oss-process=image/resize,m_fill,w_320,h_320",
      "medium_avatar_url": "https://cdn.yuque.com/yuque/0/2018/jpeg/104361/1524454029057-avatar/d41b9efd-63b4-47f9-be3e-6ea6ffc5d9c2.jpeg?x-oss-process=image/resize,m_fill,w_160,h_160",
      "small_avatar_url": "https://cdn.yuque.com/yuque/0/2018/jpeg/104361/1524454029057-avatar/d41b9efd-63b4-47f9-be3e-6ea6ffc5d9c2.jpeg?x-oss-process=image/resize,m_fill,w_80,h_80",
      "followers_count": 3,
      "following_count": 1,
      "created_at": "2018-04-23T03:20:49.000Z",
      "updated_at": "2018-11-09T12:42:59.000Z",
      "_serializer": "v2.user"
    },
    "categories": "思考",
    "tags": [
      "工作",
      "目标"
    ],
    "date": "2018-11-16 00:00:00 +0800",
    "body": "\n### <a name=\"d4zzse\"></a>思考\n对于我们个人来说,要问自己的问题是:我为什么在这里?我如何才能帮助公司解决顾客问题？速度快效率高还不够，我们还希望更有成效。\n"
  },
  {
    "title": "建立人生准则",
    "description": "---title: 建立人生准则categories: 思考tags: [目标, 人生, 感悟]date: 2018-11-10---前段时间百无聊赖之际无意翻阅到一部日漫《十二国记》，看之前我先翻了翻豆瓣评价（下意识的去评估投入产出比），评价的人不多，但是很多评价说儿时的这部日漫奠定了自己的...",
    "created_at": "2018-11-10T09:27:20.000Z",
    "updated_at": "2018-11-11T13:09:48.000Z",
    "published_at": "2018-11-11T13:09:47.000Z",
    "format": "asl",
    "slug": "gvvbva",
    "last_editor": {
      "id": 104361,
      "type": "User",
      "login": "xinyuan",
      "name": "心远",
      "description": "个人博主，关注高可用、微服务、故障注入、Chaos Enginering等领域，阿里云产品AHAS（应用高可用服务）技术负责人。",
      "avatar_url": "https://cdn.yuque.com/yuque/0/2018/jpeg/104361/1524454029057-avatar/d41b9efd-63b4-47f9-be3e-6ea6ffc5d9c2.jpeg",
      "large_avatar_url": "https://cdn.yuque.com/yuque/0/2018/jpeg/104361/1524454029057-avatar/d41b9efd-63b4-47f9-be3e-6ea6ffc5d9c2.jpeg?x-oss-process=image/resize,m_fill,w_320,h_320",
      "medium_avatar_url": "https://cdn.yuque.com/yuque/0/2018/jpeg/104361/1524454029057-avatar/d41b9efd-63b4-47f9-be3e-6ea6ffc5d9c2.jpeg?x-oss-process=image/resize,m_fill,w_160,h_160",
      "small_avatar_url": "https://cdn.yuque.com/yuque/0/2018/jpeg/104361/1524454029057-avatar/d41b9efd-63b4-47f9-be3e-6ea6ffc5d9c2.jpeg?x-oss-process=image/resize,m_fill,w_80,h_80",
      "followers_count": 3,
      "following_count": 1,
      "created_at": "2018-04-23T03:20:49.000Z",
      "updated_at": "2018-11-09T12:42:59.000Z",
      "_serializer": "v2.user"
    },
    "categories": "思考",
    "tags": [
      "目标",
      "人生",
      "感悟"
    ],
    "date": "2018-11-10 00:00:00 +0800",
    "body": "\n前段时间百无聊赖之际无意翻阅到一部日漫《十二国记》，看之前我先翻了翻豆瓣评价（下意识的去评估投入产出比），评价的人不多，但是很多评价说儿时的这部日漫奠定了自己的人生价值观以及世界观，我随之着了迷，到底是一部什么动画有这么大的魔力？\n\n在看了前几集的略显拖沓的情节后，越发后面越来越精彩。看到女主从一个柔弱的女高中生，在不断面对自己内心的批判与挣扎中变得越发强大，看到了活在自己痛苦之中的铃，看到也不知道为什么而存在的浅野，其中有很多让人深思的对白，从这部动漫的各个人物角色中，总能找到那个似曾相识的自己。\n\n### <a name=\"wgbkts\"></a>活出自我\n我从小就是那种乖乖孩，周边几乎所有的亲朋好友对我的评价基本都是“听话、懂事”，无论是在学校与老师、同学的关系，还是在家与父母亲人的关系，我都处理的很融洽。我曾一度认为这是自己处事得体的结果，看到了阳子面对自我的时候，才知道了原因。阳子像画出来一样的优等生，私生活和家庭都很踏实，和同学的关系十分友好，老师们也很喜欢她，不过一般来说这种事是不可能的，对老师来说都额好孩子，在同学间就会被梳疏远，在朋友心中受欢迎的话，在父母看来就像是走上了歪路一样，__每个人眼中看起来都好的孩子，往往只是为了让别人认同自己而丧失了自我，一味地迎合别人而已__。<!--more-->\n\n反观自己又何尝不是呢，以前都在按照别人的眼色与期望生活着，活成了别人期望的样子，反而丢失了自己。以前父母任何的决定，我几乎都是顺从，老板的任何安排与要求我也是全盘收纳，知道有一天，我觉得我应该有自己的思想以及对事物的价值判断了，我开始尝试的去独立思考，对父母意见的反驳让他们很是意外，让他们让为一向很乖的儿子变了，变得不再听话了；对老板也提出了自己不同的观点，即便是双方都没能很好的控制好情绪。此刻，我觉得我才是我，之前接近三十年似乎都活在一个皮囊之下。\n\n最近延禧攻略比较火，魏璎珞得到皇后的格外恩宠，究其原因，竟然是：璎珞就像当年的自己，所以保护璎珞就像保护当初的自己。魏英璐是在为自己而活，而其他人都是在为别人而活，活成了别人期望的样子，以至于自己都不认识自己了。 ​​​​\n\n### <a name=\"2lv6tr\"></a>投资回报\n有人说“成年人的世界没有永远不变的友谊，只有不变的利益”，单这句话我是赞同的，毕竟这个世界运行的基础就是以经济发展为基本规律，一切利益化，也不是我们能改变的社会规则。职场上，大家成为相互的朋友的前提是在能力圈范围差不多的时候，你有的东西正好是我要的，如果不在一个朋友圈内，这种关系也很难维持。生活中，人每隔七年的交际圈会发生一次改变，不是因为友谊不在了，而是因为我们在考虑投资收益比的思维习惯影响下，那些低价值的社交被我们主动过滤掉了。成熟的我们做任何事情之前都会开始思考，对我有什么好处，我能得到什么，即便是爱一个人，也会去衡量我是不是爱他比他爱我多一点点。其实，计较的太多，让我们过的异常疲惫，社会其实不负责，复杂的是人心。\n阳子曾说：就算被人背叛，那也只是背叛别人的人变得卑鄙！因为不是出于善意就不相信人吗？如果对方不亲切对我就不能对他亲切吗？我相信对方，和对方是否背叛我，没有任何关系！我只是一个人，这就是为什么所有有关我的事有我自己决定！就算没有任何人对我好，就算怎样被其他人被背叛，我也不会成为一个不相信任何人的卑鄙小人！跟世界各他人无关，__因为我想对人亲切所以亲切，因为我想相信别人所以相信！__\n\n### <a name=\"lyw4kr\"></a>比惨心理\n因“蚀”被卷入十二国的大木铃，一度认为自己是世界上最不幸的人，无论在什么地方都会跟别人比不幸。有时人在说‘我好不幸’时也许与说‘我好幸福’时一样充满了自豪！人一般都不愿承认自己是这个世上最幸福的人，倒是拼命与别人争夺‘我是世上最不幸的人'，至少‘在某一方面我就是这个世上最不幸的人！’从而给自己自怜的理由，从而认为大家都应该同情我，顺从我，这其实是奢望更多幸福的一种心理！\n\n若一个人实在是无法忍受时，他必定会逃，如果他没有这样做，不管是什么理由，那必定是还可以忍受，并潜意识地把自己置于这种悲惨的地步，一面在自怜：‘我为何如此不幸？’一面在自欺：‘一定会有人给我幸福！’。\n\n祥琼曾说：只是在炫耀自己比别人更不幸，不是吗？说什么那家伙很可怜，自己更可怜什么的，只不过是在刻意让自己觉得不幸而已。有痛苦的事很伟大吗？能够忍受痛苦很伟大吗？我的话就想办法让自己不那么痛苦。说什么一个人比另一个人更痛苦根本是假话,每个人其实都有同样多的痛苦.真的痛苦的话,人就会拼了命想办法从那种情况下逃脱出来.没有逃走,是因为姐姐只是喜欢把自己置身于不幸的感觉里不是吗?对这样的人为什么要同情?\n\n这个世界上的人，__每个人的人生都是一半幸福，一半痛苦__。遇到痛苦的事情，不要以为是社会独对自己的不公，应尽全力突破困难，化危机为机遇，让困难成为自己成长的助力器。\n\n### <a name=\"227krc\"></a>为行为负责\n以前我从来没有意识到我们做任何事情一旦决定了，就需要为结果埋单这件事。没有谁提醒过这个是现实世界的生存法则之一；也许我看到或听到别人说过，但是没有体感，丝毫不认为这条可以成为人生原则之一。直到去年在看《画江湖之不良人》中张子凡的九叔的情节，让我有所领悟。  张子凡九叔叫李存忠，奉老大李嗣源的命令找回张子凡，在找到张子凡之后，按理说任务完成了，就该回去了，但子凡请求其救出李星云，其明知要在汴州营中捞人按期的武力就是以卵击石，又考虑到如果如果能顺便把李星云带回通文馆的话，又是立功一件，此时摆在李存忠面前的是一个选择题，要不要做这个风险与收益并存的支线任务呢！结果如大家预料的一样，任务失败，害的十二叔李存孝惨死汴州，自己也深受重伤，张子凡也没能如愿带回，在回到通文馆向李克用请罪时，迫于压力被李嗣源的射杀，当场毙命。\n\n我们在小的时候不需要为行为负责或者没有被教育要为行为负责，是因为父母是我们的庇护伞，我们在外面闯祸犯错了，父母总是说会想办法摆平，我们反而逃避了惩罚，这就导致了缺乏对自己行为负责的思考。小孩子的世界与成年人的世界不同，需要按照成年人的游戏规则生成。__我们在做任何事情之前，都需要谨慎考虑清楚自己是否有能力承担其结果，如果不能或者不愿，那就不要做这个决定，不要要让自己成为巨婴，做了事情又不远承担结果的人。__\n\n无论生活还是工作当中，也是如此，你要想有所成绩，就必须做好因成绩不佳而可能带来的不良影响。比如因做阿里云而苦守多年受尽激讽的王坚博士，比如因推进阿里做社交软件来玩的前CEO陆兆禧，做成了一代功臣高高在上，做失败了，退出历史舞台。人生中的机会并不多，做好每一次的决断，不要事后为你改承担的结果而啧啧不休。\n\n无论你听过再多的道理，当你没有经历过一些事情或者心智没有达到这个境界的时候，你是不会理解这个道理的，所以人们会常常说“道理我都懂，然后并没有什么乱用”，那是因为你经历的还是太少，痛了你就明白了。\n\n### <a name=\"lgmxum\"></a>人生信仰\n以前我是不太相信信仰的，这可能跟中国大环境下缺乏信仰有关。从小到大，没有任何教育说要建立个人信仰，要建立个人人生准则与道德底线，也不知道成为一个什么样的人才算是一个合格的人。那时候大人们只会问，你长大了想当什么，我们会回到当医生或者警察亦或者老师，但是也说不清楚为什么相当。直到从《十二国记》中看到了乐俊，我觉得，他就是我想要找的那个人生导师。真诚待人，而不是怀有功利心；即便整个社会都不接纳自己，自己也要努力拼搏，活出自我；强大的包容心，对过失的包容，对不公的包容，对人心阴暗面的包容；乐观积极向上，睿智而博学。\n\n在我们面对教条主义式的价值观灌输时，我们往往都是怀有抵触心理的，像动漫这种以动人的故事来告诉你什么是好的，什么是值得推崇与坚守的，更能让人信服。有了人生导师，就应该在生活中践行，做到知行合一。公共场合不大声喧哗，主动让座，主动拾起垃圾，以力所能及的方式帮助需要帮助的人。多以有爱的眼光看到这个世界，你会发现，有底线、有准则、有信仰、有关爱的人就在你我身边。\n### <a name=\"gznzgi\"></a>\n\n"
  },
  {
    "title": "博客内容模板",
    "description": "---title: 博客内容模板categories: 分类tags: [标签1, 标签2]date: 2000-01-01---博客三级标题",
    "created_at": "2018-11-10T08:46:43.000Z",
    "updated_at": "2018-11-10T08:53:20.000Z",
    "published_at": "2018-11-10T08:53:20.000Z",
    "format": "asl",
    "slug": "ggecw8",
    "last_editor": {
      "id": 104361,
      "type": "User",
      "login": "xinyuan",
      "name": "心远",
      "description": "个人博主，关注高可用、微服务、故障注入、Chaos Enginering等领域，阿里云产品AHAS（应用高可用服务）技术负责人。",
      "avatar_url": "https://cdn.yuque.com/yuque/0/2018/jpeg/104361/1524454029057-avatar/d41b9efd-63b4-47f9-be3e-6ea6ffc5d9c2.jpeg",
      "large_avatar_url": "https://cdn.yuque.com/yuque/0/2018/jpeg/104361/1524454029057-avatar/d41b9efd-63b4-47f9-be3e-6ea6ffc5d9c2.jpeg?x-oss-process=image/resize,m_fill,w_320,h_320",
      "medium_avatar_url": "https://cdn.yuque.com/yuque/0/2018/jpeg/104361/1524454029057-avatar/d41b9efd-63b4-47f9-be3e-6ea6ffc5d9c2.jpeg?x-oss-process=image/resize,m_fill,w_160,h_160",
      "small_avatar_url": "https://cdn.yuque.com/yuque/0/2018/jpeg/104361/1524454029057-avatar/d41b9efd-63b4-47f9-be3e-6ea6ffc5d9c2.jpeg?x-oss-process=image/resize,m_fill,w_80,h_80",
      "followers_count": 3,
      "following_count": 1,
      "created_at": "2018-04-23T03:20:49.000Z",
      "updated_at": "2018-11-09T12:42:59.000Z",
      "_serializer": "v2.user"
    },
    "categories": "分类",
    "tags": [
      "标签1",
      "标签2"
    ],
    "date": "2000-01-01 00:00:00 +0800",
    "body": "\n### <a name=\"d4zzse\"></a>博客三级标题\n\n"
  }
]