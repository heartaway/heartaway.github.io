{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"source/CNAME","path":"CNAME","modified":1,"renderable":0},{"_id":"source/avatar.jpeg","path":"avatar.jpeg","modified":1,"renderable":0},{"_id":"source/favicon.ico","path":"favicon.ico","modified":1,"renderable":0},{"_id":"themes/yilia/source/gitment.css","path":"gitment.css","modified":1,"renderable":1},{"_id":"themes/yilia/source/main.0cf68a.css","path":"main.0cf68a.css","modified":1,"renderable":1},{"_id":"themes/yilia/source/slider.e37972.js","path":"slider.e37972.js","modified":1,"renderable":1},{"_id":"themes/yilia/source/main.0cf68a.js","path":"main.0cf68a.js","modified":1,"renderable":1},{"_id":"themes/yilia/source/mobile.992cbe.js","path":"mobile.992cbe.js","modified":1,"renderable":1},{"_id":"source/images/wiki/breaststroke.png","path":"images/wiki/breaststroke.png","modified":1,"renderable":0},{"_id":"source/images/wiki/eclipse-need-java6.png","path":"images/wiki/eclipse-need-java6.png","modified":1,"renderable":0},{"_id":"source/lightslider/img/controls.png","path":"lightslider/img/controls.png","modified":1,"renderable":0},{"_id":"themes/yilia/source/fonts/default-skin.b257fa.svg","path":"fonts/default-skin.b257fa.svg","modified":1,"renderable":1},{"_id":"themes/yilia/source/fonts/iconfont.16acc2.ttf","path":"fonts/iconfont.16acc2.ttf","modified":1,"renderable":1},{"_id":"themes/yilia/source/fonts/iconfont.45d7ee.svg","path":"fonts/iconfont.45d7ee.svg","modified":1,"renderable":1},{"_id":"themes/yilia/source/fonts/iconfont.8c627f.woff","path":"fonts/iconfont.8c627f.woff","modified":1,"renderable":1},{"_id":"themes/yilia/source/fonts/iconfont.b322fa.eot","path":"fonts/iconfont.b322fa.eot","modified":1,"renderable":1},{"_id":"themes/yilia/source/fonts/tooltip.4004ff.svg","path":"fonts/tooltip.4004ff.svg","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/default-skin.png","path":"img/default-skin.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/preloader.gif","path":"img/preloader.gif","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/scrollbar_arrow.png","path":"img/scrollbar_arrow.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/gitment.js","path":"gitment.js","modified":1,"renderable":1},{"_id":"source/images/posts/20160103/2015-fengqu-hard-work.jpg","path":"images/posts/20160103/2015-fengqu-hard-work.jpg","modified":1,"renderable":0},{"_id":"source/images/posts/20160103/2015-fengqu-xiaowa.jpg","path":"images/posts/20160103/2015-fengqu-xiaowa.jpg","modified":1,"renderable":0},{"_id":"source/images/posts/20160103/2015-jiehongzhao.jpg","path":"images/posts/20160103/2015-jiehongzhao.jpg","modified":1,"renderable":0},{"_id":"source/images/posts/20170615/sys-load-top.png","path":"images/posts/20170615/sys-load-top.png","modified":1,"renderable":0},{"_id":"source/images/posts/20170729/15013170603938.jpg","path":"images/posts/20170729/15013170603938.jpg","modified":1,"renderable":0},{"_id":"source/images/posts/20170729/15013171616768.jpg","path":"images/posts/20170729/15013171616768.jpg","modified":1,"renderable":0},{"_id":"source/images/posts/20170729/15013200170363.jpg","path":"images/posts/20170729/15013200170363.jpg","modified":1,"renderable":0},{"_id":"source/images/posts/20170729/15013200322290.jpg","path":"images/posts/20170729/15013200322290.jpg","modified":1,"renderable":0},{"_id":"source/images/posts/20170729/15013200810263.jpg","path":"images/posts/20170729/15013200810263.jpg","modified":1,"renderable":0},{"_id":"source/images/posts/20170902/14824834942593.jpg","path":"images/posts/20170902/14824834942593.jpg","modified":1,"renderable":0},{"_id":"source/images/posts/20170902/14824835188662.jpg","path":"images/posts/20170902/14824835188662.jpg","modified":1,"renderable":0},{"_id":"source/images/posts/20170921/15059815133485.jpg","path":"images/posts/20170921/15059815133485.jpg","modified":1,"renderable":0},{"_id":"source/images/posts/20171020/15084807485727.jpg","path":"images/posts/20171020/15084807485727.jpg","modified":1,"renderable":0},{"_id":"source/images/posts/20171229/2017-12-12-renzhi-lay.jpeg","path":"images/posts/20171229/2017-12-12-renzhi-lay.jpeg","modified":1,"renderable":0},{"_id":"source/images/posts/20160310/5C6ED2A3-C1DF-4937-8C59-A03C73582185.png","path":"images/posts/20160310/5C6ED2A3-C1DF-4937-8C59-A03C73582185.png","modified":1,"renderable":0},{"_id":"source/images/posts/20160310/7BCC9F9B-0535-48BC-B247-3A13DFC9C60E.png","path":"images/posts/20160310/7BCC9F9B-0535-48BC-B247-3A13DFC9C60E.png","modified":1,"renderable":0},{"_id":"source/images/posts/20160509/geetest-captcha.png","path":"images/posts/20160509/geetest-captcha.png","modified":1,"renderable":0},{"_id":"source/images/posts/20160509/js-url-param-sign.png","path":"images/posts/20160509/js-url-param-sign.png","modified":1,"renderable":0},{"_id":"source/images/posts/20160510/bean-init-three-step.png","path":"images/posts/20160510/bean-init-three-step.png","modified":1,"renderable":0},{"_id":"source/images/posts/20160606/https-tcp.png","path":"images/posts/20160606/https-tcp.png","modified":1,"renderable":0},{"_id":"source/images/posts/20170615/jstack-top.png","path":"images/posts/20170615/jstack-top.png","modified":1,"renderable":0},{"_id":"source/images/posts/20170615/system-monitor-line.png","path":"images/posts/20170615/system-monitor-line.png","modified":1,"renderable":0},{"_id":"source/images/posts/20170630/4310879-3357bcd3cb02416b.png","path":"images/posts/20170630/4310879-3357bcd3cb02416b.png","modified":1,"renderable":0},{"_id":"source/images/posts/20170630/4310879-678b45d2de320746.png","path":"images/posts/20170630/4310879-678b45d2de320746.png","modified":1,"renderable":0},{"_id":"source/images/posts/20170729/15013171868842.jpg","path":"images/posts/20170729/15013171868842.jpg","modified":1,"renderable":0},{"_id":"source/images/posts/20170902/14826731196884.jpg","path":"images/posts/20170902/14826731196884.jpg","modified":1,"renderable":0},{"_id":"source/images/posts/20170921/15059814992587.jpg","path":"images/posts/20170921/15059814992587.jpg","modified":1,"renderable":0},{"_id":"source/images/posts/20170921/15059819937015.jpg","path":"images/posts/20170921/15059819937015.jpg","modified":1,"renderable":0},{"_id":"source/images/posts/20171229/2017-12-12-stock.jpeg","path":"images/posts/20171229/2017-12-12-stock.jpeg","modified":1,"renderable":0},{"_id":"source/images/posts/20170615/changefree-while-query.png","path":"images/posts/20170615/changefree-while-query.png","modified":1,"renderable":0},{"_id":"source/images/posts/20170615/jstack-grep-tid.png","path":"images/posts/20170615/jstack-grep-tid.png","modified":1,"renderable":0},{"_id":"source/images/posts/20170615/sys-mail-notice.png","path":"images/posts/20170615/sys-mail-notice.png","modified":1,"renderable":0},{"_id":"source/images/posts/20170615/top-pid.png","path":"images/posts/20170615/top-pid.png","modified":1,"renderable":0},{"_id":"source/images/posts/20170630/4310879-177756096b76affe.png","path":"images/posts/20170630/4310879-177756096b76affe.png","modified":1,"renderable":0},{"_id":"source/images/posts/20170630/4310879-fc19311bc92a811d.png","path":"images/posts/20170630/4310879-fc19311bc92a811d.png","modified":1,"renderable":0},{"_id":"source/images/posts/20170704/14990824219836.jpg","path":"images/posts/20170704/14990824219836.jpg","modified":1,"renderable":0},{"_id":"source/images/posts/20160606/https-tcp-client-hello-random.png","path":"images/posts/20160606/https-tcp-client-hello-random.png","modified":1,"renderable":0},{"_id":"source/images/posts/20160606/https-tcp-client-hello-sid.png","path":"images/posts/20160606/https-tcp-client-hello-sid.png","modified":1,"renderable":0},{"_id":"source/images/posts/20160612/bean-util-sample.png","path":"images/posts/20160612/bean-util-sample.png","modified":1,"renderable":0},{"_id":"source/images/posts/20170630/4310879-6ae60b2944c257ef.png","path":"images/posts/20170630/4310879-6ae60b2944c257ef.png","modified":1,"renderable":0},{"_id":"source/images/posts/20170630/4310879-d41c948490a26b54.png","path":"images/posts/20170630/4310879-d41c948490a26b54.png","modified":1,"renderable":0},{"_id":"source/images/posts/20170729/15013198529222.png","path":"images/posts/20170729/15013198529222.png","modified":1,"renderable":0},{"_id":"source/images/posts/20170902/14824828832109.jpg","path":"images/posts/20170902/14824828832109.jpg","modified":1,"renderable":0},{"_id":"source/images/posts/20170902/14826733264139.jpg","path":"images/posts/20170902/14826733264139.jpg","modified":1,"renderable":0},{"_id":"source/images/posts/20170902/14826735377431.jpg","path":"images/posts/20170902/14826735377431.jpg","modified":1,"renderable":0},{"_id":"source/images/posts/20170902/14826747022343.jpg","path":"images/posts/20170902/14826747022343.jpg","modified":1,"renderable":0},{"_id":"source/images/posts/20171229/2017-12-12-yunnan-party.jpeg","path":"images/posts/20171229/2017-12-12-yunnan-party.jpeg","modified":1,"renderable":0},{"_id":"source/images/posts/20180329/aliyun-mutil-region.png","path":"images/posts/20180329/aliyun-mutil-region.png","modified":1,"renderable":0},{"_id":"source/images/posts/20180409/mybatis-work-flow.jpg","path":"images/posts/20180409/mybatis-work-flow.jpg","modified":1,"renderable":0},{"_id":"source/images/posts/20160509/fqht-regist.png","path":"images/posts/20160509/fqht-regist.png","modified":1,"renderable":0},{"_id":"source/images/posts/20160509/user-token-cookie.png","path":"images/posts/20160509/user-token-cookie.png","modified":1,"renderable":0},{"_id":"source/images/posts/20160606/https-tcp-data-transport.png","path":"images/posts/20160606/https-tcp-data-transport.png","modified":1,"renderable":0},{"_id":"source/images/posts/20160606/https-tcp-graph.png","path":"images/posts/20160606/https-tcp-graph.png","modified":1,"renderable":0},{"_id":"source/images/posts/20170630/4310879-cb86b37d1390d7b3.png","path":"images/posts/20170630/4310879-cb86b37d1390d7b3.png","modified":1,"renderable":0},{"_id":"source/images/posts/20170902/14826738507608.jpg","path":"images/posts/20170902/14826738507608.jpg","modified":1,"renderable":0},{"_id":"source/images/posts/20170902/14826767849619.jpg","path":"images/posts/20170902/14826767849619.jpg","modified":1,"renderable":0},{"_id":"source/images/posts/20180409/mybatis-executor-topo.jpg","path":"images/posts/20180409/mybatis-executor-topo.jpg","modified":1,"renderable":0},{"_id":"source/images/posts/20160606/tcp-first-handshake.png","path":"images/posts/20160606/tcp-first-handshake.png","modified":1,"renderable":0},{"_id":"source/images/posts/20160606/tcp-third-time-handshake.png","path":"images/posts/20160606/tcp-third-time-handshake.png","modified":1,"renderable":0},{"_id":"source/images/posts/20160612/object-mapping-per-hightchart-two.png","path":"images/posts/20160612/object-mapping-per-hightchart-two.png","modified":1,"renderable":0},{"_id":"source/images/posts/20170630/4310879-25474decc57eca07.png","path":"images/posts/20170630/4310879-25474decc57eca07.png","modified":1,"renderable":0},{"_id":"source/images/posts/20170630/4310879-6d0b680ae67a8c96.png","path":"images/posts/20170630/4310879-6d0b680ae67a8c96.png","modified":1,"renderable":0},{"_id":"source/images/posts/20170630/4310879-bb0b92f26600b59a.png","path":"images/posts/20170630/4310879-bb0b92f26600b59a.png","modified":1,"renderable":0},{"_id":"source/images/posts/20170630/4310879-e088ada92f63d4c1.png","path":"images/posts/20170630/4310879-e088ada92f63d4c1.png","modified":1,"renderable":0},{"_id":"source/images/posts/20170703/14990720990548.jpg","path":"images/posts/20170703/14990720990548.jpg","modified":1,"renderable":0},{"_id":"source/images/posts/20170902/14826767169568.jpg","path":"images/posts/20170902/14826767169568.jpg","modified":1,"renderable":0},{"_id":"source/images/posts/20171020/15084809508975.jpg","path":"images/posts/20171020/15084809508975.jpg","modified":1,"renderable":0},{"_id":"source/images/posts/20160606/https-tcp-client-hello-servername.png","path":"images/posts/20160606/https-tcp-client-hello-servername.png","modified":1,"renderable":0},{"_id":"source/images/posts/20160606/tcp-second-handshake.png","path":"images/posts/20160606/tcp-second-handshake.png","modified":1,"renderable":0},{"_id":"source/images/posts/20160606/tcp-third-handshake.png","path":"images/posts/20160606/tcp-third-handshake.png","modified":1,"renderable":0},{"_id":"source/images/posts/20160606/tencent-cloud-https-tcp-all.png","path":"images/posts/20160606/tencent-cloud-https-tcp-all.png","modified":1,"renderable":0},{"_id":"source/images/posts/20170630/4310879-4f20d68e1f4bbd33.png","path":"images/posts/20170630/4310879-4f20d68e1f4bbd33.png","modified":1,"renderable":0},{"_id":"source/images/posts/20170729/15013199075789.png","path":"images/posts/20170729/15013199075789.png","modified":1,"renderable":0},{"_id":"source/images/posts/20171229/2017-12-12-yunnan-lgh.jpeg","path":"images/posts/20171229/2017-12-12-yunnan-lgh.jpeg","modified":1,"renderable":0},{"_id":"source/images/posts/20160510/ioc-context-init.png","path":"images/posts/20160510/ioc-context-init.png","modified":1,"renderable":0},{"_id":"source/images/posts/20160606/https-tcp-client-hello-cipher.png","path":"images/posts/20160606/https-tcp-client-hello-cipher.png","modified":1,"renderable":0},{"_id":"source/images/posts/20160606/https-tcp-client-hello.png","path":"images/posts/20160606/https-tcp-client-hello.png","modified":1,"renderable":0},{"_id":"source/images/posts/20160606/https-tcp-secret-encrypted.png","path":"images/posts/20160606/https-tcp-secret-encrypted.png","modified":1,"renderable":0},{"_id":"source/images/posts/20170630/4310879-a2c3b631208d2559.png","path":"images/posts/20170630/4310879-a2c3b631208d2559.png","modified":1,"renderable":0},{"_id":"source/images/posts/20160510/beanFactory-applicationContext-hex.png","path":"images/posts/20160510/beanFactory-applicationContext-hex.png","modified":1,"renderable":0},{"_id":"source/images/posts/20160606/https-tcp-certificate.png","path":"images/posts/20160606/https-tcp-certificate.png","modified":1,"renderable":0},{"_id":"source/images/posts/20160606/https-tcp-client-key-exchanger.png","path":"images/posts/20160606/https-tcp-client-key-exchanger.png","modified":1,"renderable":0},{"_id":"source/images/posts/20160606/https-tcp-server-hello.png","path":"images/posts/20160606/https-tcp-server-hello.png","modified":1,"renderable":0},{"_id":"source/images/posts/20170630/4310879-f1ab820576d3d36b.png","path":"images/posts/20170630/4310879-f1ab820576d3d36b.png","modified":1,"renderable":0},{"_id":"source/images/posts/20170630/4310879-51f9fe182fea724d.png","path":"images/posts/20170630/4310879-51f9fe182fea724d.png","modified":1,"renderable":0},{"_id":"source/images/posts/20181006/violenceComesHome.jpg","path":"images/posts/20181006/violenceComesHome.jpg","modified":1,"renderable":0},{"_id":"source/images/posts/20160606/tcp-get-conn-release-conn.png","path":"images/posts/20160606/tcp-get-conn-release-conn.png","modified":1,"renderable":0},{"_id":"source/images/posts/20170630/4310879-2175f5af9eed7857.png","path":"images/posts/20170630/4310879-2175f5af9eed7857.png","modified":1,"renderable":0},{"_id":"source/images/posts/20170630/4310879-23d0bf618f8f6f5a.png","path":"images/posts/20170630/4310879-23d0bf618f8f6f5a.png","modified":1,"renderable":0},{"_id":"source/images/posts/20170630/4310879-4c10e03305a1f2d8.png","path":"images/posts/20170630/4310879-4c10e03305a1f2d8.png","modified":1,"renderable":0},{"_id":"source/images/posts/20170630/4310879-6d02639ce5ae160f.png","path":"images/posts/20170630/4310879-6d02639ce5ae160f.png","modified":1,"renderable":0},{"_id":"source/images/posts/20160606/wirdshark-tencent-cloud-tcp-stream-get.png","path":"images/posts/20160606/wirdshark-tencent-cloud-tcp-stream-get.png","modified":1,"renderable":0},{"_id":"source/images/posts/20170630/4310879-5ce73b40ffbe076d.png","path":"images/posts/20170630/4310879-5ce73b40ffbe076d.png","modified":1,"renderable":0},{"_id":"source/images/posts/20170630/4310879-d0375b2d590c0c34.png","path":"images/posts/20170630/4310879-d0375b2d590c0c34.png","modified":1,"renderable":0},{"_id":"source/images/posts/20171229/2017-12-12-aliyun-profile-money.png","path":"images/posts/20171229/2017-12-12-aliyun-profile-money.png","modified":1,"renderable":0},{"_id":"source/images/posts/20170630/4310879-350ab02c6030c235.png","path":"images/posts/20170630/4310879-350ab02c6030c235.png","modified":1,"renderable":0},{"_id":"source/images/posts/20170630/4310879-4a7c08a813ffa011.png","path":"images/posts/20170630/4310879-4a7c08a813ffa011.png","modified":1,"renderable":0},{"_id":"source/images/posts/20170630/4310879-6395c5da25e3e7fc.png","path":"images/posts/20170630/4310879-6395c5da25e3e7fc.png","modified":1,"renderable":0},{"_id":"source/images/posts/20170630/4310879-141e6ba51f8dc54c.png","path":"images/posts/20170630/4310879-141e6ba51f8dc54c.png","modified":1,"renderable":0},{"_id":"source/images/posts/20170630/4310879-f24ca8d32ad1a384.png","path":"images/posts/20170630/4310879-f24ca8d32ad1a384.png","modified":1,"renderable":0},{"_id":"source/images/posts/20170630/4310879-dedb20d5be56d989.png","path":"images/posts/20170630/4310879-dedb20d5be56d989.png","modified":1,"renderable":0},{"_id":"source/images/posts/20170630/4310879-ccf6cae90139b130.png","path":"images/posts/20170630/4310879-ccf6cae90139b130.png","modified":1,"renderable":0},{"_id":"source/media/how-to-study.pdf","path":"media/how-to-study.pdf","modified":1,"renderable":0}],"Cache":[{"_id":"source/CNAME","hash":"d44b52fd9fc4af23688cb00429ae60d964d2eaa7","modified":1541840349794},{"_id":"themes/yilia/.babelrc","hash":"b1b76475ac17dc9e2fa50af96c9e31eea2d0f2b4","modified":1541770347485},{"_id":"themes/yilia/.editorconfig","hash":"da6d022b8f4d9c961e2f8f80677e92af8de0db4d","modified":1541770347485},{"_id":"themes/yilia/.DS_Store","hash":"fc127d55ca0dbbe8364da596f3c87b2e9cb19dfb","modified":1541837065718},{"_id":"themes/yilia/.eslintignore","hash":"df0a50b13cc00acb749226fee3cee6e0351fb1d9","modified":1541770347485},{"_id":"source/.DS_Store","hash":"19a9c5ec58133c6dbce6b5187542b39d069f989b","modified":1553526056179},{"_id":"themes/yilia/.eslintrc.js","hash":"5696ae049de010ed3786768b0c359f14c05b5ec6","modified":1541770347486},{"_id":"themes/yilia/.gitattributes","hash":"e0f24dceeb1e6878a1dd9b01a2b9df1bc037a867","modified":1541770347486},{"_id":"themes/yilia/.gitignore","hash":"9c4b7d27a1e3e5efa0c8ed143a032a85d586b03b","modified":1541770347486},{"_id":"themes/yilia/README.md","hash":"1bf755806af9d8874bd22e1abbdaaa24328ef4dc","modified":1541770347486},{"_id":"themes/yilia/_config.yml","hash":"81cc37ff9bbcd973c7c44faeee9ed7961f0ccb94","modified":1541837008655},{"_id":"themes/yilia/package.json","hash":"367cb9579d35968a942c243ab248a5f5ebfaf462","modified":1541770347495},{"_id":"themes/yilia/webpack.config.js","hash":"05ba46a4ae744272f5312e684928910dccad3755","modified":1541770347514},{"_id":"source/avatar.jpeg","hash":"8bf674321042c11ba81265538941fbc0f6a4ac1d","modified":1541840349812},{"_id":"source/_posts/.DS_Store","hash":"93a05619f0906516a27d2effe0deaa741492d35f","modified":1553525766721},{"_id":"source/images/.DS_Store","hash":"3c9f083196ff4139cc427c9fedfae4ab3509bc5a","modified":1541771585831},{"_id":"source/favicon.ico","hash":"497b7ba9c4933e56e90fd5494d12f9abfde71d07","modified":1541840349813},{"_id":"themes/yilia/layout/.DS_Store","hash":"9bd705a115372073ee1d2c30532f7e7f186d6339","modified":1541822403550},{"_id":"themes/yilia/layout/archive.ejs","hash":"2703b07cc8ac64ae46d1d263f4653013c7e1666b","modified":1541770347494},{"_id":"themes/yilia/layout/category.ejs","hash":"765426a9c8236828dc34759e604cc2c52292835a","modified":1541770347494},{"_id":"themes/yilia/layout/index.ejs","hash":"a35dc900203f9d8dd863ea4c1722198d6d457ec8","modified":1541770347494},{"_id":"themes/yilia/layout/layout.ejs","hash":"0a332bdbd3b86c231d690614687f5b97186b85d5","modified":1541770347495},{"_id":"themes/yilia/layout/page.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1541770347495},{"_id":"themes/yilia/layout/post.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1541770347495},{"_id":"themes/yilia/layout/tag.ejs","hash":"eaa7b4ccb2ca7befb90142e4e68995fb1ea68b2e","modified":1541770347495},{"_id":"themes/yilia/source-src/css.ejs","hash":"94dbdb02ca11849e415d54fb28546a598f2cffb1","modified":1541770347496},{"_id":"themes/yilia/source-src/script.ejs","hash":"c21381e1317db7bb157f1d182b8c088cb7cba411","modified":1541770347508},{"_id":"themes/yilia/languages/default.yml","hash":"3083f319b352d21d80fc5e20113ddf27889c9d11","modified":1541770347487},{"_id":"themes/yilia/languages/fr.yml","hash":"84ab164b37c6abf625473e9a0c18f6f815dd5fd9","modified":1541770347487},{"_id":"themes/yilia/languages/nl.yml","hash":"12ed59faba1fc4e8cdd1d42ab55ef518dde8039c","modified":1541770347487},{"_id":"themes/yilia/languages/no.yml","hash":"965a171e70347215ec726952e63f5b47930931ef","modified":1541770347487},{"_id":"themes/yilia/languages/ru.yml","hash":"4fda301bbd8b39f2c714e2c934eccc4b27c0a2b0","modified":1541770347487},{"_id":"themes/yilia/languages/zh-CN.yml","hash":"ca40697097ab0b3672a80b455d3f4081292d1eed","modified":1541770347488},{"_id":"themes/yilia/languages/zh-tw.yml","hash":"53ce3000c5f767759c7d2c4efcaa9049788599c3","modified":1541770347488},{"_id":"themes/yilia/.git/HEAD","hash":"acbaef275e46a7f14c1ef456fff2c8bbe8c84724","modified":1541770347482},{"_id":"themes/yilia/.git/config","hash":"c40cd5b5e68998d1ed4e671c103f35abb9bcf503","modified":1541770347484},{"_id":"themes/yilia/.git/description","hash":"9635f1b7e12c045212819dd934d809ef07efa2f4","modified":1541770338894},{"_id":"themes/yilia/.git/index","hash":"e3d36c1c4ec7aca5cac680ee8f09e707ae8e13ff","modified":1541770347514},{"_id":"themes/yilia/.git/packed-refs","hash":"76b1aa9479dd3de329935b6d94a6624c5f716d23","modified":1541770347478},{"_id":"themes/yilia/source/gitment.css","hash":"1494131f8a187cf3051ff348698abce71c308790","modified":1541822747245},{"_id":"themes/yilia/source/main.0cf68a.css","hash":"3fa265f40d18a5164d1ea343b876e6e818d1515c","modified":1541822486108},{"_id":"themes/yilia/source/slider.e37972.js","hash":"6dec4e220c89049037eebc44404abd8455d22ad7","modified":1541770347513},{"_id":"themes/yilia/layout/_partial/toc.ejs","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1541770347493},{"_id":"source/_posts/Basic/2013-05-02-websocket.md","hash":"4553d60c637c166d702a81d08a9bfb94898ce7f5","modified":1541840349794},{"_id":"source/_posts/Basic/2016-06-06-https-with-wireshark.md","hash":"1e60265e05a0b98be623c1545377814a9df39141","modified":1541840349794},{"_id":"source/_posts/Basic/2017-03-14-mail-html.md","hash":"c32ceca1b28a54c77d0296ffe4db206267f6a54d","modified":1541840349795},{"_id":"source/_posts/Android/2014-09-01-listview.md","hash":"db50b4e429611bc774b416c1226f42d6a5be5a91","modified":1541840349794},{"_id":"source/_posts/Android/2014-09-11-layout.md","hash":"d10e714d8db532f0905e72f2320ba45601479d64","modified":1541840349794},{"_id":"themes/yilia/source/main.0cf68a.js","hash":"993fadeb5f6d296e9d997a49ee20dc97333ceab7","modified":1541770347512},{"_id":"themes/yilia/source/mobile.992cbe.js","hash":"01b35e71e37aa2849664eb5daf26daede2278398","modified":1541770347513},{"_id":"source/_posts/HighAvailability/2018-03-14-monitor-system.md","hash":"d32ce153a5d6bc2cc646afb40a19119a66cd80ae","modified":1541840349795},{"_id":"source/_posts/HighAvailability/2018-03-15-aws-application-discovery.md","hash":"c2c00f3a22d68c7df508e8393e78e52a690aa744","modified":1541840349795},{"_id":"source/_posts/HighAvailability/2018-03-29-aliyun-mutil-region.md","hash":"be45e638415e0894cd834aaeb7ef339c586dec05","modified":1541840349795},{"_id":"source/_posts/HighAvailability/2018-11-22-architectural-visualization.md","hash":"7d83c621c299ab8a6c1c62011e930a10e2c3e665","modified":1553525207405},{"_id":"source/_posts/Middleware/2015-12-20-diamond-study.md","hash":"a06ae5aecd70a4832739c88f63c129ee507929f2","modified":1541840349804},{"_id":"source/_posts/Middleware/2017-02-10-lsv-change-road.md","hash":"3a151a5919cfebc29731284e1a26e5ead2151bc0","modified":1541840349804},{"_id":"source/_posts/Java/ 2018-11-16-local-cache-chage.md","hash":"26f80cd42f0b09a22656d80649514bb84a5bd635","modified":1553525160598},{"_id":"source/_posts/Java/.DS_Store","hash":"f92c97eff9c81440d3d1a57b4743eccb66dfd824","modified":1553525170399},{"_id":"source/_posts/Java/2013-02-28-datasource-grouth.md","hash":"8be81a5a86e70351c8e23e7c72ac1a952f5acf65","modified":1541840349796},{"_id":"source/_posts/Java/2013-03-04-java-init.md","hash":"9042cacdcfc60cdb55175e348885c010ec4dcbb5","modified":1541840349796},{"_id":"source/_posts/Java/2013-03-18-java-super-this.md","hash":"8d1cfad6131bbf4e9094cdf94f65d8c6eb5df347","modified":1541840349796},{"_id":"source/_posts/Java/2013-03-05-java-class-load.md","hash":"10043d2f47ce4b44b42c904c51e87c3db1c9f1df","modified":1541840349796},{"_id":"source/_posts/Java/2013-03-21-java-enum.md","hash":"9e52688bb0b350e57630b70bf0962fc67570e0c2","modified":1541840349796},{"_id":"source/_posts/Java/2013-04-28-java-collection.md","hash":"8b5e2ed336d90a534b2452b650613a48bcb4e4b0","modified":1541840349796},{"_id":"source/_posts/Java/2013-04-29-java-seriailze-and-un.md","hash":"4720b4601c6e27b7ffe249dba44f82a2fd35af21","modified":1541840349797},{"_id":"source/_posts/Java/2013-04-30-java-final-static.md","hash":"4c5876ddacce6323ff7ade3bc860ca15f7abd666","modified":1541840349797},{"_id":"source/_posts/Java/2013-07-03-http.md","hash":"f5f1e6c5238b23fe373f20674eae7627c08478fb","modified":1541840349797},{"_id":"source/_posts/Java/2013-07-04-httpclient.md","hash":"fbe1bf6fe5df1e8c0065c571bfc075f7fa29910a","modified":1541840349797},{"_id":"source/_posts/Java/2015-03-25-crm-cpu-high-analysis.md","hash":"7f9c6f06924702db609431a0a0ec6245b738938c","modified":1541840349797},{"_id":"source/_posts/Java/2015-03-26-java-mem-visualization.md","hash":"393d1c660f898179195015020fcdde93149324a2","modified":1541840349798},{"_id":"source/_posts/Java/2015-06-02-java-singleton-four-method.md","hash":"39e3436609c5af0ec69999a1890b53ea1485de0c","modified":1541840349798},{"_id":"source/_posts/Java/2016-03-09-byte-code-java-serailze.md","hash":"e6c27163eb0e1680ed35a189288fb85fa6b17b17","modified":1541840349798},{"_id":"source/_posts/Java/2016-03-10-simpledateformat.md","hash":"ebd19c33f97c9f2afc6e0741fe15f053ad152a56","modified":1541840349798},{"_id":"source/_posts/Java/2016-05-03-dubbo-timeout.md","hash":"7a51a791c07bc0c916f42840cfb7667397ea446d","modified":1541840349798},{"_id":"source/_posts/Java/2016-05-05-mem-visiable.md","hash":"9b1531bc78ff24f951792ada7a17ccfd19e077dc","modified":1541840349798},{"_id":"source/_posts/Java/2016-05-06-java-io.md","hash":"71a348fa0bb37421458f774519197c589e97876d","modified":1541840349799},{"_id":"source/_posts/Java/2016-05-31-java-method-cost-time.md","hash":"324598b89ac2c588eeb80ecf7fb289b0980374b7","modified":1541840349799},{"_id":"source/_posts/Java/2016-06-12-object-mapping.md","hash":"d662df8f6ac50a7e1a86458b6ab17f34e4e4a83c","modified":1541840349799},{"_id":"source/_posts/Java/2016-06-14-threadpool-handle-batch.md","hash":"43eabc1022d0422eadefb3bc4bacc24fdbaf309d","modified":1541840349799},{"_id":"source/_posts/Java/2016-06-26-distributed-id-generator.md","hash":"a6997c240c7e035f42a4b8006c248010a981561b","modified":1541840349799},{"_id":"source/_posts/Java/2016-07-07-cas-work.md","hash":"d2923fcca20bf482ed68e644533b1923ed669170","modified":1541840349800},{"_id":"source/_posts/Java/2016-07-25-picture-java-concurrent.md","hash":"7857aa91a282b0eeba0cae6a1ff63766218fa2d3","modified":1541840349800},{"_id":"source/_posts/Java/2016-08-17-task-threadpool.md","hash":"489bebe07b2d11304bb2887a44e0fb65e35fd1f6","modified":1541840349800},{"_id":"source/_posts/Java/2017-02-15-object-mapping.md","hash":"35e45c8b8718826144286bb65c48e0770816dccb","modified":1541840349800},{"_id":"source/_posts/Java/2017-02-16-threadlocal.md","hash":"50b9327904959f08bba0a628fb5f405ee9a32eb3","modified":1541840349800},{"_id":"source/_posts/Java/2017-06-15-while-died.md","hash":"7338d9f14c88278546c8e30496d1cdf0b0b50bf5","modified":1541840349801},{"_id":"source/_posts/Java/2017-06-30-study-road-line.md","hash":"dc225526d63a0cd12c6b43a4310137d4b0f6eacf","modified":1541840349801},{"_id":"source/_posts/Java/2017-07-03-string-split.md","hash":"7eed94a9869a1cfd4f0f32b0fb471d1ca7351815","modified":1541840349801},{"_id":"source/_posts/Java/2017-07-04-mysql-max-orderby-limit.md","hash":"2fe5a564aa457f885a93f40e15e28184bfd1d77a","modified":1541840349801},{"_id":"source/_posts/Java/2017-07-29-springmvc-file-download.md","hash":"9161b099bc0d26c704c0ae25813ee035fa9e830d","modified":1541840349802},{"_id":"source/_posts/Java/2017-07-31-distrubute-id-gen.md","hash":"5e27bffcb0dc518b64cbf771e53e5b5e92fd178d","modified":1541840349802},{"_id":"source/_posts/Java/2017-09-21-phantomjs-install.md","hash":"8b26cbd5e1e57d3bf653e8d05f63240be737c1f2","modified":1541840349802},{"_id":"source/_posts/Java/2017-09-21-phantomjs-use.md","hash":"27984176d3984fa8990d175b1eb512263a81e73e","modified":1541840349802},{"_id":"source/_posts/Java/2017-10-20-message-string-byte.md","hash":"8d859b3b1581b7272520a0b62a9b55dedc35fd34","modified":1541840349803},{"_id":"source/_posts/Java/2018-01-19-spring-properties.md","hash":"20eacfb09ef59db7a399c2707df2786d1095fbd5","modified":1541840349803},{"_id":"source/_posts/Java/2018-03-06-spring-quartz-trigger.md","hash":"4dc9493a235bdb9a353f78d854c46db1231a3404","modified":1541840349803},{"_id":"source/_posts/Java/2018-03-22-java-bean-setter-return.md","hash":"e43506d1b8843f1d9188a50fb040010704007414","modified":1541840349803},{"_id":"source/_posts/Java/2018-04-09-mybatis-core-thought.md","hash":"555659c7673b92070e1daa09a6bb79fd3c98cc12","modified":1553526077795},{"_id":"source/_posts/Java/2019-03-25-application-no-response.md","hash":"03dd36cffb0efa68d1a69949ed4be996f65494a9","modified":1553525111384},{"_id":"source/_posts/Mysql/2016-06-15-mysql-lock-table-ddl.md","hash":"0ca9f95506fdbe9fcbd15cfbdf7ccdfd6e24b0d1","modified":1541840349804},{"_id":"source/_posts/Mysql/2016-07-01-mysql-lock.md","hash":"156fbe78ecbd4dc5fbbe9ac92d48c3c405b2abd7","modified":1541840349804},{"_id":"source/_posts/Mysql/2016-07-16-mysql-lock-wait.md","hash":"d4058adf0fd70d578c3ace175fc35e1372dde1c6","modified":1541840349805},{"_id":"source/_posts/Mysql/2017-09-01-mysql-text-field.md","hash":"f444bb0127ba67876f27b652f1922d7a305714f8","modified":1541840349805},{"_id":"source/_posts/Mysql/2017-09-02-mysql-datetime-fsp.md","hash":"7f8727bb393beb845fc850ce07d9a0caf525c376","modified":1541840349805},{"_id":"source/_posts/Paper/2018-03-14-infrastructure-auto-discovery.md","hash":"bc59027b7baf599fa82aba419344fab79888855b","modified":1541840349805},{"_id":"source/_posts/Program/2016-02-26-distributed-system-id-generator.md","hash":"c0d262a9be6a22498f3fdfbaa1a6533e1bb2e4d2","modified":1541840349805},{"_id":"source/_posts/Program/2016-05-09-user-login-and-regist.md","hash":"a72e954f7e7990c0cfaaa657e9b82f2a632228bc","modified":1541840349805},{"_id":"source/_posts/Program/2016-07-05-product-high-use.md","hash":"4aa7a8632b750377e08cd61ff0b8ffb05f3dc03d","modified":1541840349806},{"_id":"source/_posts/Program/2016-08-07-product-puttag-error.md","hash":"cd3003bc5bcf929696d370418faf9ad2188817ec","modified":1541840349806},{"_id":"source/_posts/Program/2017-03-16-keycenter.md","hash":"3ca3028500bea0eca084a3cf570c3ce718bee255","modified":1541840349806},{"_id":"source/_posts/Program/2017-12-07-architecture-design-rule.md","hash":"bffde8be758bbb57f2c9eb403beffabcc5ec0eaf","modified":1541840349806},{"_id":"source/_posts/Program/2017-12-24-devops-three-method.md","hash":"85fca5da677845f630435cdb5f3d6dd7ea3a1f7f","modified":1541840349806},{"_id":"source/_posts/Program/2017-12-27-the-twelve-factor-app.md","hash":"f76b817a382084d2b65d90571e43ed497e718ad3","modified":1541840349807},{"_id":"source/_posts/Program/2018-01-04-permission-system-degisn.md","hash":"7538300b2b7fca4319623ee152ba1be30607b7f6","modified":1541840349807},{"_id":"source/_posts/Program/2018-01-04-taobao-sso.md","hash":"d9f91f47e514c31ee1981dbacb59524004d32618","modified":1541840349807},{"_id":"source/_posts/Redis/2016-06-02-redis-conn-pool.md","hash":"1b7d6935236329f6e93c7a9a80f014b30c3ff213","modified":1541840349807},{"_id":"source/_posts/Redis/2016-06-29-product-system-redis.md","hash":"6d9c6855f7685b07f5eed8c99f10956a0a0dbcd4","modified":1541840349807},{"_id":"source/_posts/Spring/2016-05-10-spring-bean-init.md","hash":"91cab45775eae25213293b5ceb0b343ae8bdd520","modified":1541840349808},{"_id":"source/_posts/Think/2013-01-01-2012-my-success-and-fail.md","hash":"cf8ab80bb637e2649846be58b992675486c2b71c","modified":1553525958682},{"_id":"source/_posts/Think/2014-10-07-learn-choise.md","hash":"a4f63a31ef5036a8c89fba4208387003dee5b510","modified":1541840349808},{"_id":"source/_posts/Think/2015-06-25-be-myself.md","hash":"da17bd418977562b60036c096eb36025fba45e73","modified":1541840349808},{"_id":"source/_posts/Think/2016-01-03-2015-my-success-and-fail.md","hash":"385379ccb8743938af87213ef5f572162a955fe1","modified":1541840349808},{"_id":"source/_posts/Think/2016-04-17-programmer-think-point.md","hash":"650bc85490ef29e01705bd57e24ceca9d4275839","modified":1541840349808},{"_id":"source/_posts/Think/2016-05-09-choice-is-important.md","hash":"358cf0cdf6eef82a8041679bddb305d1740d2851","modified":1541840349808},{"_id":"source/_posts/Think/2016-05-15-hate-over-work.md","hash":"7b349ba011f70a6e13ce76666784183d4205523c","modified":1541840349809},{"_id":"source/_posts/Think/2016-05-28-weiwei-car-think.md","hash":"b8228eef2c0580525d2af0da7a73acbf0e10c4f6","modified":1541840349809},{"_id":"source/_posts/Think/2016-07-09-think-you-work.md","hash":"58f83faca592e77b65bf094a128682b0b20fd794","modified":1541840349809},{"_id":"source/_posts/Think/2016-08-14-our-generation-time.md","hash":"abb9995b3a8504c34e3469d50f7959fc5ed07f6c","modified":1541840349809},{"_id":"source/_posts/Think/2016-08-19-leave-entrepreneurship.md","hash":"ecb475d884e702bb4f640c1174770184936d792f","modified":1541840349809},{"_id":"source/_posts/Think/2017-01-02-good-life.md","hash":"925a8cdf930ac838204a8abec26e291708cc3bf9","modified":1541840349809},{"_id":"source/_posts/Think/2017-02-27-see-your-grow-up.md","hash":"b7d670436977bafd73cb98b752f6a990a0741b19","modified":1541840349810},{"_id":"source/_posts/Think/2017-09-12-person-grouth.md","hash":"5e39098af0dafe83581569e06a3f87fdcffb214e","modified":1541840349810},{"_id":"source/_posts/Think/2017-11-24-how-to-study.md","hash":"7f483376aafa8babfddb652bb06dede18334d67b","modified":1541840349810},{"_id":"source/_posts/Think/2017-12-29-2017-my-success-and-fail.md","hash":"56f0736b92128a152308920a28040d11b638735a","modified":1541840349811},{"_id":"source/_posts/Think/2018-04-13-how-to-resolve-tech-anxious.md","hash":"95334bd940424f15ea4f37fe5403b8239d9d5472","modified":1541840349811},{"_id":"source/_posts/Think/2018-10-06-marriage-quarrel.md","hash":"ed528bd86a0ec5233675c4c2c021e290e1052c2e","modified":1541840349811},{"_id":"source/_posts/Think/2018-11-10-my-life-rule.md","hash":"cf803590707f91822234d3c76331a800af88fd7b","modified":1553525289211},{"_id":"source/_posts/Tool/2017-02-27-git-repo.md","hash":"f68bb70e4d871a66c8d4703983f4d9ad89b011aa","modified":1541840349811},{"_id":"source/_posts/Tool/2017-05-18-github-io-blog.md","hash":"796c05f6a07cbf93f77fbf852ca69eb4c9a98789","modified":1541840349812},{"_id":"source/images/wiki/breaststroke.png","hash":"adf48ea38e12c88d34dd9a9342502fb89b243662","modified":1541840350000},{"_id":"source/images/wiki/eclipse-need-java6.png","hash":"ca8d8cca341e5556164d0489618995264a19dc39","modified":1541840350000},{"_id":"source/lightslider/img/controls.png","hash":"01b701152202de10b78dabd9ca829437dd2b75f9","modified":1541840350001},{"_id":"source/lightslider/js/lightslider.js","hash":"77b9fbd587799153a15bc99372257f96eb49bf63","modified":1541840350001},{"_id":"source/lightslider/js/lightslider.min.js","hash":"708692a502afdd323dc54beac025a2bf3919253b","modified":1541840350002},{"_id":"source/lightslider/css/lightslider.css","hash":"4b94a25822a9a98e93f35748c576fa9f7176bdd4","modified":1541840350001},{"_id":"source/lightslider/css/lightslider.min.css","hash":"2afaa4083861a13146b52b9d100614e8459aba80","modified":1541840350001},{"_id":"themes/yilia/layout/_partial/.DS_Store","hash":"9c6a1d8188e2e10bc94a05f9caf6c7bc587116a5","modified":1541822403549},{"_id":"themes/yilia/layout/_partial/after-footer.ejs","hash":"b86b248720ad415ec1b5fee53fb583776c776f83","modified":1541770347488},{"_id":"themes/yilia/layout/_partial/archive-post.ejs","hash":"1f7d4819b7f67602c4a1b99871808d2160b60978","modified":1541770347488},{"_id":"themes/yilia/layout/_partial/archive.ejs","hash":"a6e94061ac55b9eb55275f87b608d62f6ea35659","modified":1541770347488},{"_id":"themes/yilia/layout/_partial/article.ejs","hash":"630c6ec866d056657d3d91e34b4c64eb993c0654","modified":1541770347489},{"_id":"themes/yilia/layout/_partial/aside.ejs","hash":"8edbd7993b9b061611a193533a664e2e85eae748","modified":1541770347489},{"_id":"themes/yilia/layout/_partial/baidu-analytics.ejs","hash":"f0e6e88f9f7eb08b8fe51449a8a3016273507924","modified":1541770347489},{"_id":"themes/yilia/layout/_partial/css.ejs","hash":"236f8a377b2e4e35754319c3029bcd4a4115431d","modified":1541770347489},{"_id":"themes/yilia/layout/_partial/footer.ejs","hash":"f2994e0acd1d606ebf4680afc4fa652e148ccf4e","modified":1541770347489},{"_id":"themes/yilia/layout/_partial/google-analytics.ejs","hash":"f921e7f9223d7c95165e0f835f353b2938e40c45","modified":1541770347489},{"_id":"themes/yilia/layout/_partial/head.ejs","hash":"64f092186b5a744aa1603ce22bb1d44a34446add","modified":1541770347489},{"_id":"themes/yilia/layout/_partial/header.ejs","hash":"6387a93dad7c3d778eb91e3821852fbf6813880c","modified":1541770347490},{"_id":"themes/yilia/layout/_partial/left-col.ejs","hash":"183d7ca4ba8e7c80694ffdc8cf39957092238346","modified":1541770347490},{"_id":"themes/yilia/layout/_partial/mathjax.ejs","hash":"151a1ef2173ba7b6789d349f0f8da89616cc1394","modified":1541770347490},{"_id":"themes/yilia/layout/_partial/mobile-nav.ejs","hash":"7fbbfabf5e29525b24ada14613c21a26789132b4","modified":1541770347490},{"_id":"themes/yilia/layout/_partial/tools.ejs","hash":"c41341b9618e591538e1136a2d1637587c1bbd90","modified":1541770347493},{"_id":"themes/yilia/layout/_partial/viewer.ejs","hash":"e495790b2abe2290875817e42bd505bc611d3e26","modified":1541770347494},{"_id":"themes/yilia/source-src/css/_core.scss","hash":"24f347a2412abbf58318369152504da9538f8d3b","modified":1541770347496},{"_id":"themes/yilia/source-src/css/_function.scss","hash":"93a50dd19a93485712da1f8d0a1672482dd1eabc","modified":1541770347496},{"_id":"themes/yilia/source-src/css/archive.scss","hash":"7d27e22ac898e8fafec14549e940c73cbea1fba8","modified":1541770347497},{"_id":"themes/yilia/source-src/css/article-main.scss","hash":"3fad68bd74260326f83090b0974dd80707e7bac7","modified":1541770347497},{"_id":"themes/yilia/source-src/css/article-inner.scss","hash":"d79f2d35a06de83a2a226ca790b7a0a34789c115","modified":1541770347497},{"_id":"themes/yilia/source-src/css/article-nav.scss","hash":"43e507f2a48504079afd9471353337e23ca47470","modified":1541770347497},{"_id":"themes/yilia/source-src/css/article.scss","hash":"0f6d61af99ed4db87f8589db1feaea7747b55963","modified":1541770347498},{"_id":"themes/yilia/source-src/css/aside.scss","hash":"578a67464dd0f542197f7fcee158c991db058563","modified":1541770347498},{"_id":"themes/yilia/source-src/css/comment.scss","hash":"cafe3834017a3bf47420f37543725025225a2c89","modified":1541770347498},{"_id":"themes/yilia/source-src/css/fonts.scss","hash":"97b8fba41c914145710b90091f400b845879577f","modified":1541770347499},{"_id":"themes/yilia/source-src/css/footer.scss","hash":"7c995410b25baaf61dfc5e148e22ca60330abcd3","modified":1541770347501},{"_id":"themes/yilia/source-src/css/global.scss","hash":"b4cb4f45a55d4250cd9056f76dab2a3c0dabcec4","modified":1541770347501},{"_id":"themes/yilia/source-src/css/grid.scss","hash":"849a29fcd7150214fcf7b9715fa5dc71d1f9b896","modified":1541770347501},{"_id":"themes/yilia/source-src/css/highlight.scss","hash":"3719994c2c9393813cc1d42b657205c368a329cb","modified":1541770347502},{"_id":"themes/yilia/source-src/css/left.scss","hash":"0d30c0e7cdb831c3881a017006c782f2214ac195","modified":1541770347502},{"_id":"themes/yilia/source-src/css/main.scss","hash":"2f86a014af93583caba78a563d9549826bf28294","modified":1541770347503},{"_id":"themes/yilia/source-src/css/mobile-slider.scss","hash":"f053c609d84df0dd9eee1d11ddf0c19163a456be","modified":1541770347503},{"_id":"themes/yilia/source-src/css/mobile.scss","hash":"ace041d72f95b419f6a5e443191703c2b62007f4","modified":1541770347503},{"_id":"themes/yilia/source-src/css/page.scss","hash":"bf206bb7f7d0967bc8b7fdf01b7ffc99aff9ba88","modified":1541770347503},{"_id":"themes/yilia/source-src/css/reward.scss","hash":"80a4fcf9171d4a33235da96ac8a2b7dcabc45dfb","modified":1541770347504},{"_id":"themes/yilia/source-src/css/scroll.scss","hash":"9c8dfd1c76854ef063494ca76fac6360b391ed6d","modified":1541770347504},{"_id":"themes/yilia/source-src/css/share.scss","hash":"150c6425f6582e7ec78a873256ce49c9930e8805","modified":1541770347504},{"_id":"themes/yilia/source-src/css/social.scss","hash":"724162ccf3977e70a45d189abfaa20b6e2fba87b","modified":1541770347504},{"_id":"themes/yilia/source-src/css/tags-cloud.scss","hash":"c8aa84fca93862d3caae77c552873b8610f33327","modified":1541770347504},{"_id":"themes/yilia/source-src/css/tags.scss","hash":"ac67a3c7097849206244db9b0ba91daaba017ef5","modified":1541770347504},{"_id":"themes/yilia/source-src/css/tools.scss","hash":"1b1aa0908e58cf942b28e3881d07c5573c4129e1","modified":1541770347505},{"_id":"themes/yilia/source-src/css/tooltip.scss","hash":"53d5a554bc2f38e9bb3d26400a47767013c05216","modified":1541770347505},{"_id":"themes/yilia/source-src/js/anm.js","hash":"4a4c5d82b09a3063f91a434388e6aa064fd7fd98","modified":1541770347505},{"_id":"themes/yilia/source-src/js/aside.js","hash":"754f771264548a6c5a8ad842908e59ae4e7ed099","modified":1541770347506},{"_id":"themes/yilia/source-src/js/Q.js","hash":"d011af172064b6c6e0c7051d8f9879373ddac113","modified":1541770347505},{"_id":"themes/yilia/source-src/js/browser.js","hash":"04095b38cfd4316a23f8eb14b1ffaf95f78a4260","modified":1541770347506},{"_id":"themes/yilia/source-src/js/fix.js","hash":"d6782d53c992e712af39c84e804eccaf38830b94","modified":1541770347506},{"_id":"themes/yilia/source-src/js/main.js","hash":"3894e60827c817319e43c9ff3ed045fc3d7336ce","modified":1541770347506},{"_id":"themes/yilia/source-src/js/mobile.js","hash":"4d823b039fd296d24a454eae5a798b93c44560cb","modified":1541770347506},{"_id":"themes/yilia/source-src/js/report.js","hash":"4f1d9a18a936ce40b037f636a39127dd19175b6e","modified":1541770347507},{"_id":"themes/yilia/source-src/js/share.js","hash":"b090f82cf80cba7da764753906d9e2cc2acdf30d","modified":1541770347507},{"_id":"themes/yilia/source-src/js/slider.js","hash":"e846bcc5aac9c68b93f7b8de353df54d8d29f666","modified":1541770347507},{"_id":"themes/yilia/source-src/js/util.js","hash":"8456e9d6b19532742582c99b2fb9d09e146e1c58","modified":1541770347507},{"_id":"themes/yilia/source-src/js/viewer.js","hash":"2577deb6a9fe4f5436360b2ce9afcc7f9a7f0116","modified":1541770347508},{"_id":"themes/yilia/.git/hooks/applypatch-msg.sample","hash":"4de88eb95a5e93fd27e78b5fb3b5231a8d8917dd","modified":1541770338894},{"_id":"themes/yilia/.git/hooks/commit-msg.sample","hash":"ee1ed5aad98a435f2020b6de35c173b75d9affac","modified":1541770338894},{"_id":"themes/yilia/.git/hooks/post-update.sample","hash":"b614c2f63da7dca9f1db2e7ade61ef30448fc96c","modified":1541770338895},{"_id":"themes/yilia/.git/hooks/pre-applypatch.sample","hash":"f208287c1a92525de9f5462e905a9d31de1e2d75","modified":1541770338895},{"_id":"themes/yilia/.git/hooks/pre-commit.sample","hash":"36aed8976dcc08b5076844f0ec645b18bc37758f","modified":1541770338894},{"_id":"themes/yilia/.git/hooks/pre-push.sample","hash":"5c8518bfd1d1d3d2c1a7194994c0a16d8a313a41","modified":1541770338895},{"_id":"themes/yilia/.git/hooks/pre-rebase.sample","hash":"288efdc0027db4cfd8b7c47c4aeddba09b6ded12","modified":1541770338894},{"_id":"themes/yilia/.git/hooks/pre-receive.sample","hash":"705a17d259e7896f0082fe2e9f2c0c3b127be5ac","modified":1541770338895},{"_id":"themes/yilia/.git/hooks/prepare-commit-msg.sample","hash":"2584806ba147152ae005cb675aa4f01d5d068456","modified":1541770338895},{"_id":"themes/yilia/.git/hooks/update.sample","hash":"e729cd61b27c128951d139de8e7c63d1a3758dde","modified":1541770338895},{"_id":"themes/yilia/.git/info/exclude","hash":"c879df015d97615050afa7b9641e3352a1e701ac","modified":1541770338893},{"_id":"themes/yilia/.git/logs/HEAD","hash":"dba7841a4ac12bdad9ccc922dc2387a523bdc1f1","modified":1541770347483},{"_id":"themes/yilia/source/fonts/default-skin.b257fa.svg","hash":"2ac727c9e092331d35cce95af209ccfac6d4c7c7","modified":1541770347508},{"_id":"themes/yilia/source/fonts/iconfont.16acc2.ttf","hash":"f342ac8bf4d937f42a7d6a0032ad267ab47eb7f2","modified":1541770347509},{"_id":"themes/yilia/source/fonts/iconfont.45d7ee.svg","hash":"f9304e5714d20861be7d8f4d36687e88e86b9e1b","modified":1541770347509},{"_id":"themes/yilia/source/fonts/iconfont.8c627f.woff","hash":"aa9672cb097f7fd73ae5a03bcd3d9d726935bc0a","modified":1541770347510},{"_id":"themes/yilia/source/fonts/iconfont.b322fa.eot","hash":"bc8c5e88f4994a852041b4d83f126d9c4d419b4a","modified":1541770347510},{"_id":"themes/yilia/source/fonts/tooltip.4004ff.svg","hash":"397fe4b1093bf9b62457dac48aa15dac06b54a3c","modified":1541770347510},{"_id":"themes/yilia/source/img/default-skin.png","hash":"ed95a8e40a2c3478c5915376acb8e5f33677f24d","modified":1541770347511},{"_id":"themes/yilia/source/img/preloader.gif","hash":"6342367c93c82da1b9c620e97c84a389cc43d96d","modified":1541770347511},{"_id":"themes/yilia/source/img/scrollbar_arrow.png","hash":"d64a33c4ddfbdb89deeb6f4e3d36eb84dc4777c0","modified":1541770347511},{"_id":"themes/yilia/layout/_partial/script.ejs","hash":"4cb685f07e89dd5175c2a576e73a1a957aec5637","modified":1541770347493},{"_id":"themes/yilia/source/gitment.js","hash":"b16277d8b38666a58cbaeb339f4fb0e82238ca1b","modified":1541822858194},{"_id":"source/_posts/Think/2017-12-20-high-school-years.md","hash":"c5ab1e6dd8a6870afc988901b45edb8cd7a23d03","modified":1541840349811},{"_id":"source/images/posts/20160103/2015-fengqu-hard-work.jpg","hash":"5f42da8d1317e85d43fbd6a4b99cb03f193dd600","modified":1541840349814},{"_id":"source/images/posts/20160103/2015-fengqu-xiaowa.jpg","hash":"b8b22e1ad2854363a1aeaa13f2fb6ca3dd661166","modified":1541840349814},{"_id":"source/images/posts/20160103/2015-jiehongzhao.jpg","hash":"afb9bba7cbe01bfc463ee2f9a951fb05e0dde7aa","modified":1541840349814},{"_id":"source/images/posts/20170615/sys-load-top.png","hash":"ba722e576b2d7c8699c4487c5197de041b35221e","modified":1541840349870},{"_id":"source/images/posts/20170729/15013170603938.jpg","hash":"4d2f601039c6b9f088f095bf959a663fcaea5647","modified":1541840349971},{"_id":"source/images/posts/20170729/15013171616768.jpg","hash":"2c58d6c0918ca64e7aa0a5d83c9fe6d07d6b6c14","modified":1541840349971},{"_id":"source/images/posts/20170729/15013200170363.jpg","hash":"7759f902d024af13f7627be510f9d9b1c2b59473","modified":1541840349974},{"_id":"source/images/posts/20170729/15013200322290.jpg","hash":"f873dce074452e5cfc89fbbab1f08ae589fda2bf","modified":1541840349974},{"_id":"source/images/posts/20170729/15013200810263.jpg","hash":"c31e544e1286c703baddce46f9ddd5f667ad4eca","modified":1541840349975},{"_id":"source/images/posts/20170902/14824834942593.jpg","hash":"39e9b23c7094f8ec85d4e79fdff705a8e4733ed1","modified":1541840349976},{"_id":"source/images/posts/20170902/14824835188662.jpg","hash":"bfc1e486794319b5d1ba86143dd4c4f42232736e","modified":1541840349977},{"_id":"source/images/posts/20170921/15059815133485.jpg","hash":"d0dc4a364658fe88fdc468cc541d3d7cd7629ad6","modified":1541840349986},{"_id":"source/images/posts/20171020/15084807485727.jpg","hash":"9a7faebe33794831cb8f9e8a4b061cbb114e6db1","modified":1541840349987},{"_id":"source/images/posts/20171229/2017-12-12-renzhi-lay.jpeg","hash":"0e6a8889a7cd41019bfd2dc9f73e467b612d0a73","modified":1541840349992},{"_id":"themes/yilia/layout/_partial/post/category.ejs","hash":"0809a4829aabeb4e911a3ed04ec28db4df7dfe3f","modified":1541770347491},{"_id":"themes/yilia/layout/_partial/post/changyan.ejs","hash":"5f99b55980da64a723a8e14d5a7daba0d6504647","modified":1541770347491},{"_id":"themes/yilia/layout/_partial/post/date.ejs","hash":"ef71c4081e866a494367575c59610e7e6339ece0","modified":1541770347491},{"_id":"themes/yilia/layout/_partial/post/duoshuo.ejs","hash":"e8399025ed3b980aedb821c92855889f5f12fd5b","modified":1541770347491},{"_id":"themes/yilia/layout/_partial/post/gitment.ejs","hash":"cc067bd7f2c1cea269a6d1f4975e3cc0ace8ff4d","modified":1541823422352},{"_id":"themes/yilia/layout/_partial/post/nav.ejs","hash":"1036c8e4e1a7bc935ba173744da735a0d6ed09cd","modified":1541770347491},{"_id":"themes/yilia/layout/_partial/post/share.ejs","hash":"5dccfbe165b23a101f1333cc65ed8efbd197453c","modified":1541770347491},{"_id":"themes/yilia/layout/_partial/post/tag.ejs","hash":"2e783e68755abb852760eb0e627a3fbb50a05a55","modified":1541770347492},{"_id":"themes/yilia/layout/_partial/post/title.ejs","hash":"2f275739b6f1193c123646a5a31f37d48644c667","modified":1541770347492},{"_id":"themes/yilia/layout/_partial/post/wangyiyun.ejs","hash":"ea41c462168d9697caef9485862e9cac718a12c1","modified":1541770347492},{"_id":"themes/yilia/source-src/css/fonts/iconfont.eot","hash":"bc8c5e88f4994a852041b4d83f126d9c4d419b4a","modified":1541770347500},{"_id":"themes/yilia/source-src/css/fonts/iconfont.svg","hash":"f9304e5714d20861be7d8f4d36687e88e86b9e1b","modified":1541770347500},{"_id":"themes/yilia/source-src/css/fonts/iconfont.ttf","hash":"f342ac8bf4d937f42a7d6a0032ad267ab47eb7f2","modified":1541770347501},{"_id":"themes/yilia/source-src/css/fonts/iconfont.woff","hash":"aa9672cb097f7fd73ae5a03bcd3d9d726935bc0a","modified":1541770347501},{"_id":"themes/yilia/source-src/css/core/_animation.scss","hash":"63a37f26276f9207405afe0f2d65339ce295bbaf","modified":1541770347498},{"_id":"themes/yilia/source-src/css/core/_media-queries.scss","hash":"491ab3378d5c11005ba65c607608bb36b368a9d5","modified":1541770347499},{"_id":"themes/yilia/source-src/css/core/_mixin.scss","hash":"3bba5c77bad5981eac859fe05c9561d580ba7fa9","modified":1541770347499},{"_id":"themes/yilia/source-src/css/core/_reset.scss","hash":"fab871fa93bd542e76a71a56428f2994a4aaf443","modified":1541770347499},{"_id":"themes/yilia/source-src/css/core/_variables.scss","hash":"fb511c505d1309249f21dc577d4ad2bad99a764f","modified":1541770347499},{"_id":"themes/yilia/source-src/css/img/checkered-pattern.png","hash":"049262fa0886989d750637b264bed34ab51c23c8","modified":1541770347502},{"_id":"themes/yilia/source-src/css/img/scrollbar_arrow.png","hash":"d64a33c4ddfbdb89deeb6f4e3d36eb84dc4777c0","modified":1541770347502},{"_id":"themes/yilia/source-src/css/img/tooltip.svg","hash":"397fe4b1093bf9b62457dac48aa15dac06b54a3c","modified":1541770347502},{"_id":"themes/yilia/.git/objects/pack/pack-d09f54a8d5f34c3a9977e26027378b2b68098909.idx","hash":"9aab0b63cece5853f03115b42b8522eb315a8c6c","modified":1541770347069},{"_id":"themes/yilia/.git/refs/heads/master","hash":"4ed77da1a2617db0e77c3e3e190a1c79c16dfb9a","modified":1541770347482},{"_id":"source/images/posts/20160310/5C6ED2A3-C1DF-4937-8C59-A03C73582185.png","hash":"d16aaf3f23e1ae9ccd4f458186c6b2949180c2b7","modified":1541840349815},{"_id":"source/images/posts/20160310/7BCC9F9B-0535-48BC-B247-3A13DFC9C60E.png","hash":"ed622463f24413d57237228c8ebc048b06e9865d","modified":1541840349816},{"_id":"source/images/posts/20160509/geetest-captcha.png","hash":"d3f986c33a1aaa6deb012cb258eaf166d36bcc0f","modified":1541840349817},{"_id":"source/images/posts/20160509/js-url-param-sign.png","hash":"71d11ea30e61bad7e4b2ebd54bffc2577bbe1111","modified":1541840349818},{"_id":"source/images/posts/20160510/bean-init-three-step.png","hash":"8d6ea0c929dfaf5e63c7358b367bc34ac5f72f60","modified":1541840349820},{"_id":"source/images/posts/20160606/https-tcp.png","hash":"1bf90777ef795a92f59b3c1d45f241100658b532","modified":1541840349846},{"_id":"source/images/posts/20170615/jstack-top.png","hash":"5b7b3b0af6d51e00f9ef8adba48f607dc1bd6da1","modified":1541840349870},{"_id":"source/images/posts/20170615/system-monitor-line.png","hash":"a56f9d448606737b04beb21ac701aeb9dce3b8f5","modified":1541840349872},{"_id":"source/images/posts/20170630/4310879-3357bcd3cb02416b.png","hash":"f2a7108b92416f9394a7cd22eae7fadde5b50e8c","modified":1541840349890},{"_id":"source/images/posts/20170630/4310879-678b45d2de320746.png","hash":"abcf377898cb46931749c8e1ddaeddab6839ec3c","modified":1541840349921},{"_id":"source/images/posts/20170729/15013171868842.jpg","hash":"7c99bf8b78441c93aefb31bb8f8dea4b7806dea3","modified":1541840349971},{"_id":"source/images/posts/20170902/14826731196884.jpg","hash":"1d1130ad2ab5339c7c3a1279b040565e544929b5","modified":1541840349977},{"_id":"source/images/posts/20170921/15059814992587.jpg","hash":"2e0beb26be8d82dee3c46a8f977828465a977408","modified":1541840349985},{"_id":"source/images/posts/20170921/15059819937015.jpg","hash":"23402d9da42a2708b8d8e6911099b996aae0f215","modified":1541840349986},{"_id":"source/images/posts/20171229/2017-12-12-stock.jpeg","hash":"3065463ca9abc9b594b8008ab33d21012393b52e","modified":1541840349992},{"_id":"source/images/posts/20170615/changefree-while-query.png","hash":"4213f4313364e7186c1f23fb658a7eeebcc837e6","modified":1541840349868},{"_id":"source/images/posts/20170615/jstack-grep-tid.png","hash":"e9691e38f9c2bab203a9430aaf3e59bc02754e3b","modified":1541840349869},{"_id":"source/images/posts/20170615/sys-mail-notice.png","hash":"76cb836461ba8f6f1577c2c6700d4b5cd36ee771","modified":1541840349871},{"_id":"source/images/posts/20170615/top-pid.png","hash":"9103f47e29bdb5259c08f346defcfab706069ae5","modified":1541840349873},{"_id":"source/images/posts/20170630/4310879-177756096b76affe.png","hash":"5e9b59ac81a151b2f5eaac3018ed9e23ee928a2a","modified":1541840349879},{"_id":"source/images/posts/20170630/4310879-fc19311bc92a811d.png","hash":"ba392ac44ef831805dfe38263907100361c2cb12","modified":1541840349967},{"_id":"source/images/posts/20170704/14990824219836.jpg","hash":"814c81ddf3fca94e3ff5db21129139fa2926d060","modified":1541840349970},{"_id":"themes/yilia/.git/logs/refs/heads/master","hash":"dba7841a4ac12bdad9ccc922dc2387a523bdc1f1","modified":1541770347483},{"_id":"themes/yilia/.git/refs/remotes/origin/HEAD","hash":"d9427cda09aba1cdde5c69c2b13c905bddb0bc51","modified":1541770347481},{"_id":"source/images/posts/20160606/https-tcp-client-hello-random.png","hash":"d42511a13fb3ee73e98aea345fcc33333cdb35c1","modified":1541840349829},{"_id":"source/images/posts/20160606/https-tcp-client-hello-sid.png","hash":"30ec0f977560d70961008efb3ac83cd3f0e52cfa","modified":1541840349832},{"_id":"source/images/posts/20160612/bean-util-sample.png","hash":"593b8d20d4295ae567cfe9ab6a44e0e53ed2ae6c","modified":1541840349865},{"_id":"source/images/posts/20170630/4310879-6ae60b2944c257ef.png","hash":"11e314994aa2506f24d35eac802b7097ac1bcb69","modified":1541840349922},{"_id":"source/images/posts/20170630/4310879-d41c948490a26b54.png","hash":"6060fcf0d988ea8f89e403ca888103e0ce468d17","modified":1541840349948},{"_id":"source/images/posts/20170729/15013198529222.png","hash":"2f1445c7a7b7086f36153bff5b2858d4f3c3a8f9","modified":1541840349972},{"_id":"source/images/posts/20170902/14824828832109.jpg","hash":"f485f93f622355cb6c6e1630c97c4975b06d6ede","modified":1541840349976},{"_id":"source/images/posts/20170902/14826733264139.jpg","hash":"e4de2ad41a3e7d9212b8fa02b8ce5912c46c0805","modified":1541840349978},{"_id":"source/images/posts/20170902/14826735377431.jpg","hash":"8cc95e4c151abc925c8eb8c6143dc445c184429c","modified":1541840349979},{"_id":"source/images/posts/20170902/14826747022343.jpg","hash":"f2fa61651d7a2fcea213159babba4928f61bb5e5","modified":1541840349981},{"_id":"source/images/posts/20171229/2017-12-12-yunnan-party.jpeg","hash":"c6cb4b99fc1e5354794c4f2fd010c3578dbe9132","modified":1541840349994},{"_id":"source/images/posts/20180329/aliyun-mutil-region.png","hash":"2597d1fcbad188faba7dc04a9e5523c09ddb5d34","modified":1541840349996},{"_id":"source/images/posts/20180409/mybatis-work-flow.jpg","hash":"ea8ca56e50b8ff736ce03c50a3bd6fec21462cf8","modified":1541840349998},{"_id":"source/images/posts/20160509/fqht-regist.png","hash":"5f1bb776c76a1975ab899342a380b224dc3013e5","modified":1541840349817},{"_id":"source/images/posts/20160509/user-token-cookie.png","hash":"b347995efe60c1addb81d56e2ea903608f76ba0b","modified":1541840349819},{"_id":"source/images/posts/20160606/https-tcp-data-transport.png","hash":"67b1f56ddcea643c089129300bdbc529ab58c560","modified":1541840349839},{"_id":"source/images/posts/20160606/https-tcp-graph.png","hash":"6994704f80686b6d39b7c24ad0d9dcdf3369bc3d","modified":1541840349841},{"_id":"source/images/posts/20170630/4310879-cb86b37d1390d7b3.png","hash":"9a00184a47480857dd7e678dc84a2e8c45e4b92a","modified":1541840349936},{"_id":"source/images/posts/20170902/14826738507608.jpg","hash":"b0b2bffac9f930c236f3dd9baa0099d8f149f0d0","modified":1541840349980},{"_id":"source/images/posts/20170902/14826767849619.jpg","hash":"621e62969d15f1420e0b1d925b305b0cde35ac4c","modified":1541840349985},{"_id":"source/images/posts/20180409/mybatis-executor-topo.jpg","hash":"9fde07444ed956dc3f867f1e6f55f8ff80000f83","modified":1541840349997},{"_id":"themes/yilia/.git/logs/refs/remotes/origin/HEAD","hash":"dba7841a4ac12bdad9ccc922dc2387a523bdc1f1","modified":1541770347481},{"_id":"source/images/posts/20160606/tcp-first-handshake.png","hash":"b7cae65d4f45ad3e1c2ced5b4db2f16ab83736fa","modified":1541840349847},{"_id":"source/images/posts/20160606/tcp-third-time-handshake.png","hash":"f6da103abc16aa00c74ba0629c5dd6a0fd31a88f","modified":1541840349859},{"_id":"source/images/posts/20160612/object-mapping-per-hightchart-two.png","hash":"269f33fd0c511e643ad0e289381994ec82f5badb","modified":1541840349867},{"_id":"source/images/posts/20170630/4310879-25474decc57eca07.png","hash":"b6f6259e24eec90a2c6925aadd832777a8c9a996","modified":1541840349889},{"_id":"source/images/posts/20170630/4310879-6d0b680ae67a8c96.png","hash":"da0a73d40c80db35c0c68daf53a75e72b49f4091","modified":1541840349929},{"_id":"source/images/posts/20170630/4310879-bb0b92f26600b59a.png","hash":"d258d2b7f33cd38e5b64410e1e87f7a37f75ccd9","modified":1541840349934},{"_id":"source/images/posts/20170630/4310879-e088ada92f63d4c1.png","hash":"83c39676515190a5a8e8aa7a34d0d94eaa445223","modified":1541840349957},{"_id":"source/images/posts/20170703/14990720990548.jpg","hash":"25e4b620da227f5ba15b269e105e8de1a989aa43","modified":1541840349969},{"_id":"source/images/posts/20170902/14826767169568.jpg","hash":"6608f604b350e1866b53bf422d57821641488307","modified":1541840349983},{"_id":"source/images/posts/20171020/15084809508975.jpg","hash":"2a2f1bf0dd05c108d59b3049933fdaf892a06a70","modified":1541840349988},{"_id":"source/images/posts/20160606/https-tcp-client-hello-servername.png","hash":"548b4c47fa5e32cf4abea4e81b6902bfb0d57588","modified":1541840349831},{"_id":"source/images/posts/20160606/tcp-second-handshake.png","hash":"46f2968eccc93713b2cdf5c1648072475897cda8","modified":1541840349854},{"_id":"source/images/posts/20160606/tcp-third-handshake.png","hash":"a90af4a33be97eac4fcd3e244e5acffd72f98d83","modified":1541840349857},{"_id":"source/images/posts/20160606/tencent-cloud-https-tcp-all.png","hash":"a6b282e88c2dfff1684d9fa3525af2a91fc8f009","modified":1541840349861},{"_id":"source/images/posts/20170630/4310879-4f20d68e1f4bbd33.png","hash":"4c9bada112a60b6d514a8ebc91f1668d3895368e","modified":1541840349908},{"_id":"source/images/posts/20170729/15013199075789.png","hash":"fc31e05440474a7a5ce77c26549d47dd7aff5f0b","modified":1541840349974},{"_id":"source/images/posts/20171229/2017-12-12-yunnan-lgh.jpeg","hash":"85ac13263af5ec100229053a832dea17ee056cdc","modified":1541840349993},{"_id":"source/images/posts/20160510/ioc-context-init.png","hash":"5620c86208e626628ca4f84acf5d3300a8fa2042","modified":1541840349822},{"_id":"source/images/posts/20160606/https-tcp-client-hello-cipher.png","hash":"1f5932023fbfbefcd31f9184d4d55bfced0cfec2","modified":1541840349828},{"_id":"source/images/posts/20160606/https-tcp-client-hello.png","hash":"9fa8048592dd83003a2e6db2215a352a1f312db7","modified":1541840349835},{"_id":"source/images/posts/20160606/https-tcp-secret-encrypted.png","hash":"299f85c79b73697fa2e4b49119c47c95aa7ec111","modified":1541840349843},{"_id":"source/images/posts/20170630/4310879-a2c3b631208d2559.png","hash":"3c5cf9fa0d51cfb1c028f1ff417d243fe36364a3","modified":1541840349931},{"_id":"source/images/posts/20160510/beanFactory-applicationContext-hex.png","hash":"816d32fa8b789fb34873bbe0f8539a45f4080cfc","modified":1541840349821},{"_id":"source/images/posts/20160606/https-tcp-certificate.png","hash":"28dbd0c42685cf41194806e9445338ae9b748632","modified":1541840349826},{"_id":"source/images/posts/20160606/https-tcp-client-key-exchanger.png","hash":"ae6f805c80a2211c586196a73beb8dc27719c439","modified":1541840349838},{"_id":"source/images/posts/20160606/https-tcp-server-hello.png","hash":"585ea4aac1b6037254335c74cb6b160a625205f3","modified":1541840349845},{"_id":"source/images/posts/20170630/4310879-f1ab820576d3d36b.png","hash":"6cae3b5a39b61f26ed918e76be8b3cdcc312fb4b","modified":1541840349960},{"_id":"source/images/posts/20170630/4310879-51f9fe182fea724d.png","hash":"37b4e6dec59b7fb890f3a259927efb5ca5066ca6","modified":1541840349911},{"_id":"source/images/posts/20181006/violenceComesHome.jpg","hash":"246690fb668abdc6bc035e457fef2aa33aa0ad79","modified":1541840350000},{"_id":"source/images/posts/20160606/tcp-get-conn-release-conn.png","hash":"aa66de7b14936717068db8e17962918ed1c518fe","modified":1541840349851},{"_id":"source/images/posts/20170630/4310879-2175f5af9eed7857.png","hash":"2a273666f64a487e83c782fd2554bffc130fb11c","modified":1541840349882},{"_id":"source/images/posts/20170630/4310879-23d0bf618f8f6f5a.png","hash":"ddea4b1306ef0fa83f4f12473e6070458b66f957","modified":1541840349887},{"_id":"source/images/posts/20170630/4310879-4c10e03305a1f2d8.png","hash":"b9daef39fe0c7b6e168c6fc78dce036c31273729","modified":1541840349905},{"_id":"source/images/posts/20170630/4310879-6d02639ce5ae160f.png","hash":"dd8a23e9f35e19f7aed54c4db34fad4ad7b516d4","modified":1541840349927},{"_id":"source/images/posts/20160606/wirdshark-tencent-cloud-tcp-stream-get.png","hash":"00ed3f1eb88ac5026630655b8ef52f2eee6d2bc9","modified":1541840349864},{"_id":"source/images/posts/20170630/4310879-5ce73b40ffbe076d.png","hash":"d13a6950505f04297c6aa9265294b0f26a6f89fa","modified":1541840349915},{"_id":"source/images/posts/20170630/4310879-d0375b2d590c0c34.png","hash":"a71f7209b435635fa7a7d732542f6e123d0e9bcc","modified":1541840349946},{"_id":"source/images/posts/20171229/2017-12-12-aliyun-profile-money.png","hash":"4a4e80ffe84f50fb450ea579f249470ff77cdc20","modified":1541840349991},{"_id":"source/images/posts/20170630/4310879-350ab02c6030c235.png","hash":"e47cdc52b8764429df5163481a8d6ecf30bd2d12","modified":1541840349894},{"_id":"source/images/posts/20170630/4310879-4a7c08a813ffa011.png","hash":"d5a7d29401826233af70d81062ce49d1e6d60e33","modified":1541840349899},{"_id":"source/images/posts/20170630/4310879-6395c5da25e3e7fc.png","hash":"ad6688a15d03312be2b4fa952e4e489cc254a515","modified":1541840349921},{"_id":"source/images/posts/20170630/4310879-141e6ba51f8dc54c.png","hash":"755deac7b4f00fee6f8c155c60bc7cda23a9d5c4","modified":1541840349877},{"_id":"source/images/posts/20170630/4310879-f24ca8d32ad1a384.png","hash":"867476d174cca3f51a09e355cd589f80ddd1667b","modified":1541840349966},{"_id":"source/images/posts/20170630/4310879-dedb20d5be56d989.png","hash":"d52bdb1de6b69699d5a87f961e028ca7a7b4c2e3","modified":1541840349955},{"_id":"source/images/posts/20170630/4310879-ccf6cae90139b130.png","hash":"8360b643c2c20ad76c781a38b19dace61f2d79af","modified":1541840349942},{"_id":"themes/yilia/.git/objects/pack/pack-d09f54a8d5f34c3a9977e26027378b2b68098909.pack","hash":"d9564b5b045a7d8730b4881a99f82fcc0db53743","modified":1541770347068},{"_id":"source/media/how-to-study.pdf","hash":"8117f7f1786965638daa4b278f4b304a850478ea","modified":1541840350043},{"_id":"public/lightslider/css/lightslider.css","hash":"4b94a25822a9a98e93f35748c576fa9f7176bdd4","modified":1553526089956},{"_id":"public/lightslider/css/lightslider.min.css","hash":"2afaa4083861a13146b52b9d100614e8459aba80","modified":1553526089957},{"_id":"public/lightslider/js/lightslider.min.js","hash":"6248c0ca0cfad61d914f5fd404bc6ce96ed4ff7a","modified":1553526093477},{"_id":"public/lightslider/js/lightslider.js","hash":"67299a61bb2c27ac00bd445b413694c7ac28c639","modified":1553526093477},{"_id":"public/atom.xml","hash":"fe1bba3c67a13d5ccb345af8a94b4734d2cd2116","modified":1553526093656},{"_id":"public/content.json","hash":"fa5bf2b65d73062688d39f1e706ed34eeaaed40e","modified":1553526093657},{"_id":"public/2019/03/25/Java/2019-03-25-application-no-response/index.html","hash":"c27e8794f9ecc0bee30b7b12a26693ea973fbc7e","modified":1553526093695},{"_id":"public/2018/11/22/HighAvailability/2018-11-22-architectural-visualization/index.html","hash":"a1097f6967e4c519a4bce21129e2624cb1e15862","modified":1553526093695},{"_id":"public/2018/11/16/Java/ 2018-11-16-local-cache-chage/index.html","hash":"3d08c141cbbb6b4ef0de23eb92505fede4c83226","modified":1553526093695},{"_id":"public/2018/11/10/Think/2018-11-10-my-life-rule/index.html","hash":"917658d4495ddb6dac7d5d87c517d27b0cd561ea","modified":1553526093695},{"_id":"public/2018/10/06/Think/2018-10-06-marriage-quarrel/index.html","hash":"a90c65fa5d4104e08247befaa75d6d56ff2f4ab0","modified":1553526093696},{"_id":"public/2018/04/13/Think/2018-04-13-how-to-resolve-tech-anxious/index.html","hash":"897ace14edb72c2796a46591bf01f99ddeaaffe7","modified":1553526093696},{"_id":"public/2018/04/09/Java/2018-04-09-mybatis-core-thought/index.html","hash":"e083e0ad4ec5a7368186c80bbfc2caefeb349791","modified":1553526093696},{"_id":"public/2018/03/29/HighAvailability/2018-03-29-aliyun-mutil-region/index.html","hash":"2f8d462e3e9b6677fcd7018dc3cfc1006d14307d","modified":1553526093696},{"_id":"public/2018/03/22/Java/2018-03-22-java-bean-setter-return/index.html","hash":"1d775c5e11ec3c6451e424cde5df38fedbf9f897","modified":1553526093696},{"_id":"public/2018/03/15/HighAvailability/2018-03-15-aws-application-discovery/index.html","hash":"9d9e2b8a050d71241b67adfc9a83f84674f4df00","modified":1553526093696},{"_id":"public/2018/03/14/Paper/2018-03-14-infrastructure-auto-discovery/index.html","hash":"21ee84ec912656cceb9b3d6250400a03419a96ac","modified":1553526093697},{"_id":"public/2018/03/14/HighAvailability/2018-03-14-monitor-system/index.html","hash":"3a90f6e6cde6f410d8ad4948665c079a7fc80bfc","modified":1553526093697},{"_id":"public/2018/03/06/Java/2018-03-06-spring-quartz-trigger/index.html","hash":"ea54968d959425baf2921fe67956523add0dbdec","modified":1553526093697},{"_id":"public/2018/01/19/Java/2018-01-19-spring-properties/index.html","hash":"261d53e69d378db2b6ca6eed45ad1c3ec97375e2","modified":1553526093697},{"_id":"public/2018/01/04/Program/2018-01-04-permission-system-degisn/index.html","hash":"abf0fd5ea68ea1f2fa56af8aabe7b309c305e391","modified":1553526093697},{"_id":"public/2018/01/04/Program/2018-01-04-taobao-sso/index.html","hash":"b0ff44d0cef4aa428cb433d4b5c536d40abb3e2b","modified":1553526093697},{"_id":"public/2017/12/29/Think/2017-12-29-2017-my-success-and-fail/index.html","hash":"3e78fa3124597ac0e66445d06b7a212b574c4628","modified":1553526093698},{"_id":"public/2017/12/27/Program/2017-12-27-the-twelve-factor-app/index.html","hash":"59fb98603d05dd9fa384b2792b06532cf071483e","modified":1553526093698},{"_id":"public/2017/12/24/Program/2017-12-24-devops-three-method/index.html","hash":"de64003f08ad1e51cae0e7302e7fbee02cd0554e","modified":1553526093698},{"_id":"public/2017/12/20/Think/2017-12-20-high-school-years/index.html","hash":"54ae6a6d4a06a8846280d11c7dd3fcd7f747d706","modified":1553526093698},{"_id":"public/2017/12/07/Program/2017-12-07-architecture-design-rule/index.html","hash":"bcf34feb87e08e089ef3761ed869445a089b012c","modified":1553526093698},{"_id":"public/2017/11/24/Think/2017-11-24-how-to-study/index.html","hash":"b1ed7d4ef29b6adc19e16684b1f8071b46ce9ad6","modified":1553526093698},{"_id":"public/2017/10/20/Java/2017-10-20-message-string-byte/index.html","hash":"03d03f1999cb9f74a286e1a3b467601e6ac353e8","modified":1553526093698},{"_id":"public/2017/09/21/Java/2017-09-21-phantomjs-use/index.html","hash":"11aab23512f9266a4c21a92de2f690bc751abb73","modified":1553526093699},{"_id":"public/2017/09/21/Java/2017-09-21-phantomjs-install/index.html","hash":"0a5b0e90a03fa49c1c164be25870a264d4f0c125","modified":1553526093699},{"_id":"public/2017/09/12/Think/2017-09-12-person-grouth/index.html","hash":"8b564e0fc02865cfa276867897c3330da55cafa2","modified":1553526093699},{"_id":"public/2017/09/02/Mysql/2017-09-02-mysql-datetime-fsp/index.html","hash":"b1ec97d2a32c0bccad63d37b674969c67d88fcba","modified":1553526093699},{"_id":"public/2017/09/01/Mysql/2017-09-01-mysql-text-field/index.html","hash":"f6b8b83e0db8ce4c67947d08a955fdbd3a40deff","modified":1553526093699},{"_id":"public/2017/07/31/Java/2017-07-31-distrubute-id-gen/index.html","hash":"0ce03e51f8cd56ebae9ba45d6881723470dde243","modified":1553526093699},{"_id":"public/2017/07/29/Java/2017-07-29-springmvc-file-download/index.html","hash":"3e463c6e2c8fbd7f4a7801ccdee41683259f324c","modified":1553526093700},{"_id":"public/2017/07/04/Java/2017-07-04-mysql-max-orderby-limit/index.html","hash":"96b0b2a9ab4e2393f5cd208d18a62e7176173120","modified":1553526093700},{"_id":"public/2017/07/03/Java/2017-07-03-string-split/index.html","hash":"16a32b2a17637754c01d992af6cafbf4197f7b91","modified":1553526093700},{"_id":"public/2017/06/30/Java/2017-06-30-study-road-line/index.html","hash":"8e57deda4607385241b7488c7d7477e9028512f0","modified":1553526093700},{"_id":"public/2017/06/15/Java/2017-06-15-while-died/index.html","hash":"574af4b52202aa7b11552e3d3d7c0db5c4981ea0","modified":1553526093700},{"_id":"public/2017/05/18/Tool/2017-05-18-github-io-blog/index.html","hash":"80a74fbaafd44d2fc96fbbe61d10045b6c9870b2","modified":1553526093701},{"_id":"public/2017/03/16/Program/2017-03-16-keycenter/index.html","hash":"eee7f9d7d7877abdeea2d77ffca4cc391f8f1ee9","modified":1553526093701},{"_id":"public/2017/03/14/Basic/2017-03-14-mail-html/index.html","hash":"816f35183a1a8e134acc67dbfcf161ef33115d66","modified":1553526093701},{"_id":"public/2017/02/27/Tool/2017-02-27-git-repo/index.html","hash":"032e1eaee97eab7db8483e7f2408f58429d9dcbd","modified":1553526093701},{"_id":"public/2017/02/27/Think/2017-02-27-see-your-grow-up/index.html","hash":"b6d437c3df82da08180f6fbda59337e28b1f4a81","modified":1553526093701},{"_id":"public/2017/02/16/Java/2017-02-16-threadlocal/index.html","hash":"7089d857f48a654acc67854281ed33913b2bf818","modified":1553526093701},{"_id":"public/2017/02/15/Java/2017-02-15-object-mapping/index.html","hash":"3c784e2f8509f0e2b153ccbbab0ddc9830ac9783","modified":1553526093702},{"_id":"public/2017/02/10/Middleware/2017-02-10-lsv-change-road/index.html","hash":"59e56a1770985006dda83e25130b22541a55262a","modified":1553526093702},{"_id":"public/2017/01/02/Think/2017-01-02-good-life/index.html","hash":"19d0bf43eaff9a4ff4dcd77ddea7ef14396daa85","modified":1553526093702},{"_id":"public/2016/08/19/Think/2016-08-19-leave-entrepreneurship/index.html","hash":"0e7302ddaf79f306beeb0254f5cb04e867fe01de","modified":1553526093702},{"_id":"public/2016/08/17/Java/2016-08-17-task-threadpool/index.html","hash":"ae0dfdf45518ce61418072a4987b6e5283cdb88a","modified":1553526093703},{"_id":"public/2016/08/14/Think/2016-08-14-our-generation-time/index.html","hash":"1a7828236405925950923e2f00314050a0fa292d","modified":1553526093703},{"_id":"public/2016/08/07/Program/2016-08-07-product-puttag-error/index.html","hash":"4c776e866bbdb56cae2522d59c39f92bb1be433f","modified":1553526093704},{"_id":"public/2016/07/25/Java/2016-07-25-picture-java-concurrent/index.html","hash":"c3bcc0e912629ebbb105c8ff7f1a0dd49b914bb8","modified":1553526093704},{"_id":"public/2016/07/16/Mysql/2016-07-16-mysql-lock-wait/index.html","hash":"444b4fb39e4717daf05ede826e65a1208c9e3fb8","modified":1553526093705},{"_id":"public/2016/07/09/Think/2016-07-09-think-you-work/index.html","hash":"eee29163929a979efa6aa57dc621ae4fb8757c2d","modified":1553526093705},{"_id":"public/2016/07/07/Java/2016-07-07-cas-work/index.html","hash":"030b3f43343469b808f070fc3e1db9d51aae14f5","modified":1553526093705},{"_id":"public/2016/07/05/Program/2016-07-05-product-high-use/index.html","hash":"c534cec146c0056b4391e4cda7d3c8fd5d1d83e7","modified":1553526093705},{"_id":"public/2016/07/01/Mysql/2016-07-01-mysql-lock/index.html","hash":"f53fe6cccf4cbe0bce849e9006169836162b125b","modified":1553526093705},{"_id":"public/2016/06/29/Redis/2016-06-29-product-system-redis/index.html","hash":"a3b613ef373e3736f47776a827bd6d79cdcea107","modified":1553526093706},{"_id":"public/2016/06/26/Java/2016-06-26-distributed-id-generator/index.html","hash":"5c3583fe57144a26a132511aa489c11e35ce4b42","modified":1553526093706},{"_id":"public/2016/06/15/Mysql/2016-06-15-mysql-lock-table-ddl/index.html","hash":"6d33519e9624f5450790cd6442b335a031e7ada8","modified":1553526093706},{"_id":"public/2016/06/14/Java/2016-06-14-threadpool-handle-batch/index.html","hash":"8168ae3f426a75b879657c9b67e8d9738b7ea0a1","modified":1553526093706},{"_id":"public/2016/06/12/Java/2016-06-12-object-mapping/index.html","hash":"e9dc95b44e9523c659c8a3420e42699f90418a7e","modified":1553526093706},{"_id":"public/2016/06/06/Basic/2016-06-06-https-with-wireshark/index.html","hash":"b4a5436054a35e04bb1c5cef17884cb9455e6309","modified":1553526093707},{"_id":"public/2016/06/02/Redis/2016-06-02-redis-conn-pool/index.html","hash":"b8b6f85395562ada2c828091ac3ea3c41a5839fb","modified":1553526093707},{"_id":"public/2016/05/31/Java/2016-05-31-java-method-cost-time/index.html","hash":"770aeb70b489f96cf6d3e19f918f446d7cf00657","modified":1553526093707},{"_id":"public/2016/05/28/Think/2016-05-28-weiwei-car-think/index.html","hash":"d32393e63c093ee4db6838af9930335f7981c923","modified":1553526093708},{"_id":"public/2016/05/15/Think/2016-05-15-hate-over-work/index.html","hash":"4c9279c923da8fe7312bd226d616752e8363470a","modified":1553526093708},{"_id":"public/2016/05/10/Spring/2016-05-10-spring-bean-init/index.html","hash":"ffdd4db8a34f05bbbaa78cf4c07684b83c36e5a6","modified":1553526093708},{"_id":"public/2016/05/09/Program/2016-05-09-user-login-and-regist/index.html","hash":"a8316a86a0d8f3002ced5557c0f05bb4f1b7ec1a","modified":1553526093708},{"_id":"public/2016/05/09/Think/2016-05-09-choice-is-important/index.html","hash":"a90738d4f7bf00a519c6f66f316cfb72da7bfe08","modified":1553526093709},{"_id":"public/2016/05/06/Java/2016-05-06-java-io/index.html","hash":"58587ac39bbee77da3bbacec4354bbed264ac845","modified":1553526093709},{"_id":"public/2016/05/05/Java/2016-05-05-mem-visiable/index.html","hash":"a3678f50a6ebcffc378be04229433588e9c36b23","modified":1553526093709},{"_id":"public/2016/05/03/Java/2016-05-03-dubbo-timeout/index.html","hash":"5e4d4a339c1cc11bb209042b60dc619e82d22cc0","modified":1553526093709},{"_id":"public/2016/04/17/Think/2016-04-17-programmer-think-point/index.html","hash":"c99635dcca24fddae3776ed45e5cb913ad4b3c15","modified":1553526093709},{"_id":"public/2016/03/10/Java/2016-03-10-simpledateformat/index.html","hash":"d9ad70bfe86f81e14d049617f85a00d0a501544d","modified":1553526093710},{"_id":"public/2016/03/09/Java/2016-03-09-byte-code-java-serailze/index.html","hash":"5eb698f280d46a86f0892890f6fc9cc3b2e02ad2","modified":1553526093710},{"_id":"public/2016/02/26/Program/2016-02-26-distributed-system-id-generator/index.html","hash":"38b3091c09ab198fad70396b3f403b8458d729de","modified":1553526093710},{"_id":"public/2016/01/03/Think/2016-01-03-2015-my-success-and-fail/index.html","hash":"153ede1c0841f1ede6b11181f16f477fb1a21a42","modified":1553526093710},{"_id":"public/2015/08/25/Think/2015-06-25-be-myself/index.html","hash":"23a49b9ea74262f8dea19abfc37586b65f98a76b","modified":1553526093711},{"_id":"public/2015/12/20/Middleware/2015-12-20-diamond-study/index.html","hash":"ff9e1b5d3932af222cade5e04c2e8ac3cd62574d","modified":1553526093711},{"_id":"public/2015/06/02/Java/2015-06-02-java-singleton-four-method/index.html","hash":"9b4127eec145aef2d8a1430369faf07db13d421d","modified":1553526093711},{"_id":"public/2015/03/26/Java/2015-03-26-java-mem-visualization/index.html","hash":"e12a334ff5e06b6c103f21de5f7c461ad53911ba","modified":1553526093712},{"_id":"public/2015/03/25/Java/2015-03-25-crm-cpu-high-analysis/index.html","hash":"ecd78df48f6c1a484f6a090ec5eaf07d82bf088a","modified":1553526093712},{"_id":"public/2014/10/07/Think/2014-10-07-learn-choise/index.html","hash":"9616e94950e726363bc22968eed18f06f13cb126","modified":1553526093712},{"_id":"public/2014/09/11/Android/2014-09-11-layout/index.html","hash":"33d2d83dec5516c2f000d292812291c517139bba","modified":1553526093712},{"_id":"public/2014/09/01/Android/2014-09-01-listview/index.html","hash":"d2eb0bee1a9fb48c2bc24b493cae7dd4f3a50941","modified":1553526093712},{"_id":"public/2013/07/04/Java/2013-07-04-httpclient/index.html","hash":"4b7e1d84f8c571493cbe32e0f0aaa9f1a165f602","modified":1553526093713},{"_id":"public/2013/07/03/Java/2013-07-03-http/index.html","hash":"7252d6aa7c2357ea661c207949733b3d78d4e263","modified":1553526093713},{"_id":"public/2013/05/02/Basic/2013-05-02-websocket/index.html","hash":"c38bb80610d4d68ccd0da2612b9d8cc3507598bc","modified":1553526093713},{"_id":"public/2013/04/30/Java/2013-04-30-java-final-static/index.html","hash":"25a7dd537645293619712d6cd9dec7d1397e422d","modified":1553526093713},{"_id":"public/2013/04/29/Java/2013-04-29-java-seriailze-and-un/index.html","hash":"c3d49aea4dd2f842798f59e0f4c7ba19785db9d3","modified":1553526093713},{"_id":"public/2013/04/28/Java/2013-04-28-java-collection/index.html","hash":"ad5e662bb0dc13614c53e1b46ab7a53e6e4bd4e7","modified":1553526093714},{"_id":"public/2013/03/21/Java/2013-03-21-java-enum/index.html","hash":"c7d1bc10d5429aa9a32b4cd24defcd10b3b5998c","modified":1553526093714},{"_id":"public/2013/03/18/Java/2013-03-18-java-super-this/index.html","hash":"99817a779206546057e5c221f708735a6db5a485","modified":1553526093714},{"_id":"public/2013/03/05/Java/2013-03-05-java-class-load/index.html","hash":"75b20ed0898a5be79887e86dd2c6b98b36482231","modified":1553526093714},{"_id":"public/2013/03/04/Java/2013-03-04-java-init/index.html","hash":"ea750ecc530ab0af1f60a7fff3f2b4441527f006","modified":1553526093714},{"_id":"public/2013/02/28/Java/2013-02-28-datasource-grouth/index.html","hash":"0bab8e55eaba3591320ea5efabd6ab22e860efb1","modified":1553526093714},{"_id":"public/2013/01/01/Think/2013-01-01-2012-my-success-and-fail/index.html","hash":"947a8ac1c93b4567bb7c505cedddcf8cb64ecb1a","modified":1553526093715},{"_id":"public/categories/Basic/index.html","hash":"5cbc72d00d6614fbd20903f1dc10c1b11eebc9b0","modified":1553526093715},{"_id":"public/categories/Android/index.html","hash":"689dade93b53388f2af153dd9a9f392fb0113516","modified":1553526093715},{"_id":"public/categories/HighAvailability/index.html","hash":"242f9433296016f79bd81f440218587aa5cb643f","modified":1553526093715},{"_id":"public/categories/Middleware/index.html","hash":"14879ad2e49c264121cf3ab453f8769217474c2a","modified":1553526093715},{"_id":"public/categories//index.html","hash":"eca0b0e07df788f1b928eaa82c6830dbd3ae9f19","modified":1553526093715},{"_id":"public/categories/Java/index.html","hash":"31a003ce24debf2197cd12141e1f1efd4e6d8fa3","modified":1553526093715},{"_id":"public/categories/Java/page/2/index.html","hash":"9c4062f5542090ae695b203e0a61e5e3e534a9eb","modified":1553526093715},{"_id":"public/categories/Java/page/3/index.html","hash":"110ca2e5cbf1f07217906a47528a3a1c46628e55","modified":1553526093715},{"_id":"public/categories/Java/page/4/index.html","hash":"907146291b19cd84201fe9b3881b8d8aaffd2d3a","modified":1553526093716},{"_id":"public/categories/Mysql/index.html","hash":"fed6a7b4a5f6acec125e5e87010ce8df27bb1732","modified":1553526093716},{"_id":"public/categories/Paper/index.html","hash":"9c0f1f62b95e57740bbb440455f86d8b20e4bf6a","modified":1553526093716},{"_id":"public/categories/Program/index.html","hash":"4224081ab6257795becc54a7ce8e4249279f6ac6","modified":1553526093716},{"_id":"public/categories/Spring/index.html","hash":"0d2a58a0788d7689c701a571978f4198fbe01606","modified":1553526093716},{"_id":"public/categories/Think/index.html","hash":"eaa9653af38e7b3d81ab23b31a163bcdedc99c37","modified":1553526093716},{"_id":"public/categories/Think/page/2/index.html","hash":"895867a42e262fe8cdc0919adc94b2701a3efae5","modified":1553526093716},{"_id":"public/categories/Tool/index.html","hash":"1598cd027e365404b2b3fed3513104fa9815a792","modified":1553526093716},{"_id":"public/categories//index.html","hash":"e32281b9e977265e87f35448fc255725571724b4","modified":1553526093716},{"_id":"public/categories/Redis/index.html","hash":"1318ae1dd9db25f4ec244b083fa654e409c20eae","modified":1553526093717},{"_id":"public/categories//index.html","hash":"245f2f0176a7c947a282032237ef5e4ccc48f25a","modified":1553526093717},{"_id":"public/categories//index.html","hash":"c4980f0beec0613b6aeb11e8182083a4e5e87227","modified":1553526093717},{"_id":"public/archives/index.html","hash":"eb5be23908bcd2c7acb82230714ab2ebe4815eb0","modified":1553526093717},{"_id":"public/archives/page/2/index.html","hash":"a6d9971226730bfbc26b82b86676b0baccad5f4c","modified":1553526093717},{"_id":"public/archives/page/3/index.html","hash":"ed9b822528da4dbd14b6927b171795808d303735","modified":1553526093717},{"_id":"public/archives/page/4/index.html","hash":"46bd00aebd7a93d425dc57493c8fbe0ec8ba13cc","modified":1553526093717},{"_id":"public/archives/page/5/index.html","hash":"935b35f2ababcafe4d6ed88c25662b834769dbe8","modified":1553526093718},{"_id":"public/archives/page/6/index.html","hash":"5802180d32dcbd29bec51f584620cdbbe3ca0a8e","modified":1553526093718},{"_id":"public/archives/page/7/index.html","hash":"62d3a6b8f269eae720be2894f71eabe8034f362a","modified":1553526093718},{"_id":"public/archives/page/8/index.html","hash":"5e775992e557a2cd537712b0459a60fb1443c706","modified":1553526093718},{"_id":"public/archives/page/9/index.html","hash":"762206898136d2956a54d18418bf6efafcfedbae","modified":1553526093718},{"_id":"public/archives/page/10/index.html","hash":"05e07177248fbd63bb429f81964abf028b823265","modified":1553526093718},{"_id":"public/archives/2013/index.html","hash":"008c0936db86c9a8c4ea73f19c12e8ba0edd6b7c","modified":1553526093718},{"_id":"public/archives/2013/page/2/index.html","hash":"8765401fc7a29ee698fe13f5a02d4c7685278f67","modified":1553526093719},{"_id":"public/archives/2013/01/index.html","hash":"949e6d669b13d8ae12318866cc9ef38c044f6ba1","modified":1553526093719},{"_id":"public/archives/2013/02/index.html","hash":"47d68f669d56d588730eb7e2c2d64fff35fa7a12","modified":1553526093719},{"_id":"public/archives/2013/03/index.html","hash":"d8c9a0af61cb7ebd5ec0092f3167cb6c8807ee95","modified":1553526093719},{"_id":"public/archives/2013/04/index.html","hash":"6938a310b60c6eceece9af391ba222f99052067b","modified":1553526093720},{"_id":"public/archives/2013/05/index.html","hash":"6601b1acee5e9d98d52ae0d6a29402304c0bbdc1","modified":1553526093720},{"_id":"public/archives/2013/07/index.html","hash":"27577e5680004e2e305c791d34b9bd18d1de520d","modified":1553526093720},{"_id":"public/archives/2014/index.html","hash":"c5d085d712ce749705bbb7bfc102c7c0bf70a11d","modified":1553526093720},{"_id":"public/archives/2014/09/index.html","hash":"32481f1c502be5b603fdccc0bc5225e764c855c4","modified":1553526093720},{"_id":"public/archives/2014/10/index.html","hash":"3434eca1116e805c75f1719026f6430548b4c67a","modified":1553526093721},{"_id":"public/archives/2015/index.html","hash":"cb108793c45b3bec7bc0bb0c3224b41c2c9f69e5","modified":1553526093721},{"_id":"public/archives/2015/03/index.html","hash":"0562479b11baad482466d1eb74901382494c2f2f","modified":1553526093721},{"_id":"public/archives/2015/06/index.html","hash":"8ef77e1451ea9689177c176cf1004f560f02468d","modified":1553526093721},{"_id":"public/archives/2015/08/index.html","hash":"a2e7ad128472e01d122afefdbfcd29b593b483c4","modified":1553526093721},{"_id":"public/archives/2015/12/index.html","hash":"ed39265a620e3928b8b1171d508b47b1f465f401","modified":1553526093721},{"_id":"public/archives/2016/index.html","hash":"58910fe381bd930e8e6cd19a4dfeb704a3ed683c","modified":1553526093721},{"_id":"public/archives/2016/page/2/index.html","hash":"730e079a22c027211cbf5eb93d1a0e6fbd9c559f","modified":1553526093722},{"_id":"public/archives/2016/page/3/index.html","hash":"a7beed2d6b2782ba14c0504f83cb7c93d09f94c3","modified":1553526093722},{"_id":"public/archives/2016/page/4/index.html","hash":"bd514c5c95bdc5fffba336337fe48d298da59c38","modified":1553526093722},{"_id":"public/archives/2016/01/index.html","hash":"b2fa319ff2fb8c620fdd9eae083a6f99f3ed7996","modified":1553526093722},{"_id":"public/archives/2016/02/index.html","hash":"19fb4fbee49ddb459b91e73f4bd43d6cfbe9ec28","modified":1553526093722},{"_id":"public/archives/2016/03/index.html","hash":"6a1514fa9eb94d2c4a2b7fd11fc4433f6f5a98c3","modified":1553526093722},{"_id":"public/archives/2016/04/index.html","hash":"33aae95937a45e2f982ae3d0082e81d5e59a5e34","modified":1553526093722},{"_id":"public/archives/2016/05/index.html","hash":"25557f493a5d44bb9dd030140a2a9be7cdd3fe42","modified":1553526093722},{"_id":"public/archives/2016/06/index.html","hash":"8696cd9dff3922ee4b2a2ef3ab6210605a47f814","modified":1553526093722},{"_id":"public/archives/2016/07/index.html","hash":"a8872f24c3bee4745eb4566c7ca82ca2256d339a","modified":1553526093723},{"_id":"public/archives/2016/08/index.html","hash":"8421030662a1b2e3e8d4e15a178eb7ebc435c960","modified":1553526093723},{"_id":"public/archives/2017/index.html","hash":"f3eb09fabd38c40e66b408e26e5ab324f92aaf82","modified":1553526093723},{"_id":"public/archives/2017/page/2/index.html","hash":"fc97d4fe48d6f4c2c6179a2a5b3dc15db566508d","modified":1553526093723},{"_id":"public/archives/2017/page/3/index.html","hash":"b59560641c4752bc2310b05707a06a6d6a7a62ca","modified":1553526093723},{"_id":"public/archives/2017/01/index.html","hash":"30e8f711db0b1724239721f9f501caf8be208ee5","modified":1553526093723},{"_id":"public/archives/2017/02/index.html","hash":"68772780b081a077599db21a94681ccae6ecb8af","modified":1553526093723},{"_id":"public/archives/2017/03/index.html","hash":"47b8aea3f1de7c81f9a26544ec5dd164a813f4d9","modified":1553526093724},{"_id":"public/archives/2017/05/index.html","hash":"da0895a61cfba171b58362983fe763196bd4f80b","modified":1553526093724},{"_id":"public/archives/2017/06/index.html","hash":"c64fd1b5d8f1b7a6a7210cf00b30e536e75bef5e","modified":1553526093724},{"_id":"public/archives/2017/07/index.html","hash":"ebce0779f906c96f0dce27d672620548266e0ed4","modified":1553526093724},{"_id":"public/archives/2017/09/index.html","hash":"e1ad0322141031b3124028e8f7a1d1bca1bd51ce","modified":1553526093724},{"_id":"public/archives/2017/10/index.html","hash":"38a6cfcaadca816456be32415f609fe21006d474","modified":1553526093724},{"_id":"public/archives/2017/11/index.html","hash":"cb049b9822322dacc7884e00a27db2571f9ba86f","modified":1553526093725},{"_id":"public/archives/2017/12/index.html","hash":"68a9c3b5b5f7d7ce0cddaf61818b5e9924427970","modified":1553526093725},{"_id":"public/archives/2018/index.html","hash":"18d19512f7c521acc06520f84cb51ae3196ead66","modified":1553526093725},{"_id":"public/archives/2018/page/2/index.html","hash":"d224faaf02694b8b39f8d4be64ccf4fdf0a5a3d0","modified":1553526093725},{"_id":"public/archives/2018/01/index.html","hash":"12b21be5fc70dc214a592bd06cec9fb0a5fa03bf","modified":1553526093725},{"_id":"public/archives/2018/03/index.html","hash":"5f974355109dd330c8a497671db7d8dbd31c7e24","modified":1553526093725},{"_id":"public/archives/2018/04/index.html","hash":"46d340c26d24bf73ef4fb41202fded23fcd3af1f","modified":1553526093725},{"_id":"public/archives/2018/10/index.html","hash":"4e1a2f86481a95e3c53472feb34f95d17361ba92","modified":1553526093725},{"_id":"public/archives/2018/11/index.html","hash":"1cfc90bff9b0d69ab12a3fdd1b11074e3745fa99","modified":1553526093725},{"_id":"public/archives/2019/index.html","hash":"74208168b5e92136c7107c81b82ac52d079cfc77","modified":1553526093726},{"_id":"public/archives/2019/03/index.html","hash":"1b3ee0f3e2cee974fec0d356eb420fe72ceeb5be","modified":1553526093726},{"_id":"public/index.html","hash":"90b149d05fe6e0c02a14c43a1ebf27e23c2be573","modified":1553526093726},{"_id":"public/page/2/index.html","hash":"490402a490088053e7de9b1101d7796dc9759c53","modified":1553526093726},{"_id":"public/page/3/index.html","hash":"ebc46938fdd9483bcd419f044f0b8b79d5eb926c","modified":1553526093726},{"_id":"public/page/4/index.html","hash":"9e17ea2eec577f95ef55e3398187b6b37450a17e","modified":1553526093726},{"_id":"public/page/5/index.html","hash":"8a970d5e36c2134fc8ff80cd2e1754f96a7723ab","modified":1553526093726},{"_id":"public/page/6/index.html","hash":"d0e67a2694ab280746cee479f85cf7dc17e894c2","modified":1553526093727},{"_id":"public/page/7/index.html","hash":"ae4556170d6ea81df16bbf86533e4611558abac0","modified":1553526093727},{"_id":"public/page/8/index.html","hash":"f2774c20240f2ac0e155a908d26e8e2af102b4cc","modified":1553526093727},{"_id":"public/page/9/index.html","hash":"8e163675b2772885355f7fdb5d24ed36f1b0549e","modified":1553526093727},{"_id":"public/page/10/index.html","hash":"1d4b64c5bade6e0a7e4bc506895f94661c2bb724","modified":1553526093728},{"_id":"public/tags//index.html","hash":"c875c7d8337932f61a37f52826970473a6dd284a","modified":1553526093728},{"_id":"public/tags//index.html","hash":"b4876e1b7929542eb6388208dd34db3a7310ba21","modified":1553526093728},{"_id":"public/tags//index.html","hash":"a2834eb76f7ba1cd2dfc70daa2439313ad994568","modified":1553526093728},{"_id":"public/tags//index.html","hash":"b12866ccc0320f08e39a51f133c24ff29df4ecfb","modified":1553526093728},{"_id":"public/tags/AHAS/index.html","hash":"a31640b5fb09b274584c35a2e6aa8b11baea375f","modified":1553526093729},{"_id":"public/tags//index.html","hash":"2fbf038a181ec7ab962f4c677c356a1cb4ab7ce6","modified":1553526093729},{"_id":"public/tags//index.html","hash":"c4eca463d379eed7f7c038f0a4ed937bfac520a3","modified":1553526093729},{"_id":"public/tags//index.html","hash":"65b73a67a2aedcd86ecf4a9ae8df68ff0ea2011c","modified":1553526093729},{"_id":"public/tags//index.html","hash":"0b1f358ab11756b54d4487dc24995df70c53c9b2","modified":1553526093729},{"_id":"public/tags//index.html","hash":"8deb4897349c25ee9a79745e6cb7816402155273","modified":1553526093729},{"_id":"public/CNAME","hash":"d44b52fd9fc4af23688cb00429ae60d964d2eaa7","modified":1553526093761},{"_id":"public/images/wiki/breaststroke.png","hash":"adf48ea38e12c88d34dd9a9342502fb89b243662","modified":1553526093762},{"_id":"public/images/wiki/eclipse-need-java6.png","hash":"ca8d8cca341e5556164d0489618995264a19dc39","modified":1553526093762},{"_id":"public/lightslider/img/controls.png","hash":"01b701152202de10b78dabd9ca829437dd2b75f9","modified":1553526093762},{"_id":"public/fonts/default-skin.b257fa.svg","hash":"2ac727c9e092331d35cce95af209ccfac6d4c7c7","modified":1553526093762},{"_id":"public/fonts/iconfont.16acc2.ttf","hash":"f342ac8bf4d937f42a7d6a0032ad267ab47eb7f2","modified":1553526093762},{"_id":"public/fonts/iconfont.45d7ee.svg","hash":"f9304e5714d20861be7d8f4d36687e88e86b9e1b","modified":1553526093762},{"_id":"public/fonts/iconfont.8c627f.woff","hash":"aa9672cb097f7fd73ae5a03bcd3d9d726935bc0a","modified":1553526093762},{"_id":"public/fonts/iconfont.b322fa.eot","hash":"bc8c5e88f4994a852041b4d83f126d9c4d419b4a","modified":1553526093762},{"_id":"public/fonts/tooltip.4004ff.svg","hash":"397fe4b1093bf9b62457dac48aa15dac06b54a3c","modified":1553526093762},{"_id":"public/img/default-skin.png","hash":"ed95a8e40a2c3478c5915376acb8e5f33677f24d","modified":1553526093762},{"_id":"public/img/preloader.gif","hash":"6342367c93c82da1b9c620e97c84a389cc43d96d","modified":1553526093762},{"_id":"public/img/scrollbar_arrow.png","hash":"d64a33c4ddfbdb89deeb6f4e3d36eb84dc4777c0","modified":1553526093762},{"_id":"public/images/posts/20160103/2015-fengqu-hard-work.jpg","hash":"5f42da8d1317e85d43fbd6a4b99cb03f193dd600","modified":1553526093762},{"_id":"public/images/posts/20160103/2015-fengqu-xiaowa.jpg","hash":"b8b22e1ad2854363a1aeaa13f2fb6ca3dd661166","modified":1553526093762},{"_id":"public/images/posts/20160103/2015-jiehongzhao.jpg","hash":"afb9bba7cbe01bfc463ee2f9a951fb05e0dde7aa","modified":1553526093762},{"_id":"public/images/posts/20170615/sys-load-top.png","hash":"ba722e576b2d7c8699c4487c5197de041b35221e","modified":1553526093762},{"_id":"public/images/posts/20170729/15013170603938.jpg","hash":"4d2f601039c6b9f088f095bf959a663fcaea5647","modified":1553526093762},{"_id":"public/images/posts/20170729/15013171616768.jpg","hash":"2c58d6c0918ca64e7aa0a5d83c9fe6d07d6b6c14","modified":1553526093762},{"_id":"public/images/posts/20170729/15013200170363.jpg","hash":"7759f902d024af13f7627be510f9d9b1c2b59473","modified":1553526093762},{"_id":"public/images/posts/20170729/15013200322290.jpg","hash":"f873dce074452e5cfc89fbbab1f08ae589fda2bf","modified":1553526093762},{"_id":"public/images/posts/20170729/15013200810263.jpg","hash":"c31e544e1286c703baddce46f9ddd5f667ad4eca","modified":1553526093763},{"_id":"public/images/posts/20170902/14824834942593.jpg","hash":"39e9b23c7094f8ec85d4e79fdff705a8e4733ed1","modified":1553526093763},{"_id":"public/images/posts/20170902/14824835188662.jpg","hash":"bfc1e486794319b5d1ba86143dd4c4f42232736e","modified":1553526093763},{"_id":"public/images/posts/20170921/15059815133485.jpg","hash":"d0dc4a364658fe88fdc468cc541d3d7cd7629ad6","modified":1553526093763},{"_id":"public/images/posts/20171020/15084807485727.jpg","hash":"9a7faebe33794831cb8f9e8a4b061cbb114e6db1","modified":1553526093763},{"_id":"public/images/posts/20171229/2017-12-12-renzhi-lay.jpeg","hash":"0e6a8889a7cd41019bfd2dc9f73e467b612d0a73","modified":1553526093763},{"_id":"public/images/posts/20160509/js-url-param-sign.png","hash":"71d11ea30e61bad7e4b2ebd54bffc2577bbe1111","modified":1553526093763},{"_id":"public/avatar.jpeg","hash":"8bf674321042c11ba81265538941fbc0f6a4ac1d","modified":1553526093778},{"_id":"public/images/posts/20160310/5C6ED2A3-C1DF-4937-8C59-A03C73582185.png","hash":"d16aaf3f23e1ae9ccd4f458186c6b2949180c2b7","modified":1553526093778},{"_id":"public/images/posts/20160310/7BCC9F9B-0535-48BC-B247-3A13DFC9C60E.png","hash":"ed622463f24413d57237228c8ebc048b06e9865d","modified":1553526093778},{"_id":"public/images/posts/20160509/geetest-captcha.png","hash":"d3f986c33a1aaa6deb012cb258eaf166d36bcc0f","modified":1553526093778},{"_id":"public/images/posts/20160510/bean-init-three-step.png","hash":"8d6ea0c929dfaf5e63c7358b367bc34ac5f72f60","modified":1553526093778},{"_id":"public/images/posts/20160606/https-tcp.png","hash":"1bf90777ef795a92f59b3c1d45f241100658b532","modified":1553526093778},{"_id":"public/images/posts/20170615/jstack-top.png","hash":"5b7b3b0af6d51e00f9ef8adba48f607dc1bd6da1","modified":1553526093778},{"_id":"public/images/posts/20170615/system-monitor-line.png","hash":"a56f9d448606737b04beb21ac701aeb9dce3b8f5","modified":1553526093778},{"_id":"public/images/posts/20170630/4310879-3357bcd3cb02416b.png","hash":"f2a7108b92416f9394a7cd22eae7fadde5b50e8c","modified":1553526093778},{"_id":"public/images/posts/20170630/4310879-678b45d2de320746.png","hash":"abcf377898cb46931749c8e1ddaeddab6839ec3c","modified":1553526093778},{"_id":"public/images/posts/20170729/15013171868842.jpg","hash":"7c99bf8b78441c93aefb31bb8f8dea4b7806dea3","modified":1553526093778},{"_id":"public/images/posts/20170902/14826731196884.jpg","hash":"1d1130ad2ab5339c7c3a1279b040565e544929b5","modified":1553526093779},{"_id":"public/images/posts/20170921/15059814992587.jpg","hash":"2e0beb26be8d82dee3c46a8f977828465a977408","modified":1553526093779},{"_id":"public/images/posts/20170921/15059819937015.jpg","hash":"23402d9da42a2708b8d8e6911099b996aae0f215","modified":1553526093779},{"_id":"public/images/posts/20171229/2017-12-12-stock.jpeg","hash":"3065463ca9abc9b594b8008ab33d21012393b52e","modified":1553526093779},{"_id":"public/images/posts/20170615/changefree-while-query.png","hash":"4213f4313364e7186c1f23fb658a7eeebcc837e6","modified":1553526093779},{"_id":"public/favicon.ico","hash":"497b7ba9c4933e56e90fd5494d12f9abfde71d07","modified":1553526093793},{"_id":"public/images/posts/20170615/sys-mail-notice.png","hash":"76cb836461ba8f6f1577c2c6700d4b5cd36ee771","modified":1553526093793},{"_id":"public/images/posts/20170630/4310879-177756096b76affe.png","hash":"5e9b59ac81a151b2f5eaac3018ed9e23ee928a2a","modified":1553526093793},{"_id":"public/images/posts/20170729/15013198529222.png","hash":"2f1445c7a7b7086f36153bff5b2858d4f3c3a8f9","modified":1553526093793},{"_id":"public/images/posts/20170902/14826733264139.jpg","hash":"e4de2ad41a3e7d9212b8fa02b8ce5912c46c0805","modified":1553526093793},{"_id":"public/images/posts/20170902/14826735377431.jpg","hash":"8cc95e4c151abc925c8eb8c6143dc445c184429c","modified":1553526093793},{"_id":"public/images/posts/20170902/14826747022343.jpg","hash":"f2fa61651d7a2fcea213159babba4928f61bb5e5","modified":1553526093794},{"_id":"public/images/posts/20170615/top-pid.png","hash":"9103f47e29bdb5259c08f346defcfab706069ae5","modified":1553526093810},{"_id":"public/images/posts/20170630/4310879-fc19311bc92a811d.png","hash":"ba392ac44ef831805dfe38263907100361c2cb12","modified":1553526093810},{"_id":"public/images/posts/20170704/14990824219836.jpg","hash":"814c81ddf3fca94e3ff5db21129139fa2926d060","modified":1553526093811},{"_id":"public/images/posts/20160612/bean-util-sample.png","hash":"593b8d20d4295ae567cfe9ab6a44e0e53ed2ae6c","modified":1553526093811},{"_id":"public/images/posts/20171229/2017-12-12-yunnan-party.jpeg","hash":"c6cb4b99fc1e5354794c4f2fd010c3578dbe9132","modified":1553526093811},{"_id":"public/images/posts/20180329/aliyun-mutil-region.png","hash":"2597d1fcbad188faba7dc04a9e5523c09ddb5d34","modified":1553526093811},{"_id":"public/images/posts/20170902/14826738507608.jpg","hash":"b0b2bffac9f930c236f3dd9baa0099d8f149f0d0","modified":1553526093811},{"_id":"public/gitment.css","hash":"1494131f8a187cf3051ff348698abce71c308790","modified":1553526093825},{"_id":"public/images/posts/20160606/https-tcp-client-hello-sid.png","hash":"30ec0f977560d70961008efb3ac83cd3f0e52cfa","modified":1553526093825},{"_id":"public/images/posts/20170630/4310879-6ae60b2944c257ef.png","hash":"11e314994aa2506f24d35eac802b7097ac1bcb69","modified":1553526093825},{"_id":"public/images/posts/20170630/4310879-d41c948490a26b54.png","hash":"6060fcf0d988ea8f89e403ca888103e0ce468d17","modified":1553526093825},{"_id":"public/images/posts/20180409/mybatis-work-flow.jpg","hash":"ea8ca56e50b8ff736ce03c50a3bd6fec21462cf8","modified":1553526093826},{"_id":"public/images/posts/20160509/fqht-regist.png","hash":"5f1bb776c76a1975ab899342a380b224dc3013e5","modified":1553526093826},{"_id":"public/images/posts/20160606/https-tcp-graph.png","hash":"6994704f80686b6d39b7c24ad0d9dcdf3369bc3d","modified":1553526093826},{"_id":"public/images/posts/20170630/4310879-cb86b37d1390d7b3.png","hash":"9a00184a47480857dd7e678dc84a2e8c45e4b92a","modified":1553526093826},{"_id":"public/images/posts/20180409/mybatis-executor-topo.jpg","hash":"9fde07444ed956dc3f867f1e6f55f8ff80000f83","modified":1553526093827},{"_id":"public/images/posts/20170902/14826767849619.jpg","hash":"621e62969d15f1420e0b1d925b305b0cde35ac4c","modified":1553526093827},{"_id":"public/images/posts/20160606/tcp-first-handshake.png","hash":"b7cae65d4f45ad3e1c2ced5b4db2f16ab83736fa","modified":1553526093827},{"_id":"public/images/posts/20160612/object-mapping-per-hightchart-two.png","hash":"269f33fd0c511e643ad0e289381994ec82f5badb","modified":1553526093827},{"_id":"public/images/posts/20170630/4310879-25474decc57eca07.png","hash":"b6f6259e24eec90a2c6925aadd832777a8c9a996","modified":1553526093828},{"_id":"public/images/posts/20170902/14826767169568.jpg","hash":"6608f604b350e1866b53bf422d57821641488307","modified":1553526093828},{"_id":"public/images/posts/20171020/15084809508975.jpg","hash":"2a2f1bf0dd05c108d59b3049933fdaf892a06a70","modified":1553526093828},{"_id":"public/images/posts/20170729/15013199075789.png","hash":"fc31e05440474a7a5ce77c26549d47dd7aff5f0b","modified":1553526093829},{"_id":"public/images/posts/20171229/2017-12-12-yunnan-lgh.jpeg","hash":"85ac13263af5ec100229053a832dea17ee056cdc","modified":1553526093829},{"_id":"public/images/posts/20160510/ioc-context-init.png","hash":"5620c86208e626628ca4f84acf5d3300a8fa2042","modified":1553526093829},{"_id":"public/images/posts/20170615/jstack-grep-tid.png","hash":"e9691e38f9c2bab203a9430aaf3e59bc02754e3b","modified":1553526093837},{"_id":"public/images/posts/20160606/https-tcp-client-hello-random.png","hash":"d42511a13fb3ee73e98aea345fcc33333cdb35c1","modified":1553526093837},{"_id":"public/images/posts/20160509/user-token-cookie.png","hash":"b347995efe60c1addb81d56e2ea903608f76ba0b","modified":1553526093838},{"_id":"public/images/posts/20160606/https-tcp-data-transport.png","hash":"67b1f56ddcea643c089129300bdbc529ab58c560","modified":1553526093838},{"_id":"public/images/posts/20170630/4310879-bb0b92f26600b59a.png","hash":"d258d2b7f33cd38e5b64410e1e87f7a37f75ccd9","modified":1553526093838},{"_id":"public/images/posts/20170630/4310879-e088ada92f63d4c1.png","hash":"83c39676515190a5a8e8aa7a34d0d94eaa445223","modified":1553526093838},{"_id":"public/images/posts/20170703/14990720990548.jpg","hash":"25e4b620da227f5ba15b269e105e8de1a989aa43","modified":1553526093838},{"_id":"public/images/posts/20160606/https-tcp-client-hello-servername.png","hash":"548b4c47fa5e32cf4abea4e81b6902bfb0d57588","modified":1553526093839},{"_id":"public/images/posts/20160606/tcp-second-handshake.png","hash":"46f2968eccc93713b2cdf5c1648072475897cda8","modified":1553526093839},{"_id":"public/images/posts/20160510/beanFactory-applicationContext-hex.png","hash":"816d32fa8b789fb34873bbe0f8539a45f4080cfc","modified":1553526093839},{"_id":"public/images/posts/20170630/4310879-6d0b680ae67a8c96.png","hash":"da0a73d40c80db35c0c68daf53a75e72b49f4091","modified":1553526093846},{"_id":"public/images/posts/20160606/tcp-third-handshake.png","hash":"a90af4a33be97eac4fcd3e244e5acffd72f98d83","modified":1553526093846},{"_id":"public/images/posts/20160606/https-tcp-secret-encrypted.png","hash":"299f85c79b73697fa2e4b49119c47c95aa7ec111","modified":1553526093847},{"_id":"public/images/posts/20170902/14824828832109.jpg","hash":"f485f93f622355cb6c6e1630c97c4975b06d6ede","modified":1553526093861},{"_id":"public/images/posts/20160606/tcp-third-time-handshake.png","hash":"f6da103abc16aa00c74ba0629c5dd6a0fd31a88f","modified":1553526093861},{"_id":"public/images/posts/20160606/https-tcp-client-key-exchanger.png","hash":"ae6f805c80a2211c586196a73beb8dc27719c439","modified":1553526093861},{"_id":"public/slider.e37972.js","hash":"6dec4e220c89049037eebc44404abd8455d22ad7","modified":1553526093872},{"_id":"public/images/posts/20160606/tencent-cloud-https-tcp-all.png","hash":"a6b282e88c2dfff1684d9fa3525af2a91fc8f009","modified":1553526093872},{"_id":"public/images/posts/20170630/4310879-4f20d68e1f4bbd33.png","hash":"4c9bada112a60b6d514a8ebc91f1668d3895368e","modified":1553526093876},{"_id":"public/images/posts/20160606/https-tcp-client-hello-cipher.png","hash":"1f5932023fbfbefcd31f9184d4d55bfced0cfec2","modified":1553526093876},{"_id":"public/images/posts/20170630/4310879-a2c3b631208d2559.png","hash":"3c5cf9fa0d51cfb1c028f1ff417d243fe36364a3","modified":1553526093876},{"_id":"public/images/posts/20160606/https-tcp-client-hello.png","hash":"9fa8048592dd83003a2e6db2215a352a1f312db7","modified":1553526093877},{"_id":"public/images/posts/20160606/https-tcp-server-hello.png","hash":"585ea4aac1b6037254335c74cb6b160a625205f3","modified":1553526093877},{"_id":"public/images/posts/20181006/violenceComesHome.jpg","hash":"246690fb668abdc6bc035e457fef2aa33aa0ad79","modified":1553526093877},{"_id":"public/images/posts/20170630/4310879-f1ab820576d3d36b.png","hash":"6cae3b5a39b61f26ed918e76be8b3cdcc312fb4b","modified":1553526093878},{"_id":"public/images/posts/20160606/wirdshark-tencent-cloud-tcp-stream-get.png","hash":"00ed3f1eb88ac5026630655b8ef52f2eee6d2bc9","modified":1553526093878},{"_id":"public/main.0cf68a.css","hash":"3fa265f40d18a5164d1ea343b876e6e818d1515c","modified":1553526093885},{"_id":"public/images/posts/20160606/https-tcp-certificate.png","hash":"28dbd0c42685cf41194806e9445338ae9b748632","modified":1553526093885},{"_id":"public/images/posts/20170630/4310879-2175f5af9eed7857.png","hash":"2a273666f64a487e83c782fd2554bffc130fb11c","modified":1553526093885},{"_id":"public/images/posts/20171229/2017-12-12-aliyun-profile-money.png","hash":"4a4e80ffe84f50fb450ea579f249470ff77cdc20","modified":1553526093886},{"_id":"public/main.0cf68a.js","hash":"993fadeb5f6d296e9d997a49ee20dc97333ceab7","modified":1553526093906},{"_id":"public/images/posts/20170630/4310879-51f9fe182fea724d.png","hash":"37b4e6dec59b7fb890f3a259927efb5ca5066ca6","modified":1553526093906},{"_id":"public/images/posts/20160606/tcp-get-conn-release-conn.png","hash":"aa66de7b14936717068db8e17962918ed1c518fe","modified":1553526093912},{"_id":"public/images/posts/20170630/4310879-23d0bf618f8f6f5a.png","hash":"ddea4b1306ef0fa83f4f12473e6070458b66f957","modified":1553526093913},{"_id":"public/images/posts/20170630/4310879-4c10e03305a1f2d8.png","hash":"b9daef39fe0c7b6e168c6fc78dce036c31273729","modified":1553526093914},{"_id":"public/images/posts/20170630/4310879-d0375b2d590c0c34.png","hash":"a71f7209b435635fa7a7d732542f6e123d0e9bcc","modified":1553526093915},{"_id":"public/images/posts/20170630/4310879-5ce73b40ffbe076d.png","hash":"d13a6950505f04297c6aa9265294b0f26a6f89fa","modified":1553526093925},{"_id":"public/images/posts/20170630/4310879-350ab02c6030c235.png","hash":"e47cdc52b8764429df5163481a8d6ecf30bd2d12","modified":1553526093925},{"_id":"public/images/posts/20170630/4310879-6d02639ce5ae160f.png","hash":"dd8a23e9f35e19f7aed54c4db34fad4ad7b516d4","modified":1553526093926},{"_id":"public/images/posts/20170630/4310879-141e6ba51f8dc54c.png","hash":"755deac7b4f00fee6f8c155c60bc7cda23a9d5c4","modified":1553526093927},{"_id":"public/mobile.992cbe.js","hash":"01b35e71e37aa2849664eb5daf26daede2278398","modified":1553526093976},{"_id":"public/images/posts/20170630/4310879-6395c5da25e3e7fc.png","hash":"ad6688a15d03312be2b4fa952e4e489cc254a515","modified":1553526093976},{"_id":"public/images/posts/20170630/4310879-4a7c08a813ffa011.png","hash":"d5a7d29401826233af70d81062ce49d1e6d60e33","modified":1553526093981},{"_id":"public/images/posts/20170630/4310879-ccf6cae90139b130.png","hash":"8360b643c2c20ad76c781a38b19dace61f2d79af","modified":1553526093984},{"_id":"public/images/posts/20170630/4310879-f24ca8d32ad1a384.png","hash":"867476d174cca3f51a09e355cd589f80ddd1667b","modified":1553526093985},{"_id":"public/images/posts/20170630/4310879-dedb20d5be56d989.png","hash":"d52bdb1de6b69699d5a87f961e028ca7a7b4c2e3","modified":1553526093985},{"_id":"public/gitment.js","hash":"b16277d8b38666a58cbaeb339f4fb0e82238ca1b","modified":1553526093991},{"_id":"public/media/how-to-study.pdf","hash":"8117f7f1786965638daa4b278f4b304a850478ea","modified":1553526094056}],"Category":[{"name":"Basic","_id":"cjtohbk7700046f12s58n1ug4"},{"name":"Android","_id":"cjtohbk7h000b6f12d5u08sk6"},{"name":"HighAvailability","_id":"cjtohbk7o000k6f12gcsrmel8"},{"name":"Middleware","_id":"cjtohbk7t000u6f12tpohiivl"},{"name":"","_id":"cjtohbk7v00106f124b2wuphq"},{"name":"Java","_id":"cjtohbk7x00156f12mak1c8z4"},{"name":"Mysql","_id":"cjtohbk8r002r6f12zk6nb3tr"},{"name":"Paper","_id":"cjtohbk90003b6f12j9mgh0j6"},{"name":"Program","_id":"cjtohbk94003g6f12ai1ehw0o"},{"name":"Spring","_id":"cjtohbk9p004i6f12rjmi30ta"},{"name":"Think","_id":"cjtohbk9r004m6f12uh1poxqw"},{"name":"Tool","_id":"cjtohbka6005f6f12g5jys9ki"},{"name":"","_id":"cjtohbkap005p6f12qknwa9wr"},{"name":"Redis","_id":"cjtohbkb4006f6f12f4tnp9fr"},{"name":"","_id":"cjtohbkb8006n6f12oo3tsa6u"},{"name":"","_id":"cjtohbkbn00706f12eh3hci27"}],"Data":[],"Page":[{"_content":"/*! lightslider - v1.1.5 - 2015-10-31\n* https://github.com/sachinchoolur/lightslider\n* Copyright (c) 2015 Sachin N; Licensed MIT */\n/*! lightslider - v1.1.3 - 2015-04-14\n* https://github.com/sachinchoolur/lightslider\n* Copyright (c) 2015 Sachin N; Licensed MIT */\n/** /!!! core css Should not edit !!!/**/ \n\n.lSSlideOuter {\n    overflow: hidden;\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -khtml-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none\n}\n.lightSlider:before, .lightSlider:after {\n    content: \" \";\n    display: table;\n}\n.lightSlider {\n    overflow: hidden;\n    margin: 0;\n}\n.lSSlideWrapper {\n    max-width: 100%;\n    overflow: hidden;\n    position: relative;\n}\n.lSSlideWrapper > .lightSlider:after {\n    clear: both;\n}\n.lSSlideWrapper .lSSlide {\n    -webkit-transform: translate(0px, 0px);\n    -ms-transform: translate(0px, 0px);\n    transform: translate(0px, 0px);\n    -webkit-transition: all 1s;\n    -webkit-transition-property: -webkit-transform,height;\n    -moz-transition-property: -moz-transform,height;\n    transition-property: transform,height;\n    -webkit-transition-duration: inherit !important;\n    transition-duration: inherit !important;\n    -webkit-transition-timing-function: inherit !important;\n    transition-timing-function: inherit !important;\n}\n.lSSlideWrapper .lSFade {\n    position: relative;\n}\n.lSSlideWrapper .lSFade > * {\n    position: absolute !important;\n    top: 0;\n    left: 0;\n    z-index: 9;\n    margin-right: 0;\n    width: 100%;\n}\n.lSSlideWrapper.usingCss .lSFade > * {\n    opacity: 0;\n    -webkit-transition-delay: 0s;\n    transition-delay: 0s;\n    -webkit-transition-duration: inherit !important;\n    transition-duration: inherit !important;\n    -webkit-transition-property: opacity;\n    transition-property: opacity;\n    -webkit-transition-timing-function: inherit !important;\n    transition-timing-function: inherit !important;\n}\n.lSSlideWrapper .lSFade > *.active {\n    z-index: 10;\n}\n.lSSlideWrapper.usingCss .lSFade > *.active {\n    opacity: 1;\n}\n/** /!!! End of core css Should not edit !!!/**/\n\n/* Pager */\n.lSSlideOuter .lSPager.lSpg {\n    margin: 10px 0 0;\n    padding: 0;\n    text-align: center;\n}\n.lSSlideOuter .lSPager.lSpg > li {\n    cursor: pointer;\n    display: inline-block;\n    padding: 0 5px;\n}\n.lSSlideOuter .lSPager.lSpg > li a {\n    background-color: #222222;\n    border-radius: 30px;\n    display: inline-block;\n    height: 8px;\n    overflow: hidden;\n    text-indent: -999em;\n    width: 8px;\n    position: relative;\n    z-index: 99;\n    -webkit-transition: all 0.5s linear 0s;\n    transition: all 0.5s linear 0s;\n}\n.lSSlideOuter .lSPager.lSpg > li:hover a, .lSSlideOuter .lSPager.lSpg > li.active a {\n    background-color: #428bca;\n}\n.lSSlideOuter .media {\n    opacity: 0.8;\n}\n.lSSlideOuter .media.active {\n    opacity: 1;\n}\n/* End of pager */\n\n/** Gallery */\n.lSSlideOuter .lSPager.lSGallery {\n    list-style: none outside none;\n    padding-left: 0;\n    margin: 0;\n    overflow: hidden;\n    transform: translate3d(0px, 0px, 0px);\n    -moz-transform: translate3d(0px, 0px, 0px);\n    -ms-transform: translate3d(0px, 0px, 0px);\n    -webkit-transform: translate3d(0px, 0px, 0px);\n    -o-transform: translate3d(0px, 0px, 0px);\n    -webkit-transition-property: -webkit-transform;\n    -moz-transition-property: -moz-transform;\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -khtml-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n}\n.lSSlideOuter .lSPager.lSGallery li {\n    overflow: hidden;\n    -webkit-transition: border-radius 0.12s linear 0s 0.35s linear 0s;\n    transition: border-radius 0.12s linear 0s 0.35s linear 0s;\n}\n.lSSlideOuter .lSPager.lSGallery li.active, .lSSlideOuter .lSPager.lSGallery li:hover {\n    border-radius: 5px;\n}\n.lSSlideOuter .lSPager.lSGallery img {\n    display: block;\n    height: auto;\n    max-width: 100%;\n}\n.lSSlideOuter .lSPager.lSGallery:before, .lSSlideOuter .lSPager.lSGallery:after {\n    content: \" \";\n    display: table;\n}\n.lSSlideOuter .lSPager.lSGallery:after {\n    clear: both;\n}\n/* End of Gallery*/\n\n/* slider actions */\n.lSAction > a {\n    width: 32px;\n    display: block;\n    top: 50%;\n    height: 32px;\n    background-image: url('../img/controls.png');\n    cursor: pointer;\n    position: absolute;\n    z-index: 99;\n    margin-top: -16px;\n    opacity: 0.5;\n    -webkit-transition: opacity 0.35s linear 0s;\n    transition: opacity 0.35s linear 0s;\n}\n.lSAction > a:hover {\n    opacity: 1;\n}\n.lSAction > .lSPrev {\n    background-position: 0 0;\n    left: 10px;\n}\n.lSAction > .lSNext {\n    background-position: -32px 0;\n    right: 10px;\n}\n.lSAction > a.disabled {\n    pointer-events: none;\n}\n.cS-hidden {\n    height: 1px;\n    opacity: 0;\n    filter: alpha(opacity=0);\n    overflow: hidden;\n}\n\n\n/* vertical */\n.lSSlideOuter.vertical {\n    position: relative;\n}\n.lSSlideOuter.vertical.noPager {\n    padding-right: 0px !important;\n}\n.lSSlideOuter.vertical .lSGallery {\n    position: absolute !important;\n    right: 0;\n    top: 0;\n}\n.lSSlideOuter.vertical .lightSlider > * {\n    width: 100% !important;\n    max-width: none !important;\n}\n\n/* vertical controlls */\n.lSSlideOuter.vertical .lSAction > a {\n    left: 50%;\n    margin-left: -14px;\n    margin-top: 0;\n}\n.lSSlideOuter.vertical .lSAction > .lSNext {\n    background-position: 31px -31px;\n    bottom: 10px;\n    top: auto;\n}\n.lSSlideOuter.vertical .lSAction > .lSPrev {\n    background-position: 0 -31px;\n    bottom: auto;\n    top: 10px;\n}\n/* vertical */\n\n\n/* Rtl */\n.lSSlideOuter.lSrtl {\n    direction: rtl;\n}\n.lSSlideOuter .lightSlider, .lSSlideOuter .lSPager {\n    padding-left: 0;\n    list-style: none outside none;\n}\n.lSSlideOuter.lSrtl .lightSlider, .lSSlideOuter.lSrtl .lSPager {\n    padding-right: 0;\n}\n.lSSlideOuter .lightSlider > *,  .lSSlideOuter .lSGallery li {\n    float: left;\n}\n.lSSlideOuter.lSrtl .lightSlider > *,  .lSSlideOuter.lSrtl .lSGallery li {\n    float: right !important;\n}\n/* Rtl */\n\n@-webkit-keyframes rightEnd {\n    0% {\n        left: 0;\n    }\n\n    50% {\n        left: -15px;\n    }\n\n    100% {\n        left: 0;\n    }\n}\n@keyframes rightEnd {\n    0% {\n        left: 0;\n    }\n\n    50% {\n        left: -15px;\n    }\n\n    100% {\n        left: 0;\n    }\n}\n@-webkit-keyframes topEnd {\n    0% {\n        top: 0;\n    }\n\n    50% {\n        top: -15px;\n    }\n\n    100% {\n        top: 0;\n    }\n}\n@keyframes topEnd {\n    0% {\n        top: 0;\n    }\n\n    50% {\n        top: -15px;\n    }\n\n    100% {\n        top: 0;\n    }\n}\n@-webkit-keyframes leftEnd {\n    0% {\n        left: 0;\n    }\n\n    50% {\n        left: 15px;\n    }\n\n    100% {\n        left: 0;\n    }\n}\n@keyframes leftEnd {\n    0% {\n        left: 0;\n    }\n\n    50% {\n        left: 15px;\n    }\n\n    100% {\n        left: 0;\n    }\n}\n@-webkit-keyframes bottomEnd {\n    0% {\n        bottom: 0;\n    }\n\n    50% {\n        bottom: -15px;\n    }\n\n    100% {\n        bottom: 0;\n    }\n}\n@keyframes bottomEnd {\n    0% {\n        bottom: 0;\n    }\n\n    50% {\n        bottom: -15px;\n    }\n\n    100% {\n        bottom: 0;\n    }\n}\n.lSSlideOuter .rightEnd {\n    -webkit-animation: rightEnd 0.3s;\n    animation: rightEnd 0.3s;\n    position: relative;\n}\n.lSSlideOuter .leftEnd {\n    -webkit-animation: leftEnd 0.3s;\n    animation: leftEnd 0.3s;\n    position: relative;\n}\n.lSSlideOuter.vertical .rightEnd {\n    -webkit-animation: topEnd 0.3s;\n    animation: topEnd 0.3s;\n    position: relative;\n}\n.lSSlideOuter.vertical .leftEnd {\n    -webkit-animation: bottomEnd 0.3s;\n    animation: bottomEnd 0.3s;\n    position: relative;\n}\n.lSSlideOuter.lSrtl .rightEnd {\n    -webkit-animation: leftEnd 0.3s;\n    animation: leftEnd 0.3s;\n    position: relative;\n}\n.lSSlideOuter.lSrtl .leftEnd {\n    -webkit-animation: rightEnd 0.3s;\n    animation: rightEnd 0.3s;\n    position: relative;\n}\n/*/  GRab cursor */\n.lightSlider.lsGrab > * {\n  cursor: -webkit-grab;\n  cursor: -moz-grab;\n  cursor: -o-grab;\n  cursor: -ms-grab;\n  cursor: grab;\n}\n.lightSlider.lsGrabbing > * {\n  cursor: move;\n  cursor: -webkit-grabbing;\n  cursor: -moz-grabbing;\n  cursor: -o-grabbing;\n  cursor: -ms-grabbing;\n  cursor: grabbing;\n}","source":"lightslider/css/lightslider.css","raw":"/*! lightslider - v1.1.5 - 2015-10-31\n* https://github.com/sachinchoolur/lightslider\n* Copyright (c) 2015 Sachin N; Licensed MIT */\n/*! lightslider - v1.1.3 - 2015-04-14\n* https://github.com/sachinchoolur/lightslider\n* Copyright (c) 2015 Sachin N; Licensed MIT */\n/** /!!! core css Should not edit !!!/**/ \n\n.lSSlideOuter {\n    overflow: hidden;\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -khtml-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none\n}\n.lightSlider:before, .lightSlider:after {\n    content: \" \";\n    display: table;\n}\n.lightSlider {\n    overflow: hidden;\n    margin: 0;\n}\n.lSSlideWrapper {\n    max-width: 100%;\n    overflow: hidden;\n    position: relative;\n}\n.lSSlideWrapper > .lightSlider:after {\n    clear: both;\n}\n.lSSlideWrapper .lSSlide {\n    -webkit-transform: translate(0px, 0px);\n    -ms-transform: translate(0px, 0px);\n    transform: translate(0px, 0px);\n    -webkit-transition: all 1s;\n    -webkit-transition-property: -webkit-transform,height;\n    -moz-transition-property: -moz-transform,height;\n    transition-property: transform,height;\n    -webkit-transition-duration: inherit !important;\n    transition-duration: inherit !important;\n    -webkit-transition-timing-function: inherit !important;\n    transition-timing-function: inherit !important;\n}\n.lSSlideWrapper .lSFade {\n    position: relative;\n}\n.lSSlideWrapper .lSFade > * {\n    position: absolute !important;\n    top: 0;\n    left: 0;\n    z-index: 9;\n    margin-right: 0;\n    width: 100%;\n}\n.lSSlideWrapper.usingCss .lSFade > * {\n    opacity: 0;\n    -webkit-transition-delay: 0s;\n    transition-delay: 0s;\n    -webkit-transition-duration: inherit !important;\n    transition-duration: inherit !important;\n    -webkit-transition-property: opacity;\n    transition-property: opacity;\n    -webkit-transition-timing-function: inherit !important;\n    transition-timing-function: inherit !important;\n}\n.lSSlideWrapper .lSFade > *.active {\n    z-index: 10;\n}\n.lSSlideWrapper.usingCss .lSFade > *.active {\n    opacity: 1;\n}\n/** /!!! End of core css Should not edit !!!/**/\n\n/* Pager */\n.lSSlideOuter .lSPager.lSpg {\n    margin: 10px 0 0;\n    padding: 0;\n    text-align: center;\n}\n.lSSlideOuter .lSPager.lSpg > li {\n    cursor: pointer;\n    display: inline-block;\n    padding: 0 5px;\n}\n.lSSlideOuter .lSPager.lSpg > li a {\n    background-color: #222222;\n    border-radius: 30px;\n    display: inline-block;\n    height: 8px;\n    overflow: hidden;\n    text-indent: -999em;\n    width: 8px;\n    position: relative;\n    z-index: 99;\n    -webkit-transition: all 0.5s linear 0s;\n    transition: all 0.5s linear 0s;\n}\n.lSSlideOuter .lSPager.lSpg > li:hover a, .lSSlideOuter .lSPager.lSpg > li.active a {\n    background-color: #428bca;\n}\n.lSSlideOuter .media {\n    opacity: 0.8;\n}\n.lSSlideOuter .media.active {\n    opacity: 1;\n}\n/* End of pager */\n\n/** Gallery */\n.lSSlideOuter .lSPager.lSGallery {\n    list-style: none outside none;\n    padding-left: 0;\n    margin: 0;\n    overflow: hidden;\n    transform: translate3d(0px, 0px, 0px);\n    -moz-transform: translate3d(0px, 0px, 0px);\n    -ms-transform: translate3d(0px, 0px, 0px);\n    -webkit-transform: translate3d(0px, 0px, 0px);\n    -o-transform: translate3d(0px, 0px, 0px);\n    -webkit-transition-property: -webkit-transform;\n    -moz-transition-property: -moz-transform;\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -khtml-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n}\n.lSSlideOuter .lSPager.lSGallery li {\n    overflow: hidden;\n    -webkit-transition: border-radius 0.12s linear 0s 0.35s linear 0s;\n    transition: border-radius 0.12s linear 0s 0.35s linear 0s;\n}\n.lSSlideOuter .lSPager.lSGallery li.active, .lSSlideOuter .lSPager.lSGallery li:hover {\n    border-radius: 5px;\n}\n.lSSlideOuter .lSPager.lSGallery img {\n    display: block;\n    height: auto;\n    max-width: 100%;\n}\n.lSSlideOuter .lSPager.lSGallery:before, .lSSlideOuter .lSPager.lSGallery:after {\n    content: \" \";\n    display: table;\n}\n.lSSlideOuter .lSPager.lSGallery:after {\n    clear: both;\n}\n/* End of Gallery*/\n\n/* slider actions */\n.lSAction > a {\n    width: 32px;\n    display: block;\n    top: 50%;\n    height: 32px;\n    background-image: url('../img/controls.png');\n    cursor: pointer;\n    position: absolute;\n    z-index: 99;\n    margin-top: -16px;\n    opacity: 0.5;\n    -webkit-transition: opacity 0.35s linear 0s;\n    transition: opacity 0.35s linear 0s;\n}\n.lSAction > a:hover {\n    opacity: 1;\n}\n.lSAction > .lSPrev {\n    background-position: 0 0;\n    left: 10px;\n}\n.lSAction > .lSNext {\n    background-position: -32px 0;\n    right: 10px;\n}\n.lSAction > a.disabled {\n    pointer-events: none;\n}\n.cS-hidden {\n    height: 1px;\n    opacity: 0;\n    filter: alpha(opacity=0);\n    overflow: hidden;\n}\n\n\n/* vertical */\n.lSSlideOuter.vertical {\n    position: relative;\n}\n.lSSlideOuter.vertical.noPager {\n    padding-right: 0px !important;\n}\n.lSSlideOuter.vertical .lSGallery {\n    position: absolute !important;\n    right: 0;\n    top: 0;\n}\n.lSSlideOuter.vertical .lightSlider > * {\n    width: 100% !important;\n    max-width: none !important;\n}\n\n/* vertical controlls */\n.lSSlideOuter.vertical .lSAction > a {\n    left: 50%;\n    margin-left: -14px;\n    margin-top: 0;\n}\n.lSSlideOuter.vertical .lSAction > .lSNext {\n    background-position: 31px -31px;\n    bottom: 10px;\n    top: auto;\n}\n.lSSlideOuter.vertical .lSAction > .lSPrev {\n    background-position: 0 -31px;\n    bottom: auto;\n    top: 10px;\n}\n/* vertical */\n\n\n/* Rtl */\n.lSSlideOuter.lSrtl {\n    direction: rtl;\n}\n.lSSlideOuter .lightSlider, .lSSlideOuter .lSPager {\n    padding-left: 0;\n    list-style: none outside none;\n}\n.lSSlideOuter.lSrtl .lightSlider, .lSSlideOuter.lSrtl .lSPager {\n    padding-right: 0;\n}\n.lSSlideOuter .lightSlider > *,  .lSSlideOuter .lSGallery li {\n    float: left;\n}\n.lSSlideOuter.lSrtl .lightSlider > *,  .lSSlideOuter.lSrtl .lSGallery li {\n    float: right !important;\n}\n/* Rtl */\n\n@-webkit-keyframes rightEnd {\n    0% {\n        left: 0;\n    }\n\n    50% {\n        left: -15px;\n    }\n\n    100% {\n        left: 0;\n    }\n}\n@keyframes rightEnd {\n    0% {\n        left: 0;\n    }\n\n    50% {\n        left: -15px;\n    }\n\n    100% {\n        left: 0;\n    }\n}\n@-webkit-keyframes topEnd {\n    0% {\n        top: 0;\n    }\n\n    50% {\n        top: -15px;\n    }\n\n    100% {\n        top: 0;\n    }\n}\n@keyframes topEnd {\n    0% {\n        top: 0;\n    }\n\n    50% {\n        top: -15px;\n    }\n\n    100% {\n        top: 0;\n    }\n}\n@-webkit-keyframes leftEnd {\n    0% {\n        left: 0;\n    }\n\n    50% {\n        left: 15px;\n    }\n\n    100% {\n        left: 0;\n    }\n}\n@keyframes leftEnd {\n    0% {\n        left: 0;\n    }\n\n    50% {\n        left: 15px;\n    }\n\n    100% {\n        left: 0;\n    }\n}\n@-webkit-keyframes bottomEnd {\n    0% {\n        bottom: 0;\n    }\n\n    50% {\n        bottom: -15px;\n    }\n\n    100% {\n        bottom: 0;\n    }\n}\n@keyframes bottomEnd {\n    0% {\n        bottom: 0;\n    }\n\n    50% {\n        bottom: -15px;\n    }\n\n    100% {\n        bottom: 0;\n    }\n}\n.lSSlideOuter .rightEnd {\n    -webkit-animation: rightEnd 0.3s;\n    animation: rightEnd 0.3s;\n    position: relative;\n}\n.lSSlideOuter .leftEnd {\n    -webkit-animation: leftEnd 0.3s;\n    animation: leftEnd 0.3s;\n    position: relative;\n}\n.lSSlideOuter.vertical .rightEnd {\n    -webkit-animation: topEnd 0.3s;\n    animation: topEnd 0.3s;\n    position: relative;\n}\n.lSSlideOuter.vertical .leftEnd {\n    -webkit-animation: bottomEnd 0.3s;\n    animation: bottomEnd 0.3s;\n    position: relative;\n}\n.lSSlideOuter.lSrtl .rightEnd {\n    -webkit-animation: leftEnd 0.3s;\n    animation: leftEnd 0.3s;\n    position: relative;\n}\n.lSSlideOuter.lSrtl .leftEnd {\n    -webkit-animation: rightEnd 0.3s;\n    animation: rightEnd 0.3s;\n    position: relative;\n}\n/*/  GRab cursor */\n.lightSlider.lsGrab > * {\n  cursor: -webkit-grab;\n  cursor: -moz-grab;\n  cursor: -o-grab;\n  cursor: -ms-grab;\n  cursor: grab;\n}\n.lightSlider.lsGrabbing > * {\n  cursor: move;\n  cursor: -webkit-grabbing;\n  cursor: -moz-grabbing;\n  cursor: -o-grabbing;\n  cursor: -ms-grabbing;\n  cursor: grabbing;\n}","date":"2018-11-10T08:59:10.001Z","updated":"2018-11-10T08:59:10.001Z","path":"lightslider/css/lightslider.css","layout":"false","title":"","comments":1,"_id":"cjtohbk7400016f1245irwhpz","content":"/*! lightslider - v1.1.5 - 2015-10-31\n* https://github.com/sachinchoolur/lightslider\n* Copyright (c) 2015 Sachin N; Licensed MIT */\n/*! lightslider - v1.1.3 - 2015-04-14\n* https://github.com/sachinchoolur/lightslider\n* Copyright (c) 2015 Sachin N; Licensed MIT */\n/** /!!! core css Should not edit !!!/**/ \n\n.lSSlideOuter {\n    overflow: hidden;\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -khtml-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none\n}\n.lightSlider:before, .lightSlider:after {\n    content: \" \";\n    display: table;\n}\n.lightSlider {\n    overflow: hidden;\n    margin: 0;\n}\n.lSSlideWrapper {\n    max-width: 100%;\n    overflow: hidden;\n    position: relative;\n}\n.lSSlideWrapper > .lightSlider:after {\n    clear: both;\n}\n.lSSlideWrapper .lSSlide {\n    -webkit-transform: translate(0px, 0px);\n    -ms-transform: translate(0px, 0px);\n    transform: translate(0px, 0px);\n    -webkit-transition: all 1s;\n    -webkit-transition-property: -webkit-transform,height;\n    -moz-transition-property: -moz-transform,height;\n    transition-property: transform,height;\n    -webkit-transition-duration: inherit !important;\n    transition-duration: inherit !important;\n    -webkit-transition-timing-function: inherit !important;\n    transition-timing-function: inherit !important;\n}\n.lSSlideWrapper .lSFade {\n    position: relative;\n}\n.lSSlideWrapper .lSFade > * {\n    position: absolute !important;\n    top: 0;\n    left: 0;\n    z-index: 9;\n    margin-right: 0;\n    width: 100%;\n}\n.lSSlideWrapper.usingCss .lSFade > * {\n    opacity: 0;\n    -webkit-transition-delay: 0s;\n    transition-delay: 0s;\n    -webkit-transition-duration: inherit !important;\n    transition-duration: inherit !important;\n    -webkit-transition-property: opacity;\n    transition-property: opacity;\n    -webkit-transition-timing-function: inherit !important;\n    transition-timing-function: inherit !important;\n}\n.lSSlideWrapper .lSFade > *.active {\n    z-index: 10;\n}\n.lSSlideWrapper.usingCss .lSFade > *.active {\n    opacity: 1;\n}\n/** /!!! End of core css Should not edit !!!/**/\n\n/* Pager */\n.lSSlideOuter .lSPager.lSpg {\n    margin: 10px 0 0;\n    padding: 0;\n    text-align: center;\n}\n.lSSlideOuter .lSPager.lSpg > li {\n    cursor: pointer;\n    display: inline-block;\n    padding: 0 5px;\n}\n.lSSlideOuter .lSPager.lSpg > li a {\n    background-color: #222222;\n    border-radius: 30px;\n    display: inline-block;\n    height: 8px;\n    overflow: hidden;\n    text-indent: -999em;\n    width: 8px;\n    position: relative;\n    z-index: 99;\n    -webkit-transition: all 0.5s linear 0s;\n    transition: all 0.5s linear 0s;\n}\n.lSSlideOuter .lSPager.lSpg > li:hover a, .lSSlideOuter .lSPager.lSpg > li.active a {\n    background-color: #428bca;\n}\n.lSSlideOuter .media {\n    opacity: 0.8;\n}\n.lSSlideOuter .media.active {\n    opacity: 1;\n}\n/* End of pager */\n\n/** Gallery */\n.lSSlideOuter .lSPager.lSGallery {\n    list-style: none outside none;\n    padding-left: 0;\n    margin: 0;\n    overflow: hidden;\n    transform: translate3d(0px, 0px, 0px);\n    -moz-transform: translate3d(0px, 0px, 0px);\n    -ms-transform: translate3d(0px, 0px, 0px);\n    -webkit-transform: translate3d(0px, 0px, 0px);\n    -o-transform: translate3d(0px, 0px, 0px);\n    -webkit-transition-property: -webkit-transform;\n    -moz-transition-property: -moz-transform;\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -khtml-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n}\n.lSSlideOuter .lSPager.lSGallery li {\n    overflow: hidden;\n    -webkit-transition: border-radius 0.12s linear 0s 0.35s linear 0s;\n    transition: border-radius 0.12s linear 0s 0.35s linear 0s;\n}\n.lSSlideOuter .lSPager.lSGallery li.active, .lSSlideOuter .lSPager.lSGallery li:hover {\n    border-radius: 5px;\n}\n.lSSlideOuter .lSPager.lSGallery img {\n    display: block;\n    height: auto;\n    max-width: 100%;\n}\n.lSSlideOuter .lSPager.lSGallery:before, .lSSlideOuter .lSPager.lSGallery:after {\n    content: \" \";\n    display: table;\n}\n.lSSlideOuter .lSPager.lSGallery:after {\n    clear: both;\n}\n/* End of Gallery*/\n\n/* slider actions */\n.lSAction > a {\n    width: 32px;\n    display: block;\n    top: 50%;\n    height: 32px;\n    background-image: url('../img/controls.png');\n    cursor: pointer;\n    position: absolute;\n    z-index: 99;\n    margin-top: -16px;\n    opacity: 0.5;\n    -webkit-transition: opacity 0.35s linear 0s;\n    transition: opacity 0.35s linear 0s;\n}\n.lSAction > a:hover {\n    opacity: 1;\n}\n.lSAction > .lSPrev {\n    background-position: 0 0;\n    left: 10px;\n}\n.lSAction > .lSNext {\n    background-position: -32px 0;\n    right: 10px;\n}\n.lSAction > a.disabled {\n    pointer-events: none;\n}\n.cS-hidden {\n    height: 1px;\n    opacity: 0;\n    filter: alpha(opacity=0);\n    overflow: hidden;\n}\n\n\n/* vertical */\n.lSSlideOuter.vertical {\n    position: relative;\n}\n.lSSlideOuter.vertical.noPager {\n    padding-right: 0px !important;\n}\n.lSSlideOuter.vertical .lSGallery {\n    position: absolute !important;\n    right: 0;\n    top: 0;\n}\n.lSSlideOuter.vertical .lightSlider > * {\n    width: 100% !important;\n    max-width: none !important;\n}\n\n/* vertical controlls */\n.lSSlideOuter.vertical .lSAction > a {\n    left: 50%;\n    margin-left: -14px;\n    margin-top: 0;\n}\n.lSSlideOuter.vertical .lSAction > .lSNext {\n    background-position: 31px -31px;\n    bottom: 10px;\n    top: auto;\n}\n.lSSlideOuter.vertical .lSAction > .lSPrev {\n    background-position: 0 -31px;\n    bottom: auto;\n    top: 10px;\n}\n/* vertical */\n\n\n/* Rtl */\n.lSSlideOuter.lSrtl {\n    direction: rtl;\n}\n.lSSlideOuter .lightSlider, .lSSlideOuter .lSPager {\n    padding-left: 0;\n    list-style: none outside none;\n}\n.lSSlideOuter.lSrtl .lightSlider, .lSSlideOuter.lSrtl .lSPager {\n    padding-right: 0;\n}\n.lSSlideOuter .lightSlider > *,  .lSSlideOuter .lSGallery li {\n    float: left;\n}\n.lSSlideOuter.lSrtl .lightSlider > *,  .lSSlideOuter.lSrtl .lSGallery li {\n    float: right !important;\n}\n/* Rtl */\n\n@-webkit-keyframes rightEnd {\n    0% {\n        left: 0;\n    }\n\n    50% {\n        left: -15px;\n    }\n\n    100% {\n        left: 0;\n    }\n}\n@keyframes rightEnd {\n    0% {\n        left: 0;\n    }\n\n    50% {\n        left: -15px;\n    }\n\n    100% {\n        left: 0;\n    }\n}\n@-webkit-keyframes topEnd {\n    0% {\n        top: 0;\n    }\n\n    50% {\n        top: -15px;\n    }\n\n    100% {\n        top: 0;\n    }\n}\n@keyframes topEnd {\n    0% {\n        top: 0;\n    }\n\n    50% {\n        top: -15px;\n    }\n\n    100% {\n        top: 0;\n    }\n}\n@-webkit-keyframes leftEnd {\n    0% {\n        left: 0;\n    }\n\n    50% {\n        left: 15px;\n    }\n\n    100% {\n        left: 0;\n    }\n}\n@keyframes leftEnd {\n    0% {\n        left: 0;\n    }\n\n    50% {\n        left: 15px;\n    }\n\n    100% {\n        left: 0;\n    }\n}\n@-webkit-keyframes bottomEnd {\n    0% {\n        bottom: 0;\n    }\n\n    50% {\n        bottom: -15px;\n    }\n\n    100% {\n        bottom: 0;\n    }\n}\n@keyframes bottomEnd {\n    0% {\n        bottom: 0;\n    }\n\n    50% {\n        bottom: -15px;\n    }\n\n    100% {\n        bottom: 0;\n    }\n}\n.lSSlideOuter .rightEnd {\n    -webkit-animation: rightEnd 0.3s;\n    animation: rightEnd 0.3s;\n    position: relative;\n}\n.lSSlideOuter .leftEnd {\n    -webkit-animation: leftEnd 0.3s;\n    animation: leftEnd 0.3s;\n    position: relative;\n}\n.lSSlideOuter.vertical .rightEnd {\n    -webkit-animation: topEnd 0.3s;\n    animation: topEnd 0.3s;\n    position: relative;\n}\n.lSSlideOuter.vertical .leftEnd {\n    -webkit-animation: bottomEnd 0.3s;\n    animation: bottomEnd 0.3s;\n    position: relative;\n}\n.lSSlideOuter.lSrtl .rightEnd {\n    -webkit-animation: leftEnd 0.3s;\n    animation: leftEnd 0.3s;\n    position: relative;\n}\n.lSSlideOuter.lSrtl .leftEnd {\n    -webkit-animation: rightEnd 0.3s;\n    animation: rightEnd 0.3s;\n    position: relative;\n}\n/*/  GRab cursor */\n.lightSlider.lsGrab > * {\n  cursor: -webkit-grab;\n  cursor: -moz-grab;\n  cursor: -o-grab;\n  cursor: -ms-grab;\n  cursor: grab;\n}\n.lightSlider.lsGrabbing > * {\n  cursor: move;\n  cursor: -webkit-grabbing;\n  cursor: -moz-grabbing;\n  cursor: -o-grabbing;\n  cursor: -ms-grabbing;\n  cursor: grabbing;\n}","site":{"data":{}},"excerpt":"","more":"/*! lightslider - v1.1.5 - 2015-10-31\n* https://github.com/sachinchoolur/lightslider\n* Copyright (c) 2015 Sachin N; Licensed MIT */\n/*! lightslider - v1.1.3 - 2015-04-14\n* https://github.com/sachinchoolur/lightslider\n* Copyright (c) 2015 Sachin N; Licensed MIT */\n/** /!!! core css Should not edit !!!/**/ \n\n.lSSlideOuter {\n    overflow: hidden;\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -khtml-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none\n}\n.lightSlider:before, .lightSlider:after {\n    content: \" \";\n    display: table;\n}\n.lightSlider {\n    overflow: hidden;\n    margin: 0;\n}\n.lSSlideWrapper {\n    max-width: 100%;\n    overflow: hidden;\n    position: relative;\n}\n.lSSlideWrapper > .lightSlider:after {\n    clear: both;\n}\n.lSSlideWrapper .lSSlide {\n    -webkit-transform: translate(0px, 0px);\n    -ms-transform: translate(0px, 0px);\n    transform: translate(0px, 0px);\n    -webkit-transition: all 1s;\n    -webkit-transition-property: -webkit-transform,height;\n    -moz-transition-property: -moz-transform,height;\n    transition-property: transform,height;\n    -webkit-transition-duration: inherit !important;\n    transition-duration: inherit !important;\n    -webkit-transition-timing-function: inherit !important;\n    transition-timing-function: inherit !important;\n}\n.lSSlideWrapper .lSFade {\n    position: relative;\n}\n.lSSlideWrapper .lSFade > * {\n    position: absolute !important;\n    top: 0;\n    left: 0;\n    z-index: 9;\n    margin-right: 0;\n    width: 100%;\n}\n.lSSlideWrapper.usingCss .lSFade > * {\n    opacity: 0;\n    -webkit-transition-delay: 0s;\n    transition-delay: 0s;\n    -webkit-transition-duration: inherit !important;\n    transition-duration: inherit !important;\n    -webkit-transition-property: opacity;\n    transition-property: opacity;\n    -webkit-transition-timing-function: inherit !important;\n    transition-timing-function: inherit !important;\n}\n.lSSlideWrapper .lSFade > *.active {\n    z-index: 10;\n}\n.lSSlideWrapper.usingCss .lSFade > *.active {\n    opacity: 1;\n}\n/** /!!! End of core css Should not edit !!!/**/\n\n/* Pager */\n.lSSlideOuter .lSPager.lSpg {\n    margin: 10px 0 0;\n    padding: 0;\n    text-align: center;\n}\n.lSSlideOuter .lSPager.lSpg > li {\n    cursor: pointer;\n    display: inline-block;\n    padding: 0 5px;\n}\n.lSSlideOuter .lSPager.lSpg > li a {\n    background-color: #222222;\n    border-radius: 30px;\n    display: inline-block;\n    height: 8px;\n    overflow: hidden;\n    text-indent: -999em;\n    width: 8px;\n    position: relative;\n    z-index: 99;\n    -webkit-transition: all 0.5s linear 0s;\n    transition: all 0.5s linear 0s;\n}\n.lSSlideOuter .lSPager.lSpg > li:hover a, .lSSlideOuter .lSPager.lSpg > li.active a {\n    background-color: #428bca;\n}\n.lSSlideOuter .media {\n    opacity: 0.8;\n}\n.lSSlideOuter .media.active {\n    opacity: 1;\n}\n/* End of pager */\n\n/** Gallery */\n.lSSlideOuter .lSPager.lSGallery {\n    list-style: none outside none;\n    padding-left: 0;\n    margin: 0;\n    overflow: hidden;\n    transform: translate3d(0px, 0px, 0px);\n    -moz-transform: translate3d(0px, 0px, 0px);\n    -ms-transform: translate3d(0px, 0px, 0px);\n    -webkit-transform: translate3d(0px, 0px, 0px);\n    -o-transform: translate3d(0px, 0px, 0px);\n    -webkit-transition-property: -webkit-transform;\n    -moz-transition-property: -moz-transform;\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -khtml-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n}\n.lSSlideOuter .lSPager.lSGallery li {\n    overflow: hidden;\n    -webkit-transition: border-radius 0.12s linear 0s 0.35s linear 0s;\n    transition: border-radius 0.12s linear 0s 0.35s linear 0s;\n}\n.lSSlideOuter .lSPager.lSGallery li.active, .lSSlideOuter .lSPager.lSGallery li:hover {\n    border-radius: 5px;\n}\n.lSSlideOuter .lSPager.lSGallery img {\n    display: block;\n    height: auto;\n    max-width: 100%;\n}\n.lSSlideOuter .lSPager.lSGallery:before, .lSSlideOuter .lSPager.lSGallery:after {\n    content: \" \";\n    display: table;\n}\n.lSSlideOuter .lSPager.lSGallery:after {\n    clear: both;\n}\n/* End of Gallery*/\n\n/* slider actions */\n.lSAction > a {\n    width: 32px;\n    display: block;\n    top: 50%;\n    height: 32px;\n    background-image: url('../img/controls.png');\n    cursor: pointer;\n    position: absolute;\n    z-index: 99;\n    margin-top: -16px;\n    opacity: 0.5;\n    -webkit-transition: opacity 0.35s linear 0s;\n    transition: opacity 0.35s linear 0s;\n}\n.lSAction > a:hover {\n    opacity: 1;\n}\n.lSAction > .lSPrev {\n    background-position: 0 0;\n    left: 10px;\n}\n.lSAction > .lSNext {\n    background-position: -32px 0;\n    right: 10px;\n}\n.lSAction > a.disabled {\n    pointer-events: none;\n}\n.cS-hidden {\n    height: 1px;\n    opacity: 0;\n    filter: alpha(opacity=0);\n    overflow: hidden;\n}\n\n\n/* vertical */\n.lSSlideOuter.vertical {\n    position: relative;\n}\n.lSSlideOuter.vertical.noPager {\n    padding-right: 0px !important;\n}\n.lSSlideOuter.vertical .lSGallery {\n    position: absolute !important;\n    right: 0;\n    top: 0;\n}\n.lSSlideOuter.vertical .lightSlider > * {\n    width: 100% !important;\n    max-width: none !important;\n}\n\n/* vertical controlls */\n.lSSlideOuter.vertical .lSAction > a {\n    left: 50%;\n    margin-left: -14px;\n    margin-top: 0;\n}\n.lSSlideOuter.vertical .lSAction > .lSNext {\n    background-position: 31px -31px;\n    bottom: 10px;\n    top: auto;\n}\n.lSSlideOuter.vertical .lSAction > .lSPrev {\n    background-position: 0 -31px;\n    bottom: auto;\n    top: 10px;\n}\n/* vertical */\n\n\n/* Rtl */\n.lSSlideOuter.lSrtl {\n    direction: rtl;\n}\n.lSSlideOuter .lightSlider, .lSSlideOuter .lSPager {\n    padding-left: 0;\n    list-style: none outside none;\n}\n.lSSlideOuter.lSrtl .lightSlider, .lSSlideOuter.lSrtl .lSPager {\n    padding-right: 0;\n}\n.lSSlideOuter .lightSlider > *,  .lSSlideOuter .lSGallery li {\n    float: left;\n}\n.lSSlideOuter.lSrtl .lightSlider > *,  .lSSlideOuter.lSrtl .lSGallery li {\n    float: right !important;\n}\n/* Rtl */\n\n@-webkit-keyframes rightEnd {\n    0% {\n        left: 0;\n    }\n\n    50% {\n        left: -15px;\n    }\n\n    100% {\n        left: 0;\n    }\n}\n@keyframes rightEnd {\n    0% {\n        left: 0;\n    }\n\n    50% {\n        left: -15px;\n    }\n\n    100% {\n        left: 0;\n    }\n}\n@-webkit-keyframes topEnd {\n    0% {\n        top: 0;\n    }\n\n    50% {\n        top: -15px;\n    }\n\n    100% {\n        top: 0;\n    }\n}\n@keyframes topEnd {\n    0% {\n        top: 0;\n    }\n\n    50% {\n        top: -15px;\n    }\n\n    100% {\n        top: 0;\n    }\n}\n@-webkit-keyframes leftEnd {\n    0% {\n        left: 0;\n    }\n\n    50% {\n        left: 15px;\n    }\n\n    100% {\n        left: 0;\n    }\n}\n@keyframes leftEnd {\n    0% {\n        left: 0;\n    }\n\n    50% {\n        left: 15px;\n    }\n\n    100% {\n        left: 0;\n    }\n}\n@-webkit-keyframes bottomEnd {\n    0% {\n        bottom: 0;\n    }\n\n    50% {\n        bottom: -15px;\n    }\n\n    100% {\n        bottom: 0;\n    }\n}\n@keyframes bottomEnd {\n    0% {\n        bottom: 0;\n    }\n\n    50% {\n        bottom: -15px;\n    }\n\n    100% {\n        bottom: 0;\n    }\n}\n.lSSlideOuter .rightEnd {\n    -webkit-animation: rightEnd 0.3s;\n    animation: rightEnd 0.3s;\n    position: relative;\n}\n.lSSlideOuter .leftEnd {\n    -webkit-animation: leftEnd 0.3s;\n    animation: leftEnd 0.3s;\n    position: relative;\n}\n.lSSlideOuter.vertical .rightEnd {\n    -webkit-animation: topEnd 0.3s;\n    animation: topEnd 0.3s;\n    position: relative;\n}\n.lSSlideOuter.vertical .leftEnd {\n    -webkit-animation: bottomEnd 0.3s;\n    animation: bottomEnd 0.3s;\n    position: relative;\n}\n.lSSlideOuter.lSrtl .rightEnd {\n    -webkit-animation: leftEnd 0.3s;\n    animation: leftEnd 0.3s;\n    position: relative;\n}\n.lSSlideOuter.lSrtl .leftEnd {\n    -webkit-animation: rightEnd 0.3s;\n    animation: rightEnd 0.3s;\n    position: relative;\n}\n/*/  GRab cursor */\n.lightSlider.lsGrab > * {\n  cursor: -webkit-grab;\n  cursor: -moz-grab;\n  cursor: -o-grab;\n  cursor: -ms-grab;\n  cursor: grab;\n}\n.lightSlider.lsGrabbing > * {\n  cursor: move;\n  cursor: -webkit-grabbing;\n  cursor: -moz-grabbing;\n  cursor: -o-grabbing;\n  cursor: -ms-grabbing;\n  cursor: grabbing;\n}"},{"_content":"/*! lightslider - v1.1.3 - 2015-04-14\n* https://github.com/sachinchoolur/lightslider\n* Copyright (c) 2015 Sachin N; Licensed MIT */.lSSlideWrapper,.lSSlideWrapper .lSFade{position:relative}.lSSlideWrapper .lSSlide,.lSSlideWrapper.usingCss .lSFade>*{-webkit-transition-timing-function:inherit!important;transition-timing-function:inherit!important;-webkit-transition-duration:inherit!important;transition-duration:inherit!important}.lSSlideOuter,.lSSlideOuter .lSPager.lSGallery{-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;-webkit-touch-callout:none;-webkit-user-select:none}.lSSlideOuter .lSPager.lSGallery:after,.lSSlideWrapper>.lightSlider:after{clear:both}.lSSlideOuter{overflow:hidden;user-select:none}.lightSlider:after,.lightSlider:before{content:\" \";display:table}.lightSlider{overflow:hidden;margin:0}.lSSlideWrapper{max-width:100%;overflow:hidden}.lSSlideWrapper .lSSlide{-webkit-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0);-webkit-transition:all 1s;-webkit-transition-property:-webkit-transform,height;-moz-transition-property:-moz-transform,height;transition-property:transform,height}.lSSlideWrapper .lSFade>*{position:absolute!important;top:0;left:0;z-index:9;margin-right:0;width:100%}.lSSlideWrapper.usingCss .lSFade>*{opacity:0;-webkit-transition-delay:0s;transition-delay:0s;-webkit-transition-property:opacity;transition-property:opacity}.lSSlideWrapper .lSFade>.active{z-index:10}.lSSlideWrapper.usingCss .lSFade>.active{opacity:1}.lSSlideOuter .lSPager.lSpg{margin:10px 0 0;padding:0;text-align:center}.lSSlideOuter .lSPager.lSpg>li{cursor:pointer;display:inline-block;padding:0 5px}.lSSlideOuter .lSPager.lSpg>li a{background-color:#222;border-radius:30px;display:inline-block;height:8px;overflow:hidden;text-indent:-999em;width:8px;position:relative;z-index:99;-webkit-transition:all .5s linear 0s;transition:all .5s linear 0s}.lSSlideOuter .lSPager.lSpg>li.active a,.lSSlideOuter .lSPager.lSpg>li:hover a{background-color:#428bca}.lSSlideOuter .media{opacity:.8}.lSSlideOuter .media.active{opacity:1}.lSSlideOuter .lSPager.lSGallery{list-style:none;padding-left:0;margin:0;overflow:hidden;transform:translate3d(0,0,0);-moz-transform:translate3d(0,0,0);-ms-transform:translate3d(0,0,0);-webkit-transform:translate3d(0,0,0);-o-transform:translate3d(0,0,0);-webkit-transition-property:-webkit-transform;-moz-transition-property:-moz-transform;user-select:none}.lSSlideOuter .lSPager.lSGallery li{overflow:hidden;-webkit-transition:border-radius .12s linear 0s .35s linear 0s;transition:border-radius .12s linear 0s .35s linear 0s}.lSSlideOuter .lSPager.lSGallery li.active,.lSSlideOuter .lSPager.lSGallery li:hover{border-radius:5px}.lSSlideOuter .lSPager.lSGallery img{display:block;height:auto;max-width:100%}.lSSlideOuter .lSPager.lSGallery:after,.lSSlideOuter .lSPager.lSGallery:before{content:\" \";display:table}.lSAction>a{width:32px;display:block;top:50%;height:32px;background-image:url(../img/controls.png);cursor:pointer;position:absolute;z-index:99;margin-top:-16px;opacity:.5;-webkit-transition:opacity .35s linear 0s;transition:opacity .35s linear 0s}.lSAction>a:hover{opacity:1}.lSAction>.lSPrev{background-position:0 0;left:10px}.lSAction>.lSNext{background-position:-32px 0;right:10px}.lSAction>a.disabled{pointer-events:none}.cS-hidden{height:1px;opacity:0;filter:alpha(opacity=0);overflow:hidden}.lSSlideOuter.vertical{position:relative}.lSSlideOuter.vertical.noPager{padding-right:0!important}.lSSlideOuter.vertical .lSGallery{position:absolute!important;right:0;top:0}.lSSlideOuter.vertical .lightSlider>*{width:100%!important;max-width:none!important}.lSSlideOuter.vertical .lSAction>a{left:50%;margin-left:-14px;margin-top:0}.lSSlideOuter.vertical .lSAction>.lSNext{background-position:31px -31px;bottom:10px;top:auto}.lSSlideOuter.vertical .lSAction>.lSPrev{background-position:0 -31px;bottom:auto;top:10px}.lSSlideOuter.lSrtl{direction:rtl}.lSSlideOuter .lSPager,.lSSlideOuter .lightSlider{padding-left:0;list-style:none}.lSSlideOuter.lSrtl .lSPager,.lSSlideOuter.lSrtl .lightSlider{padding-right:0}.lSSlideOuter .lSGallery li,.lSSlideOuter .lightSlider>*{float:left}.lSSlideOuter.lSrtl .lSGallery li,.lSSlideOuter.lSrtl .lightSlider>*{float:right!important}@-webkit-keyframes rightEnd{0%,100%{left:0}50%{left:-15px}}@keyframes rightEnd{0%,100%{left:0}50%{left:-15px}}@-webkit-keyframes topEnd{0%,100%{top:0}50%{top:-15px}}@keyframes topEnd{0%,100%{top:0}50%{top:-15px}}@-webkit-keyframes leftEnd{0%,100%{left:0}50%{left:15px}}@keyframes leftEnd{0%,100%{left:0}50%{left:15px}}@-webkit-keyframes bottomEnd{0%,100%{bottom:0}50%{bottom:-15px}}@keyframes bottomEnd{0%,100%{bottom:0}50%{bottom:-15px}}.lSSlideOuter .rightEnd{-webkit-animation:rightEnd .3s;animation:rightEnd .3s;position:relative}.lSSlideOuter .leftEnd{-webkit-animation:leftEnd .3s;animation:leftEnd .3s;position:relative}.lSSlideOuter.vertical .rightEnd{-webkit-animation:topEnd .3s;animation:topEnd .3s;position:relative}.lSSlideOuter.vertical .leftEnd{-webkit-animation:bottomEnd .3s;animation:bottomEnd .3s;position:relative}.lSSlideOuter.lSrtl .rightEnd{-webkit-animation:leftEnd .3s;animation:leftEnd .3s;position:relative}.lSSlideOuter.lSrtl .leftEnd{-webkit-animation:rightEnd .3s;animation:rightEnd .3s;position:relative}.lightSlider.lsGrab>*{cursor:-webkit-grab;cursor:-moz-grab;cursor:-o-grab;cursor:-ms-grab;cursor:grab}.lightSlider.lsGrabbing>*{cursor:move;cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:-o-grabbing;cursor:-ms-grabbing;cursor:grabbing}","source":"lightslider/css/lightslider.min.css","raw":"/*! lightslider - v1.1.3 - 2015-04-14\n* https://github.com/sachinchoolur/lightslider\n* Copyright (c) 2015 Sachin N; Licensed MIT */.lSSlideWrapper,.lSSlideWrapper .lSFade{position:relative}.lSSlideWrapper .lSSlide,.lSSlideWrapper.usingCss .lSFade>*{-webkit-transition-timing-function:inherit!important;transition-timing-function:inherit!important;-webkit-transition-duration:inherit!important;transition-duration:inherit!important}.lSSlideOuter,.lSSlideOuter .lSPager.lSGallery{-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;-webkit-touch-callout:none;-webkit-user-select:none}.lSSlideOuter .lSPager.lSGallery:after,.lSSlideWrapper>.lightSlider:after{clear:both}.lSSlideOuter{overflow:hidden;user-select:none}.lightSlider:after,.lightSlider:before{content:\" \";display:table}.lightSlider{overflow:hidden;margin:0}.lSSlideWrapper{max-width:100%;overflow:hidden}.lSSlideWrapper .lSSlide{-webkit-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0);-webkit-transition:all 1s;-webkit-transition-property:-webkit-transform,height;-moz-transition-property:-moz-transform,height;transition-property:transform,height}.lSSlideWrapper .lSFade>*{position:absolute!important;top:0;left:0;z-index:9;margin-right:0;width:100%}.lSSlideWrapper.usingCss .lSFade>*{opacity:0;-webkit-transition-delay:0s;transition-delay:0s;-webkit-transition-property:opacity;transition-property:opacity}.lSSlideWrapper .lSFade>.active{z-index:10}.lSSlideWrapper.usingCss .lSFade>.active{opacity:1}.lSSlideOuter .lSPager.lSpg{margin:10px 0 0;padding:0;text-align:center}.lSSlideOuter .lSPager.lSpg>li{cursor:pointer;display:inline-block;padding:0 5px}.lSSlideOuter .lSPager.lSpg>li a{background-color:#222;border-radius:30px;display:inline-block;height:8px;overflow:hidden;text-indent:-999em;width:8px;position:relative;z-index:99;-webkit-transition:all .5s linear 0s;transition:all .5s linear 0s}.lSSlideOuter .lSPager.lSpg>li.active a,.lSSlideOuter .lSPager.lSpg>li:hover a{background-color:#428bca}.lSSlideOuter .media{opacity:.8}.lSSlideOuter .media.active{opacity:1}.lSSlideOuter .lSPager.lSGallery{list-style:none;padding-left:0;margin:0;overflow:hidden;transform:translate3d(0,0,0);-moz-transform:translate3d(0,0,0);-ms-transform:translate3d(0,0,0);-webkit-transform:translate3d(0,0,0);-o-transform:translate3d(0,0,0);-webkit-transition-property:-webkit-transform;-moz-transition-property:-moz-transform;user-select:none}.lSSlideOuter .lSPager.lSGallery li{overflow:hidden;-webkit-transition:border-radius .12s linear 0s .35s linear 0s;transition:border-radius .12s linear 0s .35s linear 0s}.lSSlideOuter .lSPager.lSGallery li.active,.lSSlideOuter .lSPager.lSGallery li:hover{border-radius:5px}.lSSlideOuter .lSPager.lSGallery img{display:block;height:auto;max-width:100%}.lSSlideOuter .lSPager.lSGallery:after,.lSSlideOuter .lSPager.lSGallery:before{content:\" \";display:table}.lSAction>a{width:32px;display:block;top:50%;height:32px;background-image:url(../img/controls.png);cursor:pointer;position:absolute;z-index:99;margin-top:-16px;opacity:.5;-webkit-transition:opacity .35s linear 0s;transition:opacity .35s linear 0s}.lSAction>a:hover{opacity:1}.lSAction>.lSPrev{background-position:0 0;left:10px}.lSAction>.lSNext{background-position:-32px 0;right:10px}.lSAction>a.disabled{pointer-events:none}.cS-hidden{height:1px;opacity:0;filter:alpha(opacity=0);overflow:hidden}.lSSlideOuter.vertical{position:relative}.lSSlideOuter.vertical.noPager{padding-right:0!important}.lSSlideOuter.vertical .lSGallery{position:absolute!important;right:0;top:0}.lSSlideOuter.vertical .lightSlider>*{width:100%!important;max-width:none!important}.lSSlideOuter.vertical .lSAction>a{left:50%;margin-left:-14px;margin-top:0}.lSSlideOuter.vertical .lSAction>.lSNext{background-position:31px -31px;bottom:10px;top:auto}.lSSlideOuter.vertical .lSAction>.lSPrev{background-position:0 -31px;bottom:auto;top:10px}.lSSlideOuter.lSrtl{direction:rtl}.lSSlideOuter .lSPager,.lSSlideOuter .lightSlider{padding-left:0;list-style:none}.lSSlideOuter.lSrtl .lSPager,.lSSlideOuter.lSrtl .lightSlider{padding-right:0}.lSSlideOuter .lSGallery li,.lSSlideOuter .lightSlider>*{float:left}.lSSlideOuter.lSrtl .lSGallery li,.lSSlideOuter.lSrtl .lightSlider>*{float:right!important}@-webkit-keyframes rightEnd{0%,100%{left:0}50%{left:-15px}}@keyframes rightEnd{0%,100%{left:0}50%{left:-15px}}@-webkit-keyframes topEnd{0%,100%{top:0}50%{top:-15px}}@keyframes topEnd{0%,100%{top:0}50%{top:-15px}}@-webkit-keyframes leftEnd{0%,100%{left:0}50%{left:15px}}@keyframes leftEnd{0%,100%{left:0}50%{left:15px}}@-webkit-keyframes bottomEnd{0%,100%{bottom:0}50%{bottom:-15px}}@keyframes bottomEnd{0%,100%{bottom:0}50%{bottom:-15px}}.lSSlideOuter .rightEnd{-webkit-animation:rightEnd .3s;animation:rightEnd .3s;position:relative}.lSSlideOuter .leftEnd{-webkit-animation:leftEnd .3s;animation:leftEnd .3s;position:relative}.lSSlideOuter.vertical .rightEnd{-webkit-animation:topEnd .3s;animation:topEnd .3s;position:relative}.lSSlideOuter.vertical .leftEnd{-webkit-animation:bottomEnd .3s;animation:bottomEnd .3s;position:relative}.lSSlideOuter.lSrtl .rightEnd{-webkit-animation:leftEnd .3s;animation:leftEnd .3s;position:relative}.lSSlideOuter.lSrtl .leftEnd{-webkit-animation:rightEnd .3s;animation:rightEnd .3s;position:relative}.lightSlider.lsGrab>*{cursor:-webkit-grab;cursor:-moz-grab;cursor:-o-grab;cursor:-ms-grab;cursor:grab}.lightSlider.lsGrabbing>*{cursor:move;cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:-o-grabbing;cursor:-ms-grabbing;cursor:grabbing}","date":"2018-11-10T08:59:10.001Z","updated":"2018-11-10T08:59:10.001Z","path":"lightslider/css/lightslider.min.css","layout":"false","title":"","comments":1,"_id":"cjtohbk7600036f122js4s45m","content":"/*! lightslider - v1.1.3 - 2015-04-14\n* https://github.com/sachinchoolur/lightslider\n* Copyright (c) 2015 Sachin N; Licensed MIT */.lSSlideWrapper,.lSSlideWrapper .lSFade{position:relative}.lSSlideWrapper .lSSlide,.lSSlideWrapper.usingCss .lSFade>*{-webkit-transition-timing-function:inherit!important;transition-timing-function:inherit!important;-webkit-transition-duration:inherit!important;transition-duration:inherit!important}.lSSlideOuter,.lSSlideOuter .lSPager.lSGallery{-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;-webkit-touch-callout:none;-webkit-user-select:none}.lSSlideOuter .lSPager.lSGallery:after,.lSSlideWrapper>.lightSlider:after{clear:both}.lSSlideOuter{overflow:hidden;user-select:none}.lightSlider:after,.lightSlider:before{content:\" \";display:table}.lightSlider{overflow:hidden;margin:0}.lSSlideWrapper{max-width:100%;overflow:hidden}.lSSlideWrapper .lSSlide{-webkit-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0);-webkit-transition:all 1s;-webkit-transition-property:-webkit-transform,height;-moz-transition-property:-moz-transform,height;transition-property:transform,height}.lSSlideWrapper .lSFade>*{position:absolute!important;top:0;left:0;z-index:9;margin-right:0;width:100%}.lSSlideWrapper.usingCss .lSFade>*{opacity:0;-webkit-transition-delay:0s;transition-delay:0s;-webkit-transition-property:opacity;transition-property:opacity}.lSSlideWrapper .lSFade>.active{z-index:10}.lSSlideWrapper.usingCss .lSFade>.active{opacity:1}.lSSlideOuter .lSPager.lSpg{margin:10px 0 0;padding:0;text-align:center}.lSSlideOuter .lSPager.lSpg>li{cursor:pointer;display:inline-block;padding:0 5px}.lSSlideOuter .lSPager.lSpg>li a{background-color:#222;border-radius:30px;display:inline-block;height:8px;overflow:hidden;text-indent:-999em;width:8px;position:relative;z-index:99;-webkit-transition:all .5s linear 0s;transition:all .5s linear 0s}.lSSlideOuter .lSPager.lSpg>li.active a,.lSSlideOuter .lSPager.lSpg>li:hover a{background-color:#428bca}.lSSlideOuter .media{opacity:.8}.lSSlideOuter .media.active{opacity:1}.lSSlideOuter .lSPager.lSGallery{list-style:none;padding-left:0;margin:0;overflow:hidden;transform:translate3d(0,0,0);-moz-transform:translate3d(0,0,0);-ms-transform:translate3d(0,0,0);-webkit-transform:translate3d(0,0,0);-o-transform:translate3d(0,0,0);-webkit-transition-property:-webkit-transform;-moz-transition-property:-moz-transform;user-select:none}.lSSlideOuter .lSPager.lSGallery li{overflow:hidden;-webkit-transition:border-radius .12s linear 0s .35s linear 0s;transition:border-radius .12s linear 0s .35s linear 0s}.lSSlideOuter .lSPager.lSGallery li.active,.lSSlideOuter .lSPager.lSGallery li:hover{border-radius:5px}.lSSlideOuter .lSPager.lSGallery img{display:block;height:auto;max-width:100%}.lSSlideOuter .lSPager.lSGallery:after,.lSSlideOuter .lSPager.lSGallery:before{content:\" \";display:table}.lSAction>a{width:32px;display:block;top:50%;height:32px;background-image:url(../img/controls.png);cursor:pointer;position:absolute;z-index:99;margin-top:-16px;opacity:.5;-webkit-transition:opacity .35s linear 0s;transition:opacity .35s linear 0s}.lSAction>a:hover{opacity:1}.lSAction>.lSPrev{background-position:0 0;left:10px}.lSAction>.lSNext{background-position:-32px 0;right:10px}.lSAction>a.disabled{pointer-events:none}.cS-hidden{height:1px;opacity:0;filter:alpha(opacity=0);overflow:hidden}.lSSlideOuter.vertical{position:relative}.lSSlideOuter.vertical.noPager{padding-right:0!important}.lSSlideOuter.vertical .lSGallery{position:absolute!important;right:0;top:0}.lSSlideOuter.vertical .lightSlider>*{width:100%!important;max-width:none!important}.lSSlideOuter.vertical .lSAction>a{left:50%;margin-left:-14px;margin-top:0}.lSSlideOuter.vertical .lSAction>.lSNext{background-position:31px -31px;bottom:10px;top:auto}.lSSlideOuter.vertical .lSAction>.lSPrev{background-position:0 -31px;bottom:auto;top:10px}.lSSlideOuter.lSrtl{direction:rtl}.lSSlideOuter .lSPager,.lSSlideOuter .lightSlider{padding-left:0;list-style:none}.lSSlideOuter.lSrtl .lSPager,.lSSlideOuter.lSrtl .lightSlider{padding-right:0}.lSSlideOuter .lSGallery li,.lSSlideOuter .lightSlider>*{float:left}.lSSlideOuter.lSrtl .lSGallery li,.lSSlideOuter.lSrtl .lightSlider>*{float:right!important}@-webkit-keyframes rightEnd{0%,100%{left:0}50%{left:-15px}}@keyframes rightEnd{0%,100%{left:0}50%{left:-15px}}@-webkit-keyframes topEnd{0%,100%{top:0}50%{top:-15px}}@keyframes topEnd{0%,100%{top:0}50%{top:-15px}}@-webkit-keyframes leftEnd{0%,100%{left:0}50%{left:15px}}@keyframes leftEnd{0%,100%{left:0}50%{left:15px}}@-webkit-keyframes bottomEnd{0%,100%{bottom:0}50%{bottom:-15px}}@keyframes bottomEnd{0%,100%{bottom:0}50%{bottom:-15px}}.lSSlideOuter .rightEnd{-webkit-animation:rightEnd .3s;animation:rightEnd .3s;position:relative}.lSSlideOuter .leftEnd{-webkit-animation:leftEnd .3s;animation:leftEnd .3s;position:relative}.lSSlideOuter.vertical .rightEnd{-webkit-animation:topEnd .3s;animation:topEnd .3s;position:relative}.lSSlideOuter.vertical .leftEnd{-webkit-animation:bottomEnd .3s;animation:bottomEnd .3s;position:relative}.lSSlideOuter.lSrtl .rightEnd{-webkit-animation:leftEnd .3s;animation:leftEnd .3s;position:relative}.lSSlideOuter.lSrtl .leftEnd{-webkit-animation:rightEnd .3s;animation:rightEnd .3s;position:relative}.lightSlider.lsGrab>*{cursor:-webkit-grab;cursor:-moz-grab;cursor:-o-grab;cursor:-ms-grab;cursor:grab}.lightSlider.lsGrabbing>*{cursor:move;cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:-o-grabbing;cursor:-ms-grabbing;cursor:grabbing}","site":{"data":{}},"excerpt":"","more":"/*! lightslider - v1.1.3 - 2015-04-14\n* https://github.com/sachinchoolur/lightslider\n* Copyright (c) 2015 Sachin N; Licensed MIT */.lSSlideWrapper,.lSSlideWrapper .lSFade{position:relative}.lSSlideWrapper .lSSlide,.lSSlideWrapper.usingCss .lSFade>*{-webkit-transition-timing-function:inherit!important;transition-timing-function:inherit!important;-webkit-transition-duration:inherit!important;transition-duration:inherit!important}.lSSlideOuter,.lSSlideOuter .lSPager.lSGallery{-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;-webkit-touch-callout:none;-webkit-user-select:none}.lSSlideOuter .lSPager.lSGallery:after,.lSSlideWrapper>.lightSlider:after{clear:both}.lSSlideOuter{overflow:hidden;user-select:none}.lightSlider:after,.lightSlider:before{content:\" \";display:table}.lightSlider{overflow:hidden;margin:0}.lSSlideWrapper{max-width:100%;overflow:hidden}.lSSlideWrapper .lSSlide{-webkit-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0);-webkit-transition:all 1s;-webkit-transition-property:-webkit-transform,height;-moz-transition-property:-moz-transform,height;transition-property:transform,height}.lSSlideWrapper .lSFade>*{position:absolute!important;top:0;left:0;z-index:9;margin-right:0;width:100%}.lSSlideWrapper.usingCss .lSFade>*{opacity:0;-webkit-transition-delay:0s;transition-delay:0s;-webkit-transition-property:opacity;transition-property:opacity}.lSSlideWrapper .lSFade>.active{z-index:10}.lSSlideWrapper.usingCss .lSFade>.active{opacity:1}.lSSlideOuter .lSPager.lSpg{margin:10px 0 0;padding:0;text-align:center}.lSSlideOuter .lSPager.lSpg>li{cursor:pointer;display:inline-block;padding:0 5px}.lSSlideOuter .lSPager.lSpg>li a{background-color:#222;border-radius:30px;display:inline-block;height:8px;overflow:hidden;text-indent:-999em;width:8px;position:relative;z-index:99;-webkit-transition:all .5s linear 0s;transition:all .5s linear 0s}.lSSlideOuter .lSPager.lSpg>li.active a,.lSSlideOuter .lSPager.lSpg>li:hover a{background-color:#428bca}.lSSlideOuter .media{opacity:.8}.lSSlideOuter .media.active{opacity:1}.lSSlideOuter .lSPager.lSGallery{list-style:none;padding-left:0;margin:0;overflow:hidden;transform:translate3d(0,0,0);-moz-transform:translate3d(0,0,0);-ms-transform:translate3d(0,0,0);-webkit-transform:translate3d(0,0,0);-o-transform:translate3d(0,0,0);-webkit-transition-property:-webkit-transform;-moz-transition-property:-moz-transform;user-select:none}.lSSlideOuter .lSPager.lSGallery li{overflow:hidden;-webkit-transition:border-radius .12s linear 0s .35s linear 0s;transition:border-radius .12s linear 0s .35s linear 0s}.lSSlideOuter .lSPager.lSGallery li.active,.lSSlideOuter .lSPager.lSGallery li:hover{border-radius:5px}.lSSlideOuter .lSPager.lSGallery img{display:block;height:auto;max-width:100%}.lSSlideOuter .lSPager.lSGallery:after,.lSSlideOuter .lSPager.lSGallery:before{content:\" \";display:table}.lSAction>a{width:32px;display:block;top:50%;height:32px;background-image:url(../img/controls.png);cursor:pointer;position:absolute;z-index:99;margin-top:-16px;opacity:.5;-webkit-transition:opacity .35s linear 0s;transition:opacity .35s linear 0s}.lSAction>a:hover{opacity:1}.lSAction>.lSPrev{background-position:0 0;left:10px}.lSAction>.lSNext{background-position:-32px 0;right:10px}.lSAction>a.disabled{pointer-events:none}.cS-hidden{height:1px;opacity:0;filter:alpha(opacity=0);overflow:hidden}.lSSlideOuter.vertical{position:relative}.lSSlideOuter.vertical.noPager{padding-right:0!important}.lSSlideOuter.vertical .lSGallery{position:absolute!important;right:0;top:0}.lSSlideOuter.vertical .lightSlider>*{width:100%!important;max-width:none!important}.lSSlideOuter.vertical .lSAction>a{left:50%;margin-left:-14px;margin-top:0}.lSSlideOuter.vertical .lSAction>.lSNext{background-position:31px -31px;bottom:10px;top:auto}.lSSlideOuter.vertical .lSAction>.lSPrev{background-position:0 -31px;bottom:auto;top:10px}.lSSlideOuter.lSrtl{direction:rtl}.lSSlideOuter .lSPager,.lSSlideOuter .lightSlider{padding-left:0;list-style:none}.lSSlideOuter.lSrtl .lSPager,.lSSlideOuter.lSrtl .lightSlider{padding-right:0}.lSSlideOuter .lSGallery li,.lSSlideOuter .lightSlider>*{float:left}.lSSlideOuter.lSrtl .lSGallery li,.lSSlideOuter.lSrtl .lightSlider>*{float:right!important}@-webkit-keyframes rightEnd{0%,100%{left:0}50%{left:-15px}}@keyframes rightEnd{0%,100%{left:0}50%{left:-15px}}@-webkit-keyframes topEnd{0%,100%{top:0}50%{top:-15px}}@keyframes topEnd{0%,100%{top:0}50%{top:-15px}}@-webkit-keyframes leftEnd{0%,100%{left:0}50%{left:15px}}@keyframes leftEnd{0%,100%{left:0}50%{left:15px}}@-webkit-keyframes bottomEnd{0%,100%{bottom:0}50%{bottom:-15px}}@keyframes bottomEnd{0%,100%{bottom:0}50%{bottom:-15px}}.lSSlideOuter .rightEnd{-webkit-animation:rightEnd .3s;animation:rightEnd .3s;position:relative}.lSSlideOuter .leftEnd{-webkit-animation:leftEnd .3s;animation:leftEnd .3s;position:relative}.lSSlideOuter.vertical .rightEnd{-webkit-animation:topEnd .3s;animation:topEnd .3s;position:relative}.lSSlideOuter.vertical .leftEnd{-webkit-animation:bottomEnd .3s;animation:bottomEnd .3s;position:relative}.lSSlideOuter.lSrtl .rightEnd{-webkit-animation:leftEnd .3s;animation:leftEnd .3s;position:relative}.lSSlideOuter.lSrtl .leftEnd{-webkit-animation:rightEnd .3s;animation:rightEnd .3s;position:relative}.lightSlider.lsGrab>*{cursor:-webkit-grab;cursor:-moz-grab;cursor:-o-grab;cursor:-ms-grab;cursor:grab}.lightSlider.lsGrabbing>*{cursor:move;cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:-o-grabbing;cursor:-ms-grabbing;cursor:grabbing}"},{"_content":"/*! lightslider - v1.1.5 - 2015-10-31\n* https://github.com/sachinchoolur/lightslider\n* Copyright (c) 2015 Sachin N; Licensed MIT */\n!function(a,b){\"use strict\";var c={item:3,autoWidth:!1,slideMove:1,slideMargin:10,addClass:\"\",mode:\"slide\",useCSS:!0,cssEasing:\"ease\",easing:\"linear\",speed:400,auto:!1,pauseOnHover:!1,loop:!1,slideEndAnimation:!0,pause:2e3,keyPress:!1,controls:!0,prevHtml:\"\",nextHtml:\"\",rtl:!1,adaptiveHeight:!1,vertical:!1,verticalHeight:500,vThumbWidth:100,thumbItem:10,pager:!0,gallery:!1,galleryMargin:5,thumbMargin:5,currentPagerPosition:\"middle\",enableTouch:!0,enableDrag:!0,freeMove:!0,swipeThreshold:40,responsive:[],onBeforeStart:function(a){},onSliderLoad:function(a){},onBeforeSlide:function(a,b){},onAfterSlide:function(a,b){},onBeforeNextSlide:function(a,b){},onBeforePrevSlide:function(a,b){}};a.fn.lightSlider=function(b){if(0===this.length)return this;if(this.length>1)return this.each(function(){a(this).lightSlider(b)}),this;var d={},e=a.extend(!0,{},c,b),f={},g=this;d.$el=this,\"fade\"===e.mode&&(e.vertical=!1);var h=g.children(),i=a(window).width(),j=null,k=null,l=0,m=0,n=!1,o=0,p=\"\",q=0,r=e.vertical===!0?\"height\":\"width\",s=e.vertical===!0?\"margin-bottom\":\"margin-right\",t=0,u=0,v=0,w=0,x=null,y=\"ontouchstart\"in document.documentElement,z={};return z.chbreakpoint=function(){if(i=a(window).width(),e.responsive.length){var b;if(e.autoWidth===!1&&(b=e.item),i<e.responsive[0].breakpoint)for(var c=0;c<e.responsive.length;c++)i<e.responsive[c].breakpoint&&(j=e.responsive[c].breakpoint,k=e.responsive[c]);if(\"undefined\"!=typeof k&&null!==k)for(var d in k.settings)k.settings.hasOwnProperty(d)&&((\"undefined\"==typeof f[d]||null===f[d])&&(f[d]=e[d]),e[d]=k.settings[d]);if(!a.isEmptyObject(f)&&i>e.responsive[0].breakpoint)for(var g in f)f.hasOwnProperty(g)&&(e[g]=f[g]);e.autoWidth===!1&&t>0&&v>0&&b!==e.item&&(q=Math.round(t/((v+e.slideMargin)*e.slideMove)))}},z.calSW=function(){e.autoWidth===!1&&(v=(o-(e.item*e.slideMargin-e.slideMargin))/e.item)},z.calWidth=function(a){var b=a===!0?p.find(\".lslide\").length:h.length;if(e.autoWidth===!1)m=b*(v+e.slideMargin);else{m=0;for(var c=0;b>c;c++)m+=parseInt(h.eq(c).width())+e.slideMargin}return m},d={doCss:function(){var a=function(){for(var a=[\"transition\",\"MozTransition\",\"WebkitTransition\",\"OTransition\",\"msTransition\",\"KhtmlTransition\"],b=document.documentElement,c=0;c<a.length;c++)if(a[c]in b.style)return!0};return e.useCSS&&a()?!0:!1},keyPress:function(){e.keyPress&&a(document).on(\"keyup.lightslider\",function(b){a(\":focus\").is(\"input, textarea\")||(b.preventDefault?b.preventDefault():b.returnValue=!1,37===b.keyCode?g.goToPrevSlide():39===b.keyCode&&g.goToNextSlide())})},controls:function(){e.controls&&(g.after('<div class=\"lSAction\"><a class=\"lSPrev\">'+e.prevHtml+'</a><a class=\"lSNext\">'+e.nextHtml+\"</a></div>\"),e.autoWidth?z.calWidth(!1)<o&&p.find(\".lSAction\").hide():l<=e.item&&p.find(\".lSAction\").hide(),p.find(\".lSAction a\").on(\"click\",function(b){return b.preventDefault?b.preventDefault():b.returnValue=!1,\"lSPrev\"===a(this).attr(\"class\")?g.goToPrevSlide():g.goToNextSlide(),!1}))},initialStyle:function(){var a=this;\"fade\"===e.mode&&(e.autoWidth=!1,e.slideEndAnimation=!1),e.auto&&(e.slideEndAnimation=!1),e.autoWidth&&(e.slideMove=1,e.item=1),e.loop&&(e.slideMove=1,e.freeMove=!1),e.onBeforeStart.call(this,g),z.chbreakpoint(),g.addClass(\"lightSlider\").wrap('<div class=\"lSSlideOuter '+e.addClass+'\"><div class=\"lSSlideWrapper\"></div></div>'),p=g.parent(\".lSSlideWrapper\"),e.rtl===!0&&p.parent().addClass(\"lSrtl\"),e.vertical?(p.parent().addClass(\"vertical\"),o=e.verticalHeight,p.css(\"height\",o+\"px\")):o=g.outerWidth(),h.addClass(\"lslide\"),e.loop===!0&&\"slide\"===e.mode&&(z.calSW(),z.clone=function(){if(z.calWidth(!0)>o){for(var b=0,c=0,d=0;d<h.length&&(b+=parseInt(g.find(\".lslide\").eq(d).width())+e.slideMargin,c++,!(b>=o+e.slideMargin));d++);var f=e.autoWidth===!0?c:e.item;if(f<g.find(\".clone.left\").length)for(var i=0;i<g.find(\".clone.left\").length-f;i++)h.eq(i).remove();if(f<g.find(\".clone.right\").length)for(var j=h.length-1;j>h.length-1-g.find(\".clone.right\").length;j--)q--,h.eq(j).remove();for(var k=g.find(\".clone.right\").length;f>k;k++)g.find(\".lslide\").eq(k).clone().removeClass(\"lslide\").addClass(\"clone right\").appendTo(g),q++;for(var l=g.find(\".lslide\").length-g.find(\".clone.left\").length;l>g.find(\".lslide\").length-f;l--)g.find(\".lslide\").eq(l-1).clone().removeClass(\"lslide\").addClass(\"clone left\").prependTo(g);h=g.children()}else h.hasClass(\"clone\")&&(g.find(\".clone\").remove(),a.move(g,0))},z.clone()),z.sSW=function(){l=h.length,e.rtl===!0&&e.vertical===!1&&(s=\"margin-left\"),e.autoWidth===!1&&h.css(r,v+\"px\"),h.css(s,e.slideMargin+\"px\"),m=z.calWidth(!1),g.css(r,m+\"px\"),e.loop===!0&&\"slide\"===e.mode&&n===!1&&(q=g.find(\".clone.left\").length)},z.calL=function(){h=g.children(),l=h.length},this.doCss()&&p.addClass(\"usingCss\"),z.calL(),\"slide\"===e.mode?(z.calSW(),z.sSW(),e.loop===!0&&(t=a.slideValue(),this.move(g,t)),e.vertical===!1&&this.setHeight(g,!1)):(this.setHeight(g,!0),g.addClass(\"lSFade\"),this.doCss()||(h.fadeOut(0),h.eq(q).fadeIn(0))),e.loop===!0&&\"slide\"===e.mode?h.eq(q).addClass(\"active\"):h.first().addClass(\"active\")},pager:function(){var a=this;if(z.createPager=function(){w=(o-(e.thumbItem*e.thumbMargin-e.thumbMargin))/e.thumbItem;var b=p.find(\".lslide\"),c=p.find(\".lslide\").length,d=0,f=\"\",h=0;for(d=0;c>d;d++){\"slide\"===e.mode&&(e.autoWidth?h+=(parseInt(b.eq(d).width())+e.slideMargin)*e.slideMove:h=d*(v+e.slideMargin)*e.slideMove);var i=b.eq(d*e.slideMove).attr(\"data-thumb\");if(f+=e.gallery===!0?'<li style=\"width:100%;'+r+\":\"+w+\"px;\"+s+\":\"+e.thumbMargin+'px\"><a href=\"#\"><img src=\"'+i+'\" /></a></li>':'<li><a href=\"#\">'+(d+1)+\"</a></li>\",\"slide\"===e.mode&&h>=m-o-e.slideMargin){d+=1;var j=2;e.autoWidth&&(f+='<li><a href=\"#\">'+(d+1)+\"</a></li>\",j=1),j>d?(f=null,p.parent().addClass(\"noPager\")):p.parent().removeClass(\"noPager\");break}}var k=p.parent();k.find(\".lSPager\").html(f),e.gallery===!0&&(e.vertical===!0&&k.find(\".lSPager\").css(\"width\",e.vThumbWidth+\"px\"),u=d*(e.thumbMargin+w)+.5,k.find(\".lSPager\").css({property:u+\"px\",\"transition-duration\":e.speed+\"ms\"}),e.vertical===!0&&p.parent().css(\"padding-right\",e.vThumbWidth+e.galleryMargin+\"px\"),k.find(\".lSPager\").css(r,u+\"px\"));var l=k.find(\".lSPager\").find(\"li\");l.first().addClass(\"active\"),l.on(\"click\",function(){return e.loop===!0&&\"slide\"===e.mode?q+=l.index(this)-k.find(\".lSPager\").find(\"li.active\").index():q=l.index(this),g.mode(!1),e.gallery===!0&&a.slideThumb(),!1})},e.pager){var b=\"lSpg\";e.gallery&&(b=\"lSGallery\"),p.after('<ul class=\"lSPager '+b+'\"></ul>');var c=e.vertical?\"margin-left\":\"margin-top\";p.parent().find(\".lSPager\").css(c,e.galleryMargin+\"px\"),z.createPager()}setTimeout(function(){z.init()},0)},setHeight:function(a,b){var c=null,d=this;c=e.loop?a.children(\".lslide \").first():a.children().first();var f=function(){var d=c.outerHeight(),e=0,f=d;b&&(d=0,e=100*f/o),a.css({height:d+\"px\",\"padding-bottom\":e+\"%\"})};f(),c.find(\"img\").length?c.find(\"img\")[0].complete?(f(),x||d.auto()):c.find(\"img\").load(function(){setTimeout(function(){f(),x||d.auto()},100)}):x||d.auto()},active:function(a,b){this.doCss()&&\"fade\"===e.mode&&p.addClass(\"on\");var c=0;if(q*e.slideMove<l){a.removeClass(\"active\"),this.doCss()||\"fade\"!==e.mode||b!==!1||a.fadeOut(e.speed),c=b===!0?q:q*e.slideMove;var d,f;b===!0&&(d=a.length,f=d-1,c+1>=d&&(c=f)),e.loop===!0&&\"slide\"===e.mode&&(c=b===!0?q-g.find(\".clone.left\").length:q*e.slideMove,b===!0&&(d=a.length,f=d-1,c+1===d?c=f:c+1>d&&(c=0))),this.doCss()||\"fade\"!==e.mode||b!==!1||a.eq(c).fadeIn(e.speed),a.eq(c).addClass(\"active\")}else a.removeClass(\"active\"),a.eq(a.length-1).addClass(\"active\"),this.doCss()||\"fade\"!==e.mode||b!==!1||(a.fadeOut(e.speed),a.eq(c).fadeIn(e.speed))},move:function(a,b){e.rtl===!0&&(b=-b),this.doCss()?a.css(e.vertical===!0?{transform:\"translate3d(0px, \"+-b+\"px, 0px)\",\"-webkit-transform\":\"translate3d(0px, \"+-b+\"px, 0px)\"}:{transform:\"translate3d(\"+-b+\"px, 0px, 0px)\",\"-webkit-transform\":\"translate3d(\"+-b+\"px, 0px, 0px)\"}):e.vertical===!0?a.css(\"position\",\"relative\").animate({top:-b+\"px\"},e.speed,e.easing):a.css(\"position\",\"relative\").animate({left:-b+\"px\"},e.speed,e.easing);var c=p.parent().find(\".lSPager\").find(\"li\");this.active(c,!0)},fade:function(){this.active(h,!1);var a=p.parent().find(\".lSPager\").find(\"li\");this.active(a,!0)},slide:function(){var a=this;z.calSlide=function(){m>o&&(t=a.slideValue(),a.active(h,!1),t>m-o-e.slideMargin?t=m-o-e.slideMargin:0>t&&(t=0),a.move(g,t),e.loop===!0&&\"slide\"===e.mode&&(q>=l-g.find(\".clone.left\").length/e.slideMove&&a.resetSlide(g.find(\".clone.left\").length),0===q&&a.resetSlide(p.find(\".lslide\").length)))},z.calSlide()},resetSlide:function(a){var b=this;p.find(\".lSAction a\").addClass(\"disabled\"),setTimeout(function(){q=a,p.css(\"transition-duration\",\"0ms\"),t=b.slideValue(),b.active(h,!1),d.move(g,t),setTimeout(function(){p.css(\"transition-duration\",e.speed+\"ms\"),p.find(\".lSAction a\").removeClass(\"disabled\")},50)},e.speed+100)},slideValue:function(){var a=0;if(e.autoWidth===!1)a=q*(v+e.slideMargin)*e.slideMove;else{a=0;for(var b=0;q>b;b++)a+=parseInt(h.eq(b).width())+e.slideMargin}return a},slideThumb:function(){var a;switch(e.currentPagerPosition){case\"left\":a=0;break;case\"middle\":a=o/2-w/2;break;case\"right\":a=o-w}var b=q-g.find(\".clone.left\").length,c=p.parent().find(\".lSPager\");\"slide\"===e.mode&&e.loop===!0&&(b>=c.children().length?b=0:0>b&&(b=c.children().length));var d=b*(w+e.thumbMargin)-a;d+o>u&&(d=u-o-e.thumbMargin),0>d&&(d=0),this.move(c,d)},auto:function(){e.auto&&(clearInterval(x),x=setInterval(function(){g.goToNextSlide()},e.pause))},pauseOnHover:function(){var b=this;e.auto&&e.pauseOnHover&&(p.on(\"mouseenter\",function(){a(this).addClass(\"ls-hover\"),g.pause(),e.auto=!0}),p.on(\"mouseleave\",function(){a(this).removeClass(\"ls-hover\"),p.find(\".lightSlider\").hasClass(\"lsGrabbing\")||b.auto()}))},touchMove:function(a,b){if(p.css(\"transition-duration\",\"0ms\"),\"slide\"===e.mode){var c=a-b,d=t-c;if(d>=m-o-e.slideMargin)if(e.freeMove===!1)d=m-o-e.slideMargin;else{var f=m-o-e.slideMargin;d=f+(d-f)/5}else 0>d&&(e.freeMove===!1?d=0:d/=5);this.move(g,d)}},touchEnd:function(a){if(p.css(\"transition-duration\",e.speed+\"ms\"),\"slide\"===e.mode){var b=!1,c=!0;t-=a,t>m-o-e.slideMargin?(t=m-o-e.slideMargin,e.autoWidth===!1&&(b=!0)):0>t&&(t=0);var d=function(a){var c=0;if(b||a&&(c=1),e.autoWidth)for(var d=0,f=0;f<h.length&&(d+=parseInt(h.eq(f).width())+e.slideMargin,q=f+c,!(d>=t));f++);else{var g=t/((v+e.slideMargin)*e.slideMove);q=parseInt(g)+c,t>=m-o-e.slideMargin&&g%1!==0&&q++}};a>=e.swipeThreshold?(d(!1),c=!1):a<=-e.swipeThreshold&&(d(!0),c=!1),g.mode(c),this.slideThumb()}else a>=e.swipeThreshold?g.goToPrevSlide():a<=-e.swipeThreshold&&g.goToNextSlide()},enableDrag:function(){var b=this;if(!y){var c=0,d=0,f=!1;p.find(\".lightSlider\").addClass(\"lsGrab\"),p.on(\"mousedown\",function(b){return o>m&&0!==m?!1:void(\"lSPrev\"!==a(b.target).attr(\"class\")&&\"lSNext\"!==a(b.target).attr(\"class\")&&(c=e.vertical===!0?b.pageY:b.pageX,f=!0,b.preventDefault?b.preventDefault():b.returnValue=!1,p.scrollLeft+=1,p.scrollLeft-=1,p.find(\".lightSlider\").removeClass(\"lsGrab\").addClass(\"lsGrabbing\"),clearInterval(x)))}),a(window).on(\"mousemove\",function(a){f&&(d=e.vertical===!0?a.pageY:a.pageX,b.touchMove(d,c))}),a(window).on(\"mouseup\",function(g){if(f){p.find(\".lightSlider\").removeClass(\"lsGrabbing\").addClass(\"lsGrab\"),f=!1,d=e.vertical===!0?g.pageY:g.pageX;var h=d-c;Math.abs(h)>=e.swipeThreshold&&a(window).on(\"click.ls\",function(b){b.preventDefault?b.preventDefault():b.returnValue=!1,b.stopImmediatePropagation(),b.stopPropagation(),a(window).off(\"click.ls\")}),b.touchEnd(h)}})}},enableTouch:function(){var a=this;if(y){var b={},c={};p.on(\"touchstart\",function(a){c=a.originalEvent.targetTouches[0],b.pageX=a.originalEvent.targetTouches[0].pageX,b.pageY=a.originalEvent.targetTouches[0].pageY,clearInterval(x)}),p.on(\"touchmove\",function(d){if(o>m&&0!==m)return!1;var f=d.originalEvent;c=f.targetTouches[0];var g=Math.abs(c.pageX-b.pageX),h=Math.abs(c.pageY-b.pageY);e.vertical===!0?(3*h>g&&d.preventDefault(),a.touchMove(c.pageY,b.pageY)):(3*g>h&&d.preventDefault(),a.touchMove(c.pageX,b.pageX))}),p.on(\"touchend\",function(){if(o>m&&0!==m)return!1;var d;d=e.vertical===!0?c.pageY-b.pageY:c.pageX-b.pageX,a.touchEnd(d)})}},build:function(){var b=this;b.initialStyle(),this.doCss()&&(e.enableTouch===!0&&b.enableTouch(),e.enableDrag===!0&&b.enableDrag()),a(window).on(\"focus\",function(){b.auto()}),a(window).on(\"blur\",function(){clearInterval(x)}),b.pager(),b.pauseOnHover(),b.controls(),b.keyPress()}},d.build(),z.init=function(){z.chbreakpoint(),e.vertical===!0?(o=e.item>1?e.verticalHeight:h.outerHeight(),p.css(\"height\",o+\"px\")):o=p.outerWidth(),e.loop===!0&&\"slide\"===e.mode&&z.clone(),z.calL(),\"slide\"===e.mode&&g.removeClass(\"lSSlide\"),\"slide\"===e.mode&&(z.calSW(),z.sSW()),setTimeout(function(){\"slide\"===e.mode&&g.addClass(\"lSSlide\")},1e3),e.pager&&z.createPager(),e.adaptiveHeight===!0&&e.vertical===!1&&g.css(\"height\",h.eq(q).outerHeight(!0)),e.adaptiveHeight===!1&&(\"slide\"===e.mode?e.vertical===!1?d.setHeight(g,!1):d.auto():d.setHeight(g,!0)),e.gallery===!0&&d.slideThumb(),\"slide\"===e.mode&&d.slide(),e.autoWidth===!1?h.length<=e.item?p.find(\".lSAction\").hide():p.find(\".lSAction\").show():z.calWidth(!1)<o&&0!==m?p.find(\".lSAction\").hide():p.find(\".lSAction\").show()},g.goToPrevSlide=function(){if(q>0)e.onBeforePrevSlide.call(this,g,q),q--,g.mode(!1),e.gallery===!0&&d.slideThumb();else if(e.loop===!0){if(e.onBeforePrevSlide.call(this,g,q),\"fade\"===e.mode){var a=l-1;q=parseInt(a/e.slideMove)}g.mode(!1),e.gallery===!0&&d.slideThumb()}else e.slideEndAnimation===!0&&(g.addClass(\"leftEnd\"),setTimeout(function(){g.removeClass(\"leftEnd\")},400))},g.goToNextSlide=function(){var a=!0;if(\"slide\"===e.mode){var b=d.slideValue();a=b<m-o-e.slideMargin}q*e.slideMove<l-e.slideMove&&a?(e.onBeforeNextSlide.call(this,g,q),q++,g.mode(!1),e.gallery===!0&&d.slideThumb()):e.loop===!0?(e.onBeforeNextSlide.call(this,g,q),q=0,g.mode(!1),e.gallery===!0&&d.slideThumb()):e.slideEndAnimation===!0&&(g.addClass(\"rightEnd\"),setTimeout(function(){g.removeClass(\"rightEnd\")},400))},g.mode=function(a){e.adaptiveHeight===!0&&e.vertical===!1&&g.css(\"height\",h.eq(q).outerHeight(!0)),n===!1&&(\"slide\"===e.mode?d.doCss()&&(g.addClass(\"lSSlide\"),\"\"!==e.speed&&p.css(\"transition-duration\",e.speed+\"ms\"),\"\"!==e.cssEasing&&p.css(\"transition-timing-function\",e.cssEasing)):d.doCss()&&(\"\"!==e.speed&&g.css(\"transition-duration\",e.speed+\"ms\"),\"\"!==e.cssEasing&&g.css(\"transition-timing-function\",e.cssEasing))),a||e.onBeforeSlide.call(this,g,q),\"slide\"===e.mode?d.slide():d.fade(),p.hasClass(\"ls-hover\")||d.auto(),setTimeout(function(){a||e.onAfterSlide.call(this,g,q)},e.speed),n=!0},g.play=function(){g.goToNextSlide(),e.auto=!0,d.auto()},g.pause=function(){e.auto=!1,clearInterval(x)},g.refresh=function(){z.init()},g.getCurrentSlideCount=function(){var a=q;if(e.loop){var b=p.find(\".lslide\").length,c=g.find(\".clone.left\").length;a=c-1>=q?b+(q-c):q>=b+c?q-b-c:q-c}return a+1},g.getTotalSlideCount=function(){return p.find(\".lslide\").length},g.goToSlide=function(a){q=e.loop?a+g.find(\".clone.left\").length-1:a,g.mode(!1),e.gallery===!0&&d.slideThumb()},g.destroy=function(){g.lightSlider&&(g.goToPrevSlide=function(){},g.goToNextSlide=function(){},g.mode=function(){},g.play=function(){},g.pause=function(){},g.refresh=function(){},g.getCurrentSlideCount=function(){},g.getTotalSlideCount=function(){},g.goToSlide=function(){},g.lightSlider=null,z={init:function(){}},g.parent().parent().find(\".lSAction, .lSPager\").remove(),g.removeClass(\"lightSlider lSFade lSSlide lsGrab lsGrabbing leftEnd right\").removeAttr(\"style\").unwrap().unwrap(),g.children().removeAttr(\"style\"),h.removeClass(\"lslide active\"),g.find(\".clone\").remove(),h=null,x=null,n=!1,q=0)},setTimeout(function(){e.onSliderLoad.call(this,g)},10),a(window).on(\"resize orientationchange\",function(a){setTimeout(function(){a.preventDefault?a.preventDefault():a.returnValue=!1,z.init()},200)}),this}}(jQuery);","source":"lightslider/js/lightslider.min.js","raw":"/*! lightslider - v1.1.5 - 2015-10-31\n* https://github.com/sachinchoolur/lightslider\n* Copyright (c) 2015 Sachin N; Licensed MIT */\n!function(a,b){\"use strict\";var c={item:3,autoWidth:!1,slideMove:1,slideMargin:10,addClass:\"\",mode:\"slide\",useCSS:!0,cssEasing:\"ease\",easing:\"linear\",speed:400,auto:!1,pauseOnHover:!1,loop:!1,slideEndAnimation:!0,pause:2e3,keyPress:!1,controls:!0,prevHtml:\"\",nextHtml:\"\",rtl:!1,adaptiveHeight:!1,vertical:!1,verticalHeight:500,vThumbWidth:100,thumbItem:10,pager:!0,gallery:!1,galleryMargin:5,thumbMargin:5,currentPagerPosition:\"middle\",enableTouch:!0,enableDrag:!0,freeMove:!0,swipeThreshold:40,responsive:[],onBeforeStart:function(a){},onSliderLoad:function(a){},onBeforeSlide:function(a,b){},onAfterSlide:function(a,b){},onBeforeNextSlide:function(a,b){},onBeforePrevSlide:function(a,b){}};a.fn.lightSlider=function(b){if(0===this.length)return this;if(this.length>1)return this.each(function(){a(this).lightSlider(b)}),this;var d={},e=a.extend(!0,{},c,b),f={},g=this;d.$el=this,\"fade\"===e.mode&&(e.vertical=!1);var h=g.children(),i=a(window).width(),j=null,k=null,l=0,m=0,n=!1,o=0,p=\"\",q=0,r=e.vertical===!0?\"height\":\"width\",s=e.vertical===!0?\"margin-bottom\":\"margin-right\",t=0,u=0,v=0,w=0,x=null,y=\"ontouchstart\"in document.documentElement,z={};return z.chbreakpoint=function(){if(i=a(window).width(),e.responsive.length){var b;if(e.autoWidth===!1&&(b=e.item),i<e.responsive[0].breakpoint)for(var c=0;c<e.responsive.length;c++)i<e.responsive[c].breakpoint&&(j=e.responsive[c].breakpoint,k=e.responsive[c]);if(\"undefined\"!=typeof k&&null!==k)for(var d in k.settings)k.settings.hasOwnProperty(d)&&((\"undefined\"==typeof f[d]||null===f[d])&&(f[d]=e[d]),e[d]=k.settings[d]);if(!a.isEmptyObject(f)&&i>e.responsive[0].breakpoint)for(var g in f)f.hasOwnProperty(g)&&(e[g]=f[g]);e.autoWidth===!1&&t>0&&v>0&&b!==e.item&&(q=Math.round(t/((v+e.slideMargin)*e.slideMove)))}},z.calSW=function(){e.autoWidth===!1&&(v=(o-(e.item*e.slideMargin-e.slideMargin))/e.item)},z.calWidth=function(a){var b=a===!0?p.find(\".lslide\").length:h.length;if(e.autoWidth===!1)m=b*(v+e.slideMargin);else{m=0;for(var c=0;b>c;c++)m+=parseInt(h.eq(c).width())+e.slideMargin}return m},d={doCss:function(){var a=function(){for(var a=[\"transition\",\"MozTransition\",\"WebkitTransition\",\"OTransition\",\"msTransition\",\"KhtmlTransition\"],b=document.documentElement,c=0;c<a.length;c++)if(a[c]in b.style)return!0};return e.useCSS&&a()?!0:!1},keyPress:function(){e.keyPress&&a(document).on(\"keyup.lightslider\",function(b){a(\":focus\").is(\"input, textarea\")||(b.preventDefault?b.preventDefault():b.returnValue=!1,37===b.keyCode?g.goToPrevSlide():39===b.keyCode&&g.goToNextSlide())})},controls:function(){e.controls&&(g.after('<div class=\"lSAction\"><a class=\"lSPrev\">'+e.prevHtml+'</a><a class=\"lSNext\">'+e.nextHtml+\"</a></div>\"),e.autoWidth?z.calWidth(!1)<o&&p.find(\".lSAction\").hide():l<=e.item&&p.find(\".lSAction\").hide(),p.find(\".lSAction a\").on(\"click\",function(b){return b.preventDefault?b.preventDefault():b.returnValue=!1,\"lSPrev\"===a(this).attr(\"class\")?g.goToPrevSlide():g.goToNextSlide(),!1}))},initialStyle:function(){var a=this;\"fade\"===e.mode&&(e.autoWidth=!1,e.slideEndAnimation=!1),e.auto&&(e.slideEndAnimation=!1),e.autoWidth&&(e.slideMove=1,e.item=1),e.loop&&(e.slideMove=1,e.freeMove=!1),e.onBeforeStart.call(this,g),z.chbreakpoint(),g.addClass(\"lightSlider\").wrap('<div class=\"lSSlideOuter '+e.addClass+'\"><div class=\"lSSlideWrapper\"></div></div>'),p=g.parent(\".lSSlideWrapper\"),e.rtl===!0&&p.parent().addClass(\"lSrtl\"),e.vertical?(p.parent().addClass(\"vertical\"),o=e.verticalHeight,p.css(\"height\",o+\"px\")):o=g.outerWidth(),h.addClass(\"lslide\"),e.loop===!0&&\"slide\"===e.mode&&(z.calSW(),z.clone=function(){if(z.calWidth(!0)>o){for(var b=0,c=0,d=0;d<h.length&&(b+=parseInt(g.find(\".lslide\").eq(d).width())+e.slideMargin,c++,!(b>=o+e.slideMargin));d++);var f=e.autoWidth===!0?c:e.item;if(f<g.find(\".clone.left\").length)for(var i=0;i<g.find(\".clone.left\").length-f;i++)h.eq(i).remove();if(f<g.find(\".clone.right\").length)for(var j=h.length-1;j>h.length-1-g.find(\".clone.right\").length;j--)q--,h.eq(j).remove();for(var k=g.find(\".clone.right\").length;f>k;k++)g.find(\".lslide\").eq(k).clone().removeClass(\"lslide\").addClass(\"clone right\").appendTo(g),q++;for(var l=g.find(\".lslide\").length-g.find(\".clone.left\").length;l>g.find(\".lslide\").length-f;l--)g.find(\".lslide\").eq(l-1).clone().removeClass(\"lslide\").addClass(\"clone left\").prependTo(g);h=g.children()}else h.hasClass(\"clone\")&&(g.find(\".clone\").remove(),a.move(g,0))},z.clone()),z.sSW=function(){l=h.length,e.rtl===!0&&e.vertical===!1&&(s=\"margin-left\"),e.autoWidth===!1&&h.css(r,v+\"px\"),h.css(s,e.slideMargin+\"px\"),m=z.calWidth(!1),g.css(r,m+\"px\"),e.loop===!0&&\"slide\"===e.mode&&n===!1&&(q=g.find(\".clone.left\").length)},z.calL=function(){h=g.children(),l=h.length},this.doCss()&&p.addClass(\"usingCss\"),z.calL(),\"slide\"===e.mode?(z.calSW(),z.sSW(),e.loop===!0&&(t=a.slideValue(),this.move(g,t)),e.vertical===!1&&this.setHeight(g,!1)):(this.setHeight(g,!0),g.addClass(\"lSFade\"),this.doCss()||(h.fadeOut(0),h.eq(q).fadeIn(0))),e.loop===!0&&\"slide\"===e.mode?h.eq(q).addClass(\"active\"):h.first().addClass(\"active\")},pager:function(){var a=this;if(z.createPager=function(){w=(o-(e.thumbItem*e.thumbMargin-e.thumbMargin))/e.thumbItem;var b=p.find(\".lslide\"),c=p.find(\".lslide\").length,d=0,f=\"\",h=0;for(d=0;c>d;d++){\"slide\"===e.mode&&(e.autoWidth?h+=(parseInt(b.eq(d).width())+e.slideMargin)*e.slideMove:h=d*(v+e.slideMargin)*e.slideMove);var i=b.eq(d*e.slideMove).attr(\"data-thumb\");if(f+=e.gallery===!0?'<li style=\"width:100%;'+r+\":\"+w+\"px;\"+s+\":\"+e.thumbMargin+'px\"><a href=\"#\"><img src=\"'+i+'\" /></a></li>':'<li><a href=\"#\">'+(d+1)+\"</a></li>\",\"slide\"===e.mode&&h>=m-o-e.slideMargin){d+=1;var j=2;e.autoWidth&&(f+='<li><a href=\"#\">'+(d+1)+\"</a></li>\",j=1),j>d?(f=null,p.parent().addClass(\"noPager\")):p.parent().removeClass(\"noPager\");break}}var k=p.parent();k.find(\".lSPager\").html(f),e.gallery===!0&&(e.vertical===!0&&k.find(\".lSPager\").css(\"width\",e.vThumbWidth+\"px\"),u=d*(e.thumbMargin+w)+.5,k.find(\".lSPager\").css({property:u+\"px\",\"transition-duration\":e.speed+\"ms\"}),e.vertical===!0&&p.parent().css(\"padding-right\",e.vThumbWidth+e.galleryMargin+\"px\"),k.find(\".lSPager\").css(r,u+\"px\"));var l=k.find(\".lSPager\").find(\"li\");l.first().addClass(\"active\"),l.on(\"click\",function(){return e.loop===!0&&\"slide\"===e.mode?q+=l.index(this)-k.find(\".lSPager\").find(\"li.active\").index():q=l.index(this),g.mode(!1),e.gallery===!0&&a.slideThumb(),!1})},e.pager){var b=\"lSpg\";e.gallery&&(b=\"lSGallery\"),p.after('<ul class=\"lSPager '+b+'\"></ul>');var c=e.vertical?\"margin-left\":\"margin-top\";p.parent().find(\".lSPager\").css(c,e.galleryMargin+\"px\"),z.createPager()}setTimeout(function(){z.init()},0)},setHeight:function(a,b){var c=null,d=this;c=e.loop?a.children(\".lslide \").first():a.children().first();var f=function(){var d=c.outerHeight(),e=0,f=d;b&&(d=0,e=100*f/o),a.css({height:d+\"px\",\"padding-bottom\":e+\"%\"})};f(),c.find(\"img\").length?c.find(\"img\")[0].complete?(f(),x||d.auto()):c.find(\"img\").load(function(){setTimeout(function(){f(),x||d.auto()},100)}):x||d.auto()},active:function(a,b){this.doCss()&&\"fade\"===e.mode&&p.addClass(\"on\");var c=0;if(q*e.slideMove<l){a.removeClass(\"active\"),this.doCss()||\"fade\"!==e.mode||b!==!1||a.fadeOut(e.speed),c=b===!0?q:q*e.slideMove;var d,f;b===!0&&(d=a.length,f=d-1,c+1>=d&&(c=f)),e.loop===!0&&\"slide\"===e.mode&&(c=b===!0?q-g.find(\".clone.left\").length:q*e.slideMove,b===!0&&(d=a.length,f=d-1,c+1===d?c=f:c+1>d&&(c=0))),this.doCss()||\"fade\"!==e.mode||b!==!1||a.eq(c).fadeIn(e.speed),a.eq(c).addClass(\"active\")}else a.removeClass(\"active\"),a.eq(a.length-1).addClass(\"active\"),this.doCss()||\"fade\"!==e.mode||b!==!1||(a.fadeOut(e.speed),a.eq(c).fadeIn(e.speed))},move:function(a,b){e.rtl===!0&&(b=-b),this.doCss()?a.css(e.vertical===!0?{transform:\"translate3d(0px, \"+-b+\"px, 0px)\",\"-webkit-transform\":\"translate3d(0px, \"+-b+\"px, 0px)\"}:{transform:\"translate3d(\"+-b+\"px, 0px, 0px)\",\"-webkit-transform\":\"translate3d(\"+-b+\"px, 0px, 0px)\"}):e.vertical===!0?a.css(\"position\",\"relative\").animate({top:-b+\"px\"},e.speed,e.easing):a.css(\"position\",\"relative\").animate({left:-b+\"px\"},e.speed,e.easing);var c=p.parent().find(\".lSPager\").find(\"li\");this.active(c,!0)},fade:function(){this.active(h,!1);var a=p.parent().find(\".lSPager\").find(\"li\");this.active(a,!0)},slide:function(){var a=this;z.calSlide=function(){m>o&&(t=a.slideValue(),a.active(h,!1),t>m-o-e.slideMargin?t=m-o-e.slideMargin:0>t&&(t=0),a.move(g,t),e.loop===!0&&\"slide\"===e.mode&&(q>=l-g.find(\".clone.left\").length/e.slideMove&&a.resetSlide(g.find(\".clone.left\").length),0===q&&a.resetSlide(p.find(\".lslide\").length)))},z.calSlide()},resetSlide:function(a){var b=this;p.find(\".lSAction a\").addClass(\"disabled\"),setTimeout(function(){q=a,p.css(\"transition-duration\",\"0ms\"),t=b.slideValue(),b.active(h,!1),d.move(g,t),setTimeout(function(){p.css(\"transition-duration\",e.speed+\"ms\"),p.find(\".lSAction a\").removeClass(\"disabled\")},50)},e.speed+100)},slideValue:function(){var a=0;if(e.autoWidth===!1)a=q*(v+e.slideMargin)*e.slideMove;else{a=0;for(var b=0;q>b;b++)a+=parseInt(h.eq(b).width())+e.slideMargin}return a},slideThumb:function(){var a;switch(e.currentPagerPosition){case\"left\":a=0;break;case\"middle\":a=o/2-w/2;break;case\"right\":a=o-w}var b=q-g.find(\".clone.left\").length,c=p.parent().find(\".lSPager\");\"slide\"===e.mode&&e.loop===!0&&(b>=c.children().length?b=0:0>b&&(b=c.children().length));var d=b*(w+e.thumbMargin)-a;d+o>u&&(d=u-o-e.thumbMargin),0>d&&(d=0),this.move(c,d)},auto:function(){e.auto&&(clearInterval(x),x=setInterval(function(){g.goToNextSlide()},e.pause))},pauseOnHover:function(){var b=this;e.auto&&e.pauseOnHover&&(p.on(\"mouseenter\",function(){a(this).addClass(\"ls-hover\"),g.pause(),e.auto=!0}),p.on(\"mouseleave\",function(){a(this).removeClass(\"ls-hover\"),p.find(\".lightSlider\").hasClass(\"lsGrabbing\")||b.auto()}))},touchMove:function(a,b){if(p.css(\"transition-duration\",\"0ms\"),\"slide\"===e.mode){var c=a-b,d=t-c;if(d>=m-o-e.slideMargin)if(e.freeMove===!1)d=m-o-e.slideMargin;else{var f=m-o-e.slideMargin;d=f+(d-f)/5}else 0>d&&(e.freeMove===!1?d=0:d/=5);this.move(g,d)}},touchEnd:function(a){if(p.css(\"transition-duration\",e.speed+\"ms\"),\"slide\"===e.mode){var b=!1,c=!0;t-=a,t>m-o-e.slideMargin?(t=m-o-e.slideMargin,e.autoWidth===!1&&(b=!0)):0>t&&(t=0);var d=function(a){var c=0;if(b||a&&(c=1),e.autoWidth)for(var d=0,f=0;f<h.length&&(d+=parseInt(h.eq(f).width())+e.slideMargin,q=f+c,!(d>=t));f++);else{var g=t/((v+e.slideMargin)*e.slideMove);q=parseInt(g)+c,t>=m-o-e.slideMargin&&g%1!==0&&q++}};a>=e.swipeThreshold?(d(!1),c=!1):a<=-e.swipeThreshold&&(d(!0),c=!1),g.mode(c),this.slideThumb()}else a>=e.swipeThreshold?g.goToPrevSlide():a<=-e.swipeThreshold&&g.goToNextSlide()},enableDrag:function(){var b=this;if(!y){var c=0,d=0,f=!1;p.find(\".lightSlider\").addClass(\"lsGrab\"),p.on(\"mousedown\",function(b){return o>m&&0!==m?!1:void(\"lSPrev\"!==a(b.target).attr(\"class\")&&\"lSNext\"!==a(b.target).attr(\"class\")&&(c=e.vertical===!0?b.pageY:b.pageX,f=!0,b.preventDefault?b.preventDefault():b.returnValue=!1,p.scrollLeft+=1,p.scrollLeft-=1,p.find(\".lightSlider\").removeClass(\"lsGrab\").addClass(\"lsGrabbing\"),clearInterval(x)))}),a(window).on(\"mousemove\",function(a){f&&(d=e.vertical===!0?a.pageY:a.pageX,b.touchMove(d,c))}),a(window).on(\"mouseup\",function(g){if(f){p.find(\".lightSlider\").removeClass(\"lsGrabbing\").addClass(\"lsGrab\"),f=!1,d=e.vertical===!0?g.pageY:g.pageX;var h=d-c;Math.abs(h)>=e.swipeThreshold&&a(window).on(\"click.ls\",function(b){b.preventDefault?b.preventDefault():b.returnValue=!1,b.stopImmediatePropagation(),b.stopPropagation(),a(window).off(\"click.ls\")}),b.touchEnd(h)}})}},enableTouch:function(){var a=this;if(y){var b={},c={};p.on(\"touchstart\",function(a){c=a.originalEvent.targetTouches[0],b.pageX=a.originalEvent.targetTouches[0].pageX,b.pageY=a.originalEvent.targetTouches[0].pageY,clearInterval(x)}),p.on(\"touchmove\",function(d){if(o>m&&0!==m)return!1;var f=d.originalEvent;c=f.targetTouches[0];var g=Math.abs(c.pageX-b.pageX),h=Math.abs(c.pageY-b.pageY);e.vertical===!0?(3*h>g&&d.preventDefault(),a.touchMove(c.pageY,b.pageY)):(3*g>h&&d.preventDefault(),a.touchMove(c.pageX,b.pageX))}),p.on(\"touchend\",function(){if(o>m&&0!==m)return!1;var d;d=e.vertical===!0?c.pageY-b.pageY:c.pageX-b.pageX,a.touchEnd(d)})}},build:function(){var b=this;b.initialStyle(),this.doCss()&&(e.enableTouch===!0&&b.enableTouch(),e.enableDrag===!0&&b.enableDrag()),a(window).on(\"focus\",function(){b.auto()}),a(window).on(\"blur\",function(){clearInterval(x)}),b.pager(),b.pauseOnHover(),b.controls(),b.keyPress()}},d.build(),z.init=function(){z.chbreakpoint(),e.vertical===!0?(o=e.item>1?e.verticalHeight:h.outerHeight(),p.css(\"height\",o+\"px\")):o=p.outerWidth(),e.loop===!0&&\"slide\"===e.mode&&z.clone(),z.calL(),\"slide\"===e.mode&&g.removeClass(\"lSSlide\"),\"slide\"===e.mode&&(z.calSW(),z.sSW()),setTimeout(function(){\"slide\"===e.mode&&g.addClass(\"lSSlide\")},1e3),e.pager&&z.createPager(),e.adaptiveHeight===!0&&e.vertical===!1&&g.css(\"height\",h.eq(q).outerHeight(!0)),e.adaptiveHeight===!1&&(\"slide\"===e.mode?e.vertical===!1?d.setHeight(g,!1):d.auto():d.setHeight(g,!0)),e.gallery===!0&&d.slideThumb(),\"slide\"===e.mode&&d.slide(),e.autoWidth===!1?h.length<=e.item?p.find(\".lSAction\").hide():p.find(\".lSAction\").show():z.calWidth(!1)<o&&0!==m?p.find(\".lSAction\").hide():p.find(\".lSAction\").show()},g.goToPrevSlide=function(){if(q>0)e.onBeforePrevSlide.call(this,g,q),q--,g.mode(!1),e.gallery===!0&&d.slideThumb();else if(e.loop===!0){if(e.onBeforePrevSlide.call(this,g,q),\"fade\"===e.mode){var a=l-1;q=parseInt(a/e.slideMove)}g.mode(!1),e.gallery===!0&&d.slideThumb()}else e.slideEndAnimation===!0&&(g.addClass(\"leftEnd\"),setTimeout(function(){g.removeClass(\"leftEnd\")},400))},g.goToNextSlide=function(){var a=!0;if(\"slide\"===e.mode){var b=d.slideValue();a=b<m-o-e.slideMargin}q*e.slideMove<l-e.slideMove&&a?(e.onBeforeNextSlide.call(this,g,q),q++,g.mode(!1),e.gallery===!0&&d.slideThumb()):e.loop===!0?(e.onBeforeNextSlide.call(this,g,q),q=0,g.mode(!1),e.gallery===!0&&d.slideThumb()):e.slideEndAnimation===!0&&(g.addClass(\"rightEnd\"),setTimeout(function(){g.removeClass(\"rightEnd\")},400))},g.mode=function(a){e.adaptiveHeight===!0&&e.vertical===!1&&g.css(\"height\",h.eq(q).outerHeight(!0)),n===!1&&(\"slide\"===e.mode?d.doCss()&&(g.addClass(\"lSSlide\"),\"\"!==e.speed&&p.css(\"transition-duration\",e.speed+\"ms\"),\"\"!==e.cssEasing&&p.css(\"transition-timing-function\",e.cssEasing)):d.doCss()&&(\"\"!==e.speed&&g.css(\"transition-duration\",e.speed+\"ms\"),\"\"!==e.cssEasing&&g.css(\"transition-timing-function\",e.cssEasing))),a||e.onBeforeSlide.call(this,g,q),\"slide\"===e.mode?d.slide():d.fade(),p.hasClass(\"ls-hover\")||d.auto(),setTimeout(function(){a||e.onAfterSlide.call(this,g,q)},e.speed),n=!0},g.play=function(){g.goToNextSlide(),e.auto=!0,d.auto()},g.pause=function(){e.auto=!1,clearInterval(x)},g.refresh=function(){z.init()},g.getCurrentSlideCount=function(){var a=q;if(e.loop){var b=p.find(\".lslide\").length,c=g.find(\".clone.left\").length;a=c-1>=q?b+(q-c):q>=b+c?q-b-c:q-c}return a+1},g.getTotalSlideCount=function(){return p.find(\".lslide\").length},g.goToSlide=function(a){q=e.loop?a+g.find(\".clone.left\").length-1:a,g.mode(!1),e.gallery===!0&&d.slideThumb()},g.destroy=function(){g.lightSlider&&(g.goToPrevSlide=function(){},g.goToNextSlide=function(){},g.mode=function(){},g.play=function(){},g.pause=function(){},g.refresh=function(){},g.getCurrentSlideCount=function(){},g.getTotalSlideCount=function(){},g.goToSlide=function(){},g.lightSlider=null,z={init:function(){}},g.parent().parent().find(\".lSAction, .lSPager\").remove(),g.removeClass(\"lightSlider lSFade lSSlide lsGrab lsGrabbing leftEnd right\").removeAttr(\"style\").unwrap().unwrap(),g.children().removeAttr(\"style\"),h.removeClass(\"lslide active\"),g.find(\".clone\").remove(),h=null,x=null,n=!1,q=0)},setTimeout(function(){e.onSliderLoad.call(this,g)},10),a(window).on(\"resize orientationchange\",function(a){setTimeout(function(){a.preventDefault?a.preventDefault():a.returnValue=!1,z.init()},200)}),this}}(jQuery);","date":"2018-11-10T08:59:10.002Z","updated":"2018-11-10T08:59:10.002Z","path":"lightslider/js/lightslider.min.js","layout":"false","title":"","comments":1,"_id":"cjtohbkam005m6f129m2b2hj7","content":"/*! lightslider - v1.1.5 - 2015-10-31\n* https://github.com/sachinchoolur/lightslider\n* Copyright (c) 2015 Sachin N; Licensed MIT */\n!function(a,b){\"use strict\";var c={item:3,autoWidth:!1,slideMove:1,slideMargin:10,addClass:\"\",mode:\"slide\",useCSS:!0,cssEasing:\"ease\",easing:\"linear\",speed:400,auto:!1,pauseOnHover:!1,loop:!1,slideEndAnimation:!0,pause:2e3,keyPress:!1,controls:!0,prevHtml:\"\",nextHtml:\"\",rtl:!1,adaptiveHeight:!1,vertical:!1,verticalHeight:500,vThumbWidth:100,thumbItem:10,pager:!0,gallery:!1,galleryMargin:5,thumbMargin:5,currentPagerPosition:\"middle\",enableTouch:!0,enableDrag:!0,freeMove:!0,swipeThreshold:40,responsive:[],onBeforeStart:function(a){},onSliderLoad:function(a){},onBeforeSlide:function(a,b){},onAfterSlide:function(a,b){},onBeforeNextSlide:function(a,b){},onBeforePrevSlide:function(a,b){}};a.fn.lightSlider=function(b){if(0===this.length)return this;if(this.length>1)return this.each(function(){a(this).lightSlider(b)}),this;var d={},e=a.extend(!0,{},c,b),f={},g=this;d.$el=this,\"fade\"===e.mode&&(e.vertical=!1);var h=g.children(),i=a(window).width(),j=null,k=null,l=0,m=0,n=!1,o=0,p=\"\",q=0,r=e.vertical===!0?\"height\":\"width\",s=e.vertical===!0?\"margin-bottom\":\"margin-right\",t=0,u=0,v=0,w=0,x=null,y=\"ontouchstart\"in document.documentElement,z={};return z.chbreakpoint=function(){if(i=a(window).width(),e.responsive.length){var b;if(e.autoWidth===!1&&(b=e.item),i<e.responsive[0].breakpoint)for(var c=\"0;c<e.responsive.length;c++)i<e.responsive[c].breakpoint&&(j=e.responsive[c].breakpoint,k=e.responsive[c]);if(\"undefined\"!=typeof\" k&&null!=\"=k)for(var\" d=\"\" in=\"\" k.settings)k.settings.hasownproperty(d)&&((\"undefined\"=\"=typeof\" f[d]||null=\"==f[d])&&(f[d]=e[d]),e[d]=k.settings[d]);if(!a.isEmptyObject(f)&&i\">e.responsive[0].breakpoint)for(var g in f)f.hasOwnProperty(g)&&(e[g]=f[g]);e.autoWidth===!1&&t>0&&v>0&&b!==e.item&&(q=Math.round(t/((v+e.slideMargin)*e.slideMove)))}},z.calSW=function(){e.autoWidth===!1&&(v=(o-(e.item*e.slideMargin-e.slideMargin))/e.item)},z.calWidth=function(a){var b=a===!0?p.find(\".lslide\").length:h.length;if(e.autoWidth===!1)m=b*(v+e.slideMargin);else{m=0;for(var c=0;b>c;c++)m+=parseInt(h.eq(c).width())+e.slideMargin}return m},d={doCss:function(){var a=function(){for(var a=[\"transition\",\"MozTransition\",\"WebkitTransition\",\"OTransition\",\"msTransition\",\"KhtmlTransition\"],b=document.documentElement,c=0;c<a.length;c++)if(a[c]in b.style)return!0};return=\"\" e.usecss&&a()?!0:!1},keypress:function(){e.keypress&&a(document).on(\"keyup.lightslider\",function(b){a(\":focus\").is(\"input,=\"\" textarea\")||(b.preventdefault?b.preventdefault():b.returnvalue=\"!1,37===b.keyCode?g.goToPrevSlide():39===b.keyCode&&g.goToNextSlide())})},controls:function(){e.controls&&(g.after('<div\" class=\"lSAction\"><a class=\"lSPrev\">'+e.prevHtml+'</a><a class=\"lSNext\">'+e.nextHtml+\"</a>\"),e.autoWidth?z.calWidth(!1)<o&&p.find(\".lsaction\").hide():l<=e.item&&p.find(\".lsaction\").hide(),p.find(\".lsaction a\").on(\"click\",function(b){return=\"\" b.preventdefault?b.preventdefault():b.returnvalue=\"!1,\"lSPrev\"===a(this).attr(\"class\")?g.goToPrevSlide():g.goToNextSlide(),!1}))},initialStyle:function(){var\" a=\"this;\"fade\"===e.mode&&(e.autoWidth=!1,e.slideEndAnimation=!1),e.auto&&(e.slideEndAnimation=!1),e.autoWidth&&(e.slideMove=1,e.item=1),e.loop&&(e.slideMove=1,e.freeMove=!1),e.onBeforeStart.call(this,g),z.chbreakpoint(),g.addClass(\"lightSlider\").wrap('<div\" class=\"lSSlideOuter '+e.addClass+'\"><div class=\"lSSlideWrapper\"></div>'),p=g.parent(\".lSSlideWrapper\"),e.rtl===!0&&p.parent().addClass(\"lSrtl\"),e.vertical?(p.parent().addClass(\"vertical\"),o=e.verticalHeight,p.css(\"height\",o+\"px\")):o=g.outerWidth(),h.addClass(\"lslide\"),e.loop===!0&&\"slide\"===e.mode&&(z.calSW(),z.clone=function(){if(z.calWidth(!0)>o){for(var b=0,c=0,d=0;d<h.length&&(b+=parseint(g.find(\".lslide\").eq(d).width())+e.slidemargin,c++,!(b>=o+e.slideMargin));d++);var f=e.autoWidth===!0?c:e.item;if(f<g.find(\".clone.left\").length)for(var i=\"0;i<g.find(\".clone.left\").length-f;i++)h.eq(i).remove();if(f<g.find(\".clone.right\").length)for(var\" j=\"h.length-1;j\">h.length-1-g.find(\".clone.right\").length;j--)q--,h.eq(j).remove();for(var k=g.find(\".clone.right\").length;f>k;k++)g.find(\".lslide\").eq(k).clone().removeClass(\"lslide\").addClass(\"clone right\").appendTo(g),q++;for(var l=g.find(\".lslide\").length-g.find(\".clone.left\").length;l>g.find(\".lslide\").length-f;l--)g.find(\".lslide\").eq(l-1).clone().removeClass(\"lslide\").addClass(\"clone left\").prependTo(g);h=g.children()}else h.hasClass(\"clone\")&&(g.find(\".clone\").remove(),a.move(g,0))},z.clone()),z.sSW=function(){l=h.length,e.rtl===!0&&e.vertical===!1&&(s=\"margin-left\"),e.autoWidth===!1&&h.css(r,v+\"px\"),h.css(s,e.slideMargin+\"px\"),m=z.calWidth(!1),g.css(r,m+\"px\"),e.loop===!0&&\"slide\"===e.mode&&n===!1&&(q=g.find(\".clone.left\").length)},z.calL=function(){h=g.children(),l=h.length},this.doCss()&&p.addClass(\"usingCss\"),z.calL(),\"slide\"===e.mode?(z.calSW(),z.sSW(),e.loop===!0&&(t=a.slideValue(),this.move(g,t)),e.vertical===!1&&this.setHeight(g,!1)):(this.setHeight(g,!0),g.addClass(\"lSFade\"),this.doCss()||(h.fadeOut(0),h.eq(q).fadeIn(0))),e.loop===!0&&\"slide\"===e.mode?h.eq(q).addClass(\"active\"):h.first().addClass(\"active\")},pager:function(){var a=this;if(z.createPager=function(){w=(o-(e.thumbItem*e.thumbMargin-e.thumbMargin))/e.thumbItem;var b=p.find(\".lslide\"),c=p.find(\".lslide\").length,d=0,f=\"\",h=0;for(d=0;c>d;d++){\"slide\"===e.mode&&(e.autoWidth?h+=(parseInt(b.eq(d).width())+e.slideMargin)*e.slideMove:h=d*(v+e.slideMargin)*e.slideMove);var i=b.eq(d*e.slideMove).attr(\"data-thumb\");if(f+=e.gallery===!0?'<li style=\"width:100%;'+r+\" :\"+w+\"px;\"+s+\":\"+e.thumbmargin+'px\"=\"\"><a href=\"#\"><img src=\"'+i+'\"></a></li>':'<li><a href=\"#\">'+(d+1)+\"</a></li>\",\"slide\"===e.mode&&h>=m-o-e.slideMargin){d+=1;var j=2;e.autoWidth&&(f+='<li><a href=\"#\">'+(d+1)+\"</a></li>\",j=1),j>d?(f=null,p.parent().addClass(\"noPager\")):p.parent().removeClass(\"noPager\");break}}var k=p.parent();k.find(\".lSPager\").html(f),e.gallery===!0&&(e.vertical===!0&&k.find(\".lSPager\").css(\"width\",e.vThumbWidth+\"px\"),u=d*(e.thumbMargin+w)+.5,k.find(\".lSPager\").css({property:u+\"px\",\"transition-duration\":e.speed+\"ms\"}),e.vertical===!0&&p.parent().css(\"padding-right\",e.vThumbWidth+e.galleryMargin+\"px\"),k.find(\".lSPager\").css(r,u+\"px\"));var l=k.find(\".lSPager\").find(\"li\");l.first().addClass(\"active\"),l.on(\"click\",function(){return e.loop===!0&&\"slide\"===e.mode?q+=l.index(this)-k.find(\".lSPager\").find(\"li.active\").index():q=l.index(this),g.mode(!1),e.gallery===!0&&a.slideThumb(),!1})},e.pager){var b=\"lSpg\";e.gallery&&(b=\"lSGallery\"),p.after('<ul class=\"lSPager '+b+'\"></ul>');var c=e.vertical?\"margin-left\":\"margin-top\";p.parent().find(\".lSPager\").css(c,e.galleryMargin+\"px\"),z.createPager()}setTimeout(function(){z.init()},0)},setHeight:function(a,b){var c=null,d=this;c=e.loop?a.children(\".lslide \").first():a.children().first();var f=function(){var d=c.outerHeight(),e=0,f=d;b&&(d=0,e=100*f/o),a.css({height:d+\"px\",\"padding-bottom\":e+\"%\"})};f(),c.find(\"img\").length?c.find(\"img\")[0].complete?(f(),x||d.auto()):c.find(\"img\").load(function(){setTimeout(function(){f(),x||d.auto()},100)}):x||d.auto()},active:function(a,b){this.doCss()&&\"fade\"===e.mode&&p.addClass(\"on\");var c=0;if(q*e.slideMove<l){a.removeclass(\"active\"),this.docss()||\"fade\"!==e.mode||b!==!1||a.fadeout(e.speed),c=b===!0?q:q*e.slidemove;var d,f;b=\"==!0&&(d=a.length,f=d-1,c+1\">=d&&(c=f)),e.loop===!0&&\"slide\"===e.mode&&(c=b===!0?q-g.find(\".clone.left\").length:q*e.slideMove,b===!0&&(d=a.length,f=d-1,c+1===d?c=f:c+1>d&&(c=0))),this.doCss()||\"fade\"!==e.mode||b!==!1||a.eq(c).fadeIn(e.speed),a.eq(c).addClass(\"active\")}else a.removeClass(\"active\"),a.eq(a.length-1).addClass(\"active\"),this.doCss()||\"fade\"!==e.mode||b!==!1||(a.fadeOut(e.speed),a.eq(c).fadeIn(e.speed))},move:function(a,b){e.rtl===!0&&(b=-b),this.doCss()?a.css(e.vertical===!0?{transform:\"translate3d(0px, \"+-b+\"px, 0px)\",\"-webkit-transform\":\"translate3d(0px, \"+-b+\"px, 0px)\"}:{transform:\"translate3d(\"+-b+\"px, 0px, 0px)\",\"-webkit-transform\":\"translate3d(\"+-b+\"px, 0px, 0px)\"}):e.vertical===!0?a.css(\"position\",\"relative\").animate({top:-b+\"px\"},e.speed,e.easing):a.css(\"position\",\"relative\").animate({left:-b+\"px\"},e.speed,e.easing);var c=p.parent().find(\".lSPager\").find(\"li\");this.active(c,!0)},fade:function(){this.active(h,!1);var a=p.parent().find(\".lSPager\").find(\"li\");this.active(a,!0)},slide:function(){var a=this;z.calSlide=function(){m>o&&(t=a.slideValue(),a.active(h,!1),t>m-o-e.slideMargin?t=m-o-e.slideMargin:0>t&&(t=0),a.move(g,t),e.loop===!0&&\"slide\"===e.mode&&(q>=l-g.find(\".clone.left\").length/e.slideMove&&a.resetSlide(g.find(\".clone.left\").length),0===q&&a.resetSlide(p.find(\".lslide\").length)))},z.calSlide()},resetSlide:function(a){var b=this;p.find(\".lSAction a\").addClass(\"disabled\"),setTimeout(function(){q=a,p.css(\"transition-duration\",\"0ms\"),t=b.slideValue(),b.active(h,!1),d.move(g,t),setTimeout(function(){p.css(\"transition-duration\",e.speed+\"ms\"),p.find(\".lSAction a\").removeClass(\"disabled\")},50)},e.speed+100)},slideValue:function(){var a=0;if(e.autoWidth===!1)a=q*(v+e.slideMargin)*e.slideMove;else{a=0;for(var b=0;q>b;b++)a+=parseInt(h.eq(b).width())+e.slideMargin}return a},slideThumb:function(){var a;switch(e.currentPagerPosition){case\"left\":a=0;break;case\"middle\":a=o/2-w/2;break;case\"right\":a=o-w}var b=q-g.find(\".clone.left\").length,c=p.parent().find(\".lSPager\");\"slide\"===e.mode&&e.loop===!0&&(b>=c.children().length?b=0:0>b&&(b=c.children().length));var d=b*(w+e.thumbMargin)-a;d+o>u&&(d=u-o-e.thumbMargin),0>d&&(d=0),this.move(c,d)},auto:function(){e.auto&&(clearInterval(x),x=setInterval(function(){g.goToNextSlide()},e.pause))},pauseOnHover:function(){var b=this;e.auto&&e.pauseOnHover&&(p.on(\"mouseenter\",function(){a(this).addClass(\"ls-hover\"),g.pause(),e.auto=!0}),p.on(\"mouseleave\",function(){a(this).removeClass(\"ls-hover\"),p.find(\".lightSlider\").hasClass(\"lsGrabbing\")||b.auto()}))},touchMove:function(a,b){if(p.css(\"transition-duration\",\"0ms\"),\"slide\"===e.mode){var c=a-b,d=t-c;if(d>=m-o-e.slideMargin)if(e.freeMove===!1)d=m-o-e.slideMargin;else{var f=m-o-e.slideMargin;d=f+(d-f)/5}else 0>d&&(e.freeMove===!1?d=0:d/=5);this.move(g,d)}},touchEnd:function(a){if(p.css(\"transition-duration\",e.speed+\"ms\"),\"slide\"===e.mode){var b=!1,c=!0;t-=a,t>m-o-e.slideMargin?(t=m-o-e.slideMargin,e.autoWidth===!1&&(b=!0)):0>t&&(t=0);var d=function(a){var c=0;if(b||a&&(c=1),e.autoWidth)for(var d=0,f=0;f<h.length&&(d+=parseint(h.eq(f).width())+e.slidemargin,q=f+c,!(d>=t));f++);else{var g=t/((v+e.slideMargin)*e.slideMove);q=parseInt(g)+c,t>=m-o-e.slideMargin&&g%1!==0&&q++}};a>=e.swipeThreshold?(d(!1),c=!1):a<=-e.swipethreshold&&(d(!0),c=!1),g.mode(c),this.slidethumb()}else a=\"\">=e.swipeThreshold?g.goToPrevSlide():a<=-e.swipethreshold&&g.gotonextslide()},enabledrag:function(){var b=\"this;if(!y){var\" c=\"0,d=0,f=!1;p.find(\".lightSlider\").addClass(\"lsGrab\"),p.on(\"mousedown\",function(b){return\" o=\"\">m&&0!==m?!1:void(\"lSPrev\"!==a(b.target).attr(\"class\")&&\"lSNext\"!==a(b.target).attr(\"class\")&&(c=e.vertical===!0?b.pageY:b.pageX,f=!0,b.preventDefault?b.preventDefault():b.returnValue=!1,p.scrollLeft+=1,p.scrollLeft-=1,p.find(\".lightSlider\").removeClass(\"lsGrab\").addClass(\"lsGrabbing\"),clearInterval(x)))}),a(window).on(\"mousemove\",function(a){f&&(d=e.vertical===!0?a.pageY:a.pageX,b.touchMove(d,c))}),a(window).on(\"mouseup\",function(g){if(f){p.find(\".lightSlider\").removeClass(\"lsGrabbing\").addClass(\"lsGrab\"),f=!1,d=e.vertical===!0?g.pageY:g.pageX;var h=d-c;Math.abs(h)>=e.swipeThreshold&&a(window).on(\"click.ls\",function(b){b.preventDefault?b.preventDefault():b.returnValue=!1,b.stopImmediatePropagation(),b.stopPropagation(),a(window).off(\"click.ls\")}),b.touchEnd(h)}})}},enableTouch:function(){var a=this;if(y){var b={},c={};p.on(\"touchstart\",function(a){c=a.originalEvent.targetTouches[0],b.pageX=a.originalEvent.targetTouches[0].pageX,b.pageY=a.originalEvent.targetTouches[0].pageY,clearInterval(x)}),p.on(\"touchmove\",function(d){if(o>m&&0!==m)return!1;var f=d.originalEvent;c=f.targetTouches[0];var g=Math.abs(c.pageX-b.pageX),h=Math.abs(c.pageY-b.pageY);e.vertical===!0?(3*h>g&&d.preventDefault(),a.touchMove(c.pageY,b.pageY)):(3*g>h&&d.preventDefault(),a.touchMove(c.pageX,b.pageX))}),p.on(\"touchend\",function(){if(o>m&&0!==m)return!1;var d;d=e.vertical===!0?c.pageY-b.pageY:c.pageX-b.pageX,a.touchEnd(d)})}},build:function(){var b=this;b.initialStyle(),this.doCss()&&(e.enableTouch===!0&&b.enableTouch(),e.enableDrag===!0&&b.enableDrag()),a(window).on(\"focus\",function(){b.auto()}),a(window).on(\"blur\",function(){clearInterval(x)}),b.pager(),b.pauseOnHover(),b.controls(),b.keyPress()}},d.build(),z.init=function(){z.chbreakpoint(),e.vertical===!0?(o=e.item>1?e.verticalHeight:h.outerHeight(),p.css(\"height\",o+\"px\")):o=p.outerWidth(),e.loop===!0&&\"slide\"===e.mode&&z.clone(),z.calL(),\"slide\"===e.mode&&g.removeClass(\"lSSlide\"),\"slide\"===e.mode&&(z.calSW(),z.sSW()),setTimeout(function(){\"slide\"===e.mode&&g.addClass(\"lSSlide\")},1e3),e.pager&&z.createPager(),e.adaptiveHeight===!0&&e.vertical===!1&&g.css(\"height\",h.eq(q).outerHeight(!0)),e.adaptiveHeight===!1&&(\"slide\"===e.mode?e.vertical===!1?d.setHeight(g,!1):d.auto():d.setHeight(g,!0)),e.gallery===!0&&d.slideThumb(),\"slide\"===e.mode&&d.slide(),e.autoWidth===!1?h.length<=e.item?p.find(\".lsaction\").hide():p.find(\".lsaction\").show():z.calwidth(!1)<o&&0!==m?p.find(\".lsaction\").hide():p.find(\".lsaction\").show()},g.gotoprevslide=function(){if(q>0)e.onBeforePrevSlide.call(this,g,q),q--,g.mode(!1),e.gallery===!0&&d.slideThumb();else if(e.loop===!0){if(e.onBeforePrevSlide.call(this,g,q),\"fade\"===e.mode){var a=l-1;q=parseInt(a/e.slideMove)}g.mode(!1),e.gallery===!0&&d.slideThumb()}else e.slideEndAnimation===!0&&(g.addClass(\"leftEnd\"),setTimeout(function(){g.removeClass(\"leftEnd\")},400))},g.goToNextSlide=function(){var a=!0;if(\"slide\"===e.mode){var b=d.slideValue();a=b<m-o-e.slidemargin}q*e.slidemove<l-e.slidemove&&a?(e.onbeforenextslide.call(this,g,q),q++,g.mode(!1),e.gallery===!0&&d.slidethumb()):e.loop===!0?(e.onbeforenextslide.call(this,g,q),q=0,g.mode(!1),e.gallery===!0&&d.slidethumb()):e.slideendanimation===!0&&(g.addclass(\"rightend\"),settimeout(function(){g.removeclass(\"rightend\")},400))},g.mode=function(a){e.adaptiveheight===!0&&e.vertical===!1&&g.css(\"height\",h.eq(q).outerheight(!0)),n===!1&&(\"slide\"===e.mode?d.docss()&&(g.addclass(\"lsslide\"),\"\"!==e.speed&&p.css(\"transition-duration\",e.speed+\"ms\"),\"\"!==e.csseasing&&p.css(\"transition-timing-function\",e.csseasing)):d.docss()&&(\"\"!==e.speed&&g.css(\"transition-duration\",e.speed+\"ms\"),\"\"!==e.csseasing&&g.css(\"transition-timing-function\",e.csseasing))),a||e.onbeforeslide.call(this,g,q),\"slide\"===e.mode?d.slide():d.fade(),p.hasclass(\"ls-hover\")||d.auto(),settimeout(function(){a||e.onafterslide.call(this,g,q)},e.speed),n=!0},g.play=function(){g.gotonextslide(),e.auto=!0,d.auto()},g.pause=function(){e.auto=!1,clearinterval(x)},g.refresh=function(){z.init()},g.getcurrentslidecount=function(){var a=\"q;if(e.loop){var\" b=\"p.find(\".lslide\").length,c=g.find(\".clone.left\").length;a=c-1\">=q?b+(q-c):q>=b+c?q-b-c:q-c}return a+1},g.getTotalSlideCount=function(){return p.find(\".lslide\").length},g.goToSlide=function(a){q=e.loop?a+g.find(\".clone.left\").length-1:a,g.mode(!1),e.gallery===!0&&d.slideThumb()},g.destroy=function(){g.lightSlider&&(g.goToPrevSlide=function(){},g.goToNextSlide=function(){},g.mode=function(){},g.play=function(){},g.pause=function(){},g.refresh=function(){},g.getCurrentSlideCount=function(){},g.getTotalSlideCount=function(){},g.goToSlide=function(){},g.lightSlider=null,z={init:function(){}},g.parent().parent().find(\".lSAction, .lSPager\").remove(),g.removeClass(\"lightSlider lSFade lSSlide lsGrab lsGrabbing leftEnd right\").removeAttr(\"style\").unwrap().unwrap(),g.children().removeAttr(\"style\"),h.removeClass(\"lslide active\"),g.find(\".clone\").remove(),h=null,x=null,n=!1,q=0)},setTimeout(function(){e.onSliderLoad.call(this,g)},10),a(window).on(\"resize orientationchange\",function(a){setTimeout(function(){a.preventDefault?a.preventDefault():a.returnValue=!1,z.init()},200)}),this}}(jQuery);</m-o-e.slidemargin}q*e.slidemove<l-e.slidemove&&a?(e.onbeforenextslide.call(this,g,q),q++,g.mode(!1),e.gallery===!0&&d.slidethumb()):e.loop===!0?(e.onbeforenextslide.call(this,g,q),q=0,g.mode(!1),e.gallery===!0&&d.slidethumb()):e.slideendanimation===!0&&(g.addclass(\"rightend\"),settimeout(function(){g.removeclass(\"rightend\")},400))},g.mode=function(a){e.adaptiveheight===!0&&e.vertical===!1&&g.css(\"height\",h.eq(q).outerheight(!0)),n===!1&&(\"slide\"===e.mode?d.docss()&&(g.addclass(\"lsslide\"),\"\"!==e.speed&&p.css(\"transition-duration\",e.speed+\"ms\"),\"\"!==e.csseasing&&p.css(\"transition-timing-function\",e.csseasing)):d.docss()&&(\"\"!==e.speed&&g.css(\"transition-duration\",e.speed+\"ms\"),\"\"!==e.csseasing&&g.css(\"transition-timing-function\",e.csseasing))),a||e.onbeforeslide.call(this,g,q),\"slide\"===e.mode?d.slide():d.fade(),p.hasclass(\"ls-hover\")||d.auto(),settimeout(function(){a||e.onafterslide.call(this,g,q)},e.speed),n=!0},g.play=function(){g.gotonextslide(),e.auto=!0,d.auto()},g.pause=function(){e.auto=!1,clearinterval(x)},g.refresh=function(){z.init()},g.getcurrentslidecount=function(){var></=e.item?p.find(\".lsaction\").hide():p.find(\".lsaction\").show():z.calwidth(!1)<o&&0!==m?p.find(\".lsaction\").hide():p.find(\".lsaction\").show()},g.gotoprevslide=function(){if(q></=-e.swipethreshold&&g.gotonextslide()},enabledrag:function(){var></=-e.swipethreshold&&(d(!0),c=!1),g.mode(c),this.slidethumb()}else></h.length&&(d+=parseint(h.eq(f).width())+e.slidemargin,q=f+c,!(d></l){a.removeclass(\"active\"),this.docss()||\"fade\"!==e.mode||b!==!1||a.fadeout(e.speed),c=b===!0?q:q*e.slidemove;var></g.find(\".clone.left\").length)for(var></h.length&&(b+=parseint(g.find(\".lslide\").eq(d).width())+e.slidemargin,c++,!(b></o&&p.find(\".lsaction\").hide():l<=e.item&&p.find(\".lsaction\").hide(),p.find(\".lsaction></a.length;c++)if(a[c]in></e.responsive[0].breakpoint)for(var>","site":{"data":{}},"excerpt":"","more":"/*! lightslider - v1.1.5 - 2015-10-31\n* https://github.com/sachinchoolur/lightslider\n* Copyright (c) 2015 Sachin N; Licensed MIT */\n!function(a,b){\"use strict\";var c={item:3,autoWidth:!1,slideMove:1,slideMargin:10,addClass:\"\",mode:\"slide\",useCSS:!0,cssEasing:\"ease\",easing:\"linear\",speed:400,auto:!1,pauseOnHover:!1,loop:!1,slideEndAnimation:!0,pause:2e3,keyPress:!1,controls:!0,prevHtml:\"\",nextHtml:\"\",rtl:!1,adaptiveHeight:!1,vertical:!1,verticalHeight:500,vThumbWidth:100,thumbItem:10,pager:!0,gallery:!1,galleryMargin:5,thumbMargin:5,currentPagerPosition:\"middle\",enableTouch:!0,enableDrag:!0,freeMove:!0,swipeThreshold:40,responsive:[],onBeforeStart:function(a){},onSliderLoad:function(a){},onBeforeSlide:function(a,b){},onAfterSlide:function(a,b){},onBeforeNextSlide:function(a,b){},onBeforePrevSlide:function(a,b){}};a.fn.lightSlider=function(b){if(0===this.length)return this;if(this.length>1)return this.each(function(){a(this).lightSlider(b)}),this;var d={},e=a.extend(!0,{},c,b),f={},g=this;d.$el=this,\"fade\"===e.mode&&(e.vertical=!1);var h=g.children(),i=a(window).width(),j=null,k=null,l=0,m=0,n=!1,o=0,p=\"\",q=0,r=e.vertical===!0?\"height\":\"width\",s=e.vertical===!0?\"margin-bottom\":\"margin-right\",t=0,u=0,v=0,w=0,x=null,y=\"ontouchstart\"in document.documentElement,z={};return z.chbreakpoint=function(){if(i=a(window).width(),e.responsive.length){var b;if(e.autoWidth===!1&&(b=e.item),i<e.responsive[0].breakpoint)for(var c=\"0;c<e.responsive.length;c++)i<e.responsive[c].breakpoint&&(j=e.responsive[c].breakpoint,k=e.responsive[c]);if(\"undefined\"!=typeof\" k&&null!=\"=k)for(var\" d=\"\" in=\"\" k.settings)k.settings.hasownproperty(d)&&((\"undefined\"=\"=typeof\" f[d]||null=\"==f[d])&&(f[d]=e[d]),e[d]=k.settings[d]);if(!a.isEmptyObject(f)&&i\">e.responsive[0].breakpoint)for(var g in f)f.hasOwnProperty(g)&&(e[g]=f[g]);e.autoWidth===!1&&t>0&&v>0&&b!==e.item&&(q=Math.round(t/((v+e.slideMargin)*e.slideMove)))}},z.calSW=function(){e.autoWidth===!1&&(v=(o-(e.item*e.slideMargin-e.slideMargin))/e.item)},z.calWidth=function(a){var b=a===!0?p.find(\".lslide\").length:h.length;if(e.autoWidth===!1)m=b*(v+e.slideMargin);else{m=0;for(var c=0;b>c;c++)m+=parseInt(h.eq(c).width())+e.slideMargin}return m},d={doCss:function(){var a=function(){for(var a=[\"transition\",\"MozTransition\",\"WebkitTransition\",\"OTransition\",\"msTransition\",\"KhtmlTransition\"],b=document.documentElement,c=0;c<a.length;c++)if(a[c]in b.style)return!0};return=\"\" e.usecss&&a()?!0:!1},keypress:function(){e.keypress&&a(document).on(\"keyup.lightslider\",function(b){a(\":focus\").is(\"input,=\"\" textarea\")||(b.preventdefault?b.preventdefault():b.returnvalue=\"!1,37===b.keyCode?g.goToPrevSlide():39===b.keyCode&&g.goToNextSlide())})},controls:function(){e.controls&&(g.after('<div\" class=\"lSAction\"><a class=\"lSPrev\">'+e.prevHtml+'</a><a class=\"lSNext\">'+e.nextHtml+\"</a>\"),e.autoWidth?z.calWidth(!1)<o&&p.find(\".lsaction\").hide():l<=e.item&&p.find(\".lsaction\").hide(),p.find(\".lsaction a\").on(\"click\",function(b){return=\"\" b.preventdefault?b.preventdefault():b.returnvalue=\"!1,\"lSPrev\"===a(this).attr(\"class\")?g.goToPrevSlide():g.goToNextSlide(),!1}))},initialStyle:function(){var\" a=\"this;\"fade\"===e.mode&&(e.autoWidth=!1,e.slideEndAnimation=!1),e.auto&&(e.slideEndAnimation=!1),e.autoWidth&&(e.slideMove=1,e.item=1),e.loop&&(e.slideMove=1,e.freeMove=!1),e.onBeforeStart.call(this,g),z.chbreakpoint(),g.addClass(\"lightSlider\").wrap('<div\" class=\"lSSlideOuter '+e.addClass+'\"><div class=\"lSSlideWrapper\"></div>'),p=g.parent(\".lSSlideWrapper\"),e.rtl===!0&&p.parent().addClass(\"lSrtl\"),e.vertical?(p.parent().addClass(\"vertical\"),o=e.verticalHeight,p.css(\"height\",o+\"px\")):o=g.outerWidth(),h.addClass(\"lslide\"),e.loop===!0&&\"slide\"===e.mode&&(z.calSW(),z.clone=function(){if(z.calWidth(!0)>o){for(var b=0,c=0,d=0;d<h.length&&(b+=parseint(g.find(\".lslide\").eq(d).width())+e.slidemargin,c++,!(b>=o+e.slideMargin));d++);var f=e.autoWidth===!0?c:e.item;if(f<g.find(\".clone.left\").length)for(var i=\"0;i<g.find(\".clone.left\").length-f;i++)h.eq(i).remove();if(f<g.find(\".clone.right\").length)for(var\" j=\"h.length-1;j\">h.length-1-g.find(\".clone.right\").length;j--)q--,h.eq(j).remove();for(var k=g.find(\".clone.right\").length;f>k;k++)g.find(\".lslide\").eq(k).clone().removeClass(\"lslide\").addClass(\"clone right\").appendTo(g),q++;for(var l=g.find(\".lslide\").length-g.find(\".clone.left\").length;l>g.find(\".lslide\").length-f;l--)g.find(\".lslide\").eq(l-1).clone().removeClass(\"lslide\").addClass(\"clone left\").prependTo(g);h=g.children()}else h.hasClass(\"clone\")&&(g.find(\".clone\").remove(),a.move(g,0))},z.clone()),z.sSW=function(){l=h.length,e.rtl===!0&&e.vertical===!1&&(s=\"margin-left\"),e.autoWidth===!1&&h.css(r,v+\"px\"),h.css(s,e.slideMargin+\"px\"),m=z.calWidth(!1),g.css(r,m+\"px\"),e.loop===!0&&\"slide\"===e.mode&&n===!1&&(q=g.find(\".clone.left\").length)},z.calL=function(){h=g.children(),l=h.length},this.doCss()&&p.addClass(\"usingCss\"),z.calL(),\"slide\"===e.mode?(z.calSW(),z.sSW(),e.loop===!0&&(t=a.slideValue(),this.move(g,t)),e.vertical===!1&&this.setHeight(g,!1)):(this.setHeight(g,!0),g.addClass(\"lSFade\"),this.doCss()||(h.fadeOut(0),h.eq(q).fadeIn(0))),e.loop===!0&&\"slide\"===e.mode?h.eq(q).addClass(\"active\"):h.first().addClass(\"active\")},pager:function(){var a=this;if(z.createPager=function(){w=(o-(e.thumbItem*e.thumbMargin-e.thumbMargin))/e.thumbItem;var b=p.find(\".lslide\"),c=p.find(\".lslide\").length,d=0,f=\"\",h=0;for(d=0;c>d;d++){\"slide\"===e.mode&&(e.autoWidth?h+=(parseInt(b.eq(d).width())+e.slideMargin)*e.slideMove:h=d*(v+e.slideMargin)*e.slideMove);var i=b.eq(d*e.slideMove).attr(\"data-thumb\");if(f+=e.gallery===!0?'<li style=\"width:100%;'+r+\" :\"+w+\"px;\"+s+\":\"+e.thumbmargin+'px\"=\"\"><a href=\"#\"><img src=\"'+i+'\"></a></li>':'<li><a href=\"#\">'+(d+1)+\"</a></li>\",\"slide\"===e.mode&&h>=m-o-e.slideMargin){d+=1;var j=2;e.autoWidth&&(f+='<li><a href=\"#\">'+(d+1)+\"</a></li>\",j=1),j>d?(f=null,p.parent().addClass(\"noPager\")):p.parent().removeClass(\"noPager\");break}}var k=p.parent();k.find(\".lSPager\").html(f),e.gallery===!0&&(e.vertical===!0&&k.find(\".lSPager\").css(\"width\",e.vThumbWidth+\"px\"),u=d*(e.thumbMargin+w)+.5,k.find(\".lSPager\").css({property:u+\"px\",\"transition-duration\":e.speed+\"ms\"}),e.vertical===!0&&p.parent().css(\"padding-right\",e.vThumbWidth+e.galleryMargin+\"px\"),k.find(\".lSPager\").css(r,u+\"px\"));var l=k.find(\".lSPager\").find(\"li\");l.first().addClass(\"active\"),l.on(\"click\",function(){return e.loop===!0&&\"slide\"===e.mode?q+=l.index(this)-k.find(\".lSPager\").find(\"li.active\").index():q=l.index(this),g.mode(!1),e.gallery===!0&&a.slideThumb(),!1})},e.pager){var b=\"lSpg\";e.gallery&&(b=\"lSGallery\"),p.after('<ul class=\"lSPager '+b+'\"></ul>');var c=e.vertical?\"margin-left\":\"margin-top\";p.parent().find(\".lSPager\").css(c,e.galleryMargin+\"px\"),z.createPager()}setTimeout(function(){z.init()},0)},setHeight:function(a,b){var c=null,d=this;c=e.loop?a.children(\".lslide \").first():a.children().first();var f=function(){var d=c.outerHeight(),e=0,f=d;b&&(d=0,e=100*f/o),a.css({height:d+\"px\",\"padding-bottom\":e+\"%\"})};f(),c.find(\"img\").length?c.find(\"img\")[0].complete?(f(),x||d.auto()):c.find(\"img\").load(function(){setTimeout(function(){f(),x||d.auto()},100)}):x||d.auto()},active:function(a,b){this.doCss()&&\"fade\"===e.mode&&p.addClass(\"on\");var c=0;if(q*e.slideMove<l){a.removeclass(\"active\"),this.docss()||\"fade\"!==e.mode||b!==!1||a.fadeout(e.speed),c=b===!0?q:q*e.slidemove;var d,f;b=\"==!0&&(d=a.length,f=d-1,c+1\">=d&&(c=f)),e.loop===!0&&\"slide\"===e.mode&&(c=b===!0?q-g.find(\".clone.left\").length:q*e.slideMove,b===!0&&(d=a.length,f=d-1,c+1===d?c=f:c+1>d&&(c=0))),this.doCss()||\"fade\"!==e.mode||b!==!1||a.eq(c).fadeIn(e.speed),a.eq(c).addClass(\"active\")}else a.removeClass(\"active\"),a.eq(a.length-1).addClass(\"active\"),this.doCss()||\"fade\"!==e.mode||b!==!1||(a.fadeOut(e.speed),a.eq(c).fadeIn(e.speed))},move:function(a,b){e.rtl===!0&&(b=-b),this.doCss()?a.css(e.vertical===!0?{transform:\"translate3d(0px, \"+-b+\"px, 0px)\",\"-webkit-transform\":\"translate3d(0px, \"+-b+\"px, 0px)\"}:{transform:\"translate3d(\"+-b+\"px, 0px, 0px)\",\"-webkit-transform\":\"translate3d(\"+-b+\"px, 0px, 0px)\"}):e.vertical===!0?a.css(\"position\",\"relative\").animate({top:-b+\"px\"},e.speed,e.easing):a.css(\"position\",\"relative\").animate({left:-b+\"px\"},e.speed,e.easing);var c=p.parent().find(\".lSPager\").find(\"li\");this.active(c,!0)},fade:function(){this.active(h,!1);var a=p.parent().find(\".lSPager\").find(\"li\");this.active(a,!0)},slide:function(){var a=this;z.calSlide=function(){m>o&&(t=a.slideValue(),a.active(h,!1),t>m-o-e.slideMargin?t=m-o-e.slideMargin:0>t&&(t=0),a.move(g,t),e.loop===!0&&\"slide\"===e.mode&&(q>=l-g.find(\".clone.left\").length/e.slideMove&&a.resetSlide(g.find(\".clone.left\").length),0===q&&a.resetSlide(p.find(\".lslide\").length)))},z.calSlide()},resetSlide:function(a){var b=this;p.find(\".lSAction a\").addClass(\"disabled\"),setTimeout(function(){q=a,p.css(\"transition-duration\",\"0ms\"),t=b.slideValue(),b.active(h,!1),d.move(g,t),setTimeout(function(){p.css(\"transition-duration\",e.speed+\"ms\"),p.find(\".lSAction a\").removeClass(\"disabled\")},50)},e.speed+100)},slideValue:function(){var a=0;if(e.autoWidth===!1)a=q*(v+e.slideMargin)*e.slideMove;else{a=0;for(var b=0;q>b;b++)a+=parseInt(h.eq(b).width())+e.slideMargin}return a},slideThumb:function(){var a;switch(e.currentPagerPosition){case\"left\":a=0;break;case\"middle\":a=o/2-w/2;break;case\"right\":a=o-w}var b=q-g.find(\".clone.left\").length,c=p.parent().find(\".lSPager\");\"slide\"===e.mode&&e.loop===!0&&(b>=c.children().length?b=0:0>b&&(b=c.children().length));var d=b*(w+e.thumbMargin)-a;d+o>u&&(d=u-o-e.thumbMargin),0>d&&(d=0),this.move(c,d)},auto:function(){e.auto&&(clearInterval(x),x=setInterval(function(){g.goToNextSlide()},e.pause))},pauseOnHover:function(){var b=this;e.auto&&e.pauseOnHover&&(p.on(\"mouseenter\",function(){a(this).addClass(\"ls-hover\"),g.pause(),e.auto=!0}),p.on(\"mouseleave\",function(){a(this).removeClass(\"ls-hover\"),p.find(\".lightSlider\").hasClass(\"lsGrabbing\")||b.auto()}))},touchMove:function(a,b){if(p.css(\"transition-duration\",\"0ms\"),\"slide\"===e.mode){var c=a-b,d=t-c;if(d>=m-o-e.slideMargin)if(e.freeMove===!1)d=m-o-e.slideMargin;else{var f=m-o-e.slideMargin;d=f+(d-f)/5}else 0>d&&(e.freeMove===!1?d=0:d/=5);this.move(g,d)}},touchEnd:function(a){if(p.css(\"transition-duration\",e.speed+\"ms\"),\"slide\"===e.mode){var b=!1,c=!0;t-=a,t>m-o-e.slideMargin?(t=m-o-e.slideMargin,e.autoWidth===!1&&(b=!0)):0>t&&(t=0);var d=function(a){var c=0;if(b||a&&(c=1),e.autoWidth)for(var d=0,f=0;f<h.length&&(d+=parseint(h.eq(f).width())+e.slidemargin,q=f+c,!(d>=t));f++);else{var g=t/((v+e.slideMargin)*e.slideMove);q=parseInt(g)+c,t>=m-o-e.slideMargin&&g%1!==0&&q++}};a>=e.swipeThreshold?(d(!1),c=!1):a<=-e.swipethreshold&&(d(!0),c=!1),g.mode(c),this.slidethumb()}else a=\"\">=e.swipeThreshold?g.goToPrevSlide():a<=-e.swipethreshold&&g.gotonextslide()},enabledrag:function(){var b=\"this;if(!y){var\" c=\"0,d=0,f=!1;p.find(\".lightSlider\").addClass(\"lsGrab\"),p.on(\"mousedown\",function(b){return\" o=\"\">m&&0!==m?!1:void(\"lSPrev\"!==a(b.target).attr(\"class\")&&\"lSNext\"!==a(b.target).attr(\"class\")&&(c=e.vertical===!0?b.pageY:b.pageX,f=!0,b.preventDefault?b.preventDefault():b.returnValue=!1,p.scrollLeft+=1,p.scrollLeft-=1,p.find(\".lightSlider\").removeClass(\"lsGrab\").addClass(\"lsGrabbing\"),clearInterval(x)))}),a(window).on(\"mousemove\",function(a){f&&(d=e.vertical===!0?a.pageY:a.pageX,b.touchMove(d,c))}),a(window).on(\"mouseup\",function(g){if(f){p.find(\".lightSlider\").removeClass(\"lsGrabbing\").addClass(\"lsGrab\"),f=!1,d=e.vertical===!0?g.pageY:g.pageX;var h=d-c;Math.abs(h)>=e.swipeThreshold&&a(window).on(\"click.ls\",function(b){b.preventDefault?b.preventDefault():b.returnValue=!1,b.stopImmediatePropagation(),b.stopPropagation(),a(window).off(\"click.ls\")}),b.touchEnd(h)}})}},enableTouch:function(){var a=this;if(y){var b={},c={};p.on(\"touchstart\",function(a){c=a.originalEvent.targetTouches[0],b.pageX=a.originalEvent.targetTouches[0].pageX,b.pageY=a.originalEvent.targetTouches[0].pageY,clearInterval(x)}),p.on(\"touchmove\",function(d){if(o>m&&0!==m)return!1;var f=d.originalEvent;c=f.targetTouches[0];var g=Math.abs(c.pageX-b.pageX),h=Math.abs(c.pageY-b.pageY);e.vertical===!0?(3*h>g&&d.preventDefault(),a.touchMove(c.pageY,b.pageY)):(3*g>h&&d.preventDefault(),a.touchMove(c.pageX,b.pageX))}),p.on(\"touchend\",function(){if(o>m&&0!==m)return!1;var d;d=e.vertical===!0?c.pageY-b.pageY:c.pageX-b.pageX,a.touchEnd(d)})}},build:function(){var b=this;b.initialStyle(),this.doCss()&&(e.enableTouch===!0&&b.enableTouch(),e.enableDrag===!0&&b.enableDrag()),a(window).on(\"focus\",function(){b.auto()}),a(window).on(\"blur\",function(){clearInterval(x)}),b.pager(),b.pauseOnHover(),b.controls(),b.keyPress()}},d.build(),z.init=function(){z.chbreakpoint(),e.vertical===!0?(o=e.item>1?e.verticalHeight:h.outerHeight(),p.css(\"height\",o+\"px\")):o=p.outerWidth(),e.loop===!0&&\"slide\"===e.mode&&z.clone(),z.calL(),\"slide\"===e.mode&&g.removeClass(\"lSSlide\"),\"slide\"===e.mode&&(z.calSW(),z.sSW()),setTimeout(function(){\"slide\"===e.mode&&g.addClass(\"lSSlide\")},1e3),e.pager&&z.createPager(),e.adaptiveHeight===!0&&e.vertical===!1&&g.css(\"height\",h.eq(q).outerHeight(!0)),e.adaptiveHeight===!1&&(\"slide\"===e.mode?e.vertical===!1?d.setHeight(g,!1):d.auto():d.setHeight(g,!0)),e.gallery===!0&&d.slideThumb(),\"slide\"===e.mode&&d.slide(),e.autoWidth===!1?h.length<=e.item?p.find(\".lsaction\").hide():p.find(\".lsaction\").show():z.calwidth(!1)<o&&0!==m?p.find(\".lsaction\").hide():p.find(\".lsaction\").show()},g.gotoprevslide=function(){if(q>0)e.onBeforePrevSlide.call(this,g,q),q--,g.mode(!1),e.gallery===!0&&d.slideThumb();else if(e.loop===!0){if(e.onBeforePrevSlide.call(this,g,q),\"fade\"===e.mode){var a=l-1;q=parseInt(a/e.slideMove)}g.mode(!1),e.gallery===!0&&d.slideThumb()}else e.slideEndAnimation===!0&&(g.addClass(\"leftEnd\"),setTimeout(function(){g.removeClass(\"leftEnd\")},400))},g.goToNextSlide=function(){var a=!0;if(\"slide\"===e.mode){var b=d.slideValue();a=b<m-o-e.slidemargin}q*e.slidemove<l-e.slidemove&&a?(e.onbeforenextslide.call(this,g,q),q++,g.mode(!1),e.gallery===!0&&d.slidethumb()):e.loop===!0?(e.onbeforenextslide.call(this,g,q),q=0,g.mode(!1),e.gallery===!0&&d.slidethumb()):e.slideendanimation===!0&&(g.addclass(\"rightend\"),settimeout(function(){g.removeclass(\"rightend\")},400))},g.mode=function(a){e.adaptiveheight===!0&&e.vertical===!1&&g.css(\"height\",h.eq(q).outerheight(!0)),n===!1&&(\"slide\"===e.mode?d.docss()&&(g.addclass(\"lsslide\"),\"\"!==e.speed&&p.css(\"transition-duration\",e.speed+\"ms\"),\"\"!==e.csseasing&&p.css(\"transition-timing-function\",e.csseasing)):d.docss()&&(\"\"!==e.speed&&g.css(\"transition-duration\",e.speed+\"ms\"),\"\"!==e.csseasing&&g.css(\"transition-timing-function\",e.csseasing))),a||e.onbeforeslide.call(this,g,q),\"slide\"===e.mode?d.slide():d.fade(),p.hasclass(\"ls-hover\")||d.auto(),settimeout(function(){a||e.onafterslide.call(this,g,q)},e.speed),n=!0},g.play=function(){g.gotonextslide(),e.auto=!0,d.auto()},g.pause=function(){e.auto=!1,clearinterval(x)},g.refresh=function(){z.init()},g.getcurrentslidecount=function(){var a=\"q;if(e.loop){var\" b=\"p.find(\".lslide\").length,c=g.find(\".clone.left\").length;a=c-1\">=q?b+(q-c):q>=b+c?q-b-c:q-c}return a+1},g.getTotalSlideCount=function(){return p.find(\".lslide\").length},g.goToSlide=function(a){q=e.loop?a+g.find(\".clone.left\").length-1:a,g.mode(!1),e.gallery===!0&&d.slideThumb()},g.destroy=function(){g.lightSlider&&(g.goToPrevSlide=function(){},g.goToNextSlide=function(){},g.mode=function(){},g.play=function(){},g.pause=function(){},g.refresh=function(){},g.getCurrentSlideCount=function(){},g.getTotalSlideCount=function(){},g.goToSlide=function(){},g.lightSlider=null,z={init:function(){}},g.parent().parent().find(\".lSAction, .lSPager\").remove(),g.removeClass(\"lightSlider lSFade lSSlide lsGrab lsGrabbing leftEnd right\").removeAttr(\"style\").unwrap().unwrap(),g.children().removeAttr(\"style\"),h.removeClass(\"lslide active\"),g.find(\".clone\").remove(),h=null,x=null,n=!1,q=0)},setTimeout(function(){e.onSliderLoad.call(this,g)},10),a(window).on(\"resize orientationchange\",function(a){setTimeout(function(){a.preventDefault?a.preventDefault():a.returnValue=!1,z.init()},200)}),this}}(jQuery);</m-o-e.slidemargin}q*e.slidemove<l-e.slidemove&&a?(e.onbeforenextslide.call(this,g,q),q++,g.mode(!1),e.gallery===!0&&d.slidethumb()):e.loop===!0?(e.onbeforenextslide.call(this,g,q),q=0,g.mode(!1),e.gallery===!0&&d.slidethumb()):e.slideendanimation===!0&&(g.addclass(\"rightend\"),settimeout(function(){g.removeclass(\"rightend\")},400))},g.mode=function(a){e.adaptiveheight===!0&&e.vertical===!1&&g.css(\"height\",h.eq(q).outerheight(!0)),n===!1&&(\"slide\"===e.mode?d.docss()&&(g.addclass(\"lsslide\"),\"\"!==e.speed&&p.css(\"transition-duration\",e.speed+\"ms\"),\"\"!==e.csseasing&&p.css(\"transition-timing-function\",e.csseasing)):d.docss()&&(\"\"!==e.speed&&g.css(\"transition-duration\",e.speed+\"ms\"),\"\"!==e.csseasing&&g.css(\"transition-timing-function\",e.csseasing))),a||e.onbeforeslide.call(this,g,q),\"slide\"===e.mode?d.slide():d.fade(),p.hasclass(\"ls-hover\")||d.auto(),settimeout(function(){a||e.onafterslide.call(this,g,q)},e.speed),n=!0},g.play=function(){g.gotonextslide(),e.auto=!0,d.auto()},g.pause=function(){e.auto=!1,clearinterval(x)},g.refresh=function(){z.init()},g.getcurrentslidecount=function(){var></=e.item?p.find(\".lsaction\").hide():p.find(\".lsaction\").show():z.calwidth(!1)<o&&0!==m?p.find(\".lsaction\").hide():p.find(\".lsaction\").show()},g.gotoprevslide=function(){if(q></=-e.swipethreshold&&g.gotonextslide()},enabledrag:function(){var></=-e.swipethreshold&&(d(!0),c=!1),g.mode(c),this.slidethumb()}else></h.length&&(d+=parseint(h.eq(f).width())+e.slidemargin,q=f+c,!(d></l){a.removeclass(\"active\"),this.docss()||\"fade\"!==e.mode||b!==!1||a.fadeout(e.speed),c=b===!0?q:q*e.slidemove;var></g.find(\".clone.left\").length)for(var></h.length&&(b+=parseint(g.find(\".lslide\").eq(d).width())+e.slidemargin,c++,!(b></o&&p.find(\".lsaction\").hide():l<=e.item&&p.find(\".lsaction\").hide(),p.find(\".lsaction></a.length;c++)if(a[c]in></e.responsive[0].breakpoint)for(var>"},{"_content":"/*! lightslider - v1.1.5 - 2015-10-31\n* https://github.com/sachinchoolur/lightslider\n* Copyright (c) 2015 Sachin N; Licensed MIT */\n(function ($, undefined) {\n    'use strict';\n    var defaults = {\n        item: 3,\n        autoWidth: false,\n        slideMove: 1,\n        slideMargin: 10,\n        addClass: '',\n        mode: 'slide',\n        useCSS: true,\n        cssEasing: 'ease', //'cubic-bezier(0.25, 0, 0.25, 1)',\n        easing: 'linear', //'for jquery animation',//\n        speed: 400, //ms'\n        auto: false,\n        pauseOnHover: false,\n        loop: false,\n        slideEndAnimation: true,\n        pause: 2000,\n        keyPress: false,\n        controls: true,\n        prevHtml: '',\n        nextHtml: '',\n        rtl: false,\n        adaptiveHeight: false,\n        vertical: false,\n        verticalHeight: 500,\n        vThumbWidth: 100,\n        thumbItem: 10,\n        pager: true,\n        gallery: false,\n        galleryMargin: 5,\n        thumbMargin: 5,\n        currentPagerPosition: 'middle',\n        enableTouch: true,\n        enableDrag: true,\n        freeMove: true,\n        swipeThreshold: 40,\n        responsive: [],\n        /* jshint ignore:start */\n        onBeforeStart: function ($el) {},\n        onSliderLoad: function ($el) {},\n        onBeforeSlide: function ($el, scene) {},\n        onAfterSlide: function ($el, scene) {},\n        onBeforeNextSlide: function ($el, scene) {},\n        onBeforePrevSlide: function ($el, scene) {}\n        /* jshint ignore:end */\n    };\n    $.fn.lightSlider = function (options) {\n        if (this.length === 0) {\n            return this;\n        }\n\n        if (this.length > 1) {\n            this.each(function () {\n                $(this).lightSlider(options);\n            });\n            return this;\n        }\n\n        var plugin = {},\n            settings = $.extend(true, {}, defaults, options),\n            settingsTemp = {},\n            $el = this;\n        plugin.$el = this;\n\n        if (settings.mode === 'fade') {\n            settings.vertical = false;\n        }\n        var $children = $el.children(),\n            windowW = $(window).width(),\n            breakpoint = null,\n            resposiveObj = null,\n            length = 0,\n            w = 0,\n            on = false,\n            elSize = 0,\n            $slide = '',\n            scene = 0,\n            property = (settings.vertical === true) ? 'height' : 'width',\n            gutter = (settings.vertical === true) ? 'margin-bottom' : 'margin-right',\n            slideValue = 0,\n            pagerWidth = 0,\n            slideWidth = 0,\n            thumbWidth = 0,\n            interval = null,\n            isTouch = ('ontouchstart' in document.documentElement);\n        var refresh = {};\n\n        refresh.chbreakpoint = function () {\n            windowW = $(window).width();\n            if (settings.responsive.length) {\n                var item;\n                if (settings.autoWidth === false) {\n                    item = settings.item;\n                }\n                if (windowW < settings.responsive[0].breakpoint) {\n                    for (var i = 0; i < settings.responsive.length; i++) {\n                        if (windowW < settings.responsive[i].breakpoint) {\n                            breakpoint = settings.responsive[i].breakpoint;\n                            resposiveObj = settings.responsive[i];\n                        }\n                    }\n                }\n                if (typeof resposiveObj !== 'undefined' && resposiveObj !== null) {\n                    for (var j in resposiveObj.settings) {\n                        if (resposiveObj.settings.hasOwnProperty(j)) {\n                            if (typeof settingsTemp[j] === 'undefined' || settingsTemp[j] === null) {\n                                settingsTemp[j] = settings[j];\n                            }\n                            settings[j] = resposiveObj.settings[j];\n                        }\n                    }\n                }\n                if (!$.isEmptyObject(settingsTemp) && windowW > settings.responsive[0].breakpoint) {\n                    for (var k in settingsTemp) {\n                        if (settingsTemp.hasOwnProperty(k)) {\n                            settings[k] = settingsTemp[k];\n                        }\n                    }\n                }\n                if (settings.autoWidth === false) {\n                    if (slideValue > 0 && slideWidth > 0) {\n                        if (item !== settings.item) {\n                            scene = Math.round(slideValue / ((slideWidth + settings.slideMargin) * settings.slideMove));\n                        }\n                    }\n                }\n            }\n        };\n\n        refresh.calSW = function () {\n            if (settings.autoWidth === false) {\n                slideWidth = (elSize - ((settings.item * (settings.slideMargin)) - settings.slideMargin)) / settings.item;\n            }\n        };\n\n        refresh.calWidth = function (cln) {\n            var ln = cln === true ? $slide.find('.lslide').length : $children.length;\n            if (settings.autoWidth === false) {\n                w = ln * (slideWidth + settings.slideMargin);\n            } else {\n                w = 0;\n                for (var i = 0; i < ln; i++) {\n                    w += (parseInt($children.eq(i).width()) + settings.slideMargin);\n                }\n            }\n            return w;\n        };\n        plugin = {\n            doCss: function () {\n                var support = function () {\n                    var transition = ['transition', 'MozTransition', 'WebkitTransition', 'OTransition', 'msTransition', 'KhtmlTransition'];\n                    var root = document.documentElement;\n                    for (var i = 0; i < transition.length; i++) {\n                        if (transition[i] in root.style) {\n                            return true;\n                        }\n                    }\n                };\n                if (settings.useCSS && support()) {\n                    return true;\n                }\n                return false;\n            },\n            keyPress: function () {\n                if (settings.keyPress) {\n                    $(document).on('keyup.lightslider', function (e) {\n                        if (!$(':focus').is('input, textarea')) {\n                            if (e.preventDefault) {\n                                e.preventDefault();\n                            } else {\n                                e.returnValue = false;\n                            }\n                            if (e.keyCode === 37) {\n                                $el.goToPrevSlide();\n                            } else if (e.keyCode === 39) {\n                                $el.goToNextSlide();\n                            }\n                        }\n                    });\n                }\n            },\n            controls: function () {\n                if (settings.controls) {\n                    $el.after('<div class=\"lSAction\"><a class=\"lSPrev\">' + settings.prevHtml + '</a><a class=\"lSNext\">' + settings.nextHtml + '</a></div>');\n                    if (!settings.autoWidth) {\n                        if (length <= settings.item) {\n                            $slide.find('.lSAction').hide();\n                        }\n                    } else {\n                        if (refresh.calWidth(false) < elSize) {\n                            $slide.find('.lSAction').hide();\n                        }\n                    }\n                    $slide.find('.lSAction a').on('click', function (e) {\n                        if (e.preventDefault) {\n                            e.preventDefault();\n                        } else {\n                            e.returnValue = false;\n                        }\n                        if ($(this).attr('class') === 'lSPrev') {\n                            $el.goToPrevSlide();\n                        } else {\n                            $el.goToNextSlide();\n                        }\n                        return false;\n                    });\n                }\n            },\n            initialStyle: function () {\n                var $this = this;\n                if (settings.mode === 'fade') {\n                    settings.autoWidth = false;\n                    settings.slideEndAnimation = false;\n                }\n                if (settings.auto) {\n                    settings.slideEndAnimation = false;\n                }\n                if (settings.autoWidth) {\n                    settings.slideMove = 1;\n                    settings.item = 1;\n                }\n                if (settings.loop) {\n                    settings.slideMove = 1;\n                    settings.freeMove = false;\n                }\n                settings.onBeforeStart.call(this, $el);\n                refresh.chbreakpoint();\n                $el.addClass('lightSlider').wrap('<div class=\"lSSlideOuter ' + settings.addClass + '\"><div class=\"lSSlideWrapper\"></div></div>');\n                $slide = $el.parent('.lSSlideWrapper');\n                if (settings.rtl === true) {\n                    $slide.parent().addClass('lSrtl');\n                }\n                if (settings.vertical) {\n                    $slide.parent().addClass('vertical');\n                    elSize = settings.verticalHeight;\n                    $slide.css('height', elSize + 'px');\n                } else {\n                    elSize = $el.outerWidth();\n                }\n                $children.addClass('lslide');\n                if (settings.loop === true && settings.mode === 'slide') {\n                    refresh.calSW();\n                    refresh.clone = function () {\n                        if (refresh.calWidth(true) > elSize) {\n                            /**/\n                            var tWr = 0,\n                                tI = 0;\n                            for (var k = 0; k < $children.length; k++) {\n                                tWr += (parseInt($el.find('.lslide').eq(k).width()) + settings.slideMargin);\n                                tI++;\n                                if (tWr >= (elSize + settings.slideMargin)) {\n                                    break;\n                                }\n                            }\n                            var tItem = settings.autoWidth === true ? tI : settings.item;\n\n                            /**/\n                            if (tItem < $el.find('.clone.left').length) {\n                                for (var i = 0; i < $el.find('.clone.left').length - tItem; i++) {\n                                    $children.eq(i).remove();\n                                }\n                            }\n                            if (tItem < $el.find('.clone.right').length) {\n                                for (var j = $children.length - 1; j > ($children.length - 1 - $el.find('.clone.right').length); j--) {\n                                    scene--;\n                                    $children.eq(j).remove();\n                                }\n                            }\n                            /**/\n                            for (var n = $el.find('.clone.right').length; n < tItem; n++) {\n                                $el.find('.lslide').eq(n).clone().removeClass('lslide').addClass('clone right').appendTo($el);\n                                scene++;\n                            }\n                            for (var m = $el.find('.lslide').length - $el.find('.clone.left').length; m > ($el.find('.lslide').length - tItem); m--) {\n                                $el.find('.lslide').eq(m - 1).clone().removeClass('lslide').addClass('clone left').prependTo($el);\n                            }\n                            $children = $el.children();\n                        } else {\n                            if ($children.hasClass('clone')) {\n                                $el.find('.clone').remove();\n                                $this.move($el, 0);\n                            }\n                        }\n                    };\n                    refresh.clone();\n                }\n                refresh.sSW = function () {\n                    length = $children.length;\n                    if (settings.rtl === true && settings.vertical === false) {\n                        gutter = 'margin-left';\n                    }\n                    if (settings.autoWidth === false) {\n                        $children.css(property, slideWidth + 'px');\n                    }\n                    $children.css(gutter, settings.slideMargin + 'px');\n                    w = refresh.calWidth(false);\n                    $el.css(property, w + 'px');\n                    if (settings.loop === true && settings.mode === 'slide') {\n                        if (on === false) {\n                            scene = $el.find('.clone.left').length;\n                        }\n                    }\n                };\n                refresh.calL = function () {\n                    $children = $el.children();\n                    length = $children.length;\n                };\n                if (this.doCss()) {\n                    $slide.addClass('usingCss');\n                }\n                refresh.calL();\n                if (settings.mode === 'slide') {\n                    refresh.calSW();\n                    refresh.sSW();\n                    if (settings.loop === true) {\n                        slideValue = $this.slideValue();\n                        this.move($el, slideValue);\n                    }\n                    if (settings.vertical === false) {\n                        this.setHeight($el, false);\n                    }\n\n                } else {\n                    this.setHeight($el, true);\n                    $el.addClass('lSFade');\n                    if (!this.doCss()) {\n                        $children.fadeOut(0);\n                        $children.eq(scene).fadeIn(0);\n                    }\n                }\n                if (settings.loop === true && settings.mode === 'slide') {\n                    $children.eq(scene).addClass('active');\n                } else {\n                    $children.first().addClass('active');\n                }\n            },\n            pager: function () {\n                var $this = this;\n                refresh.createPager = function () {\n                    thumbWidth = (elSize - ((settings.thumbItem * (settings.thumbMargin)) - settings.thumbMargin)) / settings.thumbItem;\n                    var $children = $slide.find('.lslide');\n                    var length = $slide.find('.lslide').length;\n                    var i = 0,\n                        pagers = '',\n                        v = 0;\n                    for (i = 0; i < length; i++) {\n                        if (settings.mode === 'slide') {\n                            // calculate scene * slide value\n                            if (!settings.autoWidth) {\n                                v = i * ((slideWidth + settings.slideMargin) * settings.slideMove);\n                            } else {\n                                v += ((parseInt($children.eq(i).width()) + settings.slideMargin) * settings.slideMove);\n                            }\n                        }\n                        var thumb = $children.eq(i * settings.slideMove).attr('data-thumb');\n                        if (settings.gallery === true) {\n                            pagers += '<li style=\"width:100%;' + property + ':' + thumbWidth + 'px;' + gutter + ':' + settings.thumbMargin + 'px\"><a href=\"#\"><img src=\"' + thumb + '\" /></a></li>';\n                        } else {\n                            pagers += '<li><a href=\"#\">' + (i + 1) + '</a></li>';\n                        }\n                        if (settings.mode === 'slide') {\n                            if ((v) >= w - elSize - settings.slideMargin) {\n                                i = i + 1;\n                                var minPgr = 2;\n                                if (settings.autoWidth) {\n                                    pagers += '<li><a href=\"#\">' + (i + 1) + '</a></li>';\n                                    minPgr = 1;\n                                }\n                                if (i < minPgr) {\n                                    pagers = null;\n                                    $slide.parent().addClass('noPager');\n                                } else {\n                                    $slide.parent().removeClass('noPager');\n                                }\n                                break;\n                            }\n                        }\n                    }\n                    var $cSouter = $slide.parent();\n                    $cSouter.find('.lSPager').html(pagers); \n                    if (settings.gallery === true) {\n                        if (settings.vertical === true) {\n                            // set Gallery thumbnail width\n                            $cSouter.find('.lSPager').css('width', settings.vThumbWidth + 'px');\n                        }\n                        pagerWidth = (i * (settings.thumbMargin + thumbWidth)) + 0.5;\n                        $cSouter.find('.lSPager').css({\n                            property: pagerWidth + 'px',\n                            'transition-duration': settings.speed + 'ms'\n                        });\n                        if (settings.vertical === true) {\n                            $slide.parent().css('padding-right', (settings.vThumbWidth + settings.galleryMargin) + 'px');\n                        }\n                        $cSouter.find('.lSPager').css(property, pagerWidth + 'px');\n                    }\n                    var $pager = $cSouter.find('.lSPager').find('li');\n                    $pager.first().addClass('active');\n                    $pager.on('click', function () {\n                        if (settings.loop === true && settings.mode === 'slide') {\n                            scene = scene + ($pager.index(this) - $cSouter.find('.lSPager').find('li.active').index());\n                        } else {\n                            scene = $pager.index(this);\n                        }\n                        $el.mode(false);\n                        if (settings.gallery === true) {\n                            $this.slideThumb();\n                        }\n                        return false;\n                    });\n                };\n                if (settings.pager) {\n                    var cl = 'lSpg';\n                    if (settings.gallery) {\n                        cl = 'lSGallery';\n                    }\n                    $slide.after('<ul class=\"lSPager ' + cl + '\"></ul>');\n                    var gMargin = (settings.vertical) ? 'margin-left' : 'margin-top';\n                    $slide.parent().find('.lSPager').css(gMargin, settings.galleryMargin + 'px');\n                    refresh.createPager();\n                }\n\n                setTimeout(function () {\n                    refresh.init();\n                }, 0);\n            },\n            setHeight: function (ob, fade) {\n                var obj = null,\n                    $this = this;\n                if (settings.loop) {\n                    obj = ob.children('.lslide ').first();\n                } else {\n                    obj = ob.children().first();\n                }\n                var setCss = function () {\n                    var tH = obj.outerHeight(),\n                        tP = 0,\n                        tHT = tH;\n                    if (fade) {\n                        tH = 0;\n                        tP = ((tHT) * 100) / elSize;\n                    }\n                    ob.css({\n                        'height': tH + 'px',\n                        'padding-bottom': tP + '%'\n                    });\n                };\n                setCss();\n                if (obj.find('img').length) {\n                    if ( obj.find('img')[0].complete) {\n                        setCss();\n                        if (!interval) {\n                            $this.auto();\n                        }   \n                    }else{\n                        obj.find('img').load(function () {\n                            setTimeout(function () {\n                                setCss();\n                                if (!interval) {\n                                    $this.auto();\n                                }\n                            }, 100);\n                        });\n                    }\n                }else{\n                    if (!interval) {\n                        $this.auto();\n                    }\n                }\n            },\n            active: function (ob, t) {\n                if (this.doCss() && settings.mode === 'fade') {\n                    $slide.addClass('on');\n                }\n                var sc = 0;\n                if (scene * settings.slideMove < length) {\n                    ob.removeClass('active');\n                    if (!this.doCss() && settings.mode === 'fade' && t === false) {\n                        ob.fadeOut(settings.speed);\n                    }\n                    if (t === true) {\n                        sc = scene;\n                    } else {\n                        sc = scene * settings.slideMove;\n                    }\n                    //t === true ? sc = scene : sc = scene * settings.slideMove;\n                    var l, nl;\n                    if (t === true) {\n                        l = ob.length;\n                        nl = l - 1;\n                        if (sc + 1 >= l) {\n                            sc = nl;\n                        }\n                    }\n                    if (settings.loop === true && settings.mode === 'slide') {\n                        //t === true ? sc = scene - $el.find('.clone.left').length : sc = scene * settings.slideMove;\n                        if (t === true) {\n                            sc = scene - $el.find('.clone.left').length;\n                        } else {\n                            sc = scene * settings.slideMove;\n                        }\n                        if (t === true) {\n                            l = ob.length;\n                            nl = l - 1;\n                            if (sc + 1 === l) {\n                                sc = nl;\n                            } else if (sc + 1 > l) {\n                                sc = 0;\n                            }\n                        }\n                    }\n\n                    if (!this.doCss() && settings.mode === 'fade' && t === false) {\n                        ob.eq(sc).fadeIn(settings.speed);\n                    }\n                    ob.eq(sc).addClass('active');\n                } else {\n                    ob.removeClass('active');\n                    ob.eq(ob.length - 1).addClass('active');\n                    if (!this.doCss() && settings.mode === 'fade' && t === false) {\n                        ob.fadeOut(settings.speed);\n                        ob.eq(sc).fadeIn(settings.speed);\n                    }\n                }\n            },\n            move: function (ob, v) {\n                if (settings.rtl === true) {\n                    v = -v;\n                }\n                if (this.doCss()) {\n                    if (settings.vertical === true) {\n                        ob.css({\n                            'transform': 'translate3d(0px, ' + (-v) + 'px, 0px)',\n                            '-webkit-transform': 'translate3d(0px, ' + (-v) + 'px, 0px)'\n                        });\n                    } else {\n                        ob.css({\n                            'transform': 'translate3d(' + (-v) + 'px, 0px, 0px)',\n                            '-webkit-transform': 'translate3d(' + (-v) + 'px, 0px, 0px)',\n                        });\n                    }\n                } else {\n                    if (settings.vertical === true) {\n                        ob.css('position', 'relative').animate({\n                            top: -v + 'px'\n                        }, settings.speed, settings.easing);\n                    } else {\n                        ob.css('position', 'relative').animate({\n                            left: -v + 'px'\n                        }, settings.speed, settings.easing);\n                    }\n                }\n                var $thumb = $slide.parent().find('.lSPager').find('li');\n                this.active($thumb, true);\n            },\n            fade: function () {\n                this.active($children, false);\n                var $thumb = $slide.parent().find('.lSPager').find('li');\n                this.active($thumb, true);\n            },\n            slide: function () {\n                var $this = this;\n                refresh.calSlide = function () {\n                    if (w > elSize) {\n                        slideValue = $this.slideValue();\n                        $this.active($children, false);\n                        if ((slideValue) > w - elSize - settings.slideMargin) {\n                            slideValue = w - elSize - settings.slideMargin;\n                        } else if (slideValue < 0) {\n                            slideValue = 0;\n                        }\n                        $this.move($el, slideValue);\n                        if (settings.loop === true && settings.mode === 'slide') {\n                            if (scene >= (length - ($el.find('.clone.left').length / settings.slideMove))) {\n                                $this.resetSlide($el.find('.clone.left').length);\n                            }\n                            if (scene === 0) {\n                                $this.resetSlide($slide.find('.lslide').length);\n                            }\n                        }\n                    }\n                };\n                refresh.calSlide();\n            },\n            resetSlide: function (s) {\n                var $this = this;\n                $slide.find('.lSAction a').addClass('disabled');\n                setTimeout(function () {\n                    scene = s;\n                    $slide.css('transition-duration', '0ms');\n                    slideValue = $this.slideValue();\n                    $this.active($children, false);\n                    plugin.move($el, slideValue);\n                    setTimeout(function () {\n                        $slide.css('transition-duration', settings.speed + 'ms');\n                        $slide.find('.lSAction a').removeClass('disabled');\n                    }, 50);\n                }, settings.speed + 100);\n            },\n            slideValue: function () {\n                var _sV = 0;\n                if (settings.autoWidth === false) {\n                    _sV = scene * ((slideWidth + settings.slideMargin) * settings.slideMove);\n                } else {\n                    _sV = 0;\n                    for (var i = 0; i < scene; i++) {\n                        _sV += (parseInt($children.eq(i).width()) + settings.slideMargin);\n                    }\n                }\n                return _sV;\n            },\n            slideThumb: function () {\n                var position;\n                switch (settings.currentPagerPosition) {\n                case 'left':\n                    position = 0;\n                    break;\n                case 'middle':\n                    position = (elSize / 2) - (thumbWidth / 2);\n                    break;\n                case 'right':\n                    position = elSize - thumbWidth;\n                }\n                var sc = scene - $el.find('.clone.left').length;\n                var $pager = $slide.parent().find('.lSPager');\n                if (settings.mode === 'slide' && settings.loop === true) {\n                    if (sc >= $pager.children().length) {\n                        sc = 0;\n                    } else if (sc < 0) {\n                        sc = $pager.children().length;\n                    }\n                }\n                var thumbSlide = sc * ((thumbWidth + settings.thumbMargin)) - (position);\n                if ((thumbSlide + elSize) > pagerWidth) {\n                    thumbSlide = pagerWidth - elSize - settings.thumbMargin;\n                }\n                if (thumbSlide < 0) {\n                    thumbSlide = 0;\n                }\n                this.move($pager, thumbSlide);\n            },\n            auto: function () {\n                if (settings.auto) {\n                    clearInterval(interval);\n                    interval = setInterval(function () {\n                        $el.goToNextSlide();\n                    }, settings.pause);\n                }\n            },\n            pauseOnHover: function(){\n                var $this = this;\n                if (settings.auto && settings.pauseOnHover) {\n                    $slide.on('mouseenter', function(){\n                        $(this).addClass('ls-hover');\n                        $el.pause();\n                        settings.auto = true;\n                    });\n                    $slide.on('mouseleave',function(){\n                        $(this).removeClass('ls-hover');\n                        if (!$slide.find('.lightSlider').hasClass('lsGrabbing')) {\n                            $this.auto();\n                        }\n                    });\n                }\n            },\n            touchMove: function (endCoords, startCoords) {\n                $slide.css('transition-duration', '0ms');\n                if (settings.mode === 'slide') {\n                    var distance = endCoords - startCoords;\n                    var swipeVal = slideValue - distance;\n                    if ((swipeVal) >= w - elSize - settings.slideMargin) {\n                        if (settings.freeMove === false) {\n                            swipeVal = w - elSize - settings.slideMargin;\n                        } else {\n                            var swipeValT = w - elSize - settings.slideMargin;\n                            swipeVal = swipeValT + ((swipeVal - swipeValT) / 5);\n\n                        }\n                    } else if (swipeVal < 0) {\n                        if (settings.freeMove === false) {\n                            swipeVal = 0;\n                        } else {\n                            swipeVal = swipeVal / 5;\n                        }\n                    }\n                    this.move($el, swipeVal);\n                }\n            },\n\n            touchEnd: function (distance) {\n                $slide.css('transition-duration', settings.speed + 'ms');\n                if (settings.mode === 'slide') {\n                    var mxVal = false;\n                    var _next = true;\n                    slideValue = slideValue - distance;\n                    if ((slideValue) > w - elSize - settings.slideMargin) {\n                        slideValue = w - elSize - settings.slideMargin;\n                        if (settings.autoWidth === false) {\n                            mxVal = true;\n                        }\n                    } else if (slideValue < 0) {\n                        slideValue = 0;\n                    }\n                    var gC = function (next) {\n                        var ad = 0;\n                        if (!mxVal) {\n                            if (next) {\n                                ad = 1;\n                            }\n                        }\n                        if (!settings.autoWidth) {\n                            var num = slideValue / ((slideWidth + settings.slideMargin) * settings.slideMove);\n                            scene = parseInt(num) + ad;\n                            if (slideValue >= (w - elSize - settings.slideMargin)) {\n                                if (num % 1 !== 0) {\n                                    scene++;\n                                }\n                            }\n                        } else {\n                            var tW = 0;\n                            for (var i = 0; i < $children.length; i++) {\n                                tW += (parseInt($children.eq(i).width()) + settings.slideMargin);\n                                scene = i + ad;\n                                if (tW >= slideValue) {\n                                    break;\n                                }\n                            }\n                        }\n                    };\n                    if (distance >= settings.swipeThreshold) {\n                        gC(false);\n                        _next = false;\n                    } else if (distance <= -settings.swipeThreshold) {\n                        gC(true);\n                        _next = false;\n                    }\n                    $el.mode(_next);\n                    this.slideThumb();\n                } else {\n                    if (distance >= settings.swipeThreshold) {\n                        $el.goToPrevSlide();\n                    } else if (distance <= -settings.swipeThreshold) {\n                        $el.goToNextSlide();\n                    }\n                }\n            },\n\n\n\n            enableDrag: function () {\n                var $this = this;\n                if (!isTouch) {\n                    var startCoords = 0,\n                        endCoords = 0,\n                        isDraging = false;\n                    $slide.find('.lightSlider').addClass('lsGrab');\n                    $slide.on('mousedown', function (e) {\n                        if (w < elSize) {\n                            if (w !== 0) {\n                                return false;\n                            }\n                        }\n                        if ($(e.target).attr('class') !== ('lSPrev') && $(e.target).attr('class') !== ('lSNext')) {\n                            startCoords = (settings.vertical === true) ? e.pageY : e.pageX;\n                            isDraging = true;\n                            if (e.preventDefault) {\n                                e.preventDefault();\n                            } else {\n                                e.returnValue = false;\n                            }\n                            // ** Fix for webkit cursor issue https://code.google.com/p/chromium/issues/detail?id=26723\n                            $slide.scrollLeft += 1;\n                            $slide.scrollLeft -= 1;\n                            // *\n                            $slide.find('.lightSlider').removeClass('lsGrab').addClass('lsGrabbing');\n                            clearInterval(interval);\n                        }\n                    });\n                    $(window).on('mousemove', function (e) {\n                        if (isDraging) {\n                            endCoords = (settings.vertical === true) ? e.pageY : e.pageX;\n                            $this.touchMove(endCoords, startCoords);\n                        }\n                    });\n                    $(window).on('mouseup', function (e) {\n                        if (isDraging) {\n                            $slide.find('.lightSlider').removeClass('lsGrabbing').addClass('lsGrab');\n                            isDraging = false;\n                            endCoords = (settings.vertical === true) ? e.pageY : e.pageX;\n                            var distance = endCoords - startCoords;\n                            if (Math.abs(distance) >= settings.swipeThreshold) {\n                                $(window).on('click.ls', function (e) {\n                                    if (e.preventDefault) {\n                                        e.preventDefault();\n                                    } else {\n                                        e.returnValue = false;\n                                    }\n                                    e.stopImmediatePropagation();\n                                    e.stopPropagation();\n                                    $(window).off('click.ls');\n                                });\n                            }\n\n                            $this.touchEnd(distance);\n\n                        }\n                    });\n                }\n            },\n\n\n\n\n            enableTouch: function () {\n                var $this = this;\n                if (isTouch) {\n                    var startCoords = {},\n                        endCoords = {};\n                    $slide.on('touchstart', function (e) {\n                        endCoords = e.originalEvent.targetTouches[0];\n                        startCoords.pageX = e.originalEvent.targetTouches[0].pageX;\n                        startCoords.pageY = e.originalEvent.targetTouches[0].pageY;\n                        clearInterval(interval);\n                    });\n                    $slide.on('touchmove', function (e) {\n                        if (w < elSize) {\n                            if (w !== 0) {\n                                return false;\n                            }\n                        }\n                        var orig = e.originalEvent;\n                        endCoords = orig.targetTouches[0];\n                        var xMovement = Math.abs(endCoords.pageX - startCoords.pageX);\n                        var yMovement = Math.abs(endCoords.pageY - startCoords.pageY);\n                        if (settings.vertical === true) {\n                            if ((yMovement * 3) > xMovement) {\n                                e.preventDefault();\n                            }\n                            $this.touchMove(endCoords.pageY, startCoords.pageY);\n                        } else {\n                            if ((xMovement * 3) > yMovement) {\n                                e.preventDefault();\n                            }\n                            $this.touchMove(endCoords.pageX, startCoords.pageX);\n                        }\n\n                    });\n                    $slide.on('touchend', function () {\n                        if (w < elSize) {\n                            if (w !== 0) {\n                                return false;\n                            }\n                        }\n                        var distance;\n                        if (settings.vertical === true) {\n                            distance = endCoords.pageY - startCoords.pageY;\n                        } else {\n                            distance = endCoords.pageX - startCoords.pageX;\n                        }\n                        $this.touchEnd(distance);\n                    });\n                }\n            },\n            build: function () {\n                var $this = this;\n                $this.initialStyle();\n                if (this.doCss()) {\n\n                    if (settings.enableTouch === true) {\n                        $this.enableTouch();\n                    }\n                    if (settings.enableDrag === true) {\n                        $this.enableDrag();\n                    }\n                }\n\n                $(window).on('focus', function(){\n                    $this.auto();\n                });\n                \n                $(window).on('blur', function(){\n                    clearInterval(interval);\n                });\n\n                $this.pager();\n                $this.pauseOnHover();\n                $this.controls();\n                $this.keyPress();\n            }\n        };\n        plugin.build();\n        refresh.init = function () {\n            refresh.chbreakpoint();\n            if (settings.vertical === true) {\n                if (settings.item > 1) {\n                    elSize = settings.verticalHeight;\n                } else {\n                    elSize = $children.outerHeight();\n                }\n                $slide.css('height', elSize + 'px');\n            } else {\n                elSize = $slide.outerWidth();\n            }\n            if (settings.loop === true && settings.mode === 'slide') {\n                refresh.clone();\n            }\n            refresh.calL();\n            if (settings.mode === 'slide') {\n                $el.removeClass('lSSlide');\n            }\n            if (settings.mode === 'slide') {\n                refresh.calSW();\n                refresh.sSW();\n            }\n            setTimeout(function () {\n                if (settings.mode === 'slide') {\n                    $el.addClass('lSSlide');\n                }\n            }, 1000);\n            if (settings.pager) {\n                refresh.createPager();\n            }\n            if (settings.adaptiveHeight === true && settings.vertical === false) {\n                $el.css('height', $children.eq(scene).outerHeight(true));\n            }\n            if (settings.adaptiveHeight === false) {\n                if (settings.mode === 'slide') {\n                    if (settings.vertical === false) {\n                        plugin.setHeight($el, false);\n                    }else{\n                        plugin.auto();\n                    }\n                } else {\n                    plugin.setHeight($el, true);\n                }\n            }\n            if (settings.gallery === true) {\n                plugin.slideThumb();\n            }\n            if (settings.mode === 'slide') {\n                plugin.slide();\n            }\n            if (settings.autoWidth === false) {\n                if ($children.length <= settings.item) {\n                    $slide.find('.lSAction').hide();\n                } else {\n                    $slide.find('.lSAction').show();\n                }\n            } else {\n                if ((refresh.calWidth(false) < elSize) && (w !== 0)) {\n                    $slide.find('.lSAction').hide();\n                } else {\n                    $slide.find('.lSAction').show();\n                }\n            }\n        };\n        $el.goToPrevSlide = function () {\n            if (scene > 0) {\n                settings.onBeforePrevSlide.call(this, $el, scene);\n                scene--;\n                $el.mode(false);\n                if (settings.gallery === true) {\n                    plugin.slideThumb();\n                }\n            } else {\n                if (settings.loop === true) {\n                    settings.onBeforePrevSlide.call(this, $el, scene);\n                    if (settings.mode === 'fade') {\n                        var l = (length - 1);\n                        scene = parseInt(l / settings.slideMove);\n                    }\n                    $el.mode(false);\n                    if (settings.gallery === true) {\n                        plugin.slideThumb();\n                    }\n                } else if (settings.slideEndAnimation === true) {\n                    $el.addClass('leftEnd');\n                    setTimeout(function () {\n                        $el.removeClass('leftEnd');\n                    }, 400);\n                }\n            }\n        };\n        $el.goToNextSlide = function () {\n            var nextI = true;\n            if (settings.mode === 'slide') {\n                var _slideValue = plugin.slideValue();\n                nextI = _slideValue < w - elSize - settings.slideMargin;\n            }\n            if (((scene * settings.slideMove) < length - settings.slideMove) && nextI) {\n                settings.onBeforeNextSlide.call(this, $el, scene);\n                scene++;\n                $el.mode(false);\n                if (settings.gallery === true) {\n                    plugin.slideThumb();\n                }\n            } else {\n                if (settings.loop === true) {\n                    settings.onBeforeNextSlide.call(this, $el, scene);\n                    scene = 0;\n                    $el.mode(false);\n                    if (settings.gallery === true) {\n                        plugin.slideThumb();\n                    }\n                } else if (settings.slideEndAnimation === true) {\n                    $el.addClass('rightEnd');\n                    setTimeout(function () {\n                        $el.removeClass('rightEnd');\n                    }, 400);\n                }\n            }\n        };\n        $el.mode = function (_touch) {\n            if (settings.adaptiveHeight === true && settings.vertical === false) {\n                $el.css('height', $children.eq(scene).outerHeight(true));\n            }\n            if (on === false) {\n                if (settings.mode === 'slide') {\n                    if (plugin.doCss()) {\n                        $el.addClass('lSSlide');\n                        if (settings.speed !== '') {\n                            $slide.css('transition-duration', settings.speed + 'ms');\n                        }\n                        if (settings.cssEasing !== '') {\n                            $slide.css('transition-timing-function', settings.cssEasing);\n                        }\n                    }\n                } else {\n                    if (plugin.doCss()) {\n                        if (settings.speed !== '') {\n                            $el.css('transition-duration', settings.speed + 'ms');\n                        }\n                        if (settings.cssEasing !== '') {\n                            $el.css('transition-timing-function', settings.cssEasing);\n                        }\n                    }\n                }\n            }\n            if (!_touch) {\n                settings.onBeforeSlide.call(this, $el, scene);\n            }\n            if (settings.mode === 'slide') {\n                plugin.slide();\n            } else {\n                plugin.fade();\n            }\n            if (!$slide.hasClass('ls-hover')) {\n                plugin.auto();\n            }\n            setTimeout(function () {\n                if (!_touch) {\n                    settings.onAfterSlide.call(this, $el, scene);\n                }\n            }, settings.speed);\n            on = true;\n        };\n        $el.play = function () {\n            $el.goToNextSlide();\n            settings.auto = true;\n            plugin.auto();\n        };\n        $el.pause = function () {\n            settings.auto = false;\n            clearInterval(interval);\n        };\n        $el.refresh = function () {\n            refresh.init();\n        };\n        $el.getCurrentSlideCount = function () {\n            var sc = scene;\n            if (settings.loop) {\n                var ln = $slide.find('.lslide').length,\n                    cl = $el.find('.clone.left').length;\n                if (scene <= cl - 1) {\n                    sc = ln + (scene - cl);\n                } else if (scene >= (ln + cl)) {\n                    sc = scene - ln - cl;\n                } else {\n                    sc = scene - cl;\n                }\n            }\n            return sc + 1;\n        }; \n        $el.getTotalSlideCount = function () {\n            return $slide.find('.lslide').length;\n        };\n        $el.goToSlide = function (s) {\n            if (settings.loop) {\n                scene = (s + $el.find('.clone.left').length - 1);\n            } else {\n                scene = s;\n            }\n            $el.mode(false);\n            if (settings.gallery === true) {\n                plugin.slideThumb();\n            }\n        };\n        $el.destroy = function () {\n            if ($el.lightSlider) {\n                $el.goToPrevSlide = function(){};\n                $el.goToNextSlide = function(){};\n                $el.mode = function(){};\n                $el.play = function(){};\n                $el.pause = function(){};\n                $el.refresh = function(){};\n                $el.getCurrentSlideCount = function(){};\n                $el.getTotalSlideCount = function(){};\n                $el.goToSlide = function(){}; \n                $el.lightSlider = null;\n                refresh = {\n                    init : function(){}\n                };\n                $el.parent().parent().find('.lSAction, .lSPager').remove();\n                $el.removeClass('lightSlider lSFade lSSlide lsGrab lsGrabbing leftEnd right').removeAttr('style').unwrap().unwrap();\n                $el.children().removeAttr('style');\n                $children.removeClass('lslide active');\n                $el.find('.clone').remove();\n                $children = null;\n                interval = null;\n                on = false;\n                scene = 0;\n            }\n\n        };\n        setTimeout(function () {\n            settings.onSliderLoad.call(this, $el);\n        }, 10);\n        $(window).on('resize orientationchange', function (e) {\n            setTimeout(function () {\n                if (e.preventDefault) {\n                    e.preventDefault();\n                } else {\n                    e.returnValue = false;\n                }\n                refresh.init();\n            }, 200);\n        });\n        return this;\n    };\n}(jQuery));","source":"lightslider/js/lightslider.js","raw":"/*! lightslider - v1.1.5 - 2015-10-31\n* https://github.com/sachinchoolur/lightslider\n* Copyright (c) 2015 Sachin N; Licensed MIT */\n(function ($, undefined) {\n    'use strict';\n    var defaults = {\n        item: 3,\n        autoWidth: false,\n        slideMove: 1,\n        slideMargin: 10,\n        addClass: '',\n        mode: 'slide',\n        useCSS: true,\n        cssEasing: 'ease', //'cubic-bezier(0.25, 0, 0.25, 1)',\n        easing: 'linear', //'for jquery animation',//\n        speed: 400, //ms'\n        auto: false,\n        pauseOnHover: false,\n        loop: false,\n        slideEndAnimation: true,\n        pause: 2000,\n        keyPress: false,\n        controls: true,\n        prevHtml: '',\n        nextHtml: '',\n        rtl: false,\n        adaptiveHeight: false,\n        vertical: false,\n        verticalHeight: 500,\n        vThumbWidth: 100,\n        thumbItem: 10,\n        pager: true,\n        gallery: false,\n        galleryMargin: 5,\n        thumbMargin: 5,\n        currentPagerPosition: 'middle',\n        enableTouch: true,\n        enableDrag: true,\n        freeMove: true,\n        swipeThreshold: 40,\n        responsive: [],\n        /* jshint ignore:start */\n        onBeforeStart: function ($el) {},\n        onSliderLoad: function ($el) {},\n        onBeforeSlide: function ($el, scene) {},\n        onAfterSlide: function ($el, scene) {},\n        onBeforeNextSlide: function ($el, scene) {},\n        onBeforePrevSlide: function ($el, scene) {}\n        /* jshint ignore:end */\n    };\n    $.fn.lightSlider = function (options) {\n        if (this.length === 0) {\n            return this;\n        }\n\n        if (this.length > 1) {\n            this.each(function () {\n                $(this).lightSlider(options);\n            });\n            return this;\n        }\n\n        var plugin = {},\n            settings = $.extend(true, {}, defaults, options),\n            settingsTemp = {},\n            $el = this;\n        plugin.$el = this;\n\n        if (settings.mode === 'fade') {\n            settings.vertical = false;\n        }\n        var $children = $el.children(),\n            windowW = $(window).width(),\n            breakpoint = null,\n            resposiveObj = null,\n            length = 0,\n            w = 0,\n            on = false,\n            elSize = 0,\n            $slide = '',\n            scene = 0,\n            property = (settings.vertical === true) ? 'height' : 'width',\n            gutter = (settings.vertical === true) ? 'margin-bottom' : 'margin-right',\n            slideValue = 0,\n            pagerWidth = 0,\n            slideWidth = 0,\n            thumbWidth = 0,\n            interval = null,\n            isTouch = ('ontouchstart' in document.documentElement);\n        var refresh = {};\n\n        refresh.chbreakpoint = function () {\n            windowW = $(window).width();\n            if (settings.responsive.length) {\n                var item;\n                if (settings.autoWidth === false) {\n                    item = settings.item;\n                }\n                if (windowW < settings.responsive[0].breakpoint) {\n                    for (var i = 0; i < settings.responsive.length; i++) {\n                        if (windowW < settings.responsive[i].breakpoint) {\n                            breakpoint = settings.responsive[i].breakpoint;\n                            resposiveObj = settings.responsive[i];\n                        }\n                    }\n                }\n                if (typeof resposiveObj !== 'undefined' && resposiveObj !== null) {\n                    for (var j in resposiveObj.settings) {\n                        if (resposiveObj.settings.hasOwnProperty(j)) {\n                            if (typeof settingsTemp[j] === 'undefined' || settingsTemp[j] === null) {\n                                settingsTemp[j] = settings[j];\n                            }\n                            settings[j] = resposiveObj.settings[j];\n                        }\n                    }\n                }\n                if (!$.isEmptyObject(settingsTemp) && windowW > settings.responsive[0].breakpoint) {\n                    for (var k in settingsTemp) {\n                        if (settingsTemp.hasOwnProperty(k)) {\n                            settings[k] = settingsTemp[k];\n                        }\n                    }\n                }\n                if (settings.autoWidth === false) {\n                    if (slideValue > 0 && slideWidth > 0) {\n                        if (item !== settings.item) {\n                            scene = Math.round(slideValue / ((slideWidth + settings.slideMargin) * settings.slideMove));\n                        }\n                    }\n                }\n            }\n        };\n\n        refresh.calSW = function () {\n            if (settings.autoWidth === false) {\n                slideWidth = (elSize - ((settings.item * (settings.slideMargin)) - settings.slideMargin)) / settings.item;\n            }\n        };\n\n        refresh.calWidth = function (cln) {\n            var ln = cln === true ? $slide.find('.lslide').length : $children.length;\n            if (settings.autoWidth === false) {\n                w = ln * (slideWidth + settings.slideMargin);\n            } else {\n                w = 0;\n                for (var i = 0; i < ln; i++) {\n                    w += (parseInt($children.eq(i).width()) + settings.slideMargin);\n                }\n            }\n            return w;\n        };\n        plugin = {\n            doCss: function () {\n                var support = function () {\n                    var transition = ['transition', 'MozTransition', 'WebkitTransition', 'OTransition', 'msTransition', 'KhtmlTransition'];\n                    var root = document.documentElement;\n                    for (var i = 0; i < transition.length; i++) {\n                        if (transition[i] in root.style) {\n                            return true;\n                        }\n                    }\n                };\n                if (settings.useCSS && support()) {\n                    return true;\n                }\n                return false;\n            },\n            keyPress: function () {\n                if (settings.keyPress) {\n                    $(document).on('keyup.lightslider', function (e) {\n                        if (!$(':focus').is('input, textarea')) {\n                            if (e.preventDefault) {\n                                e.preventDefault();\n                            } else {\n                                e.returnValue = false;\n                            }\n                            if (e.keyCode === 37) {\n                                $el.goToPrevSlide();\n                            } else if (e.keyCode === 39) {\n                                $el.goToNextSlide();\n                            }\n                        }\n                    });\n                }\n            },\n            controls: function () {\n                if (settings.controls) {\n                    $el.after('<div class=\"lSAction\"><a class=\"lSPrev\">' + settings.prevHtml + '</a><a class=\"lSNext\">' + settings.nextHtml + '</a></div>');\n                    if (!settings.autoWidth) {\n                        if (length <= settings.item) {\n                            $slide.find('.lSAction').hide();\n                        }\n                    } else {\n                        if (refresh.calWidth(false) < elSize) {\n                            $slide.find('.lSAction').hide();\n                        }\n                    }\n                    $slide.find('.lSAction a').on('click', function (e) {\n                        if (e.preventDefault) {\n                            e.preventDefault();\n                        } else {\n                            e.returnValue = false;\n                        }\n                        if ($(this).attr('class') === 'lSPrev') {\n                            $el.goToPrevSlide();\n                        } else {\n                            $el.goToNextSlide();\n                        }\n                        return false;\n                    });\n                }\n            },\n            initialStyle: function () {\n                var $this = this;\n                if (settings.mode === 'fade') {\n                    settings.autoWidth = false;\n                    settings.slideEndAnimation = false;\n                }\n                if (settings.auto) {\n                    settings.slideEndAnimation = false;\n                }\n                if (settings.autoWidth) {\n                    settings.slideMove = 1;\n                    settings.item = 1;\n                }\n                if (settings.loop) {\n                    settings.slideMove = 1;\n                    settings.freeMove = false;\n                }\n                settings.onBeforeStart.call(this, $el);\n                refresh.chbreakpoint();\n                $el.addClass('lightSlider').wrap('<div class=\"lSSlideOuter ' + settings.addClass + '\"><div class=\"lSSlideWrapper\"></div></div>');\n                $slide = $el.parent('.lSSlideWrapper');\n                if (settings.rtl === true) {\n                    $slide.parent().addClass('lSrtl');\n                }\n                if (settings.vertical) {\n                    $slide.parent().addClass('vertical');\n                    elSize = settings.verticalHeight;\n                    $slide.css('height', elSize + 'px');\n                } else {\n                    elSize = $el.outerWidth();\n                }\n                $children.addClass('lslide');\n                if (settings.loop === true && settings.mode === 'slide') {\n                    refresh.calSW();\n                    refresh.clone = function () {\n                        if (refresh.calWidth(true) > elSize) {\n                            /**/\n                            var tWr = 0,\n                                tI = 0;\n                            for (var k = 0; k < $children.length; k++) {\n                                tWr += (parseInt($el.find('.lslide').eq(k).width()) + settings.slideMargin);\n                                tI++;\n                                if (tWr >= (elSize + settings.slideMargin)) {\n                                    break;\n                                }\n                            }\n                            var tItem = settings.autoWidth === true ? tI : settings.item;\n\n                            /**/\n                            if (tItem < $el.find('.clone.left').length) {\n                                for (var i = 0; i < $el.find('.clone.left').length - tItem; i++) {\n                                    $children.eq(i).remove();\n                                }\n                            }\n                            if (tItem < $el.find('.clone.right').length) {\n                                for (var j = $children.length - 1; j > ($children.length - 1 - $el.find('.clone.right').length); j--) {\n                                    scene--;\n                                    $children.eq(j).remove();\n                                }\n                            }\n                            /**/\n                            for (var n = $el.find('.clone.right').length; n < tItem; n++) {\n                                $el.find('.lslide').eq(n).clone().removeClass('lslide').addClass('clone right').appendTo($el);\n                                scene++;\n                            }\n                            for (var m = $el.find('.lslide').length - $el.find('.clone.left').length; m > ($el.find('.lslide').length - tItem); m--) {\n                                $el.find('.lslide').eq(m - 1).clone().removeClass('lslide').addClass('clone left').prependTo($el);\n                            }\n                            $children = $el.children();\n                        } else {\n                            if ($children.hasClass('clone')) {\n                                $el.find('.clone').remove();\n                                $this.move($el, 0);\n                            }\n                        }\n                    };\n                    refresh.clone();\n                }\n                refresh.sSW = function () {\n                    length = $children.length;\n                    if (settings.rtl === true && settings.vertical === false) {\n                        gutter = 'margin-left';\n                    }\n                    if (settings.autoWidth === false) {\n                        $children.css(property, slideWidth + 'px');\n                    }\n                    $children.css(gutter, settings.slideMargin + 'px');\n                    w = refresh.calWidth(false);\n                    $el.css(property, w + 'px');\n                    if (settings.loop === true && settings.mode === 'slide') {\n                        if (on === false) {\n                            scene = $el.find('.clone.left').length;\n                        }\n                    }\n                };\n                refresh.calL = function () {\n                    $children = $el.children();\n                    length = $children.length;\n                };\n                if (this.doCss()) {\n                    $slide.addClass('usingCss');\n                }\n                refresh.calL();\n                if (settings.mode === 'slide') {\n                    refresh.calSW();\n                    refresh.sSW();\n                    if (settings.loop === true) {\n                        slideValue = $this.slideValue();\n                        this.move($el, slideValue);\n                    }\n                    if (settings.vertical === false) {\n                        this.setHeight($el, false);\n                    }\n\n                } else {\n                    this.setHeight($el, true);\n                    $el.addClass('lSFade');\n                    if (!this.doCss()) {\n                        $children.fadeOut(0);\n                        $children.eq(scene).fadeIn(0);\n                    }\n                }\n                if (settings.loop === true && settings.mode === 'slide') {\n                    $children.eq(scene).addClass('active');\n                } else {\n                    $children.first().addClass('active');\n                }\n            },\n            pager: function () {\n                var $this = this;\n                refresh.createPager = function () {\n                    thumbWidth = (elSize - ((settings.thumbItem * (settings.thumbMargin)) - settings.thumbMargin)) / settings.thumbItem;\n                    var $children = $slide.find('.lslide');\n                    var length = $slide.find('.lslide').length;\n                    var i = 0,\n                        pagers = '',\n                        v = 0;\n                    for (i = 0; i < length; i++) {\n                        if (settings.mode === 'slide') {\n                            // calculate scene * slide value\n                            if (!settings.autoWidth) {\n                                v = i * ((slideWidth + settings.slideMargin) * settings.slideMove);\n                            } else {\n                                v += ((parseInt($children.eq(i).width()) + settings.slideMargin) * settings.slideMove);\n                            }\n                        }\n                        var thumb = $children.eq(i * settings.slideMove).attr('data-thumb');\n                        if (settings.gallery === true) {\n                            pagers += '<li style=\"width:100%;' + property + ':' + thumbWidth + 'px;' + gutter + ':' + settings.thumbMargin + 'px\"><a href=\"#\"><img src=\"' + thumb + '\" /></a></li>';\n                        } else {\n                            pagers += '<li><a href=\"#\">' + (i + 1) + '</a></li>';\n                        }\n                        if (settings.mode === 'slide') {\n                            if ((v) >= w - elSize - settings.slideMargin) {\n                                i = i + 1;\n                                var minPgr = 2;\n                                if (settings.autoWidth) {\n                                    pagers += '<li><a href=\"#\">' + (i + 1) + '</a></li>';\n                                    minPgr = 1;\n                                }\n                                if (i < minPgr) {\n                                    pagers = null;\n                                    $slide.parent().addClass('noPager');\n                                } else {\n                                    $slide.parent().removeClass('noPager');\n                                }\n                                break;\n                            }\n                        }\n                    }\n                    var $cSouter = $slide.parent();\n                    $cSouter.find('.lSPager').html(pagers); \n                    if (settings.gallery === true) {\n                        if (settings.vertical === true) {\n                            // set Gallery thumbnail width\n                            $cSouter.find('.lSPager').css('width', settings.vThumbWidth + 'px');\n                        }\n                        pagerWidth = (i * (settings.thumbMargin + thumbWidth)) + 0.5;\n                        $cSouter.find('.lSPager').css({\n                            property: pagerWidth + 'px',\n                            'transition-duration': settings.speed + 'ms'\n                        });\n                        if (settings.vertical === true) {\n                            $slide.parent().css('padding-right', (settings.vThumbWidth + settings.galleryMargin) + 'px');\n                        }\n                        $cSouter.find('.lSPager').css(property, pagerWidth + 'px');\n                    }\n                    var $pager = $cSouter.find('.lSPager').find('li');\n                    $pager.first().addClass('active');\n                    $pager.on('click', function () {\n                        if (settings.loop === true && settings.mode === 'slide') {\n                            scene = scene + ($pager.index(this) - $cSouter.find('.lSPager').find('li.active').index());\n                        } else {\n                            scene = $pager.index(this);\n                        }\n                        $el.mode(false);\n                        if (settings.gallery === true) {\n                            $this.slideThumb();\n                        }\n                        return false;\n                    });\n                };\n                if (settings.pager) {\n                    var cl = 'lSpg';\n                    if (settings.gallery) {\n                        cl = 'lSGallery';\n                    }\n                    $slide.after('<ul class=\"lSPager ' + cl + '\"></ul>');\n                    var gMargin = (settings.vertical) ? 'margin-left' : 'margin-top';\n                    $slide.parent().find('.lSPager').css(gMargin, settings.galleryMargin + 'px');\n                    refresh.createPager();\n                }\n\n                setTimeout(function () {\n                    refresh.init();\n                }, 0);\n            },\n            setHeight: function (ob, fade) {\n                var obj = null,\n                    $this = this;\n                if (settings.loop) {\n                    obj = ob.children('.lslide ').first();\n                } else {\n                    obj = ob.children().first();\n                }\n                var setCss = function () {\n                    var tH = obj.outerHeight(),\n                        tP = 0,\n                        tHT = tH;\n                    if (fade) {\n                        tH = 0;\n                        tP = ((tHT) * 100) / elSize;\n                    }\n                    ob.css({\n                        'height': tH + 'px',\n                        'padding-bottom': tP + '%'\n                    });\n                };\n                setCss();\n                if (obj.find('img').length) {\n                    if ( obj.find('img')[0].complete) {\n                        setCss();\n                        if (!interval) {\n                            $this.auto();\n                        }   \n                    }else{\n                        obj.find('img').load(function () {\n                            setTimeout(function () {\n                                setCss();\n                                if (!interval) {\n                                    $this.auto();\n                                }\n                            }, 100);\n                        });\n                    }\n                }else{\n                    if (!interval) {\n                        $this.auto();\n                    }\n                }\n            },\n            active: function (ob, t) {\n                if (this.doCss() && settings.mode === 'fade') {\n                    $slide.addClass('on');\n                }\n                var sc = 0;\n                if (scene * settings.slideMove < length) {\n                    ob.removeClass('active');\n                    if (!this.doCss() && settings.mode === 'fade' && t === false) {\n                        ob.fadeOut(settings.speed);\n                    }\n                    if (t === true) {\n                        sc = scene;\n                    } else {\n                        sc = scene * settings.slideMove;\n                    }\n                    //t === true ? sc = scene : sc = scene * settings.slideMove;\n                    var l, nl;\n                    if (t === true) {\n                        l = ob.length;\n                        nl = l - 1;\n                        if (sc + 1 >= l) {\n                            sc = nl;\n                        }\n                    }\n                    if (settings.loop === true && settings.mode === 'slide') {\n                        //t === true ? sc = scene - $el.find('.clone.left').length : sc = scene * settings.slideMove;\n                        if (t === true) {\n                            sc = scene - $el.find('.clone.left').length;\n                        } else {\n                            sc = scene * settings.slideMove;\n                        }\n                        if (t === true) {\n                            l = ob.length;\n                            nl = l - 1;\n                            if (sc + 1 === l) {\n                                sc = nl;\n                            } else if (sc + 1 > l) {\n                                sc = 0;\n                            }\n                        }\n                    }\n\n                    if (!this.doCss() && settings.mode === 'fade' && t === false) {\n                        ob.eq(sc).fadeIn(settings.speed);\n                    }\n                    ob.eq(sc).addClass('active');\n                } else {\n                    ob.removeClass('active');\n                    ob.eq(ob.length - 1).addClass('active');\n                    if (!this.doCss() && settings.mode === 'fade' && t === false) {\n                        ob.fadeOut(settings.speed);\n                        ob.eq(sc).fadeIn(settings.speed);\n                    }\n                }\n            },\n            move: function (ob, v) {\n                if (settings.rtl === true) {\n                    v = -v;\n                }\n                if (this.doCss()) {\n                    if (settings.vertical === true) {\n                        ob.css({\n                            'transform': 'translate3d(0px, ' + (-v) + 'px, 0px)',\n                            '-webkit-transform': 'translate3d(0px, ' + (-v) + 'px, 0px)'\n                        });\n                    } else {\n                        ob.css({\n                            'transform': 'translate3d(' + (-v) + 'px, 0px, 0px)',\n                            '-webkit-transform': 'translate3d(' + (-v) + 'px, 0px, 0px)',\n                        });\n                    }\n                } else {\n                    if (settings.vertical === true) {\n                        ob.css('position', 'relative').animate({\n                            top: -v + 'px'\n                        }, settings.speed, settings.easing);\n                    } else {\n                        ob.css('position', 'relative').animate({\n                            left: -v + 'px'\n                        }, settings.speed, settings.easing);\n                    }\n                }\n                var $thumb = $slide.parent().find('.lSPager').find('li');\n                this.active($thumb, true);\n            },\n            fade: function () {\n                this.active($children, false);\n                var $thumb = $slide.parent().find('.lSPager').find('li');\n                this.active($thumb, true);\n            },\n            slide: function () {\n                var $this = this;\n                refresh.calSlide = function () {\n                    if (w > elSize) {\n                        slideValue = $this.slideValue();\n                        $this.active($children, false);\n                        if ((slideValue) > w - elSize - settings.slideMargin) {\n                            slideValue = w - elSize - settings.slideMargin;\n                        } else if (slideValue < 0) {\n                            slideValue = 0;\n                        }\n                        $this.move($el, slideValue);\n                        if (settings.loop === true && settings.mode === 'slide') {\n                            if (scene >= (length - ($el.find('.clone.left').length / settings.slideMove))) {\n                                $this.resetSlide($el.find('.clone.left').length);\n                            }\n                            if (scene === 0) {\n                                $this.resetSlide($slide.find('.lslide').length);\n                            }\n                        }\n                    }\n                };\n                refresh.calSlide();\n            },\n            resetSlide: function (s) {\n                var $this = this;\n                $slide.find('.lSAction a').addClass('disabled');\n                setTimeout(function () {\n                    scene = s;\n                    $slide.css('transition-duration', '0ms');\n                    slideValue = $this.slideValue();\n                    $this.active($children, false);\n                    plugin.move($el, slideValue);\n                    setTimeout(function () {\n                        $slide.css('transition-duration', settings.speed + 'ms');\n                        $slide.find('.lSAction a').removeClass('disabled');\n                    }, 50);\n                }, settings.speed + 100);\n            },\n            slideValue: function () {\n                var _sV = 0;\n                if (settings.autoWidth === false) {\n                    _sV = scene * ((slideWidth + settings.slideMargin) * settings.slideMove);\n                } else {\n                    _sV = 0;\n                    for (var i = 0; i < scene; i++) {\n                        _sV += (parseInt($children.eq(i).width()) + settings.slideMargin);\n                    }\n                }\n                return _sV;\n            },\n            slideThumb: function () {\n                var position;\n                switch (settings.currentPagerPosition) {\n                case 'left':\n                    position = 0;\n                    break;\n                case 'middle':\n                    position = (elSize / 2) - (thumbWidth / 2);\n                    break;\n                case 'right':\n                    position = elSize - thumbWidth;\n                }\n                var sc = scene - $el.find('.clone.left').length;\n                var $pager = $slide.parent().find('.lSPager');\n                if (settings.mode === 'slide' && settings.loop === true) {\n                    if (sc >= $pager.children().length) {\n                        sc = 0;\n                    } else if (sc < 0) {\n                        sc = $pager.children().length;\n                    }\n                }\n                var thumbSlide = sc * ((thumbWidth + settings.thumbMargin)) - (position);\n                if ((thumbSlide + elSize) > pagerWidth) {\n                    thumbSlide = pagerWidth - elSize - settings.thumbMargin;\n                }\n                if (thumbSlide < 0) {\n                    thumbSlide = 0;\n                }\n                this.move($pager, thumbSlide);\n            },\n            auto: function () {\n                if (settings.auto) {\n                    clearInterval(interval);\n                    interval = setInterval(function () {\n                        $el.goToNextSlide();\n                    }, settings.pause);\n                }\n            },\n            pauseOnHover: function(){\n                var $this = this;\n                if (settings.auto && settings.pauseOnHover) {\n                    $slide.on('mouseenter', function(){\n                        $(this).addClass('ls-hover');\n                        $el.pause();\n                        settings.auto = true;\n                    });\n                    $slide.on('mouseleave',function(){\n                        $(this).removeClass('ls-hover');\n                        if (!$slide.find('.lightSlider').hasClass('lsGrabbing')) {\n                            $this.auto();\n                        }\n                    });\n                }\n            },\n            touchMove: function (endCoords, startCoords) {\n                $slide.css('transition-duration', '0ms');\n                if (settings.mode === 'slide') {\n                    var distance = endCoords - startCoords;\n                    var swipeVal = slideValue - distance;\n                    if ((swipeVal) >= w - elSize - settings.slideMargin) {\n                        if (settings.freeMove === false) {\n                            swipeVal = w - elSize - settings.slideMargin;\n                        } else {\n                            var swipeValT = w - elSize - settings.slideMargin;\n                            swipeVal = swipeValT + ((swipeVal - swipeValT) / 5);\n\n                        }\n                    } else if (swipeVal < 0) {\n                        if (settings.freeMove === false) {\n                            swipeVal = 0;\n                        } else {\n                            swipeVal = swipeVal / 5;\n                        }\n                    }\n                    this.move($el, swipeVal);\n                }\n            },\n\n            touchEnd: function (distance) {\n                $slide.css('transition-duration', settings.speed + 'ms');\n                if (settings.mode === 'slide') {\n                    var mxVal = false;\n                    var _next = true;\n                    slideValue = slideValue - distance;\n                    if ((slideValue) > w - elSize - settings.slideMargin) {\n                        slideValue = w - elSize - settings.slideMargin;\n                        if (settings.autoWidth === false) {\n                            mxVal = true;\n                        }\n                    } else if (slideValue < 0) {\n                        slideValue = 0;\n                    }\n                    var gC = function (next) {\n                        var ad = 0;\n                        if (!mxVal) {\n                            if (next) {\n                                ad = 1;\n                            }\n                        }\n                        if (!settings.autoWidth) {\n                            var num = slideValue / ((slideWidth + settings.slideMargin) * settings.slideMove);\n                            scene = parseInt(num) + ad;\n                            if (slideValue >= (w - elSize - settings.slideMargin)) {\n                                if (num % 1 !== 0) {\n                                    scene++;\n                                }\n                            }\n                        } else {\n                            var tW = 0;\n                            for (var i = 0; i < $children.length; i++) {\n                                tW += (parseInt($children.eq(i).width()) + settings.slideMargin);\n                                scene = i + ad;\n                                if (tW >= slideValue) {\n                                    break;\n                                }\n                            }\n                        }\n                    };\n                    if (distance >= settings.swipeThreshold) {\n                        gC(false);\n                        _next = false;\n                    } else if (distance <= -settings.swipeThreshold) {\n                        gC(true);\n                        _next = false;\n                    }\n                    $el.mode(_next);\n                    this.slideThumb();\n                } else {\n                    if (distance >= settings.swipeThreshold) {\n                        $el.goToPrevSlide();\n                    } else if (distance <= -settings.swipeThreshold) {\n                        $el.goToNextSlide();\n                    }\n                }\n            },\n\n\n\n            enableDrag: function () {\n                var $this = this;\n                if (!isTouch) {\n                    var startCoords = 0,\n                        endCoords = 0,\n                        isDraging = false;\n                    $slide.find('.lightSlider').addClass('lsGrab');\n                    $slide.on('mousedown', function (e) {\n                        if (w < elSize) {\n                            if (w !== 0) {\n                                return false;\n                            }\n                        }\n                        if ($(e.target).attr('class') !== ('lSPrev') && $(e.target).attr('class') !== ('lSNext')) {\n                            startCoords = (settings.vertical === true) ? e.pageY : e.pageX;\n                            isDraging = true;\n                            if (e.preventDefault) {\n                                e.preventDefault();\n                            } else {\n                                e.returnValue = false;\n                            }\n                            // ** Fix for webkit cursor issue https://code.google.com/p/chromium/issues/detail?id=26723\n                            $slide.scrollLeft += 1;\n                            $slide.scrollLeft -= 1;\n                            // *\n                            $slide.find('.lightSlider').removeClass('lsGrab').addClass('lsGrabbing');\n                            clearInterval(interval);\n                        }\n                    });\n                    $(window).on('mousemove', function (e) {\n                        if (isDraging) {\n                            endCoords = (settings.vertical === true) ? e.pageY : e.pageX;\n                            $this.touchMove(endCoords, startCoords);\n                        }\n                    });\n                    $(window).on('mouseup', function (e) {\n                        if (isDraging) {\n                            $slide.find('.lightSlider').removeClass('lsGrabbing').addClass('lsGrab');\n                            isDraging = false;\n                            endCoords = (settings.vertical === true) ? e.pageY : e.pageX;\n                            var distance = endCoords - startCoords;\n                            if (Math.abs(distance) >= settings.swipeThreshold) {\n                                $(window).on('click.ls', function (e) {\n                                    if (e.preventDefault) {\n                                        e.preventDefault();\n                                    } else {\n                                        e.returnValue = false;\n                                    }\n                                    e.stopImmediatePropagation();\n                                    e.stopPropagation();\n                                    $(window).off('click.ls');\n                                });\n                            }\n\n                            $this.touchEnd(distance);\n\n                        }\n                    });\n                }\n            },\n\n\n\n\n            enableTouch: function () {\n                var $this = this;\n                if (isTouch) {\n                    var startCoords = {},\n                        endCoords = {};\n                    $slide.on('touchstart', function (e) {\n                        endCoords = e.originalEvent.targetTouches[0];\n                        startCoords.pageX = e.originalEvent.targetTouches[0].pageX;\n                        startCoords.pageY = e.originalEvent.targetTouches[0].pageY;\n                        clearInterval(interval);\n                    });\n                    $slide.on('touchmove', function (e) {\n                        if (w < elSize) {\n                            if (w !== 0) {\n                                return false;\n                            }\n                        }\n                        var orig = e.originalEvent;\n                        endCoords = orig.targetTouches[0];\n                        var xMovement = Math.abs(endCoords.pageX - startCoords.pageX);\n                        var yMovement = Math.abs(endCoords.pageY - startCoords.pageY);\n                        if (settings.vertical === true) {\n                            if ((yMovement * 3) > xMovement) {\n                                e.preventDefault();\n                            }\n                            $this.touchMove(endCoords.pageY, startCoords.pageY);\n                        } else {\n                            if ((xMovement * 3) > yMovement) {\n                                e.preventDefault();\n                            }\n                            $this.touchMove(endCoords.pageX, startCoords.pageX);\n                        }\n\n                    });\n                    $slide.on('touchend', function () {\n                        if (w < elSize) {\n                            if (w !== 0) {\n                                return false;\n                            }\n                        }\n                        var distance;\n                        if (settings.vertical === true) {\n                            distance = endCoords.pageY - startCoords.pageY;\n                        } else {\n                            distance = endCoords.pageX - startCoords.pageX;\n                        }\n                        $this.touchEnd(distance);\n                    });\n                }\n            },\n            build: function () {\n                var $this = this;\n                $this.initialStyle();\n                if (this.doCss()) {\n\n                    if (settings.enableTouch === true) {\n                        $this.enableTouch();\n                    }\n                    if (settings.enableDrag === true) {\n                        $this.enableDrag();\n                    }\n                }\n\n                $(window).on('focus', function(){\n                    $this.auto();\n                });\n                \n                $(window).on('blur', function(){\n                    clearInterval(interval);\n                });\n\n                $this.pager();\n                $this.pauseOnHover();\n                $this.controls();\n                $this.keyPress();\n            }\n        };\n        plugin.build();\n        refresh.init = function () {\n            refresh.chbreakpoint();\n            if (settings.vertical === true) {\n                if (settings.item > 1) {\n                    elSize = settings.verticalHeight;\n                } else {\n                    elSize = $children.outerHeight();\n                }\n                $slide.css('height', elSize + 'px');\n            } else {\n                elSize = $slide.outerWidth();\n            }\n            if (settings.loop === true && settings.mode === 'slide') {\n                refresh.clone();\n            }\n            refresh.calL();\n            if (settings.mode === 'slide') {\n                $el.removeClass('lSSlide');\n            }\n            if (settings.mode === 'slide') {\n                refresh.calSW();\n                refresh.sSW();\n            }\n            setTimeout(function () {\n                if (settings.mode === 'slide') {\n                    $el.addClass('lSSlide');\n                }\n            }, 1000);\n            if (settings.pager) {\n                refresh.createPager();\n            }\n            if (settings.adaptiveHeight === true && settings.vertical === false) {\n                $el.css('height', $children.eq(scene).outerHeight(true));\n            }\n            if (settings.adaptiveHeight === false) {\n                if (settings.mode === 'slide') {\n                    if (settings.vertical === false) {\n                        plugin.setHeight($el, false);\n                    }else{\n                        plugin.auto();\n                    }\n                } else {\n                    plugin.setHeight($el, true);\n                }\n            }\n            if (settings.gallery === true) {\n                plugin.slideThumb();\n            }\n            if (settings.mode === 'slide') {\n                plugin.slide();\n            }\n            if (settings.autoWidth === false) {\n                if ($children.length <= settings.item) {\n                    $slide.find('.lSAction').hide();\n                } else {\n                    $slide.find('.lSAction').show();\n                }\n            } else {\n                if ((refresh.calWidth(false) < elSize) && (w !== 0)) {\n                    $slide.find('.lSAction').hide();\n                } else {\n                    $slide.find('.lSAction').show();\n                }\n            }\n        };\n        $el.goToPrevSlide = function () {\n            if (scene > 0) {\n                settings.onBeforePrevSlide.call(this, $el, scene);\n                scene--;\n                $el.mode(false);\n                if (settings.gallery === true) {\n                    plugin.slideThumb();\n                }\n            } else {\n                if (settings.loop === true) {\n                    settings.onBeforePrevSlide.call(this, $el, scene);\n                    if (settings.mode === 'fade') {\n                        var l = (length - 1);\n                        scene = parseInt(l / settings.slideMove);\n                    }\n                    $el.mode(false);\n                    if (settings.gallery === true) {\n                        plugin.slideThumb();\n                    }\n                } else if (settings.slideEndAnimation === true) {\n                    $el.addClass('leftEnd');\n                    setTimeout(function () {\n                        $el.removeClass('leftEnd');\n                    }, 400);\n                }\n            }\n        };\n        $el.goToNextSlide = function () {\n            var nextI = true;\n            if (settings.mode === 'slide') {\n                var _slideValue = plugin.slideValue();\n                nextI = _slideValue < w - elSize - settings.slideMargin;\n            }\n            if (((scene * settings.slideMove) < length - settings.slideMove) && nextI) {\n                settings.onBeforeNextSlide.call(this, $el, scene);\n                scene++;\n                $el.mode(false);\n                if (settings.gallery === true) {\n                    plugin.slideThumb();\n                }\n            } else {\n                if (settings.loop === true) {\n                    settings.onBeforeNextSlide.call(this, $el, scene);\n                    scene = 0;\n                    $el.mode(false);\n                    if (settings.gallery === true) {\n                        plugin.slideThumb();\n                    }\n                } else if (settings.slideEndAnimation === true) {\n                    $el.addClass('rightEnd');\n                    setTimeout(function () {\n                        $el.removeClass('rightEnd');\n                    }, 400);\n                }\n            }\n        };\n        $el.mode = function (_touch) {\n            if (settings.adaptiveHeight === true && settings.vertical === false) {\n                $el.css('height', $children.eq(scene).outerHeight(true));\n            }\n            if (on === false) {\n                if (settings.mode === 'slide') {\n                    if (plugin.doCss()) {\n                        $el.addClass('lSSlide');\n                        if (settings.speed !== '') {\n                            $slide.css('transition-duration', settings.speed + 'ms');\n                        }\n                        if (settings.cssEasing !== '') {\n                            $slide.css('transition-timing-function', settings.cssEasing);\n                        }\n                    }\n                } else {\n                    if (plugin.doCss()) {\n                        if (settings.speed !== '') {\n                            $el.css('transition-duration', settings.speed + 'ms');\n                        }\n                        if (settings.cssEasing !== '') {\n                            $el.css('transition-timing-function', settings.cssEasing);\n                        }\n                    }\n                }\n            }\n            if (!_touch) {\n                settings.onBeforeSlide.call(this, $el, scene);\n            }\n            if (settings.mode === 'slide') {\n                plugin.slide();\n            } else {\n                plugin.fade();\n            }\n            if (!$slide.hasClass('ls-hover')) {\n                plugin.auto();\n            }\n            setTimeout(function () {\n                if (!_touch) {\n                    settings.onAfterSlide.call(this, $el, scene);\n                }\n            }, settings.speed);\n            on = true;\n        };\n        $el.play = function () {\n            $el.goToNextSlide();\n            settings.auto = true;\n            plugin.auto();\n        };\n        $el.pause = function () {\n            settings.auto = false;\n            clearInterval(interval);\n        };\n        $el.refresh = function () {\n            refresh.init();\n        };\n        $el.getCurrentSlideCount = function () {\n            var sc = scene;\n            if (settings.loop) {\n                var ln = $slide.find('.lslide').length,\n                    cl = $el.find('.clone.left').length;\n                if (scene <= cl - 1) {\n                    sc = ln + (scene - cl);\n                } else if (scene >= (ln + cl)) {\n                    sc = scene - ln - cl;\n                } else {\n                    sc = scene - cl;\n                }\n            }\n            return sc + 1;\n        }; \n        $el.getTotalSlideCount = function () {\n            return $slide.find('.lslide').length;\n        };\n        $el.goToSlide = function (s) {\n            if (settings.loop) {\n                scene = (s + $el.find('.clone.left').length - 1);\n            } else {\n                scene = s;\n            }\n            $el.mode(false);\n            if (settings.gallery === true) {\n                plugin.slideThumb();\n            }\n        };\n        $el.destroy = function () {\n            if ($el.lightSlider) {\n                $el.goToPrevSlide = function(){};\n                $el.goToNextSlide = function(){};\n                $el.mode = function(){};\n                $el.play = function(){};\n                $el.pause = function(){};\n                $el.refresh = function(){};\n                $el.getCurrentSlideCount = function(){};\n                $el.getTotalSlideCount = function(){};\n                $el.goToSlide = function(){}; \n                $el.lightSlider = null;\n                refresh = {\n                    init : function(){}\n                };\n                $el.parent().parent().find('.lSAction, .lSPager').remove();\n                $el.removeClass('lightSlider lSFade lSSlide lsGrab lsGrabbing leftEnd right').removeAttr('style').unwrap().unwrap();\n                $el.children().removeAttr('style');\n                $children.removeClass('lslide active');\n                $el.find('.clone').remove();\n                $children = null;\n                interval = null;\n                on = false;\n                scene = 0;\n            }\n\n        };\n        setTimeout(function () {\n            settings.onSliderLoad.call(this, $el);\n        }, 10);\n        $(window).on('resize orientationchange', function (e) {\n            setTimeout(function () {\n                if (e.preventDefault) {\n                    e.preventDefault();\n                } else {\n                    e.returnValue = false;\n                }\n                refresh.init();\n            }, 200);\n        });\n        return this;\n    };\n}(jQuery));","date":"2018-11-10T08:59:10.001Z","updated":"2018-11-10T08:59:10.001Z","path":"lightslider/js/lightslider.js","layout":"false","title":"","comments":1,"_id":"cjtohbkc4007c6f12r8f34ir9","content":"/*! lightslider - v1.1.5 - 2015-10-31\n* https://github.com/sachinchoolur/lightslider\n* Copyright (c) 2015 Sachin N; Licensed MIT */\n(function ($, undefined) {\n    'use strict';\n    var defaults = {\n        item: 3,\n        autoWidth: false,\n        slideMove: 1,\n        slideMargin: 10,\n        addClass: '',\n        mode: 'slide',\n        useCSS: true,\n        cssEasing: 'ease', //'cubic-bezier(0.25, 0, 0.25, 1)',\n        easing: 'linear', //'for jquery animation',//\n        speed: 400, //ms'\n        auto: false,\n        pauseOnHover: false,\n        loop: false,\n        slideEndAnimation: true,\n        pause: 2000,\n        keyPress: false,\n        controls: true,\n        prevHtml: '',\n        nextHtml: '',\n        rtl: false,\n        adaptiveHeight: false,\n        vertical: false,\n        verticalHeight: 500,\n        vThumbWidth: 100,\n        thumbItem: 10,\n        pager: true,\n        gallery: false,\n        galleryMargin: 5,\n        thumbMargin: 5,\n        currentPagerPosition: 'middle',\n        enableTouch: true,\n        enableDrag: true,\n        freeMove: true,\n        swipeThreshold: 40,\n        responsive: [],\n        /* jshint ignore:start */\n        onBeforeStart: function ($el) {},\n        onSliderLoad: function ($el) {},\n        onBeforeSlide: function ($el, scene) {},\n        onAfterSlide: function ($el, scene) {},\n        onBeforeNextSlide: function ($el, scene) {},\n        onBeforePrevSlide: function ($el, scene) {}\n        /* jshint ignore:end */\n    };\n    $.fn.lightSlider = function (options) {\n        if (this.length === 0) {\n            return this;\n        }\n\n        if (this.length > 1) {\n            this.each(function () {\n                $(this).lightSlider(options);\n            });\n            return this;\n        }\n\n        var plugin = {},\n            settings = $.extend(true, {}, defaults, options),\n            settingsTemp = {},\n            $el = this;\n        plugin.$el = this;\n\n        if (settings.mode === 'fade') {\n            settings.vertical = false;\n        }\n        var $children = $el.children(),\n            windowW = $(window).width(),\n            breakpoint = null,\n            resposiveObj = null,\n            length = 0,\n            w = 0,\n            on = false,\n            elSize = 0,\n            $slide = '',\n            scene = 0,\n            property = (settings.vertical === true) ? 'height' : 'width',\n            gutter = (settings.vertical === true) ? 'margin-bottom' : 'margin-right',\n            slideValue = 0,\n            pagerWidth = 0,\n            slideWidth = 0,\n            thumbWidth = 0,\n            interval = null,\n            isTouch = ('ontouchstart' in document.documentElement);\n        var refresh = {};\n\n        refresh.chbreakpoint = function () {\n            windowW = $(window).width();\n            if (settings.responsive.length) {\n                var item;\n                if (settings.autoWidth === false) {\n                    item = settings.item;\n                }\n                if (windowW < settings.responsive[0].breakpoint) {\n                    for (var i = 0; i < settings.responsive.length; i++) {\n                        if (windowW < settings.responsive[i].breakpoint) {\n                            breakpoint = settings.responsive[i].breakpoint;\n                            resposiveObj = settings.responsive[i];\n                        }\n                    }\n                }\n                if (typeof resposiveObj !== 'undefined' && resposiveObj !== null) {\n                    for (var j in resposiveObj.settings) {\n                        if (resposiveObj.settings.hasOwnProperty(j)) {\n                            if (typeof settingsTemp[j] === 'undefined' || settingsTemp[j] === null) {\n                                settingsTemp[j] = settings[j];\n                            }\n                            settings[j] = resposiveObj.settings[j];\n                        }\n                    }\n                }\n                if (!$.isEmptyObject(settingsTemp) && windowW > settings.responsive[0].breakpoint) {\n                    for (var k in settingsTemp) {\n                        if (settingsTemp.hasOwnProperty(k)) {\n                            settings[k] = settingsTemp[k];\n                        }\n                    }\n                }\n                if (settings.autoWidth === false) {\n                    if (slideValue > 0 && slideWidth > 0) {\n                        if (item !== settings.item) {\n                            scene = Math.round(slideValue / ((slideWidth + settings.slideMargin) * settings.slideMove));\n                        }\n                    }\n                }\n            }\n        };\n\n        refresh.calSW = function () {\n            if (settings.autoWidth === false) {\n                slideWidth = (elSize - ((settings.item * (settings.slideMargin)) - settings.slideMargin)) / settings.item;\n            }\n        };\n\n        refresh.calWidth = function (cln) {\n            var ln = cln === true ? $slide.find('.lslide').length : $children.length;\n            if (settings.autoWidth === false) {\n                w = ln * (slideWidth + settings.slideMargin);\n            } else {\n                w = 0;\n                for (var i = 0; i < ln; i++) {\n                    w += (parseInt($children.eq(i).width()) + settings.slideMargin);\n                }\n            }\n            return w;\n        };\n        plugin = {\n            doCss: function () {\n                var support = function () {\n                    var transition = ['transition', 'MozTransition', 'WebkitTransition', 'OTransition', 'msTransition', 'KhtmlTransition'];\n                    var root = document.documentElement;\n                    for (var i = 0; i < transition.length; i++) {\n                        if (transition[i] in root.style) {\n                            return true;\n                        }\n                    }\n                };\n                if (settings.useCSS && support()) {\n                    return true;\n                }\n                return false;\n            },\n            keyPress: function () {\n                if (settings.keyPress) {\n                    $(document).on('keyup.lightslider', function (e) {\n                        if (!$(':focus').is('input, textarea')) {\n                            if (e.preventDefault) {\n                                e.preventDefault();\n                            } else {\n                                e.returnValue = false;\n                            }\n                            if (e.keyCode === 37) {\n                                $el.goToPrevSlide();\n                            } else if (e.keyCode === 39) {\n                                $el.goToNextSlide();\n                            }\n                        }\n                    });\n                }\n            },\n            controls: function () {\n                if (settings.controls) {\n                    $el.after('<div class=\"lSAction\"><a class=\"lSPrev\">' + settings.prevHtml + '</a><a class=\"lSNext\">' + settings.nextHtml + '</a></div>');\n                    if (!settings.autoWidth) {\n                        if (length <= settings.item)=\"\" {=\"\" $slide.find('.lsaction').hide();=\"\" }=\"\" else=\"\" if=\"\" (refresh.calwidth(false)=\"\" <=\"\" elsize)=\"\" $slide.find('.lsaction=\"\" a').on('click',=\"\" function=\"\" (e)=\"\" (e.preventdefault)=\"\" e.preventdefault();=\"\" e.returnvalue=\"false;\" ($(this).attr('class')=\"==\" 'lsprev')=\"\" $el.gotoprevslide();=\"\" $el.gotonextslide();=\"\" return=\"\" false;=\"\" });=\"\" },=\"\" initialstyle:=\"\" ()=\"\" var=\"\" $this=\"this;\" (settings.mode=\"==\" 'fade')=\"\" settings.autowidth=\"false;\" settings.slideendanimation=\"false;\" (settings.auto)=\"\" (settings.autowidth)=\"\" settings.slidemove=\"1;\" settings.item=\"1;\" (settings.loop)=\"\" settings.freemove=\"false;\" settings.onbeforestart.call(this,=\"\" $el);=\"\" refresh.chbreakpoint();=\"\" $el.addclass('lightslider').wrap('<div=\"\" class=\"lSSlideOuter ' + settings.addClass + '\"><div class=\"lSSlideWrapper\"></div>');\n                $slide = $el.parent('.lSSlideWrapper');\n                if (settings.rtl === true) {\n                    $slide.parent().addClass('lSrtl');\n                }\n                if (settings.vertical) {\n                    $slide.parent().addClass('vertical');\n                    elSize = settings.verticalHeight;\n                    $slide.css('height', elSize + 'px');\n                } else {\n                    elSize = $el.outerWidth();\n                }\n                $children.addClass('lslide');\n                if (settings.loop === true && settings.mode === 'slide') {\n                    refresh.calSW();\n                    refresh.clone = function () {\n                        if (refresh.calWidth(true) > elSize) {\n                            /**/\n                            var tWr = 0,\n                                tI = 0;\n                            for (var k = 0; k < $children.length; k++) {\n                                tWr += (parseInt($el.find('.lslide').eq(k).width()) + settings.slideMargin);\n                                tI++;\n                                if (tWr >= (elSize + settings.slideMargin)) {\n                                    break;\n                                }\n                            }\n                            var tItem = settings.autoWidth === true ? tI : settings.item;\n\n                            /**/\n                            if (tItem < $el.find('.clone.left').length) {\n                                for (var i = 0; i < $el.find('.clone.left').length - tItem; i++) {\n                                    $children.eq(i).remove();\n                                }\n                            }\n                            if (tItem < $el.find('.clone.right').length) {\n                                for (var j = $children.length - 1; j > ($children.length - 1 - $el.find('.clone.right').length); j--) {\n                                    scene--;\n                                    $children.eq(j).remove();\n                                }\n                            }\n                            /**/\n                            for (var n = $el.find('.clone.right').length; n < tItem; n++) {\n                                $el.find('.lslide').eq(n).clone().removeClass('lslide').addClass('clone right').appendTo($el);\n                                scene++;\n                            }\n                            for (var m = $el.find('.lslide').length - $el.find('.clone.left').length; m > ($el.find('.lslide').length - tItem); m--) {\n                                $el.find('.lslide').eq(m - 1).clone().removeClass('lslide').addClass('clone left').prependTo($el);\n                            }\n                            $children = $el.children();\n                        } else {\n                            if ($children.hasClass('clone')) {\n                                $el.find('.clone').remove();\n                                $this.move($el, 0);\n                            }\n                        }\n                    };\n                    refresh.clone();\n                }\n                refresh.sSW = function () {\n                    length = $children.length;\n                    if (settings.rtl === true && settings.vertical === false) {\n                        gutter = 'margin-left';\n                    }\n                    if (settings.autoWidth === false) {\n                        $children.css(property, slideWidth + 'px');\n                    }\n                    $children.css(gutter, settings.slideMargin + 'px');\n                    w = refresh.calWidth(false);\n                    $el.css(property, w + 'px');\n                    if (settings.loop === true && settings.mode === 'slide') {\n                        if (on === false) {\n                            scene = $el.find('.clone.left').length;\n                        }\n                    }\n                };\n                refresh.calL = function () {\n                    $children = $el.children();\n                    length = $children.length;\n                };\n                if (this.doCss()) {\n                    $slide.addClass('usingCss');\n                }\n                refresh.calL();\n                if (settings.mode === 'slide') {\n                    refresh.calSW();\n                    refresh.sSW();\n                    if (settings.loop === true) {\n                        slideValue = $this.slideValue();\n                        this.move($el, slideValue);\n                    }\n                    if (settings.vertical === false) {\n                        this.setHeight($el, false);\n                    }\n\n                } else {\n                    this.setHeight($el, true);\n                    $el.addClass('lSFade');\n                    if (!this.doCss()) {\n                        $children.fadeOut(0);\n                        $children.eq(scene).fadeIn(0);\n                    }\n                }\n                if (settings.loop === true && settings.mode === 'slide') {\n                    $children.eq(scene).addClass('active');\n                } else {\n                    $children.first().addClass('active');\n                }\n            },\n            pager: function () {\n                var $this = this;\n                refresh.createPager = function () {\n                    thumbWidth = (elSize - ((settings.thumbItem * (settings.thumbMargin)) - settings.thumbMargin)) / settings.thumbItem;\n                    var $children = $slide.find('.lslide');\n                    var length = $slide.find('.lslide').length;\n                    var i = 0,\n                        pagers = '',\n                        v = 0;\n                    for (i = 0; i < length; i++) {\n                        if (settings.mode === 'slide') {\n                            // calculate scene * slide value\n                            if (!settings.autoWidth) {\n                                v = i * ((slideWidth + settings.slideMargin) * settings.slideMove);\n                            } else {\n                                v += ((parseInt($children.eq(i).width()) + settings.slideMargin) * settings.slideMove);\n                            }\n                        }\n                        var thumb = $children.eq(i * settings.slideMove).attr('data-thumb');\n                        if (settings.gallery === true) {\n                            pagers += '<li style=\"width:100%;' + property + ':' + thumbWidth + 'px;' + gutter + ':' + settings.thumbMargin + 'px\"><a href=\"#\"><img src=\"' + thumb + '\"></a></li>';\n                        } else {\n                            pagers += '<li><a href=\"#\">' + (i + 1) + '</a></li>';\n                        }\n                        if (settings.mode === 'slide') {\n                            if ((v) >= w - elSize - settings.slideMargin) {\n                                i = i + 1;\n                                var minPgr = 2;\n                                if (settings.autoWidth) {\n                                    pagers += '<li><a href=\"#\">' + (i + 1) + '</a></li>';\n                                    minPgr = 1;\n                                }\n                                if (i < minPgr) {\n                                    pagers = null;\n                                    $slide.parent().addClass('noPager');\n                                } else {\n                                    $slide.parent().removeClass('noPager');\n                                }\n                                break;\n                            }\n                        }\n                    }\n                    var $cSouter = $slide.parent();\n                    $cSouter.find('.lSPager').html(pagers); \n                    if (settings.gallery === true) {\n                        if (settings.vertical === true) {\n                            // set Gallery thumbnail width\n                            $cSouter.find('.lSPager').css('width', settings.vThumbWidth + 'px');\n                        }\n                        pagerWidth = (i * (settings.thumbMargin + thumbWidth)) + 0.5;\n                        $cSouter.find('.lSPager').css({\n                            property: pagerWidth + 'px',\n                            'transition-duration': settings.speed + 'ms'\n                        });\n                        if (settings.vertical === true) {\n                            $slide.parent().css('padding-right', (settings.vThumbWidth + settings.galleryMargin) + 'px');\n                        }\n                        $cSouter.find('.lSPager').css(property, pagerWidth + 'px');\n                    }\n                    var $pager = $cSouter.find('.lSPager').find('li');\n                    $pager.first().addClass('active');\n                    $pager.on('click', function () {\n                        if (settings.loop === true && settings.mode === 'slide') {\n                            scene = scene + ($pager.index(this) - $cSouter.find('.lSPager').find('li.active').index());\n                        } else {\n                            scene = $pager.index(this);\n                        }\n                        $el.mode(false);\n                        if (settings.gallery === true) {\n                            $this.slideThumb();\n                        }\n                        return false;\n                    });\n                };\n                if (settings.pager) {\n                    var cl = 'lSpg';\n                    if (settings.gallery) {\n                        cl = 'lSGallery';\n                    }\n                    $slide.after('<ul class=\"lSPager ' + cl + '\"></ul>');\n                    var gMargin = (settings.vertical) ? 'margin-left' : 'margin-top';\n                    $slide.parent().find('.lSPager').css(gMargin, settings.galleryMargin + 'px');\n                    refresh.createPager();\n                }\n\n                setTimeout(function () {\n                    refresh.init();\n                }, 0);\n            },\n            setHeight: function (ob, fade) {\n                var obj = null,\n                    $this = this;\n                if (settings.loop) {\n                    obj = ob.children('.lslide ').first();\n                } else {\n                    obj = ob.children().first();\n                }\n                var setCss = function () {\n                    var tH = obj.outerHeight(),\n                        tP = 0,\n                        tHT = tH;\n                    if (fade) {\n                        tH = 0;\n                        tP = ((tHT) * 100) / elSize;\n                    }\n                    ob.css({\n                        'height': tH + 'px',\n                        'padding-bottom': tP + '%'\n                    });\n                };\n                setCss();\n                if (obj.find('img').length) {\n                    if ( obj.find('img')[0].complete) {\n                        setCss();\n                        if (!interval) {\n                            $this.auto();\n                        }   \n                    }else{\n                        obj.find('img').load(function () {\n                            setTimeout(function () {\n                                setCss();\n                                if (!interval) {\n                                    $this.auto();\n                                }\n                            }, 100);\n                        });\n                    }\n                }else{\n                    if (!interval) {\n                        $this.auto();\n                    }\n                }\n            },\n            active: function (ob, t) {\n                if (this.doCss() && settings.mode === 'fade') {\n                    $slide.addClass('on');\n                }\n                var sc = 0;\n                if (scene * settings.slideMove < length) {\n                    ob.removeClass('active');\n                    if (!this.doCss() && settings.mode === 'fade' && t === false) {\n                        ob.fadeOut(settings.speed);\n                    }\n                    if (t === true) {\n                        sc = scene;\n                    } else {\n                        sc = scene * settings.slideMove;\n                    }\n                    //t === true ? sc = scene : sc = scene * settings.slideMove;\n                    var l, nl;\n                    if (t === true) {\n                        l = ob.length;\n                        nl = l - 1;\n                        if (sc + 1 >= l) {\n                            sc = nl;\n                        }\n                    }\n                    if (settings.loop === true && settings.mode === 'slide') {\n                        //t === true ? sc = scene - $el.find('.clone.left').length : sc = scene * settings.slideMove;\n                        if (t === true) {\n                            sc = scene - $el.find('.clone.left').length;\n                        } else {\n                            sc = scene * settings.slideMove;\n                        }\n                        if (t === true) {\n                            l = ob.length;\n                            nl = l - 1;\n                            if (sc + 1 === l) {\n                                sc = nl;\n                            } else if (sc + 1 > l) {\n                                sc = 0;\n                            }\n                        }\n                    }\n\n                    if (!this.doCss() && settings.mode === 'fade' && t === false) {\n                        ob.eq(sc).fadeIn(settings.speed);\n                    }\n                    ob.eq(sc).addClass('active');\n                } else {\n                    ob.removeClass('active');\n                    ob.eq(ob.length - 1).addClass('active');\n                    if (!this.doCss() && settings.mode === 'fade' && t === false) {\n                        ob.fadeOut(settings.speed);\n                        ob.eq(sc).fadeIn(settings.speed);\n                    }\n                }\n            },\n            move: function (ob, v) {\n                if (settings.rtl === true) {\n                    v = -v;\n                }\n                if (this.doCss()) {\n                    if (settings.vertical === true) {\n                        ob.css({\n                            'transform': 'translate3d(0px, ' + (-v) + 'px, 0px)',\n                            '-webkit-transform': 'translate3d(0px, ' + (-v) + 'px, 0px)'\n                        });\n                    } else {\n                        ob.css({\n                            'transform': 'translate3d(' + (-v) + 'px, 0px, 0px)',\n                            '-webkit-transform': 'translate3d(' + (-v) + 'px, 0px, 0px)',\n                        });\n                    }\n                } else {\n                    if (settings.vertical === true) {\n                        ob.css('position', 'relative').animate({\n                            top: -v + 'px'\n                        }, settings.speed, settings.easing);\n                    } else {\n                        ob.css('position', 'relative').animate({\n                            left: -v + 'px'\n                        }, settings.speed, settings.easing);\n                    }\n                }\n                var $thumb = $slide.parent().find('.lSPager').find('li');\n                this.active($thumb, true);\n            },\n            fade: function () {\n                this.active($children, false);\n                var $thumb = $slide.parent().find('.lSPager').find('li');\n                this.active($thumb, true);\n            },\n            slide: function () {\n                var $this = this;\n                refresh.calSlide = function () {\n                    if (w > elSize) {\n                        slideValue = $this.slideValue();\n                        $this.active($children, false);\n                        if ((slideValue) > w - elSize - settings.slideMargin) {\n                            slideValue = w - elSize - settings.slideMargin;\n                        } else if (slideValue < 0) {\n                            slideValue = 0;\n                        }\n                        $this.move($el, slideValue);\n                        if (settings.loop === true && settings.mode === 'slide') {\n                            if (scene >= (length - ($el.find('.clone.left').length / settings.slideMove))) {\n                                $this.resetSlide($el.find('.clone.left').length);\n                            }\n                            if (scene === 0) {\n                                $this.resetSlide($slide.find('.lslide').length);\n                            }\n                        }\n                    }\n                };\n                refresh.calSlide();\n            },\n            resetSlide: function (s) {\n                var $this = this;\n                $slide.find('.lSAction a').addClass('disabled');\n                setTimeout(function () {\n                    scene = s;\n                    $slide.css('transition-duration', '0ms');\n                    slideValue = $this.slideValue();\n                    $this.active($children, false);\n                    plugin.move($el, slideValue);\n                    setTimeout(function () {\n                        $slide.css('transition-duration', settings.speed + 'ms');\n                        $slide.find('.lSAction a').removeClass('disabled');\n                    }, 50);\n                }, settings.speed + 100);\n            },\n            slideValue: function () {\n                var _sV = 0;\n                if (settings.autoWidth === false) {\n                    _sV = scene * ((slideWidth + settings.slideMargin) * settings.slideMove);\n                } else {\n                    _sV = 0;\n                    for (var i = 0; i < scene; i++) {\n                        _sV += (parseInt($children.eq(i).width()) + settings.slideMargin);\n                    }\n                }\n                return _sV;\n            },\n            slideThumb: function () {\n                var position;\n                switch (settings.currentPagerPosition) {\n                case 'left':\n                    position = 0;\n                    break;\n                case 'middle':\n                    position = (elSize / 2) - (thumbWidth / 2);\n                    break;\n                case 'right':\n                    position = elSize - thumbWidth;\n                }\n                var sc = scene - $el.find('.clone.left').length;\n                var $pager = $slide.parent().find('.lSPager');\n                if (settings.mode === 'slide' && settings.loop === true) {\n                    if (sc >= $pager.children().length) {\n                        sc = 0;\n                    } else if (sc < 0) {\n                        sc = $pager.children().length;\n                    }\n                }\n                var thumbSlide = sc * ((thumbWidth + settings.thumbMargin)) - (position);\n                if ((thumbSlide + elSize) > pagerWidth) {\n                    thumbSlide = pagerWidth - elSize - settings.thumbMargin;\n                }\n                if (thumbSlide < 0) {\n                    thumbSlide = 0;\n                }\n                this.move($pager, thumbSlide);\n            },\n            auto: function () {\n                if (settings.auto) {\n                    clearInterval(interval);\n                    interval = setInterval(function () {\n                        $el.goToNextSlide();\n                    }, settings.pause);\n                }\n            },\n            pauseOnHover: function(){\n                var $this = this;\n                if (settings.auto && settings.pauseOnHover) {\n                    $slide.on('mouseenter', function(){\n                        $(this).addClass('ls-hover');\n                        $el.pause();\n                        settings.auto = true;\n                    });\n                    $slide.on('mouseleave',function(){\n                        $(this).removeClass('ls-hover');\n                        if (!$slide.find('.lightSlider').hasClass('lsGrabbing')) {\n                            $this.auto();\n                        }\n                    });\n                }\n            },\n            touchMove: function (endCoords, startCoords) {\n                $slide.css('transition-duration', '0ms');\n                if (settings.mode === 'slide') {\n                    var distance = endCoords - startCoords;\n                    var swipeVal = slideValue - distance;\n                    if ((swipeVal) >= w - elSize - settings.slideMargin) {\n                        if (settings.freeMove === false) {\n                            swipeVal = w - elSize - settings.slideMargin;\n                        } else {\n                            var swipeValT = w - elSize - settings.slideMargin;\n                            swipeVal = swipeValT + ((swipeVal - swipeValT) / 5);\n\n                        }\n                    } else if (swipeVal < 0) {\n                        if (settings.freeMove === false) {\n                            swipeVal = 0;\n                        } else {\n                            swipeVal = swipeVal / 5;\n                        }\n                    }\n                    this.move($el, swipeVal);\n                }\n            },\n\n            touchEnd: function (distance) {\n                $slide.css('transition-duration', settings.speed + 'ms');\n                if (settings.mode === 'slide') {\n                    var mxVal = false;\n                    var _next = true;\n                    slideValue = slideValue - distance;\n                    if ((slideValue) > w - elSize - settings.slideMargin) {\n                        slideValue = w - elSize - settings.slideMargin;\n                        if (settings.autoWidth === false) {\n                            mxVal = true;\n                        }\n                    } else if (slideValue < 0) {\n                        slideValue = 0;\n                    }\n                    var gC = function (next) {\n                        var ad = 0;\n                        if (!mxVal) {\n                            if (next) {\n                                ad = 1;\n                            }\n                        }\n                        if (!settings.autoWidth) {\n                            var num = slideValue / ((slideWidth + settings.slideMargin) * settings.slideMove);\n                            scene = parseInt(num) + ad;\n                            if (slideValue >= (w - elSize - settings.slideMargin)) {\n                                if (num % 1 !== 0) {\n                                    scene++;\n                                }\n                            }\n                        } else {\n                            var tW = 0;\n                            for (var i = 0; i < $children.length; i++) {\n                                tW += (parseInt($children.eq(i).width()) + settings.slideMargin);\n                                scene = i + ad;\n                                if (tW >= slideValue) {\n                                    break;\n                                }\n                            }\n                        }\n                    };\n                    if (distance >= settings.swipeThreshold) {\n                        gC(false);\n                        _next = false;\n                    } else if (distance <= -settings.swipethreshold)=\"\" {=\"\" gc(true);=\"\" _next=\"false;\" }=\"\" $el.mode(_next);=\"\" this.slidethumb();=\"\" else=\"\" if=\"\" (distance=\"\">= settings.swipeThreshold) {\n                        $el.goToPrevSlide();\n                    } else if (distance <= -settings.swipethreshold)=\"\" {=\"\" $el.gotonextslide();=\"\" }=\"\" },=\"\" enabledrag:=\"\" function=\"\" ()=\"\" var=\"\" $this=\"this;\" if=\"\" (!istouch)=\"\" startcoords=\"0,\" endcoords=\"0,\" isdraging=\"false;\" $slide.find('.lightslider').addclass('lsgrab');=\"\" $slide.on('mousedown',=\"\" (e)=\"\" (w=\"\" <=\"\" elsize)=\"\" !=\"=\" 0)=\"\" return=\"\" false;=\"\" ($(e.target).attr('class')=\"\" ('lsprev')=\"\" &&=\"\" $(e.target).attr('class')=\"\" ('lsnext'))=\"\" ==\"=\" true)=\"\" ?=\"\" e.pagey=\"\" :=\"\" e.pagex;=\"\" (e.preventdefault)=\"\" e.preventdefault();=\"\" else=\"\" e.returnvalue=\"false;\" **=\"\" fix=\"\" for=\"\" webkit=\"\" cursor=\"\" issue=\"\" https:=\"\" code.google.com=\"\" p=\"\" chromium=\"\" issues=\"\" detail?id=\"26723\" $slide.scrollleft=\"\" +=\"1;\" -=\"1;\" *=\"\" $slide.find('.lightslider').removeclass('lsgrab').addclass('lsgrabbing');=\"\" clearinterval(interval);=\"\" });=\"\" $(window).on('mousemove',=\"\" (isdraging)=\"\" $this.touchmove(endcoords,=\"\" startcoords);=\"\" $(window).on('mouseup',=\"\" $slide.find('.lightslider').removeclass('lsgrabbing').addclass('lsgrab');=\"\" distance=\"endCoords\" startcoords;=\"\" (math.abs(distance)=\"\">= settings.swipeThreshold) {\n                                $(window).on('click.ls', function (e) {\n                                    if (e.preventDefault) {\n                                        e.preventDefault();\n                                    } else {\n                                        e.returnValue = false;\n                                    }\n                                    e.stopImmediatePropagation();\n                                    e.stopPropagation();\n                                    $(window).off('click.ls');\n                                });\n                            }\n\n                            $this.touchEnd(distance);\n\n                        }\n                    });\n                }\n            },\n\n\n\n\n            enableTouch: function () {\n                var $this = this;\n                if (isTouch) {\n                    var startCoords = {},\n                        endCoords = {};\n                    $slide.on('touchstart', function (e) {\n                        endCoords = e.originalEvent.targetTouches[0];\n                        startCoords.pageX = e.originalEvent.targetTouches[0].pageX;\n                        startCoords.pageY = e.originalEvent.targetTouches[0].pageY;\n                        clearInterval(interval);\n                    });\n                    $slide.on('touchmove', function (e) {\n                        if (w < elSize) {\n                            if (w !== 0) {\n                                return false;\n                            }\n                        }\n                        var orig = e.originalEvent;\n                        endCoords = orig.targetTouches[0];\n                        var xMovement = Math.abs(endCoords.pageX - startCoords.pageX);\n                        var yMovement = Math.abs(endCoords.pageY - startCoords.pageY);\n                        if (settings.vertical === true) {\n                            if ((yMovement * 3) > xMovement) {\n                                e.preventDefault();\n                            }\n                            $this.touchMove(endCoords.pageY, startCoords.pageY);\n                        } else {\n                            if ((xMovement * 3) > yMovement) {\n                                e.preventDefault();\n                            }\n                            $this.touchMove(endCoords.pageX, startCoords.pageX);\n                        }\n\n                    });\n                    $slide.on('touchend', function () {\n                        if (w < elSize) {\n                            if (w !== 0) {\n                                return false;\n                            }\n                        }\n                        var distance;\n                        if (settings.vertical === true) {\n                            distance = endCoords.pageY - startCoords.pageY;\n                        } else {\n                            distance = endCoords.pageX - startCoords.pageX;\n                        }\n                        $this.touchEnd(distance);\n                    });\n                }\n            },\n            build: function () {\n                var $this = this;\n                $this.initialStyle();\n                if (this.doCss()) {\n\n                    if (settings.enableTouch === true) {\n                        $this.enableTouch();\n                    }\n                    if (settings.enableDrag === true) {\n                        $this.enableDrag();\n                    }\n                }\n\n                $(window).on('focus', function(){\n                    $this.auto();\n                });\n                \n                $(window).on('blur', function(){\n                    clearInterval(interval);\n                });\n\n                $this.pager();\n                $this.pauseOnHover();\n                $this.controls();\n                $this.keyPress();\n            }\n        };\n        plugin.build();\n        refresh.init = function () {\n            refresh.chbreakpoint();\n            if (settings.vertical === true) {\n                if (settings.item > 1) {\n                    elSize = settings.verticalHeight;\n                } else {\n                    elSize = $children.outerHeight();\n                }\n                $slide.css('height', elSize + 'px');\n            } else {\n                elSize = $slide.outerWidth();\n            }\n            if (settings.loop === true && settings.mode === 'slide') {\n                refresh.clone();\n            }\n            refresh.calL();\n            if (settings.mode === 'slide') {\n                $el.removeClass('lSSlide');\n            }\n            if (settings.mode === 'slide') {\n                refresh.calSW();\n                refresh.sSW();\n            }\n            setTimeout(function () {\n                if (settings.mode === 'slide') {\n                    $el.addClass('lSSlide');\n                }\n            }, 1000);\n            if (settings.pager) {\n                refresh.createPager();\n            }\n            if (settings.adaptiveHeight === true && settings.vertical === false) {\n                $el.css('height', $children.eq(scene).outerHeight(true));\n            }\n            if (settings.adaptiveHeight === false) {\n                if (settings.mode === 'slide') {\n                    if (settings.vertical === false) {\n                        plugin.setHeight($el, false);\n                    }else{\n                        plugin.auto();\n                    }\n                } else {\n                    plugin.setHeight($el, true);\n                }\n            }\n            if (settings.gallery === true) {\n                plugin.slideThumb();\n            }\n            if (settings.mode === 'slide') {\n                plugin.slide();\n            }\n            if (settings.autoWidth === false) {\n                if ($children.length <= settings.item)=\"\" {=\"\" $slide.find('.lsaction').hide();=\"\" }=\"\" else=\"\" $slide.find('.lsaction').show();=\"\" if=\"\" ((refresh.calwidth(false)=\"\" <=\"\" elsize)=\"\" &&=\"\" (w=\"\" !=\"=\" 0))=\"\" };=\"\" $el.gotoprevslide=\"function\" ()=\"\" (scene=\"\"> 0) {\n                settings.onBeforePrevSlide.call(this, $el, scene);\n                scene--;\n                $el.mode(false);\n                if (settings.gallery === true) {\n                    plugin.slideThumb();\n                }\n            } else {\n                if (settings.loop === true) {\n                    settings.onBeforePrevSlide.call(this, $el, scene);\n                    if (settings.mode === 'fade') {\n                        var l = (length - 1);\n                        scene = parseInt(l / settings.slideMove);\n                    }\n                    $el.mode(false);\n                    if (settings.gallery === true) {\n                        plugin.slideThumb();\n                    }\n                } else if (settings.slideEndAnimation === true) {\n                    $el.addClass('leftEnd');\n                    setTimeout(function () {\n                        $el.removeClass('leftEnd');\n                    }, 400);\n                }\n            }\n        };\n        $el.goToNextSlide = function () {\n            var nextI = true;\n            if (settings.mode === 'slide') {\n                var _slideValue = plugin.slideValue();\n                nextI = _slideValue < w - elSize - settings.slideMargin;\n            }\n            if (((scene * settings.slideMove) < length - settings.slideMove) && nextI) {\n                settings.onBeforeNextSlide.call(this, $el, scene);\n                scene++;\n                $el.mode(false);\n                if (settings.gallery === true) {\n                    plugin.slideThumb();\n                }\n            } else {\n                if (settings.loop === true) {\n                    settings.onBeforeNextSlide.call(this, $el, scene);\n                    scene = 0;\n                    $el.mode(false);\n                    if (settings.gallery === true) {\n                        plugin.slideThumb();\n                    }\n                } else if (settings.slideEndAnimation === true) {\n                    $el.addClass('rightEnd');\n                    setTimeout(function () {\n                        $el.removeClass('rightEnd');\n                    }, 400);\n                }\n            }\n        };\n        $el.mode = function (_touch) {\n            if (settings.adaptiveHeight === true && settings.vertical === false) {\n                $el.css('height', $children.eq(scene).outerHeight(true));\n            }\n            if (on === false) {\n                if (settings.mode === 'slide') {\n                    if (plugin.doCss()) {\n                        $el.addClass('lSSlide');\n                        if (settings.speed !== '') {\n                            $slide.css('transition-duration', settings.speed + 'ms');\n                        }\n                        if (settings.cssEasing !== '') {\n                            $slide.css('transition-timing-function', settings.cssEasing);\n                        }\n                    }\n                } else {\n                    if (plugin.doCss()) {\n                        if (settings.speed !== '') {\n                            $el.css('transition-duration', settings.speed + 'ms');\n                        }\n                        if (settings.cssEasing !== '') {\n                            $el.css('transition-timing-function', settings.cssEasing);\n                        }\n                    }\n                }\n            }\n            if (!_touch) {\n                settings.onBeforeSlide.call(this, $el, scene);\n            }\n            if (settings.mode === 'slide') {\n                plugin.slide();\n            } else {\n                plugin.fade();\n            }\n            if (!$slide.hasClass('ls-hover')) {\n                plugin.auto();\n            }\n            setTimeout(function () {\n                if (!_touch) {\n                    settings.onAfterSlide.call(this, $el, scene);\n                }\n            }, settings.speed);\n            on = true;\n        };\n        $el.play = function () {\n            $el.goToNextSlide();\n            settings.auto = true;\n            plugin.auto();\n        };\n        $el.pause = function () {\n            settings.auto = false;\n            clearInterval(interval);\n        };\n        $el.refresh = function () {\n            refresh.init();\n        };\n        $el.getCurrentSlideCount = function () {\n            var sc = scene;\n            if (settings.loop) {\n                var ln = $slide.find('.lslide').length,\n                    cl = $el.find('.clone.left').length;\n                if (scene <= cl=\"\" -=\"\" 1)=\"\" {=\"\" sc=\"ln\" +=\"\" (scene=\"\" cl);=\"\" }=\"\" else=\"\" if=\"\">= (ln + cl)) {\n                    sc = scene - ln - cl;\n                } else {\n                    sc = scene - cl;\n                }\n            }\n            return sc + 1;\n        }; \n        $el.getTotalSlideCount = function () {\n            return $slide.find('.lslide').length;\n        };\n        $el.goToSlide = function (s) {\n            if (settings.loop) {\n                scene = (s + $el.find('.clone.left').length - 1);\n            } else {\n                scene = s;\n            }\n            $el.mode(false);\n            if (settings.gallery === true) {\n                plugin.slideThumb();\n            }\n        };\n        $el.destroy = function () {\n            if ($el.lightSlider) {\n                $el.goToPrevSlide = function(){};\n                $el.goToNextSlide = function(){};\n                $el.mode = function(){};\n                $el.play = function(){};\n                $el.pause = function(){};\n                $el.refresh = function(){};\n                $el.getCurrentSlideCount = function(){};\n                $el.getTotalSlideCount = function(){};\n                $el.goToSlide = function(){}; \n                $el.lightSlider = null;\n                refresh = {\n                    init : function(){}\n                };\n                $el.parent().parent().find('.lSAction, .lSPager').remove();\n                $el.removeClass('lightSlider lSFade lSSlide lsGrab lsGrabbing leftEnd right').removeAttr('style').unwrap().unwrap();\n                $el.children().removeAttr('style');\n                $children.removeClass('lslide active');\n                $el.find('.clone').remove();\n                $children = null;\n                interval = null;\n                on = false;\n                scene = 0;\n            }\n\n        };\n        setTimeout(function () {\n            settings.onSliderLoad.call(this, $el);\n        }, 10);\n        $(window).on('resize orientationchange', function (e) {\n            setTimeout(function () {\n                if (e.preventDefault) {\n                    e.preventDefault();\n                } else {\n                    e.returnValue = false;\n                }\n                refresh.init();\n            }, 200);\n        });\n        return this;\n    };\n}(jQuery));</=></=></=></=></=>","site":{"data":{}},"excerpt":"","more":"/*! lightslider - v1.1.5 - 2015-10-31\n* https://github.com/sachinchoolur/lightslider\n* Copyright (c) 2015 Sachin N; Licensed MIT */\n(function ($, undefined) {\n    'use strict';\n    var defaults = {\n        item: 3,\n        autoWidth: false,\n        slideMove: 1,\n        slideMargin: 10,\n        addClass: '',\n        mode: 'slide',\n        useCSS: true,\n        cssEasing: 'ease', //'cubic-bezier(0.25, 0, 0.25, 1)',\n        easing: 'linear', //'for jquery animation',//\n        speed: 400, //ms'\n        auto: false,\n        pauseOnHover: false,\n        loop: false,\n        slideEndAnimation: true,\n        pause: 2000,\n        keyPress: false,\n        controls: true,\n        prevHtml: '',\n        nextHtml: '',\n        rtl: false,\n        adaptiveHeight: false,\n        vertical: false,\n        verticalHeight: 500,\n        vThumbWidth: 100,\n        thumbItem: 10,\n        pager: true,\n        gallery: false,\n        galleryMargin: 5,\n        thumbMargin: 5,\n        currentPagerPosition: 'middle',\n        enableTouch: true,\n        enableDrag: true,\n        freeMove: true,\n        swipeThreshold: 40,\n        responsive: [],\n        /* jshint ignore:start */\n        onBeforeStart: function ($el) {},\n        onSliderLoad: function ($el) {},\n        onBeforeSlide: function ($el, scene) {},\n        onAfterSlide: function ($el, scene) {},\n        onBeforeNextSlide: function ($el, scene) {},\n        onBeforePrevSlide: function ($el, scene) {}\n        /* jshint ignore:end */\n    };\n    $.fn.lightSlider = function (options) {\n        if (this.length === 0) {\n            return this;\n        }\n\n        if (this.length > 1) {\n            this.each(function () {\n                $(this).lightSlider(options);\n            });\n            return this;\n        }\n\n        var plugin = {},\n            settings = $.extend(true, {}, defaults, options),\n            settingsTemp = {},\n            $el = this;\n        plugin.$el = this;\n\n        if (settings.mode === 'fade') {\n            settings.vertical = false;\n        }\n        var $children = $el.children(),\n            windowW = $(window).width(),\n            breakpoint = null,\n            resposiveObj = null,\n            length = 0,\n            w = 0,\n            on = false,\n            elSize = 0,\n            $slide = '',\n            scene = 0,\n            property = (settings.vertical === true) ? 'height' : 'width',\n            gutter = (settings.vertical === true) ? 'margin-bottom' : 'margin-right',\n            slideValue = 0,\n            pagerWidth = 0,\n            slideWidth = 0,\n            thumbWidth = 0,\n            interval = null,\n            isTouch = ('ontouchstart' in document.documentElement);\n        var refresh = {};\n\n        refresh.chbreakpoint = function () {\n            windowW = $(window).width();\n            if (settings.responsive.length) {\n                var item;\n                if (settings.autoWidth === false) {\n                    item = settings.item;\n                }\n                if (windowW < settings.responsive[0].breakpoint) {\n                    for (var i = 0; i < settings.responsive.length; i++) {\n                        if (windowW < settings.responsive[i].breakpoint) {\n                            breakpoint = settings.responsive[i].breakpoint;\n                            resposiveObj = settings.responsive[i];\n                        }\n                    }\n                }\n                if (typeof resposiveObj !== 'undefined' && resposiveObj !== null) {\n                    for (var j in resposiveObj.settings) {\n                        if (resposiveObj.settings.hasOwnProperty(j)) {\n                            if (typeof settingsTemp[j] === 'undefined' || settingsTemp[j] === null) {\n                                settingsTemp[j] = settings[j];\n                            }\n                            settings[j] = resposiveObj.settings[j];\n                        }\n                    }\n                }\n                if (!$.isEmptyObject(settingsTemp) && windowW > settings.responsive[0].breakpoint) {\n                    for (var k in settingsTemp) {\n                        if (settingsTemp.hasOwnProperty(k)) {\n                            settings[k] = settingsTemp[k];\n                        }\n                    }\n                }\n                if (settings.autoWidth === false) {\n                    if (slideValue > 0 && slideWidth > 0) {\n                        if (item !== settings.item) {\n                            scene = Math.round(slideValue / ((slideWidth + settings.slideMargin) * settings.slideMove));\n                        }\n                    }\n                }\n            }\n        };\n\n        refresh.calSW = function () {\n            if (settings.autoWidth === false) {\n                slideWidth = (elSize - ((settings.item * (settings.slideMargin)) - settings.slideMargin)) / settings.item;\n            }\n        };\n\n        refresh.calWidth = function (cln) {\n            var ln = cln === true ? $slide.find('.lslide').length : $children.length;\n            if (settings.autoWidth === false) {\n                w = ln * (slideWidth + settings.slideMargin);\n            } else {\n                w = 0;\n                for (var i = 0; i < ln; i++) {\n                    w += (parseInt($children.eq(i).width()) + settings.slideMargin);\n                }\n            }\n            return w;\n        };\n        plugin = {\n            doCss: function () {\n                var support = function () {\n                    var transition = ['transition', 'MozTransition', 'WebkitTransition', 'OTransition', 'msTransition', 'KhtmlTransition'];\n                    var root = document.documentElement;\n                    for (var i = 0; i < transition.length; i++) {\n                        if (transition[i] in root.style) {\n                            return true;\n                        }\n                    }\n                };\n                if (settings.useCSS && support()) {\n                    return true;\n                }\n                return false;\n            },\n            keyPress: function () {\n                if (settings.keyPress) {\n                    $(document).on('keyup.lightslider', function (e) {\n                        if (!$(':focus').is('input, textarea')) {\n                            if (e.preventDefault) {\n                                e.preventDefault();\n                            } else {\n                                e.returnValue = false;\n                            }\n                            if (e.keyCode === 37) {\n                                $el.goToPrevSlide();\n                            } else if (e.keyCode === 39) {\n                                $el.goToNextSlide();\n                            }\n                        }\n                    });\n                }\n            },\n            controls: function () {\n                if (settings.controls) {\n                    $el.after('<div class=\"lSAction\"><a class=\"lSPrev\">' + settings.prevHtml + '</a><a class=\"lSNext\">' + settings.nextHtml + '</a></div>');\n                    if (!settings.autoWidth) {\n                        if (length <= settings.item)=\"\" {=\"\" $slide.find('.lsaction').hide();=\"\" }=\"\" else=\"\" if=\"\" (refresh.calwidth(false)=\"\" <=\"\" elsize)=\"\" $slide.find('.lsaction=\"\" a').on('click',=\"\" function=\"\" (e)=\"\" (e.preventdefault)=\"\" e.preventdefault();=\"\" e.returnvalue=\"false;\" ($(this).attr('class')=\"==\" 'lsprev')=\"\" $el.gotoprevslide();=\"\" $el.gotonextslide();=\"\" return=\"\" false;=\"\" });=\"\" },=\"\" initialstyle:=\"\" ()=\"\" var=\"\" $this=\"this;\" (settings.mode=\"==\" 'fade')=\"\" settings.autowidth=\"false;\" settings.slideendanimation=\"false;\" (settings.auto)=\"\" (settings.autowidth)=\"\" settings.slidemove=\"1;\" settings.item=\"1;\" (settings.loop)=\"\" settings.freemove=\"false;\" settings.onbeforestart.call(this,=\"\" $el);=\"\" refresh.chbreakpoint();=\"\" $el.addclass('lightslider').wrap('<div=\"\" class=\"lSSlideOuter ' + settings.addClass + '\"><div class=\"lSSlideWrapper\"></div>');\n                $slide = $el.parent('.lSSlideWrapper');\n                if (settings.rtl === true) {\n                    $slide.parent().addClass('lSrtl');\n                }\n                if (settings.vertical) {\n                    $slide.parent().addClass('vertical');\n                    elSize = settings.verticalHeight;\n                    $slide.css('height', elSize + 'px');\n                } else {\n                    elSize = $el.outerWidth();\n                }\n                $children.addClass('lslide');\n                if (settings.loop === true && settings.mode === 'slide') {\n                    refresh.calSW();\n                    refresh.clone = function () {\n                        if (refresh.calWidth(true) > elSize) {\n                            /**/\n                            var tWr = 0,\n                                tI = 0;\n                            for (var k = 0; k < $children.length; k++) {\n                                tWr += (parseInt($el.find('.lslide').eq(k).width()) + settings.slideMargin);\n                                tI++;\n                                if (tWr >= (elSize + settings.slideMargin)) {\n                                    break;\n                                }\n                            }\n                            var tItem = settings.autoWidth === true ? tI : settings.item;\n\n                            /**/\n                            if (tItem < $el.find('.clone.left').length) {\n                                for (var i = 0; i < $el.find('.clone.left').length - tItem; i++) {\n                                    $children.eq(i).remove();\n                                }\n                            }\n                            if (tItem < $el.find('.clone.right').length) {\n                                for (var j = $children.length - 1; j > ($children.length - 1 - $el.find('.clone.right').length); j--) {\n                                    scene--;\n                                    $children.eq(j).remove();\n                                }\n                            }\n                            /**/\n                            for (var n = $el.find('.clone.right').length; n < tItem; n++) {\n                                $el.find('.lslide').eq(n).clone().removeClass('lslide').addClass('clone right').appendTo($el);\n                                scene++;\n                            }\n                            for (var m = $el.find('.lslide').length - $el.find('.clone.left').length; m > ($el.find('.lslide').length - tItem); m--) {\n                                $el.find('.lslide').eq(m - 1).clone().removeClass('lslide').addClass('clone left').prependTo($el);\n                            }\n                            $children = $el.children();\n                        } else {\n                            if ($children.hasClass('clone')) {\n                                $el.find('.clone').remove();\n                                $this.move($el, 0);\n                            }\n                        }\n                    };\n                    refresh.clone();\n                }\n                refresh.sSW = function () {\n                    length = $children.length;\n                    if (settings.rtl === true && settings.vertical === false) {\n                        gutter = 'margin-left';\n                    }\n                    if (settings.autoWidth === false) {\n                        $children.css(property, slideWidth + 'px');\n                    }\n                    $children.css(gutter, settings.slideMargin + 'px');\n                    w = refresh.calWidth(false);\n                    $el.css(property, w + 'px');\n                    if (settings.loop === true && settings.mode === 'slide') {\n                        if (on === false) {\n                            scene = $el.find('.clone.left').length;\n                        }\n                    }\n                };\n                refresh.calL = function () {\n                    $children = $el.children();\n                    length = $children.length;\n                };\n                if (this.doCss()) {\n                    $slide.addClass('usingCss');\n                }\n                refresh.calL();\n                if (settings.mode === 'slide') {\n                    refresh.calSW();\n                    refresh.sSW();\n                    if (settings.loop === true) {\n                        slideValue = $this.slideValue();\n                        this.move($el, slideValue);\n                    }\n                    if (settings.vertical === false) {\n                        this.setHeight($el, false);\n                    }\n\n                } else {\n                    this.setHeight($el, true);\n                    $el.addClass('lSFade');\n                    if (!this.doCss()) {\n                        $children.fadeOut(0);\n                        $children.eq(scene).fadeIn(0);\n                    }\n                }\n                if (settings.loop === true && settings.mode === 'slide') {\n                    $children.eq(scene).addClass('active');\n                } else {\n                    $children.first().addClass('active');\n                }\n            },\n            pager: function () {\n                var $this = this;\n                refresh.createPager = function () {\n                    thumbWidth = (elSize - ((settings.thumbItem * (settings.thumbMargin)) - settings.thumbMargin)) / settings.thumbItem;\n                    var $children = $slide.find('.lslide');\n                    var length = $slide.find('.lslide').length;\n                    var i = 0,\n                        pagers = '',\n                        v = 0;\n                    for (i = 0; i < length; i++) {\n                        if (settings.mode === 'slide') {\n                            // calculate scene * slide value\n                            if (!settings.autoWidth) {\n                                v = i * ((slideWidth + settings.slideMargin) * settings.slideMove);\n                            } else {\n                                v += ((parseInt($children.eq(i).width()) + settings.slideMargin) * settings.slideMove);\n                            }\n                        }\n                        var thumb = $children.eq(i * settings.slideMove).attr('data-thumb');\n                        if (settings.gallery === true) {\n                            pagers += '<li style=\"width:100%;' + property + ':' + thumbWidth + 'px;' + gutter + ':' + settings.thumbMargin + 'px\"><a href=\"#\"><img src=\"' + thumb + '\"></a></li>';\n                        } else {\n                            pagers += '<li><a href=\"#\">' + (i + 1) + '</a></li>';\n                        }\n                        if (settings.mode === 'slide') {\n                            if ((v) >= w - elSize - settings.slideMargin) {\n                                i = i + 1;\n                                var minPgr = 2;\n                                if (settings.autoWidth) {\n                                    pagers += '<li><a href=\"#\">' + (i + 1) + '</a></li>';\n                                    minPgr = 1;\n                                }\n                                if (i < minPgr) {\n                                    pagers = null;\n                                    $slide.parent().addClass('noPager');\n                                } else {\n                                    $slide.parent().removeClass('noPager');\n                                }\n                                break;\n                            }\n                        }\n                    }\n                    var $cSouter = $slide.parent();\n                    $cSouter.find('.lSPager').html(pagers); \n                    if (settings.gallery === true) {\n                        if (settings.vertical === true) {\n                            // set Gallery thumbnail width\n                            $cSouter.find('.lSPager').css('width', settings.vThumbWidth + 'px');\n                        }\n                        pagerWidth = (i * (settings.thumbMargin + thumbWidth)) + 0.5;\n                        $cSouter.find('.lSPager').css({\n                            property: pagerWidth + 'px',\n                            'transition-duration': settings.speed + 'ms'\n                        });\n                        if (settings.vertical === true) {\n                            $slide.parent().css('padding-right', (settings.vThumbWidth + settings.galleryMargin) + 'px');\n                        }\n                        $cSouter.find('.lSPager').css(property, pagerWidth + 'px');\n                    }\n                    var $pager = $cSouter.find('.lSPager').find('li');\n                    $pager.first().addClass('active');\n                    $pager.on('click', function () {\n                        if (settings.loop === true && settings.mode === 'slide') {\n                            scene = scene + ($pager.index(this) - $cSouter.find('.lSPager').find('li.active').index());\n                        } else {\n                            scene = $pager.index(this);\n                        }\n                        $el.mode(false);\n                        if (settings.gallery === true) {\n                            $this.slideThumb();\n                        }\n                        return false;\n                    });\n                };\n                if (settings.pager) {\n                    var cl = 'lSpg';\n                    if (settings.gallery) {\n                        cl = 'lSGallery';\n                    }\n                    $slide.after('<ul class=\"lSPager ' + cl + '\"></ul>');\n                    var gMargin = (settings.vertical) ? 'margin-left' : 'margin-top';\n                    $slide.parent().find('.lSPager').css(gMargin, settings.galleryMargin + 'px');\n                    refresh.createPager();\n                }\n\n                setTimeout(function () {\n                    refresh.init();\n                }, 0);\n            },\n            setHeight: function (ob, fade) {\n                var obj = null,\n                    $this = this;\n                if (settings.loop) {\n                    obj = ob.children('.lslide ').first();\n                } else {\n                    obj = ob.children().first();\n                }\n                var setCss = function () {\n                    var tH = obj.outerHeight(),\n                        tP = 0,\n                        tHT = tH;\n                    if (fade) {\n                        tH = 0;\n                        tP = ((tHT) * 100) / elSize;\n                    }\n                    ob.css({\n                        'height': tH + 'px',\n                        'padding-bottom': tP + '%'\n                    });\n                };\n                setCss();\n                if (obj.find('img').length) {\n                    if ( obj.find('img')[0].complete) {\n                        setCss();\n                        if (!interval) {\n                            $this.auto();\n                        }   \n                    }else{\n                        obj.find('img').load(function () {\n                            setTimeout(function () {\n                                setCss();\n                                if (!interval) {\n                                    $this.auto();\n                                }\n                            }, 100);\n                        });\n                    }\n                }else{\n                    if (!interval) {\n                        $this.auto();\n                    }\n                }\n            },\n            active: function (ob, t) {\n                if (this.doCss() && settings.mode === 'fade') {\n                    $slide.addClass('on');\n                }\n                var sc = 0;\n                if (scene * settings.slideMove < length) {\n                    ob.removeClass('active');\n                    if (!this.doCss() && settings.mode === 'fade' && t === false) {\n                        ob.fadeOut(settings.speed);\n                    }\n                    if (t === true) {\n                        sc = scene;\n                    } else {\n                        sc = scene * settings.slideMove;\n                    }\n                    //t === true ? sc = scene : sc = scene * settings.slideMove;\n                    var l, nl;\n                    if (t === true) {\n                        l = ob.length;\n                        nl = l - 1;\n                        if (sc + 1 >= l) {\n                            sc = nl;\n                        }\n                    }\n                    if (settings.loop === true && settings.mode === 'slide') {\n                        //t === true ? sc = scene - $el.find('.clone.left').length : sc = scene * settings.slideMove;\n                        if (t === true) {\n                            sc = scene - $el.find('.clone.left').length;\n                        } else {\n                            sc = scene * settings.slideMove;\n                        }\n                        if (t === true) {\n                            l = ob.length;\n                            nl = l - 1;\n                            if (sc + 1 === l) {\n                                sc = nl;\n                            } else if (sc + 1 > l) {\n                                sc = 0;\n                            }\n                        }\n                    }\n\n                    if (!this.doCss() && settings.mode === 'fade' && t === false) {\n                        ob.eq(sc).fadeIn(settings.speed);\n                    }\n                    ob.eq(sc).addClass('active');\n                } else {\n                    ob.removeClass('active');\n                    ob.eq(ob.length - 1).addClass('active');\n                    if (!this.doCss() && settings.mode === 'fade' && t === false) {\n                        ob.fadeOut(settings.speed);\n                        ob.eq(sc).fadeIn(settings.speed);\n                    }\n                }\n            },\n            move: function (ob, v) {\n                if (settings.rtl === true) {\n                    v = -v;\n                }\n                if (this.doCss()) {\n                    if (settings.vertical === true) {\n                        ob.css({\n                            'transform': 'translate3d(0px, ' + (-v) + 'px, 0px)',\n                            '-webkit-transform': 'translate3d(0px, ' + (-v) + 'px, 0px)'\n                        });\n                    } else {\n                        ob.css({\n                            'transform': 'translate3d(' + (-v) + 'px, 0px, 0px)',\n                            '-webkit-transform': 'translate3d(' + (-v) + 'px, 0px, 0px)',\n                        });\n                    }\n                } else {\n                    if (settings.vertical === true) {\n                        ob.css('position', 'relative').animate({\n                            top: -v + 'px'\n                        }, settings.speed, settings.easing);\n                    } else {\n                        ob.css('position', 'relative').animate({\n                            left: -v + 'px'\n                        }, settings.speed, settings.easing);\n                    }\n                }\n                var $thumb = $slide.parent().find('.lSPager').find('li');\n                this.active($thumb, true);\n            },\n            fade: function () {\n                this.active($children, false);\n                var $thumb = $slide.parent().find('.lSPager').find('li');\n                this.active($thumb, true);\n            },\n            slide: function () {\n                var $this = this;\n                refresh.calSlide = function () {\n                    if (w > elSize) {\n                        slideValue = $this.slideValue();\n                        $this.active($children, false);\n                        if ((slideValue) > w - elSize - settings.slideMargin) {\n                            slideValue = w - elSize - settings.slideMargin;\n                        } else if (slideValue < 0) {\n                            slideValue = 0;\n                        }\n                        $this.move($el, slideValue);\n                        if (settings.loop === true && settings.mode === 'slide') {\n                            if (scene >= (length - ($el.find('.clone.left').length / settings.slideMove))) {\n                                $this.resetSlide($el.find('.clone.left').length);\n                            }\n                            if (scene === 0) {\n                                $this.resetSlide($slide.find('.lslide').length);\n                            }\n                        }\n                    }\n                };\n                refresh.calSlide();\n            },\n            resetSlide: function (s) {\n                var $this = this;\n                $slide.find('.lSAction a').addClass('disabled');\n                setTimeout(function () {\n                    scene = s;\n                    $slide.css('transition-duration', '0ms');\n                    slideValue = $this.slideValue();\n                    $this.active($children, false);\n                    plugin.move($el, slideValue);\n                    setTimeout(function () {\n                        $slide.css('transition-duration', settings.speed + 'ms');\n                        $slide.find('.lSAction a').removeClass('disabled');\n                    }, 50);\n                }, settings.speed + 100);\n            },\n            slideValue: function () {\n                var _sV = 0;\n                if (settings.autoWidth === false) {\n                    _sV = scene * ((slideWidth + settings.slideMargin) * settings.slideMove);\n                } else {\n                    _sV = 0;\n                    for (var i = 0; i < scene; i++) {\n                        _sV += (parseInt($children.eq(i).width()) + settings.slideMargin);\n                    }\n                }\n                return _sV;\n            },\n            slideThumb: function () {\n                var position;\n                switch (settings.currentPagerPosition) {\n                case 'left':\n                    position = 0;\n                    break;\n                case 'middle':\n                    position = (elSize / 2) - (thumbWidth / 2);\n                    break;\n                case 'right':\n                    position = elSize - thumbWidth;\n                }\n                var sc = scene - $el.find('.clone.left').length;\n                var $pager = $slide.parent().find('.lSPager');\n                if (settings.mode === 'slide' && settings.loop === true) {\n                    if (sc >= $pager.children().length) {\n                        sc = 0;\n                    } else if (sc < 0) {\n                        sc = $pager.children().length;\n                    }\n                }\n                var thumbSlide = sc * ((thumbWidth + settings.thumbMargin)) - (position);\n                if ((thumbSlide + elSize) > pagerWidth) {\n                    thumbSlide = pagerWidth - elSize - settings.thumbMargin;\n                }\n                if (thumbSlide < 0) {\n                    thumbSlide = 0;\n                }\n                this.move($pager, thumbSlide);\n            },\n            auto: function () {\n                if (settings.auto) {\n                    clearInterval(interval);\n                    interval = setInterval(function () {\n                        $el.goToNextSlide();\n                    }, settings.pause);\n                }\n            },\n            pauseOnHover: function(){\n                var $this = this;\n                if (settings.auto && settings.pauseOnHover) {\n                    $slide.on('mouseenter', function(){\n                        $(this).addClass('ls-hover');\n                        $el.pause();\n                        settings.auto = true;\n                    });\n                    $slide.on('mouseleave',function(){\n                        $(this).removeClass('ls-hover');\n                        if (!$slide.find('.lightSlider').hasClass('lsGrabbing')) {\n                            $this.auto();\n                        }\n                    });\n                }\n            },\n            touchMove: function (endCoords, startCoords) {\n                $slide.css('transition-duration', '0ms');\n                if (settings.mode === 'slide') {\n                    var distance = endCoords - startCoords;\n                    var swipeVal = slideValue - distance;\n                    if ((swipeVal) >= w - elSize - settings.slideMargin) {\n                        if (settings.freeMove === false) {\n                            swipeVal = w - elSize - settings.slideMargin;\n                        } else {\n                            var swipeValT = w - elSize - settings.slideMargin;\n                            swipeVal = swipeValT + ((swipeVal - swipeValT) / 5);\n\n                        }\n                    } else if (swipeVal < 0) {\n                        if (settings.freeMove === false) {\n                            swipeVal = 0;\n                        } else {\n                            swipeVal = swipeVal / 5;\n                        }\n                    }\n                    this.move($el, swipeVal);\n                }\n            },\n\n            touchEnd: function (distance) {\n                $slide.css('transition-duration', settings.speed + 'ms');\n                if (settings.mode === 'slide') {\n                    var mxVal = false;\n                    var _next = true;\n                    slideValue = slideValue - distance;\n                    if ((slideValue) > w - elSize - settings.slideMargin) {\n                        slideValue = w - elSize - settings.slideMargin;\n                        if (settings.autoWidth === false) {\n                            mxVal = true;\n                        }\n                    } else if (slideValue < 0) {\n                        slideValue = 0;\n                    }\n                    var gC = function (next) {\n                        var ad = 0;\n                        if (!mxVal) {\n                            if (next) {\n                                ad = 1;\n                            }\n                        }\n                        if (!settings.autoWidth) {\n                            var num = slideValue / ((slideWidth + settings.slideMargin) * settings.slideMove);\n                            scene = parseInt(num) + ad;\n                            if (slideValue >= (w - elSize - settings.slideMargin)) {\n                                if (num % 1 !== 0) {\n                                    scene++;\n                                }\n                            }\n                        } else {\n                            var tW = 0;\n                            for (var i = 0; i < $children.length; i++) {\n                                tW += (parseInt($children.eq(i).width()) + settings.slideMargin);\n                                scene = i + ad;\n                                if (tW >= slideValue) {\n                                    break;\n                                }\n                            }\n                        }\n                    };\n                    if (distance >= settings.swipeThreshold) {\n                        gC(false);\n                        _next = false;\n                    } else if (distance <= -settings.swipethreshold)=\"\" {=\"\" gc(true);=\"\" _next=\"false;\" }=\"\" $el.mode(_next);=\"\" this.slidethumb();=\"\" else=\"\" if=\"\" (distance=\"\">= settings.swipeThreshold) {\n                        $el.goToPrevSlide();\n                    } else if (distance <= -settings.swipethreshold)=\"\" {=\"\" $el.gotonextslide();=\"\" }=\"\" },=\"\" enabledrag:=\"\" function=\"\" ()=\"\" var=\"\" $this=\"this;\" if=\"\" (!istouch)=\"\" startcoords=\"0,\" endcoords=\"0,\" isdraging=\"false;\" $slide.find('.lightslider').addclass('lsgrab');=\"\" $slide.on('mousedown',=\"\" (e)=\"\" (w=\"\" <=\"\" elsize)=\"\" !=\"=\" 0)=\"\" return=\"\" false;=\"\" ($(e.target).attr('class')=\"\" ('lsprev')=\"\" &&=\"\" $(e.target).attr('class')=\"\" ('lsnext'))=\"\" ==\"=\" true)=\"\" ?=\"\" e.pagey=\"\" :=\"\" e.pagex;=\"\" (e.preventdefault)=\"\" e.preventdefault();=\"\" else=\"\" e.returnvalue=\"false;\" **=\"\" fix=\"\" for=\"\" webkit=\"\" cursor=\"\" issue=\"\" https:=\"\" code.google.com=\"\" p=\"\" chromium=\"\" issues=\"\" detail?id=\"26723\" $slide.scrollleft=\"\" +=\"1;\" -=\"1;\" *=\"\" $slide.find('.lightslider').removeclass('lsgrab').addclass('lsgrabbing');=\"\" clearinterval(interval);=\"\" });=\"\" $(window).on('mousemove',=\"\" (isdraging)=\"\" $this.touchmove(endcoords,=\"\" startcoords);=\"\" $(window).on('mouseup',=\"\" $slide.find('.lightslider').removeclass('lsgrabbing').addclass('lsgrab');=\"\" distance=\"endCoords\" startcoords;=\"\" (math.abs(distance)=\"\">= settings.swipeThreshold) {\n                                $(window).on('click.ls', function (e) {\n                                    if (e.preventDefault) {\n                                        e.preventDefault();\n                                    } else {\n                                        e.returnValue = false;\n                                    }\n                                    e.stopImmediatePropagation();\n                                    e.stopPropagation();\n                                    $(window).off('click.ls');\n                                });\n                            }\n\n                            $this.touchEnd(distance);\n\n                        }\n                    });\n                }\n            },\n\n\n\n\n            enableTouch: function () {\n                var $this = this;\n                if (isTouch) {\n                    var startCoords = {},\n                        endCoords = {};\n                    $slide.on('touchstart', function (e) {\n                        endCoords = e.originalEvent.targetTouches[0];\n                        startCoords.pageX = e.originalEvent.targetTouches[0].pageX;\n                        startCoords.pageY = e.originalEvent.targetTouches[0].pageY;\n                        clearInterval(interval);\n                    });\n                    $slide.on('touchmove', function (e) {\n                        if (w < elSize) {\n                            if (w !== 0) {\n                                return false;\n                            }\n                        }\n                        var orig = e.originalEvent;\n                        endCoords = orig.targetTouches[0];\n                        var xMovement = Math.abs(endCoords.pageX - startCoords.pageX);\n                        var yMovement = Math.abs(endCoords.pageY - startCoords.pageY);\n                        if (settings.vertical === true) {\n                            if ((yMovement * 3) > xMovement) {\n                                e.preventDefault();\n                            }\n                            $this.touchMove(endCoords.pageY, startCoords.pageY);\n                        } else {\n                            if ((xMovement * 3) > yMovement) {\n                                e.preventDefault();\n                            }\n                            $this.touchMove(endCoords.pageX, startCoords.pageX);\n                        }\n\n                    });\n                    $slide.on('touchend', function () {\n                        if (w < elSize) {\n                            if (w !== 0) {\n                                return false;\n                            }\n                        }\n                        var distance;\n                        if (settings.vertical === true) {\n                            distance = endCoords.pageY - startCoords.pageY;\n                        } else {\n                            distance = endCoords.pageX - startCoords.pageX;\n                        }\n                        $this.touchEnd(distance);\n                    });\n                }\n            },\n            build: function () {\n                var $this = this;\n                $this.initialStyle();\n                if (this.doCss()) {\n\n                    if (settings.enableTouch === true) {\n                        $this.enableTouch();\n                    }\n                    if (settings.enableDrag === true) {\n                        $this.enableDrag();\n                    }\n                }\n\n                $(window).on('focus', function(){\n                    $this.auto();\n                });\n                \n                $(window).on('blur', function(){\n                    clearInterval(interval);\n                });\n\n                $this.pager();\n                $this.pauseOnHover();\n                $this.controls();\n                $this.keyPress();\n            }\n        };\n        plugin.build();\n        refresh.init = function () {\n            refresh.chbreakpoint();\n            if (settings.vertical === true) {\n                if (settings.item > 1) {\n                    elSize = settings.verticalHeight;\n                } else {\n                    elSize = $children.outerHeight();\n                }\n                $slide.css('height', elSize + 'px');\n            } else {\n                elSize = $slide.outerWidth();\n            }\n            if (settings.loop === true && settings.mode === 'slide') {\n                refresh.clone();\n            }\n            refresh.calL();\n            if (settings.mode === 'slide') {\n                $el.removeClass('lSSlide');\n            }\n            if (settings.mode === 'slide') {\n                refresh.calSW();\n                refresh.sSW();\n            }\n            setTimeout(function () {\n                if (settings.mode === 'slide') {\n                    $el.addClass('lSSlide');\n                }\n            }, 1000);\n            if (settings.pager) {\n                refresh.createPager();\n            }\n            if (settings.adaptiveHeight === true && settings.vertical === false) {\n                $el.css('height', $children.eq(scene).outerHeight(true));\n            }\n            if (settings.adaptiveHeight === false) {\n                if (settings.mode === 'slide') {\n                    if (settings.vertical === false) {\n                        plugin.setHeight($el, false);\n                    }else{\n                        plugin.auto();\n                    }\n                } else {\n                    plugin.setHeight($el, true);\n                }\n            }\n            if (settings.gallery === true) {\n                plugin.slideThumb();\n            }\n            if (settings.mode === 'slide') {\n                plugin.slide();\n            }\n            if (settings.autoWidth === false) {\n                if ($children.length <= settings.item)=\"\" {=\"\" $slide.find('.lsaction').hide();=\"\" }=\"\" else=\"\" $slide.find('.lsaction').show();=\"\" if=\"\" ((refresh.calwidth(false)=\"\" <=\"\" elsize)=\"\" &&=\"\" (w=\"\" !=\"=\" 0))=\"\" };=\"\" $el.gotoprevslide=\"function\" ()=\"\" (scene=\"\"> 0) {\n                settings.onBeforePrevSlide.call(this, $el, scene);\n                scene--;\n                $el.mode(false);\n                if (settings.gallery === true) {\n                    plugin.slideThumb();\n                }\n            } else {\n                if (settings.loop === true) {\n                    settings.onBeforePrevSlide.call(this, $el, scene);\n                    if (settings.mode === 'fade') {\n                        var l = (length - 1);\n                        scene = parseInt(l / settings.slideMove);\n                    }\n                    $el.mode(false);\n                    if (settings.gallery === true) {\n                        plugin.slideThumb();\n                    }\n                } else if (settings.slideEndAnimation === true) {\n                    $el.addClass('leftEnd');\n                    setTimeout(function () {\n                        $el.removeClass('leftEnd');\n                    }, 400);\n                }\n            }\n        };\n        $el.goToNextSlide = function () {\n            var nextI = true;\n            if (settings.mode === 'slide') {\n                var _slideValue = plugin.slideValue();\n                nextI = _slideValue < w - elSize - settings.slideMargin;\n            }\n            if (((scene * settings.slideMove) < length - settings.slideMove) && nextI) {\n                settings.onBeforeNextSlide.call(this, $el, scene);\n                scene++;\n                $el.mode(false);\n                if (settings.gallery === true) {\n                    plugin.slideThumb();\n                }\n            } else {\n                if (settings.loop === true) {\n                    settings.onBeforeNextSlide.call(this, $el, scene);\n                    scene = 0;\n                    $el.mode(false);\n                    if (settings.gallery === true) {\n                        plugin.slideThumb();\n                    }\n                } else if (settings.slideEndAnimation === true) {\n                    $el.addClass('rightEnd');\n                    setTimeout(function () {\n                        $el.removeClass('rightEnd');\n                    }, 400);\n                }\n            }\n        };\n        $el.mode = function (_touch) {\n            if (settings.adaptiveHeight === true && settings.vertical === false) {\n                $el.css('height', $children.eq(scene).outerHeight(true));\n            }\n            if (on === false) {\n                if (settings.mode === 'slide') {\n                    if (plugin.doCss()) {\n                        $el.addClass('lSSlide');\n                        if (settings.speed !== '') {\n                            $slide.css('transition-duration', settings.speed + 'ms');\n                        }\n                        if (settings.cssEasing !== '') {\n                            $slide.css('transition-timing-function', settings.cssEasing);\n                        }\n                    }\n                } else {\n                    if (plugin.doCss()) {\n                        if (settings.speed !== '') {\n                            $el.css('transition-duration', settings.speed + 'ms');\n                        }\n                        if (settings.cssEasing !== '') {\n                            $el.css('transition-timing-function', settings.cssEasing);\n                        }\n                    }\n                }\n            }\n            if (!_touch) {\n                settings.onBeforeSlide.call(this, $el, scene);\n            }\n            if (settings.mode === 'slide') {\n                plugin.slide();\n            } else {\n                plugin.fade();\n            }\n            if (!$slide.hasClass('ls-hover')) {\n                plugin.auto();\n            }\n            setTimeout(function () {\n                if (!_touch) {\n                    settings.onAfterSlide.call(this, $el, scene);\n                }\n            }, settings.speed);\n            on = true;\n        };\n        $el.play = function () {\n            $el.goToNextSlide();\n            settings.auto = true;\n            plugin.auto();\n        };\n        $el.pause = function () {\n            settings.auto = false;\n            clearInterval(interval);\n        };\n        $el.refresh = function () {\n            refresh.init();\n        };\n        $el.getCurrentSlideCount = function () {\n            var sc = scene;\n            if (settings.loop) {\n                var ln = $slide.find('.lslide').length,\n                    cl = $el.find('.clone.left').length;\n                if (scene <= cl=\"\" -=\"\" 1)=\"\" {=\"\" sc=\"ln\" +=\"\" (scene=\"\" cl);=\"\" }=\"\" else=\"\" if=\"\">= (ln + cl)) {\n                    sc = scene - ln - cl;\n                } else {\n                    sc = scene - cl;\n                }\n            }\n            return sc + 1;\n        }; \n        $el.getTotalSlideCount = function () {\n            return $slide.find('.lslide').length;\n        };\n        $el.goToSlide = function (s) {\n            if (settings.loop) {\n                scene = (s + $el.find('.clone.left').length - 1);\n            } else {\n                scene = s;\n            }\n            $el.mode(false);\n            if (settings.gallery === true) {\n                plugin.slideThumb();\n            }\n        };\n        $el.destroy = function () {\n            if ($el.lightSlider) {\n                $el.goToPrevSlide = function(){};\n                $el.goToNextSlide = function(){};\n                $el.mode = function(){};\n                $el.play = function(){};\n                $el.pause = function(){};\n                $el.refresh = function(){};\n                $el.getCurrentSlideCount = function(){};\n                $el.getTotalSlideCount = function(){};\n                $el.goToSlide = function(){}; \n                $el.lightSlider = null;\n                refresh = {\n                    init : function(){}\n                };\n                $el.parent().parent().find('.lSAction, .lSPager').remove();\n                $el.removeClass('lightSlider lSFade lSSlide lsGrab lsGrabbing leftEnd right').removeAttr('style').unwrap().unwrap();\n                $el.children().removeAttr('style');\n                $children.removeClass('lslide active');\n                $el.find('.clone').remove();\n                $children = null;\n                interval = null;\n                on = false;\n                scene = 0;\n            }\n\n        };\n        setTimeout(function () {\n            settings.onSliderLoad.call(this, $el);\n        }, 10);\n        $(window).on('resize orientationchange', function (e) {\n            setTimeout(function () {\n                if (e.preventDefault) {\n                    e.preventDefault();\n                } else {\n                    e.returnValue = false;\n                }\n                refresh.init();\n            }, 200);\n        });\n        return this;\n    };\n}(jQuery));</=></=></=></=></=>"}],"Post":[{"layout":"post","title":"Websocket ","description":null,"keywords":"websocket","date":"2013-05-01T16:00:00.000Z","_content":"**WebSocket**  HTML5 ( TCP )\n\n**Java** jetty  tomcat\n\n****[]\n\n## \n### HTTP   TCP \nHTTPwwwHTTPTELNETWebSocketHttp /,  http  http ; http ,  http .\nTCP,,TCPUDP\n\n###   :\nhttphold\n http  tcp ;  http  tcp \n http ;  http  http ;\n\n### Http  webSocket\nWebSocketHttpwebSocketHttpTCPwebSocket  HttpWebSocketHTTPHTTPWebSocketHTTPHTTPSHTTPTCPHTTPHTTPWebSocket WebSocketHTTP\n\n![](https://yanmingming.files.wordpress.com/2013/05/2a213e4d-2cd6-4d8a-8be2-3bf50d8d7b64.png)\n\n## \n\n1. (Polling)\n2. (Long Polling)PollingGetGet\n3. \n\n### \n\n1. HTTP\n2. \n3. \n\n\n## WebSocket\n\n![](https://gw.alipayobjects.com/zos/skylark/17625c30-c987-4090-9926-36a5fc709990/2018/png/07c0e5f9-d550-4bb5-9586-86554bbcdcc2.png)\n\n1. \n![](https://gw.alipayobjects.com/zos/skylark/9183678b-5633-493a-9b9f-512631ba8a6a/2018/png/cc7b882b-3327-4d99-9dfb-3d385572aaff.png)\n2. ;\n\n### Java\n\n*  jetty \n\n\n```java\n         <dependency>\n            <groupId>org.eclipse.jetty.aggregate</groupId>\n            <artifactId>jetty-all-server</artifactId>\n            <version>8.1.9.v20130131</version>\n         </dependency>\n```\n\n* IdeWebSocketServlet  WebSocketServlet  doWebSocketConnect()websocket. WebSocket-new ConcurrentHashMap<String, WebSocket>()webSocketmapmap\n    *  WebSocket\n![](https://yanmingming.files.wordpress.com/2013/05/c8affbd4-5659-41c6-aba7-6613d44715fc-1.png)\n\n* WebSocket, WebSocket.OnTextMessage , SessionWebSocketonOpenonCloseonMessage  onMessage \n* Js\n  \n```java\nfunction connect() {\n            var target = document.getElementById('target').value;\n            if (target == '') {\n                alert('Please select server side connection implementation.');\n                return;\n            }\n            if ('WebSocket' in window) {\n                ws = new WebSocket(target);\n            } else if ('MozWebSocket' in window) {\n                ws = new MozWebSocket(target);\n            } else {\n                alert('WebSocket is not supported by this browser.');\n                return;\n            }\n            ws.onopen = function () {\n                setConnected(true);\n                log('Info: WebSocket connection opened.');\n            };\n            ws.onmessage = function (event) {\n                log('Received: ' + event.data);\n            };\n            ws.onclose = function () {\n                setConnected(false);\n                log('Info: WebSocket connection closed.');\n            };\n        }\n\n        function updateTarget(target) {\n            if (window.location.protocol == 'http:') {\n                document.getElementById('target').value = 'ws://' + window.location.host + target;\n            } else {\n                document.getElementById('target').value = 'wss://' + window.location.host + target;\n            }\n        }\n```\n\n### WebSocket\n* \n* Http\n### WebSocket\n* IEIE10\n\n### WebSocketmessageframe\nHTTPchunkwebsocketframingmessagemessagedata\n\n### \n http ,  http ,  http /, http , .\n\n### \n http  http   tab , ,  http , ,  http , \n\n\n","source":"_posts/Basic/2013-05-02-websocket.md","raw":"---\nlayout: post\ntitle: Websocket \ncategories: Basic\ndescription:\nkeywords: websocket\ndate: 2013-05-02\n---\n**WebSocket**  HTML5 ( TCP )\n\n**Java** jetty  tomcat\n\n****[]\n\n## \n### HTTP   TCP \nHTTPwwwHTTPTELNETWebSocketHttp /,  http  http ; http ,  http .\nTCP,,TCPUDP\n\n###   :\nhttphold\n http  tcp ;  http  tcp \n http ;  http  http ;\n\n### Http  webSocket\nWebSocketHttpwebSocketHttpTCPwebSocket  HttpWebSocketHTTPHTTPWebSocketHTTPHTTPSHTTPTCPHTTPHTTPWebSocket WebSocketHTTP\n\n![](https://yanmingming.files.wordpress.com/2013/05/2a213e4d-2cd6-4d8a-8be2-3bf50d8d7b64.png)\n\n## \n\n1. (Polling)\n2. (Long Polling)PollingGetGet\n3. \n\n### \n\n1. HTTP\n2. \n3. \n\n\n## WebSocket\n\n![](https://gw.alipayobjects.com/zos/skylark/17625c30-c987-4090-9926-36a5fc709990/2018/png/07c0e5f9-d550-4bb5-9586-86554bbcdcc2.png)\n\n1. \n![](https://gw.alipayobjects.com/zos/skylark/9183678b-5633-493a-9b9f-512631ba8a6a/2018/png/cc7b882b-3327-4d99-9dfb-3d385572aaff.png)\n2. ;\n\n### Java\n\n*  jetty \n\n\n```java\n         <dependency>\n            <groupId>org.eclipse.jetty.aggregate</groupId>\n            <artifactId>jetty-all-server</artifactId>\n            <version>8.1.9.v20130131</version>\n         </dependency>\n```\n\n* IdeWebSocketServlet  WebSocketServlet  doWebSocketConnect()websocket. WebSocket-new ConcurrentHashMap<String, WebSocket>()webSocketmapmap\n    *  WebSocket\n![](https://yanmingming.files.wordpress.com/2013/05/c8affbd4-5659-41c6-aba7-6613d44715fc-1.png)\n\n* WebSocket, WebSocket.OnTextMessage , SessionWebSocketonOpenonCloseonMessage  onMessage \n* Js\n  \n```java\nfunction connect() {\n            var target = document.getElementById('target').value;\n            if (target == '') {\n                alert('Please select server side connection implementation.');\n                return;\n            }\n            if ('WebSocket' in window) {\n                ws = new WebSocket(target);\n            } else if ('MozWebSocket' in window) {\n                ws = new MozWebSocket(target);\n            } else {\n                alert('WebSocket is not supported by this browser.');\n                return;\n            }\n            ws.onopen = function () {\n                setConnected(true);\n                log('Info: WebSocket connection opened.');\n            };\n            ws.onmessage = function (event) {\n                log('Received: ' + event.data);\n            };\n            ws.onclose = function () {\n                setConnected(false);\n                log('Info: WebSocket connection closed.');\n            };\n        }\n\n        function updateTarget(target) {\n            if (window.location.protocol == 'http:') {\n                document.getElementById('target').value = 'ws://' + window.location.host + target;\n            } else {\n                document.getElementById('target').value = 'wss://' + window.location.host + target;\n            }\n        }\n```\n\n### WebSocket\n* \n* Http\n### WebSocket\n* IEIE10\n\n### WebSocketmessageframe\nHTTPchunkwebsocketframingmessagemessagedata\n\n### \n http ,  http ,  http /, http , .\n\n### \n http  http   tab , ,  http , ,  http , \n\n\n","slug":"Basic/2013-05-02-websocket","published":1,"updated":"2018-11-10T08:59:09.794Z","comments":1,"photos":[],"link":"","_id":"cjtohbk6y00006f12v93z8yr8","content":"<p><strong>WebSocket</strong>  HTML5 ( TCP )</p>\n<p><strong>Java</strong> jetty  tomcat</p>\n<p><strong></strong>[]</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"HTTP---TCP-\"><a href=\"#HTTP---TCP-\" class=\"headerlink\" title=\"HTTP   TCP \"></a>HTTP   TCP </h3><p>HTTPwwwHTTPTELNETWebSocketHttp /,  http  http ; http ,  http .<br>TCP,,TCPUDP</p>\n<h3 id=\"--\"><a href=\"#--\" class=\"headerlink\" title=\"  :\"></a>  :</h3><p>httphold<br> http  tcp ;  http  tcp <br> http ;  http  http ;</p>\n<h3 id=\"Http--webSocket\"><a href=\"#Http--webSocket\" class=\"headerlink\" title=\"Http  webSocket\"></a>Http  webSocket</h3><p>WebSocketHttpwebSocketHttpTCPwebSocket  HttpWebSocketHTTPHTTPWebSocketHTTPHTTPSHTTPTCPHTTPHTTPWebSocket WebSocketHTTP</p>\n<p><img src=\"https://yanmingming.files.wordpress.com/2013/05/2a213e4d-2cd6-4d8a-8be2-3bf50d8d7b64.png\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li>(Polling)</li>\n<li>(Long Polling)PollingGetGet</li>\n<li></li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>HTTP</li>\n<li></li>\n<li></li>\n</ol>\n<h2 id=\"WebSocket\"><a href=\"#WebSocket\" class=\"headerlink\" title=\"WebSocket\"></a>WebSocket</h2><p><img src=\"https://gw.alipayobjects.com/zos/skylark/17625c30-c987-4090-9926-36a5fc709990/2018/png/07c0e5f9-d550-4bb5-9586-86554bbcdcc2.png\" alt=\"\"></p>\n<ol>\n<li><br><img src=\"https://gw.alipayobjects.com/zos/skylark/9183678b-5633-493a-9b9f-512631ba8a6a/2018/png/cc7b882b-3327-4d99-9dfb-3d385572aaff.png\" alt=\"\"></li>\n<li>;</li>\n</ol>\n<h3 id=\"Java\"><a href=\"#Java\" class=\"headerlink\" title=\"Java\"></a>Java</h3><ul>\n<li> jetty </li>\n</ul>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;dependency&gt;</span><br><span class=\"line\">   &lt;groupId&gt;org.eclipse.jetty.aggregate&lt;/groupId&gt;</span><br><span class=\"line\">   &lt;artifactId&gt;jetty-all-server&lt;/artifactId&gt;</span><br><span class=\"line\">   &lt;version&gt;8.1.9.v20130131&lt;/version&gt;</span><br><span class=\"line\">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>\n<ul>\n<li><p>IdeWebSocketServlet  WebSocketServlet  doWebSocketConnect()websocket. WebSocket-new ConcurrentHashMap&lt;String, WebSocket&gt;()webSocketmapmap</p>\n<ul>\n<li>WebSocket<br><img src=\"https://yanmingming.files.wordpress.com/2013/05/c8affbd4-5659-41c6-aba7-6613d44715fc-1.png\" alt=\"\"></li>\n</ul>\n</li>\n<li><p>WebSocket, WebSocket.OnTextMessage , SessionWebSocketonOpenonCloseonMessage  onMessage </p>\n</li>\n<li>Js</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\">function <span class=\"title\">connect</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> target = document.getElementById(<span class=\"string\">'target'</span>).value;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (target == <span class=\"string\">''</span>) &#123;</span><br><span class=\"line\">                alert(<span class=\"string\">'Please select server side connection implementation.'</span>);</span><br><span class=\"line\">                <span class=\"keyword\">return</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (<span class=\"string\">'WebSocket'</span> in window) &#123;</span><br><span class=\"line\">                ws = <span class=\"keyword\">new</span> WebSocket(target);</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"string\">'MozWebSocket'</span> in window) &#123;</span><br><span class=\"line\">                ws = <span class=\"keyword\">new</span> MozWebSocket(target);</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                alert(<span class=\"string\">'WebSocket is not supported by this browser.'</span>);</span><br><span class=\"line\">                <span class=\"keyword\">return</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            ws.onopen = function () &#123;</span><br><span class=\"line\">                setConnected(<span class=\"keyword\">true</span>);</span><br><span class=\"line\">                log(<span class=\"string\">'Info: WebSocket connection opened.'</span>);</span><br><span class=\"line\">            &#125;;</span><br><span class=\"line\">            ws.onmessage = function (event) &#123;</span><br><span class=\"line\">                log(<span class=\"string\">'Received: '</span> + event.data);</span><br><span class=\"line\">            &#125;;</span><br><span class=\"line\">            ws.onclose = function () &#123;</span><br><span class=\"line\">                setConnected(<span class=\"keyword\">false</span>);</span><br><span class=\"line\">                log(<span class=\"string\">'Info: WebSocket connection closed.'</span>);</span><br><span class=\"line\">            &#125;;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\">function <span class=\"title\">updateTarget</span><span class=\"params\">(target)</span> </span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (window.location.protocol == <span class=\"string\">'http:'</span>) &#123;</span><br><span class=\"line\">                document.getElementById(<span class=\"string\">'target'</span>).value = <span class=\"string\">'ws://'</span> + window.location.host + target;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                document.getElementById(<span class=\"string\">'target'</span>).value = <span class=\"string\">'wss://'</span> + window.location.host + target;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"WebSocket\"><a href=\"#WebSocket\" class=\"headerlink\" title=\"WebSocket\"></a>WebSocket</h3><ul>\n<li></li>\n<li>Http<h3 id=\"WebSocket\"><a href=\"#WebSocket\" class=\"headerlink\" title=\"WebSocket\"></a>WebSocket</h3></li>\n<li>IEIE10</li>\n</ul>\n<h3 id=\"WebSocketmessageframe\"><a href=\"#WebSocketmessageframe\" class=\"headerlink\" title=\"WebSocketmessageframe\"></a>WebSocketmessageframe</h3><p>HTTPchunkwebsocketframingmessagemessagedata</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> http ,  http ,  http /, http , .</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> http  http   tab , ,  http , ,  http , </p>\n","site":{"data":{}},"excerpt":"","more":"<p><strong>WebSocket</strong>  HTML5 ( TCP )</p>\n<p><strong>Java</strong> jetty  tomcat</p>\n<p><strong></strong>[]</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"HTTP---TCP-\"><a href=\"#HTTP---TCP-\" class=\"headerlink\" title=\"HTTP   TCP \"></a>HTTP   TCP </h3><p>HTTPwwwHTTPTELNETWebSocketHttp /,  http  http ; http ,  http .<br>TCP,,TCPUDP</p>\n<h3 id=\"--\"><a href=\"#--\" class=\"headerlink\" title=\"  :\"></a>  :</h3><p>httphold<br> http  tcp ;  http  tcp <br> http ;  http  http ;</p>\n<h3 id=\"Http--webSocket\"><a href=\"#Http--webSocket\" class=\"headerlink\" title=\"Http  webSocket\"></a>Http  webSocket</h3><p>WebSocketHttpwebSocketHttpTCPwebSocket  HttpWebSocketHTTPHTTPWebSocketHTTPHTTPSHTTPTCPHTTPHTTPWebSocket WebSocketHTTP</p>\n<p><img src=\"https://yanmingming.files.wordpress.com/2013/05/2a213e4d-2cd6-4d8a-8be2-3bf50d8d7b64.png\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li>(Polling)</li>\n<li>(Long Polling)PollingGetGet</li>\n<li></li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>HTTP</li>\n<li></li>\n<li></li>\n</ol>\n<h2 id=\"WebSocket\"><a href=\"#WebSocket\" class=\"headerlink\" title=\"WebSocket\"></a>WebSocket</h2><p><img src=\"https://gw.alipayobjects.com/zos/skylark/17625c30-c987-4090-9926-36a5fc709990/2018/png/07c0e5f9-d550-4bb5-9586-86554bbcdcc2.png\" alt=\"\"></p>\n<ol>\n<li><br><img src=\"https://gw.alipayobjects.com/zos/skylark/9183678b-5633-493a-9b9f-512631ba8a6a/2018/png/cc7b882b-3327-4d99-9dfb-3d385572aaff.png\" alt=\"\"></li>\n<li>;</li>\n</ol>\n<h3 id=\"Java\"><a href=\"#Java\" class=\"headerlink\" title=\"Java\"></a>Java</h3><ul>\n<li> jetty </li>\n</ul>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;dependency&gt;</span><br><span class=\"line\">   &lt;groupId&gt;org.eclipse.jetty.aggregate&lt;/groupId&gt;</span><br><span class=\"line\">   &lt;artifactId&gt;jetty-all-server&lt;/artifactId&gt;</span><br><span class=\"line\">   &lt;version&gt;8.1.9.v20130131&lt;/version&gt;</span><br><span class=\"line\">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>\n<ul>\n<li><p>IdeWebSocketServlet  WebSocketServlet  doWebSocketConnect()websocket. WebSocket-new ConcurrentHashMap&lt;String, WebSocket&gt;()webSocketmapmap</p>\n<ul>\n<li>WebSocket<br><img src=\"https://yanmingming.files.wordpress.com/2013/05/c8affbd4-5659-41c6-aba7-6613d44715fc-1.png\" alt=\"\"></li>\n</ul>\n</li>\n<li><p>WebSocket, WebSocket.OnTextMessage , SessionWebSocketonOpenonCloseonMessage  onMessage </p>\n</li>\n<li>Js</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\">function <span class=\"title\">connect</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> target = document.getElementById(<span class=\"string\">'target'</span>).value;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (target == <span class=\"string\">''</span>) &#123;</span><br><span class=\"line\">                alert(<span class=\"string\">'Please select server side connection implementation.'</span>);</span><br><span class=\"line\">                <span class=\"keyword\">return</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (<span class=\"string\">'WebSocket'</span> in window) &#123;</span><br><span class=\"line\">                ws = <span class=\"keyword\">new</span> WebSocket(target);</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"string\">'MozWebSocket'</span> in window) &#123;</span><br><span class=\"line\">                ws = <span class=\"keyword\">new</span> MozWebSocket(target);</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                alert(<span class=\"string\">'WebSocket is not supported by this browser.'</span>);</span><br><span class=\"line\">                <span class=\"keyword\">return</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            ws.onopen = function () &#123;</span><br><span class=\"line\">                setConnected(<span class=\"keyword\">true</span>);</span><br><span class=\"line\">                log(<span class=\"string\">'Info: WebSocket connection opened.'</span>);</span><br><span class=\"line\">            &#125;;</span><br><span class=\"line\">            ws.onmessage = function (event) &#123;</span><br><span class=\"line\">                log(<span class=\"string\">'Received: '</span> + event.data);</span><br><span class=\"line\">            &#125;;</span><br><span class=\"line\">            ws.onclose = function () &#123;</span><br><span class=\"line\">                setConnected(<span class=\"keyword\">false</span>);</span><br><span class=\"line\">                log(<span class=\"string\">'Info: WebSocket connection closed.'</span>);</span><br><span class=\"line\">            &#125;;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\">function <span class=\"title\">updateTarget</span><span class=\"params\">(target)</span> </span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (window.location.protocol == <span class=\"string\">'http:'</span>) &#123;</span><br><span class=\"line\">                document.getElementById(<span class=\"string\">'target'</span>).value = <span class=\"string\">'ws://'</span> + window.location.host + target;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                document.getElementById(<span class=\"string\">'target'</span>).value = <span class=\"string\">'wss://'</span> + window.location.host + target;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"WebSocket\"><a href=\"#WebSocket\" class=\"headerlink\" title=\"WebSocket\"></a>WebSocket</h3><ul>\n<li></li>\n<li>Http<h3 id=\"WebSocket\"><a href=\"#WebSocket\" class=\"headerlink\" title=\"WebSocket\"></a>WebSocket</h3></li>\n<li>IEIE10</li>\n</ul>\n<h3 id=\"WebSocketmessageframe\"><a href=\"#WebSocketmessageframe\" class=\"headerlink\" title=\"WebSocketmessageframe\"></a>WebSocketmessageframe</h3><p>HTTPchunkwebsocketframingmessagemessagedata</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> http ,  http ,  http /, http , .</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> http  http   tab , ,  http , ,  http , </p>\n"},{"layout":"post","title":"MailHTML","description":null,"keywords":"mail","date":"2017-03-13T16:00:00.000Z","_content":">webhtml\n\n\nhttp://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/85c79200d05ddb180dbb9c9e13d4faa7.png\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/85c79200d05ddb180dbb9c9e13d4faa7.png)\n\n\n\nCSS3HTML5\n\nHTML[HTML Email](https://en.wikipedia.org/wiki/HTML_email)\n\n#### html email\n1. html5\n2. =OutlookGmailHotmailYahooCSS [](https://www.campaignmonitor.com/css/)\n3. html\n4. \n\n#### html email \nDoctypeXHTML 1.0 StrictGmailHotmailDoctypeDoctype\n\n```html\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\n<head>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />\n<title>HTML Email</title>\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"/>\n</head>\n</html>\n```\n\n\n\n#### tablecss\ndivsectionarticletableHTMLcolspanrowspan\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/5de5be6777232569dc731140fc61e24c.png)\n\ntabletabletable#backgroundTable  tabletable\n\n```html\n<table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"margin:0; padding:0; width:100% !important; line-height: 100% !important;\">\n    <tr>\n        <td valign=\"top\"> \n        \t<table align=\"center\" border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" style=\"border-collapse: collapse;\">\n        \t<tr><td></td></tr>\n        \t</table>\n        <td>\n    </tr>\n</table>\n```\ntable\n\n**table**\ntable  bootstrap paneltable-layout:fixed;\n\n**Max-Width**\nmax-widthOutlookLotus Notes 8 & 8.5tabletableIELotus NotesIEMicrosoft Outlook\n\n```html\n<!--[if (gte mso 9)|(IE)]>\n<table width=\"600\" align=\"center\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n    <tr>\n        <td>\n            <![endif]-->\n            <table class=\"content\" align=\"center\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n                <tr>\n                    <td>\n                        Hello!\n                    </td>\n                </tr>\n            </table>\n            <!--[if (gte mso 9)|(IE)]>\n        </td>\n    </tr>\n</table>\n<![endif]-->\n```\n\nmax-widthmedia queriesviewport600px'content'\n\n```html\n<style type=\"text/css\">\n@media only screen and (min-device-width: 601px) {\n.content {width: 600px !important;}\n}\n</style>\n```\n\n\n****\n25pxOutlooktableOutlook\n![](https://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/983e0ff2eb534e206e702f2065829ee4.png)\ntablealign\n\n\n#### \nh1,h2,h3p\n\n\n#### CSS\nCSSCSS[](https://www.campaignmonitor.com/css/)css\nHTML\n\nfont-sizestyle=\"font:8px/14px Arial,sans-serif\"HTMLmargin\n\n### \n https://github.com/seanpowell/Email-Boilerplate \nhttps://webdesign.tutsplus.com/articles/build-an-html-email-template-from-scratch--webdesign-12770 tableHTML Email\n\n### \nhttp://www.ruanyifeng.com/blog/2013/06/html_email.html\nhttp://www.campaignmonitor.com/blog/post/3317/correct-doctype-to-use-in-html-email/\nhttp://articles.sitepoint.com/article/code-html-email-newsletters\nhttp://dennisdeacon.wordpress.com/2008/06/09/top-10-email-best-practices/http://www.catswhocode.com/blog/best-practices-for-coding-html-emails\nhttps://webdesign.tutsplus.com/zh-hans/articles/creating-a-simple-responsive-html-email--webdesign-12978\nhttps://webdesign.tutsplus.com/articles/build-an-html-email-template-from-scratch--webdesign-12770\n\n\n\n\n\n\n\n","source":"_posts/Basic/2017-03-14-mail-html.md","raw":"---\nlayout: post\ntitle: MailHTML\ncategories: Basic\ndescription:\nkeywords: mail\ndate: 2017-03-14\n---\n>webhtml\n\n\nhttp://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/85c79200d05ddb180dbb9c9e13d4faa7.png\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/85c79200d05ddb180dbb9c9e13d4faa7.png)\n\n\n\nCSS3HTML5\n\nHTML[HTML Email](https://en.wikipedia.org/wiki/HTML_email)\n\n#### html email\n1. html5\n2. =OutlookGmailHotmailYahooCSS [](https://www.campaignmonitor.com/css/)\n3. html\n4. \n\n#### html email \nDoctypeXHTML 1.0 StrictGmailHotmailDoctypeDoctype\n\n```html\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\n<head>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />\n<title>HTML Email</title>\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"/>\n</head>\n</html>\n```\n\n\n\n#### tablecss\ndivsectionarticletableHTMLcolspanrowspan\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/5de5be6777232569dc731140fc61e24c.png)\n\ntabletabletable#backgroundTable  tabletable\n\n```html\n<table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"margin:0; padding:0; width:100% !important; line-height: 100% !important;\">\n    <tr>\n        <td valign=\"top\"> \n        \t<table align=\"center\" border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\" style=\"border-collapse: collapse;\">\n        \t<tr><td></td></tr>\n        \t</table>\n        <td>\n    </tr>\n</table>\n```\ntable\n\n**table**\ntable  bootstrap paneltable-layout:fixed;\n\n**Max-Width**\nmax-widthOutlookLotus Notes 8 & 8.5tabletableIELotus NotesIEMicrosoft Outlook\n\n```html\n<!--[if (gte mso 9)|(IE)]>\n<table width=\"600\" align=\"center\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n    <tr>\n        <td>\n            <![endif]-->\n            <table class=\"content\" align=\"center\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n                <tr>\n                    <td>\n                        Hello!\n                    </td>\n                </tr>\n            </table>\n            <!--[if (gte mso 9)|(IE)]>\n        </td>\n    </tr>\n</table>\n<![endif]-->\n```\n\nmax-widthmedia queriesviewport600px'content'\n\n```html\n<style type=\"text/css\">\n@media only screen and (min-device-width: 601px) {\n.content {width: 600px !important;}\n}\n</style>\n```\n\n\n****\n25pxOutlooktableOutlook\n![](https://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/983e0ff2eb534e206e702f2065829ee4.png)\ntablealign\n\n\n#### \nh1,h2,h3p\n\n\n#### CSS\nCSSCSS[](https://www.campaignmonitor.com/css/)css\nHTML\n\nfont-sizestyle=\"font:8px/14px Arial,sans-serif\"HTMLmargin\n\n### \n https://github.com/seanpowell/Email-Boilerplate \nhttps://webdesign.tutsplus.com/articles/build-an-html-email-template-from-scratch--webdesign-12770 tableHTML Email\n\n### \nhttp://www.ruanyifeng.com/blog/2013/06/html_email.html\nhttp://www.campaignmonitor.com/blog/post/3317/correct-doctype-to-use-in-html-email/\nhttp://articles.sitepoint.com/article/code-html-email-newsletters\nhttp://dennisdeacon.wordpress.com/2008/06/09/top-10-email-best-practices/http://www.catswhocode.com/blog/best-practices-for-coding-html-emails\nhttps://webdesign.tutsplus.com/zh-hans/articles/creating-a-simple-responsive-html-email--webdesign-12978\nhttps://webdesign.tutsplus.com/articles/build-an-html-email-template-from-scratch--webdesign-12770\n\n\n\n\n\n\n\n","slug":"Basic/2017-03-14-mail-html","published":1,"updated":"2018-11-10T08:59:09.795Z","comments":1,"photos":[],"link":"","_id":"cjtohbk7500026f12f73ip3nt","content":"<blockquote>\n<p>webhtml</p>\n</blockquote>\n<p><br><a href=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/85c79200d05ddb180dbb9c9e13d4faa7.png\" target=\"_blank\" rel=\"noopener\">http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/85c79200d05ddb180dbb9c9e13d4faa7.png</a><br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/85c79200d05ddb180dbb9c9e13d4faa7.png\" alt=\"\"></p>\n<p></p>\n<p>CSS3HTML5</p>\n<p>HTML<a href=\"https://en.wikipedia.org/wiki/HTML_email\" target=\"_blank\" rel=\"noopener\">HTML Email</a></p>\n<h4 id=\"html-email\"><a href=\"#html-email\" class=\"headerlink\" title=\"html email\"></a>html email</h4><ol>\n<li>html5</li>\n<li>=OutlookGmailHotmailYahooCSS <a href=\"https://www.campaignmonitor.com/css/\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li>html</li>\n<li></li>\n</ol>\n<h4 id=\"html-email-\"><a href=\"#html-email-\" class=\"headerlink\" title=\"html email \"></a>html email </h4><p>DoctypeXHTML 1.0 StrictGmailHotmailDoctypeDoctype</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">xmlns</span>=<span class=\"string\">\"http://www.w3.org/1999/xhtml\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">\"Content-Type\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"text/html; charset=UTF-8\"</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>HTML Email<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">\"viewport\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"width=device-width, initial-scale=1.0\"</span>/&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"tablecss\"><a href=\"#tablecss\" class=\"headerlink\" title=\"tablecss\"></a>tablecss</h4><p>divsectionarticletableHTMLcolspanrowspan<br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/5de5be6777232569dc731140fc61e24c.png\" alt=\"\"></p>\n<p>tabletabletable#backgroundTable  tabletable</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">table</span> <span class=\"attr\">cellpadding</span>=<span class=\"string\">\"0\"</span> <span class=\"attr\">cellspacing</span>=<span class=\"string\">\"0\"</span> <span class=\"attr\">border</span>=<span class=\"string\">\"0\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"margin:0; padding:0; width:100% !important; line-height: 100% !important;\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">td</span> <span class=\"attr\">valign</span>=<span class=\"string\">\"top\"</span>&gt;</span> </span><br><span class=\"line\">        \t<span class=\"tag\">&lt;<span class=\"name\">table</span> <span class=\"attr\">align</span>=<span class=\"string\">\"center\"</span> <span class=\"attr\">border</span>=<span class=\"string\">\"1\"</span> <span class=\"attr\">cellpadding</span>=<span class=\"string\">\"0\"</span> <span class=\"attr\">cellspacing</span>=<span class=\"string\">\"0\"</span> <span class=\"attr\">width</span>=<span class=\"string\">\"600\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"border-collapse: collapse;\"</span>&gt;</span></span><br><span class=\"line\">        \t<span class=\"tag\">&lt;<span class=\"name\">tr</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">        \t<span class=\"tag\">&lt;/<span class=\"name\">table</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">table</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>table</p>\n<p><strong>table</strong><br>table  bootstrap paneltable-layout:fixed;</p>\n<p><strong>Max-Width</strong><br>max-widthOutlookLotus Notes 8 &amp; 8.5tabletableIELotus NotesIEMicrosoft Outlook</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!--[if (gte mso 9)|(IE)]&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;table width=\"600\" align=\"center\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\"&gt;</span></span><br><span class=\"line\"><span class=\"comment\">    &lt;tr&gt;</span></span><br><span class=\"line\"><span class=\"comment\">        &lt;td&gt;</span></span><br><span class=\"line\"><span class=\"comment\">            &lt;![endif]--&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">table</span> <span class=\"attr\">class</span>=<span class=\"string\">\"content\"</span> <span class=\"attr\">align</span>=<span class=\"string\">\"center\"</span> <span class=\"attr\">cellpadding</span>=<span class=\"string\">\"0\"</span> <span class=\"attr\">cellspacing</span>=<span class=\"string\">\"0\"</span> <span class=\"attr\">border</span>=<span class=\"string\">\"0\"</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">                        Hello!</span><br><span class=\"line\">                    <span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;/<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">table</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!--[if (gte mso 9)|(IE)]&gt;</span></span><br><span class=\"line\"><span class=\"comment\">        &lt;/td&gt;</span></span><br><span class=\"line\"><span class=\"comment\">    &lt;/tr&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;/table&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;![endif]--&gt;</span></span><br></pre></td></tr></table></figure>\n<p>max-widthmedia queriesviewport600pxcontent</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text/css\"</span>&gt;</span><span class=\"undefined\"></span></span><br><span class=\"line\"><span class=\"undefined\">@media only screen and (min-device-width: 601px) &#123;</span></span><br><span class=\"line\"><span class=\"undefined\">.content &#123;width: 600px !important;&#125;</span></span><br><span class=\"line\"><span class=\"undefined\">&#125;</span></span><br><span class=\"line\"><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p><strong></strong><br>25pxOutlooktableOutlook<br><img src=\"https://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/983e0ff2eb534e206e702f2065829ee4.png\" alt=\"\"><br>tablealign</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>h1,h2,h3p<br></p>\n<h4 id=\"CSS\"><a href=\"#CSS\" class=\"headerlink\" title=\"CSS\"></a>CSS</h4><p>CSSCSS<a href=\"https://www.campaignmonitor.com/css/\" target=\"_blank\" rel=\"noopener\"></a>css<br>HTML</p>\n<p>font-sizestyle=font:8px/14px Arial,sans-serifHTMLmargin</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <a href=\"https://github.com/seanpowell/Email-Boilerplate\" target=\"_blank\" rel=\"noopener\">https://github.com/seanpowell/Email-Boilerplate</a> <br><a href=\"https://webdesign.tutsplus.com/articles/build-an-html-email-template-from-scratch--webdesign-12770\" target=\"_blank\" rel=\"noopener\">https://webdesign.tutsplus.com/articles/build-an-html-email-template-from-scratch--webdesign-12770</a> tableHTML Email</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><a href=\"http://www.ruanyifeng.com/blog/2013/06/html_email.html\" target=\"_blank\" rel=\"noopener\">http://www.ruanyifeng.com/blog/2013/06/html_email.html</a><br><a href=\"http://www.campaignmonitor.com/blog/post/3317/correct-doctype-to-use-in-html-email/\" target=\"_blank\" rel=\"noopener\">http://www.campaignmonitor.com/blog/post/3317/correct-doctype-to-use-in-html-email/</a><br><a href=\"http://articles.sitepoint.com/article/code-html-email-newsletters\" target=\"_blank\" rel=\"noopener\">http://articles.sitepoint.com/article/code-html-email-newsletters</a><br><a href=\"http://dennisdeacon.wordpress.com/2008/06/09/top-10-email-best-practices/http://www.catswhocode.com/blog/best-practices-for-coding-html-emails\" target=\"_blank\" rel=\"noopener\">http://dennisdeacon.wordpress.com/2008/06/09/top-10-email-best-practices/http://www.catswhocode.com/blog/best-practices-for-coding-html-emails</a><br><a href=\"https://webdesign.tutsplus.com/zh-hans/articles/creating-a-simple-responsive-html-email--webdesign-12978\" target=\"_blank\" rel=\"noopener\">https://webdesign.tutsplus.com/zh-hans/articles/creating-a-simple-responsive-html-email--webdesign-12978</a><br><a href=\"https://webdesign.tutsplus.com/articles/build-an-html-email-template-from-scratch--webdesign-12770\" target=\"_blank\" rel=\"noopener\">https://webdesign.tutsplus.com/articles/build-an-html-email-template-from-scratch--webdesign-12770</a></p>\n","site":{"data":{}},"excerpt":"","more":"<blockquote>\n<p>webhtml</p>\n</blockquote>\n<p><br><a href=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/85c79200d05ddb180dbb9c9e13d4faa7.png\" target=\"_blank\" rel=\"noopener\">http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/85c79200d05ddb180dbb9c9e13d4faa7.png</a><br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/85c79200d05ddb180dbb9c9e13d4faa7.png\" alt=\"\"></p>\n<p></p>\n<p>CSS3HTML5</p>\n<p>HTML<a href=\"https://en.wikipedia.org/wiki/HTML_email\" target=\"_blank\" rel=\"noopener\">HTML Email</a></p>\n<h4 id=\"html-email\"><a href=\"#html-email\" class=\"headerlink\" title=\"html email\"></a>html email</h4><ol>\n<li>html5</li>\n<li>=OutlookGmailHotmailYahooCSS <a href=\"https://www.campaignmonitor.com/css/\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li>html</li>\n<li></li>\n</ol>\n<h4 id=\"html-email-\"><a href=\"#html-email-\" class=\"headerlink\" title=\"html email \"></a>html email </h4><p>DoctypeXHTML 1.0 StrictGmailHotmailDoctypeDoctype</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">xmlns</span>=<span class=\"string\">\"http://www.w3.org/1999/xhtml\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">\"Content-Type\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"text/html; charset=UTF-8\"</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>HTML Email<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">\"viewport\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"width=device-width, initial-scale=1.0\"</span>/&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"tablecss\"><a href=\"#tablecss\" class=\"headerlink\" title=\"tablecss\"></a>tablecss</h4><p>divsectionarticletableHTMLcolspanrowspan<br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/5de5be6777232569dc731140fc61e24c.png\" alt=\"\"></p>\n<p>tabletabletable#backgroundTable  tabletable</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">table</span> <span class=\"attr\">cellpadding</span>=<span class=\"string\">\"0\"</span> <span class=\"attr\">cellspacing</span>=<span class=\"string\">\"0\"</span> <span class=\"attr\">border</span>=<span class=\"string\">\"0\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"margin:0; padding:0; width:100% !important; line-height: 100% !important;\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">td</span> <span class=\"attr\">valign</span>=<span class=\"string\">\"top\"</span>&gt;</span> </span><br><span class=\"line\">        \t<span class=\"tag\">&lt;<span class=\"name\">table</span> <span class=\"attr\">align</span>=<span class=\"string\">\"center\"</span> <span class=\"attr\">border</span>=<span class=\"string\">\"1\"</span> <span class=\"attr\">cellpadding</span>=<span class=\"string\">\"0\"</span> <span class=\"attr\">cellspacing</span>=<span class=\"string\">\"0\"</span> <span class=\"attr\">width</span>=<span class=\"string\">\"600\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"border-collapse: collapse;\"</span>&gt;</span></span><br><span class=\"line\">        \t<span class=\"tag\">&lt;<span class=\"name\">tr</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">        \t<span class=\"tag\">&lt;/<span class=\"name\">table</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">table</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>table</p>\n<p><strong>table</strong><br>table  bootstrap paneltable-layout:fixed;</p>\n<p><strong>Max-Width</strong><br>max-widthOutlookLotus Notes 8 &amp; 8.5tabletableIELotus NotesIEMicrosoft Outlook</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!--[if (gte mso 9)|(IE)]&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;table width=\"600\" align=\"center\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\"&gt;</span></span><br><span class=\"line\"><span class=\"comment\">    &lt;tr&gt;</span></span><br><span class=\"line\"><span class=\"comment\">        &lt;td&gt;</span></span><br><span class=\"line\"><span class=\"comment\">            &lt;![endif]--&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">table</span> <span class=\"attr\">class</span>=<span class=\"string\">\"content\"</span> <span class=\"attr\">align</span>=<span class=\"string\">\"center\"</span> <span class=\"attr\">cellpadding</span>=<span class=\"string\">\"0\"</span> <span class=\"attr\">cellspacing</span>=<span class=\"string\">\"0\"</span> <span class=\"attr\">border</span>=<span class=\"string\">\"0\"</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">                        Hello!</span><br><span class=\"line\">                    <span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;/<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">table</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!--[if (gte mso 9)|(IE)]&gt;</span></span><br><span class=\"line\"><span class=\"comment\">        &lt;/td&gt;</span></span><br><span class=\"line\"><span class=\"comment\">    &lt;/tr&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;/table&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;![endif]--&gt;</span></span><br></pre></td></tr></table></figure>\n<p>max-widthmedia queriesviewport600pxcontent</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text/css\"</span>&gt;</span><span class=\"undefined\"></span></span><br><span class=\"line\"><span class=\"undefined\">@media only screen and (min-device-width: 601px) &#123;</span></span><br><span class=\"line\"><span class=\"undefined\">.content &#123;width: 600px !important;&#125;</span></span><br><span class=\"line\"><span class=\"undefined\">&#125;</span></span><br><span class=\"line\"><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p><strong></strong><br>25pxOutlooktableOutlook<br><img src=\"https://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/983e0ff2eb534e206e702f2065829ee4.png\" alt=\"\"><br>tablealign</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>h1,h2,h3p<br></p>\n<h4 id=\"CSS\"><a href=\"#CSS\" class=\"headerlink\" title=\"CSS\"></a>CSS</h4><p>CSSCSS<a href=\"https://www.campaignmonitor.com/css/\" target=\"_blank\" rel=\"noopener\"></a>css<br>HTML</p>\n<p>font-sizestyle=font:8px/14px Arial,sans-serifHTMLmargin</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <a href=\"https://github.com/seanpowell/Email-Boilerplate\" target=\"_blank\" rel=\"noopener\">https://github.com/seanpowell/Email-Boilerplate</a> <br><a href=\"https://webdesign.tutsplus.com/articles/build-an-html-email-template-from-scratch--webdesign-12770\" target=\"_blank\" rel=\"noopener\">https://webdesign.tutsplus.com/articles/build-an-html-email-template-from-scratch--webdesign-12770</a> tableHTML Email</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><a href=\"http://www.ruanyifeng.com/blog/2013/06/html_email.html\" target=\"_blank\" rel=\"noopener\">http://www.ruanyifeng.com/blog/2013/06/html_email.html</a><br><a href=\"http://www.campaignmonitor.com/blog/post/3317/correct-doctype-to-use-in-html-email/\" target=\"_blank\" rel=\"noopener\">http://www.campaignmonitor.com/blog/post/3317/correct-doctype-to-use-in-html-email/</a><br><a href=\"http://articles.sitepoint.com/article/code-html-email-newsletters\" target=\"_blank\" rel=\"noopener\">http://articles.sitepoint.com/article/code-html-email-newsletters</a><br><a href=\"http://dennisdeacon.wordpress.com/2008/06/09/top-10-email-best-practices/http://www.catswhocode.com/blog/best-practices-for-coding-html-emails\" target=\"_blank\" rel=\"noopener\">http://dennisdeacon.wordpress.com/2008/06/09/top-10-email-best-practices/http://www.catswhocode.com/blog/best-practices-for-coding-html-emails</a><br><a href=\"https://webdesign.tutsplus.com/zh-hans/articles/creating-a-simple-responsive-html-email--webdesign-12978\" target=\"_blank\" rel=\"noopener\">https://webdesign.tutsplus.com/zh-hans/articles/creating-a-simple-responsive-html-email--webdesign-12978</a><br><a href=\"https://webdesign.tutsplus.com/articles/build-an-html-email-template-from-scratch--webdesign-12770\" target=\"_blank\" rel=\"noopener\">https://webdesign.tutsplus.com/articles/build-an-html-email-template-from-scratch--webdesign-12770</a></p>\n"},{"layout":"post","title":"Android  Listview","description":null,"keywords":"Android listview","date":"2014-08-31T16:00:00.000Z","_content":"\n#### ListView\n\n1. ListView\n2. Adapter&\n3. url\n\nAdapter  Android  Adapter\n\n#### ListView \n\nAdapterListViewAdaptergetView\nListViewgetCount()getViewAndroidViewAndroidListView-RecyclerViewRecyclerconvertView\n\n#### ListView\n\n****ListViewView\n\nListViewsetAdapterAdapterListViewListViewsetAdatersetAdaterAdaptermAdapterListViewpositionAbsListViewobtainViewobtainViewrecycleradapter.getViewscrapViewconvertViewnull\n\n\n\n****ListViewAdapter notifyDataSetChanged() \n\nListView Adapter \n\nListViewsetAdapterApdateDataSetObserver\n\nAdapterDataSetObserverAbsListView\n\nAdapterViewAdapterDataSetObserver()\n\nAdapterDataSetObserver DataSetObserveronChangerrequestLayoutparent view Measure onLayout\nrequestLayoutViewhttp://blog.csdn.net/androiddevelop/article/details/8561076\n\n\n\n****RecyclerBinListViewconvertView\nRecycleBinAbsListView\n\n \n\nRecycleBinActiveViews  ScrapViews\nActiveViews()ViewScrapViews\nScrapViews()Viewview\nListViewNRecycleBinNscrapViewviewviewview\n\nScrapViewsviewgetScrapView   retrieveFromScrap\n\nretrieveFromScrapRecycleBinAbslistView\n   positionmScrapView\n\n        1. view.scrappedFromPosition = positionview\n        2. mScrapView\n        3. viewnull\n        \n         a. \n         listviewNmScrapViewviewviewlistviewAdapter.getViewconvertViewnullconvertView\n         b. \n         aviewitemviewdetachmScrapViewitem viewmScrapViewpositionViewmScrapViewviewconvertView\n        c. \n        bmScrapViewitemlistviewviewitempositionview\n\n#### ListView\n#####  Listview \n\n****\n\nlistViewlistviewitem\n\n****\n\ngetViewRecycleBinscropViewspositionviewviewview\n\n****\n\npositonpositionconvertelseifelse\n\n[http://www.myexception.cn/mobile/1612364.html ](http://www.myexception.cn/mobile/1612364.html )\n\n\n","source":"_posts/Android/2014-09-01-listview.md","raw":"---\nlayout: post\ntitle: Android  Listview\ncategories: Android\ndescription:\nkeywords: Android listview\ndate: 2014-09-01\n---\n\n#### ListView\n\n1. ListView\n2. Adapter&\n3. url\n\nAdapter  Android  Adapter\n\n#### ListView \n\nAdapterListViewAdaptergetView\nListViewgetCount()getViewAndroidViewAndroidListView-RecyclerViewRecyclerconvertView\n\n#### ListView\n\n****ListViewView\n\nListViewsetAdapterAdapterListViewListViewsetAdatersetAdaterAdaptermAdapterListViewpositionAbsListViewobtainViewobtainViewrecycleradapter.getViewscrapViewconvertViewnull\n\n\n\n****ListViewAdapter notifyDataSetChanged() \n\nListView Adapter \n\nListViewsetAdapterApdateDataSetObserver\n\nAdapterDataSetObserverAbsListView\n\nAdapterViewAdapterDataSetObserver()\n\nAdapterDataSetObserver DataSetObserveronChangerrequestLayoutparent view Measure onLayout\nrequestLayoutViewhttp://blog.csdn.net/androiddevelop/article/details/8561076\n\n\n\n****RecyclerBinListViewconvertView\nRecycleBinAbsListView\n\n \n\nRecycleBinActiveViews  ScrapViews\nActiveViews()ViewScrapViews\nScrapViews()Viewview\nListViewNRecycleBinNscrapViewviewviewview\n\nScrapViewsviewgetScrapView   retrieveFromScrap\n\nretrieveFromScrapRecycleBinAbslistView\n   positionmScrapView\n\n        1. view.scrappedFromPosition = positionview\n        2. mScrapView\n        3. viewnull\n        \n         a. \n         listviewNmScrapViewviewviewlistviewAdapter.getViewconvertViewnullconvertView\n         b. \n         aviewitemviewdetachmScrapViewitem viewmScrapViewpositionViewmScrapViewviewconvertView\n        c. \n        bmScrapViewitemlistviewviewitempositionview\n\n#### ListView\n#####  Listview \n\n****\n\nlistViewlistviewitem\n\n****\n\ngetViewRecycleBinscropViewspositionviewviewview\n\n****\n\npositonpositionconvertelseifelse\n\n[http://www.myexception.cn/mobile/1612364.html ](http://www.myexception.cn/mobile/1612364.html )\n\n\n","slug":"Android/2014-09-01-listview","published":1,"updated":"2018-11-10T08:59:09.794Z","comments":1,"photos":[],"link":"","_id":"cjtohbk7800056f12xrvwci8p","content":"<h4 id=\"ListView\"><a href=\"#ListView\" class=\"headerlink\" title=\"ListView\"></a>ListView</h4><ol>\n<li>ListView</li>\n<li>Adapter&amp;</li>\n<li>url</li>\n</ol>\n<p>Adapter  Android  Adapter</p>\n<h4 id=\"ListView-\"><a href=\"#ListView-\" class=\"headerlink\" title=\"ListView \"></a>ListView </h4><p>AdapterListViewAdaptergetView<br>ListViewgetCount()getViewAndroidViewAndroidListView-RecyclerViewRecyclerconvertView</p>\n<h4 id=\"ListView\"><a href=\"#ListView\" class=\"headerlink\" title=\"ListView\"></a>ListView</h4><p><strong></strong>ListViewView</p>\n<p>ListViewsetAdapterAdapterListViewListViewsetAdatersetAdaterAdaptermAdapterListViewpositionAbsListViewobtainViewobtainViewrecycleradapter.getViewscrapViewconvertViewnull</p>\n<p><strong></strong>ListViewAdapter notifyDataSetChanged() </p>\n<p>ListView Adapter </p>\n<p>ListViewsetAdapterApdateDataSetObserver</p>\n<p>AdapterDataSetObserverAbsListView</p>\n<p>AdapterViewAdapterDataSetObserver()</p>\n<p>AdapterDataSetObserver DataSetObserveronChangerrequestLayoutparent view Measure onLayout<br>requestLayoutView<a href=\"http://blog.csdn.net/androiddevelop/article/details/8561076\" target=\"_blank\" rel=\"noopener\">http://blog.csdn.net/androiddevelop/article/details/8561076</a></p>\n<p><strong></strong>RecyclerBinListViewconvertView<br>RecycleBinAbsListView</p>\n<p> </p>\n<p>RecycleBinActiveViews  ScrapViews<br>ActiveViews()ViewScrapViews<br>ScrapViews()Viewview<br>ListViewNRecycleBinNscrapViewviewviewview</p>\n<p>ScrapViewsviewgetScrapView   retrieveFromScrap</p>\n<p>retrieveFromScrapRecycleBinAbslistView<br>   positionmScrapView</p>\n<pre><code>1. view.scrappedFromPosition = positionview\n2. mScrapView\n3. viewnull\n\n a. \n listviewNmScrapViewviewviewlistviewAdapter.getViewconvertViewnullconvertView\n b. \n aviewitemviewdetachmScrapViewitem viewmScrapViewpositionViewmScrapViewviewconvertView\nc. \nbmScrapViewitemlistviewviewitempositionview\n</code></pre><h4 id=\"ListView\"><a href=\"#ListView\" class=\"headerlink\" title=\"ListView\"></a>ListView</h4><h5 id=\"Listview-\"><a href=\"#Listview-\" class=\"headerlink\" title=\"Listview \"></a>Listview </h5><p><strong></strong></p>\n<p>listViewlistviewitem</p>\n<p><strong></strong></p>\n<p>getViewRecycleBinscropViewspositionviewviewview</p>\n<p><strong></strong></p>\n<p>positonpositionconvertelseifelse</p>\n<p><a href=\"http://www.myexception.cn/mobile/1612364.html\" target=\"_blank\" rel=\"noopener\">http://www.myexception.cn/mobile/1612364.html </a></p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"ListView\"><a href=\"#ListView\" class=\"headerlink\" title=\"ListView\"></a>ListView</h4><ol>\n<li>ListView</li>\n<li>Adapter&amp;</li>\n<li>url</li>\n</ol>\n<p>Adapter  Android  Adapter</p>\n<h4 id=\"ListView-\"><a href=\"#ListView-\" class=\"headerlink\" title=\"ListView \"></a>ListView </h4><p>AdapterListViewAdaptergetView<br>ListViewgetCount()getViewAndroidViewAndroidListView-RecyclerViewRecyclerconvertView</p>\n<h4 id=\"ListView\"><a href=\"#ListView\" class=\"headerlink\" title=\"ListView\"></a>ListView</h4><p><strong></strong>ListViewView</p>\n<p>ListViewsetAdapterAdapterListViewListViewsetAdatersetAdaterAdaptermAdapterListViewpositionAbsListViewobtainViewobtainViewrecycleradapter.getViewscrapViewconvertViewnull</p>\n<p><strong></strong>ListViewAdapter notifyDataSetChanged() </p>\n<p>ListView Adapter </p>\n<p>ListViewsetAdapterApdateDataSetObserver</p>\n<p>AdapterDataSetObserverAbsListView</p>\n<p>AdapterViewAdapterDataSetObserver()</p>\n<p>AdapterDataSetObserver DataSetObserveronChangerrequestLayoutparent view Measure onLayout<br>requestLayoutView<a href=\"http://blog.csdn.net/androiddevelop/article/details/8561076\" target=\"_blank\" rel=\"noopener\">http://blog.csdn.net/androiddevelop/article/details/8561076</a></p>\n<p><strong></strong>RecyclerBinListViewconvertView<br>RecycleBinAbsListView</p>\n<p> </p>\n<p>RecycleBinActiveViews  ScrapViews<br>ActiveViews()ViewScrapViews<br>ScrapViews()Viewview<br>ListViewNRecycleBinNscrapViewviewviewview</p>\n<p>ScrapViewsviewgetScrapView   retrieveFromScrap</p>\n<p>retrieveFromScrapRecycleBinAbslistView<br>   positionmScrapView</p>\n<pre><code>1. view.scrappedFromPosition = positionview\n2. mScrapView\n3. viewnull\n\n a. \n listviewNmScrapViewviewviewlistviewAdapter.getViewconvertViewnullconvertView\n b. \n aviewitemviewdetachmScrapViewitem viewmScrapViewpositionViewmScrapViewviewconvertView\nc. \nbmScrapViewitemlistviewviewitempositionview\n</code></pre><h4 id=\"ListView\"><a href=\"#ListView\" class=\"headerlink\" title=\"ListView\"></a>ListView</h4><h5 id=\"Listview-\"><a href=\"#Listview-\" class=\"headerlink\" title=\"Listview \"></a>Listview </h5><p><strong></strong></p>\n<p>listViewlistviewitem</p>\n<p><strong></strong></p>\n<p>getViewRecycleBinscropViewspositionviewviewview</p>\n<p><strong></strong></p>\n<p>positonpositionconvertelseifelse</p>\n<p><a href=\"http://www.myexception.cn/mobile/1612364.html\" target=\"_blank\" rel=\"noopener\">http://www.myexception.cn/mobile/1612364.html </a></p>\n"},{"layout":"post","title":"Android  Layout","description":null,"keywords":"Android Layout","date":"2014-09-10T16:00:00.000Z","_content":"\nUI\n\n1. `<include> <merge> <viewStub>`\n[https://developer.android.com/training/improving-layouts/optimizing-layout.html](https://developer.android.com/training/improving-layouts/optimizing-layout.html)\n\n2.LinearLayoutlayout_weight\n\n3.Layout,\n[https://developer.android.com/training/improving-layouts/optimizing-layout.html](https://developer.android.com/training/improving-layouts/optimizing-layout.html)\n\n4.LayoutHierarchy ViewerTree\nHierarchyVIewer\n\n\n\nhierarchyviewerViewServerHierarchy ViewerView ServersocketView ServerHierarchy Viewer\n\n\n\n\n\nAppView Server\n\n[http://pan.baidu.com/s/1sjIulYl ](http://pan.baidu.com/s/1sjIulYl )wrc8\n\n\n\nViewServer.java UtilLayoutActivity\n\n\n```java\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        \n        ViewServer.get(this).addWindow(this);\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        ViewServer.get(this).removeWindow(this);\n    }\n\n    @Override\n    public void onResume() {\n        super.onResume();\n        ViewServer.get(this).setFocusedWindow(this);\n    }\n```\n\n5.LintLayout\n\n* merge  FramLayoutmerge\n*   layout\n*   layoutScrollView\n* layout   RelativeLayout or GridLayout10\nLintandroid Studio:\nAnalyze  Inspect code Lint\n\n6.LinearLayout  RelationLayoutrelative layoutLinearLayout\n\n7.RelationLayout  FrameLayoutFrameLayoutRelationLayoutFrameLayoutRelationLayout\n[http://stackoverflow.com/questions/22875453/framelayout-vs-relativelayout-for-overlays](http://stackoverflow.com/questions/22875453/framelayout-vs-relativelayout-for-overlays)\n\n8.textviewimageviewlayouttextviewdrawableTop\n\n","source":"_posts/Android/2014-09-11-layout.md","raw":"---\nlayout: post\ntitle: Android  Layout\ncategories: Android\ndescription:\nkeywords: Android Layout\ndate: 2014-09-11\n---\n\nUI\n\n1. `<include> <merge> <viewStub>`\n[https://developer.android.com/training/improving-layouts/optimizing-layout.html](https://developer.android.com/training/improving-layouts/optimizing-layout.html)\n\n2.LinearLayoutlayout_weight\n\n3.Layout,\n[https://developer.android.com/training/improving-layouts/optimizing-layout.html](https://developer.android.com/training/improving-layouts/optimizing-layout.html)\n\n4.LayoutHierarchy ViewerTree\nHierarchyVIewer\n\n\n\nhierarchyviewerViewServerHierarchy ViewerView ServersocketView ServerHierarchy Viewer\n\n\n\n\n\nAppView Server\n\n[http://pan.baidu.com/s/1sjIulYl ](http://pan.baidu.com/s/1sjIulYl )wrc8\n\n\n\nViewServer.java UtilLayoutActivity\n\n\n```java\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        \n        ViewServer.get(this).addWindow(this);\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        ViewServer.get(this).removeWindow(this);\n    }\n\n    @Override\n    public void onResume() {\n        super.onResume();\n        ViewServer.get(this).setFocusedWindow(this);\n    }\n```\n\n5.LintLayout\n\n* merge  FramLayoutmerge\n*   layout\n*   layoutScrollView\n* layout   RelativeLayout or GridLayout10\nLintandroid Studio:\nAnalyze  Inspect code Lint\n\n6.LinearLayout  RelationLayoutrelative layoutLinearLayout\n\n7.RelationLayout  FrameLayoutFrameLayoutRelationLayoutFrameLayoutRelationLayout\n[http://stackoverflow.com/questions/22875453/framelayout-vs-relativelayout-for-overlays](http://stackoverflow.com/questions/22875453/framelayout-vs-relativelayout-for-overlays)\n\n8.textviewimageviewlayouttextviewdrawableTop\n\n","slug":"Android/2014-09-11-layout","published":1,"updated":"2018-11-10T08:59:09.794Z","comments":1,"photos":[],"link":"","_id":"cjtohbk7a00066f12sbkgk7ef","content":"<p>UI</p>\n<p>1. <code>&lt;include&gt; &lt;merge&gt; &lt;viewStub&gt;</code><br><a href=\"https://developer.android.com/training/improving-layouts/optimizing-layout.html\" target=\"_blank\" rel=\"noopener\">https://developer.android.com/training/improving-layouts/optimizing-layout.html</a></p>\n<p>2.LinearLayoutlayout_weight</p>\n<p>3.Layout,<br><a href=\"https://developer.android.com/training/improving-layouts/optimizing-layout.html\" target=\"_blank\" rel=\"noopener\">https://developer.android.com/training/improving-layouts/optimizing-layout.html</a></p>\n<p>4.LayoutHierarchy ViewerTree<br>HierarchyVIewer</p>\n<p>hierarchyviewerViewServerHierarchy ViewerView ServersocketView ServerHierarchy Viewer</p>\n<p></p>\n<p></p>\n<p>AppView Server</p>\n<p><a href=\"http://pan.baidu.com/s/1sjIulYl\" target=\"_blank\" rel=\"noopener\">http://pan.baidu.com/s/1sjIulYl </a>wrc8</p>\n<p></p>\n<p>ViewServer.java UtilLayoutActivity</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Override</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">onCreate</span><span class=\"params\">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">super</span>.onCreate(savedInstanceState);</span><br><span class=\"line\">    </span><br><span class=\"line\">    ViewServer.get(<span class=\"keyword\">this</span>).addWindow(<span class=\"keyword\">this</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Override</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">onDestroy</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">super</span>.onDestroy();</span><br><span class=\"line\">    ViewServer.get(<span class=\"keyword\">this</span>).removeWindow(<span class=\"keyword\">this</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Override</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">onResume</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">super</span>.onResume();</span><br><span class=\"line\">    ViewServer.get(<span class=\"keyword\">this</span>).setFocusedWindow(<span class=\"keyword\">this</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>5.LintLayout</p>\n<ul>\n<li>merge  FramLayoutmerge</li>\n<li>  layout</li>\n<li>  layoutScrollView</li>\n<li>layout   RelativeLayout or GridLayout10<br>Lintandroid Studio:<br>Analyze  Inspect code Lint</li>\n</ul>\n<p>6.LinearLayout  RelationLayoutrelative layoutLinearLayout</p>\n<p>7.RelationLayout  FrameLayoutFrameLayoutRelationLayoutFrameLayoutRelationLayout<br><a href=\"http://stackoverflow.com/questions/22875453/framelayout-vs-relativelayout-for-overlays\" target=\"_blank\" rel=\"noopener\">http://stackoverflow.com/questions/22875453/framelayout-vs-relativelayout-for-overlays</a></p>\n<p>8.textviewimageviewlayouttextviewdrawableTop</p>\n","site":{"data":{}},"excerpt":"","more":"<p>UI</p>\n<p>1. <code>&lt;include&gt; &lt;merge&gt; &lt;viewStub&gt;</code><br><a href=\"https://developer.android.com/training/improving-layouts/optimizing-layout.html\" target=\"_blank\" rel=\"noopener\">https://developer.android.com/training/improving-layouts/optimizing-layout.html</a></p>\n<p>2.LinearLayoutlayout_weight</p>\n<p>3.Layout,<br><a href=\"https://developer.android.com/training/improving-layouts/optimizing-layout.html\" target=\"_blank\" rel=\"noopener\">https://developer.android.com/training/improving-layouts/optimizing-layout.html</a></p>\n<p>4.LayoutHierarchy ViewerTree<br>HierarchyVIewer</p>\n<p>hierarchyviewerViewServerHierarchy ViewerView ServersocketView ServerHierarchy Viewer</p>\n<p></p>\n<p></p>\n<p>AppView Server</p>\n<p><a href=\"http://pan.baidu.com/s/1sjIulYl\" target=\"_blank\" rel=\"noopener\">http://pan.baidu.com/s/1sjIulYl </a>wrc8</p>\n<p></p>\n<p>ViewServer.java UtilLayoutActivity</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Override</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">onCreate</span><span class=\"params\">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">super</span>.onCreate(savedInstanceState);</span><br><span class=\"line\">    </span><br><span class=\"line\">    ViewServer.get(<span class=\"keyword\">this</span>).addWindow(<span class=\"keyword\">this</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Override</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">onDestroy</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">super</span>.onDestroy();</span><br><span class=\"line\">    ViewServer.get(<span class=\"keyword\">this</span>).removeWindow(<span class=\"keyword\">this</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Override</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">onResume</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">super</span>.onResume();</span><br><span class=\"line\">    ViewServer.get(<span class=\"keyword\">this</span>).setFocusedWindow(<span class=\"keyword\">this</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>5.LintLayout</p>\n<ul>\n<li>merge  FramLayoutmerge</li>\n<li>  layout</li>\n<li>  layoutScrollView</li>\n<li>layout   RelativeLayout or GridLayout10<br>Lintandroid Studio:<br>Analyze  Inspect code Lint</li>\n</ul>\n<p>6.LinearLayout  RelationLayoutrelative layoutLinearLayout</p>\n<p>7.RelationLayout  FrameLayoutFrameLayoutRelationLayoutFrameLayoutRelationLayout<br><a href=\"http://stackoverflow.com/questions/22875453/framelayout-vs-relativelayout-for-overlays\" target=\"_blank\" rel=\"noopener\">http://stackoverflow.com/questions/22875453/framelayout-vs-relativelayout-for-overlays</a></p>\n<p>8.textviewimageviewlayouttextviewdrawableTop</p>\n"},{"layout":"post","title":"AWS","description":null,"keywords":"aws application-discovery ","date":"2018-03-14T16:00:00.000Z","_content":"\n>AWS Application Discovery Service \n\n\n\n## \n### \n VMware vCenter Server \n\n\n\n* VMware \n* CPUMEM\n\n\n### (Agent)\nAgentAgent\n\n## \n*  \n    * IPMACcpuType\n    * \n    * TCP/IP v4  v6\n        * sourceIPsourceProcessdestinationIpdestinationPortdstProcessipVersion\n* \n    * \n        * OS\n    * \n        * %CPU\n        * %MEM\n        * %DISK  \n    * \n        *   \n\n\n### \nSSL\nAWS KMS\n\n## Agent\nAgentArsenal ping \n![](https://gw.alipayobjects.com/zos/skylark/2a647cf5-d9b2-42f6-bcab-39a16b5ead2b/2018/png/179f1e58-a729-4ab0-8dea-b604269d0ad9.png)\n\n### \n\n\n#### \n\n* STARTED   Discovery Service\n* START_SCHEDULED   AWS  Discovery Service STARTED\n* STOPPED   Discovery Service\n* STOP_SCHEDULED   AWS  DiscoveryService  STOPPED\n\n### \nDiscoveryServiceTAGTAG\n\n**** awscommondLine\n\n### Agent\n* \n* \n\n## API\n1. AgentAPI\n    *  Agent\n    *  Agent\n    *  Agent\n2. API\n    *  serverapplicationprocessconnection \n3. API\n    * TAG \n\n## \n[https://aws.amazon.com/cn/documentation/application-discovery/](https://aws.amazon.com/cn/documentation/application-discovery/)\n\nAPI[https://docs.aws.amazon.com/zh_cn/application-discovery/latest/APIReference/discovery-api.pdf#discovery-api-queries](https://docs.aws.amazon.com/zh_cn/application-discovery/latest/APIReference/discovery-api.pdf#discovery-api-queries)\n\n","source":"_posts/HighAvailability/2018-03-15-aws-application-discovery.md","raw":"---\nlayout: post\ntitle: AWS\ncategories: HighAvailability\ndescription:\nkeywords: aws application-discovery \ndate: 2018-03-15\n---\n\n>AWS Application Discovery Service \n\n\n\n## \n### \n VMware vCenter Server \n\n\n\n* VMware \n* CPUMEM\n\n\n### (Agent)\nAgentAgent\n\n## \n*  \n    * IPMACcpuType\n    * \n    * TCP/IP v4  v6\n        * sourceIPsourceProcessdestinationIpdestinationPortdstProcessipVersion\n* \n    * \n        * OS\n    * \n        * %CPU\n        * %MEM\n        * %DISK  \n    * \n        *   \n\n\n### \nSSL\nAWS KMS\n\n## Agent\nAgentArsenal ping \n![](https://gw.alipayobjects.com/zos/skylark/2a647cf5-d9b2-42f6-bcab-39a16b5ead2b/2018/png/179f1e58-a729-4ab0-8dea-b604269d0ad9.png)\n\n### \n\n\n#### \n\n* STARTED   Discovery Service\n* START_SCHEDULED   AWS  Discovery Service STARTED\n* STOPPED   Discovery Service\n* STOP_SCHEDULED   AWS  DiscoveryService  STOPPED\n\n### \nDiscoveryServiceTAGTAG\n\n**** awscommondLine\n\n### Agent\n* \n* \n\n## API\n1. AgentAPI\n    *  Agent\n    *  Agent\n    *  Agent\n2. API\n    *  serverapplicationprocessconnection \n3. API\n    * TAG \n\n## \n[https://aws.amazon.com/cn/documentation/application-discovery/](https://aws.amazon.com/cn/documentation/application-discovery/)\n\nAPI[https://docs.aws.amazon.com/zh_cn/application-discovery/latest/APIReference/discovery-api.pdf#discovery-api-queries](https://docs.aws.amazon.com/zh_cn/application-discovery/latest/APIReference/discovery-api.pdf#discovery-api-queries)\n\n","slug":"HighAvailability/2018-03-15-aws-application-discovery","published":1,"updated":"2018-11-10T08:59:09.795Z","comments":1,"photos":[],"link":"","_id":"cjtohbk7b00076f12f7nr4inw","content":"<blockquote>\n<p>AWS Application Discovery Service </p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> VMware vCenter Server </p>\n<p></p>\n<ul>\n<li>VMware </li>\n<li>CPUMEM</li>\n</ul>\n<h3 id=\"-Agent-\"><a href=\"#-Agent-\" class=\"headerlink\" title=\"(Agent)\"></a>(Agent)</h3><p>AgentAgent</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li> <ul>\n<li>IPMACcpuType</li>\n<li></li>\n<li>TCP/IP v4  v6<ul>\n<li>sourceIPsourceProcessdestinationIpdestinationPortdstProcessipVersion</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><ul>\n<li><ul>\n<li>OS</li>\n</ul>\n</li>\n<li><ul>\n<li>%CPU</li>\n<li>%MEM</li>\n<li>%DISK  </li>\n</ul>\n</li>\n<li><ul>\n<li>  </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>SSL<br>AWS KMS</p>\n<h2 id=\"Agent\"><a href=\"#Agent\" class=\"headerlink\" title=\"Agent\"></a>Agent</h2><p>AgentArsenal ping <br><img src=\"https://gw.alipayobjects.com/zos/skylark/2a647cf5-d9b2-42f6-bcab-39a16b5ead2b/2018/png/179f1e58-a729-4ab0-8dea-b604269d0ad9.png\" alt=\"\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>STARTED   Discovery Service</li>\n<li>START_SCHEDULED   AWS  Discovery Service STARTED</li>\n<li>STOPPED   Discovery Service</li>\n<li>STOP_SCHEDULED   AWS  DiscoveryService  STOPPED</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>DiscoveryServiceTAGTAG</p>\n<p><strong></strong> awscommondLine</p>\n<h3 id=\"Agent\"><a href=\"#Agent\" class=\"headerlink\" title=\"Agent\"></a>Agent</h3><ul>\n<li></li>\n<li></li>\n</ul>\n<h2 id=\"API\"><a href=\"#API\" class=\"headerlink\" title=\"API\"></a>API</h2><ol>\n<li>AgentAPI<ul>\n<li>Agent</li>\n<li>Agent</li>\n<li>Agent</li>\n</ul>\n</li>\n<li>API<ul>\n<li>serverapplicationprocessconnection </li>\n</ul>\n</li>\n<li>API<ul>\n<li>TAG </li>\n</ul>\n</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://aws.amazon.com/cn/documentation/application-discovery/\" target=\"_blank\" rel=\"noopener\">https://aws.amazon.com/cn/documentation/application-discovery/</a></p>\n<p>API<a href=\"https://docs.aws.amazon.com/zh_cn/application-discovery/latest/APIReference/discovery-api.pdf#discovery-api-queries\" target=\"_blank\" rel=\"noopener\">https://docs.aws.amazon.com/zh_cn/application-discovery/latest/APIReference/discovery-api.pdf#discovery-api-queries</a></p>\n","site":{"data":{}},"excerpt":"","more":"<blockquote>\n<p>AWS Application Discovery Service </p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> VMware vCenter Server </p>\n<p></p>\n<ul>\n<li>VMware </li>\n<li>CPUMEM</li>\n</ul>\n<h3 id=\"-Agent-\"><a href=\"#-Agent-\" class=\"headerlink\" title=\"(Agent)\"></a>(Agent)</h3><p>AgentAgent</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li> <ul>\n<li>IPMACcpuType</li>\n<li></li>\n<li>TCP/IP v4  v6<ul>\n<li>sourceIPsourceProcessdestinationIpdestinationPortdstProcessipVersion</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><ul>\n<li><ul>\n<li>OS</li>\n</ul>\n</li>\n<li><ul>\n<li>%CPU</li>\n<li>%MEM</li>\n<li>%DISK  </li>\n</ul>\n</li>\n<li><ul>\n<li>  </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>SSL<br>AWS KMS</p>\n<h2 id=\"Agent\"><a href=\"#Agent\" class=\"headerlink\" title=\"Agent\"></a>Agent</h2><p>AgentArsenal ping <br><img src=\"https://gw.alipayobjects.com/zos/skylark/2a647cf5-d9b2-42f6-bcab-39a16b5ead2b/2018/png/179f1e58-a729-4ab0-8dea-b604269d0ad9.png\" alt=\"\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>STARTED   Discovery Service</li>\n<li>START_SCHEDULED   AWS  Discovery Service STARTED</li>\n<li>STOPPED   Discovery Service</li>\n<li>STOP_SCHEDULED   AWS  DiscoveryService  STOPPED</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>DiscoveryServiceTAGTAG</p>\n<p><strong></strong> awscommondLine</p>\n<h3 id=\"Agent\"><a href=\"#Agent\" class=\"headerlink\" title=\"Agent\"></a>Agent</h3><ul>\n<li></li>\n<li></li>\n</ul>\n<h2 id=\"API\"><a href=\"#API\" class=\"headerlink\" title=\"API\"></a>API</h2><ol>\n<li>AgentAPI<ul>\n<li>Agent</li>\n<li>Agent</li>\n<li>Agent</li>\n</ul>\n</li>\n<li>API<ul>\n<li>serverapplicationprocessconnection </li>\n</ul>\n</li>\n<li>API<ul>\n<li>TAG </li>\n</ul>\n</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://aws.amazon.com/cn/documentation/application-discovery/\" target=\"_blank\" rel=\"noopener\">https://aws.amazon.com/cn/documentation/application-discovery/</a></p>\n<p>API<a href=\"https://docs.aws.amazon.com/zh_cn/application-discovery/latest/APIReference/discovery-api.pdf#discovery-api-queries\" target=\"_blank\" rel=\"noopener\">https://docs.aws.amazon.com/zh_cn/application-discovery/latest/APIReference/discovery-api.pdf#discovery-api-queries</a></p>\n"},{"layout":"post","title":"","description":null,"keywords":"aliyun region  ","date":"2018-03-28T16:00:00.000Z","_content":"\n![](/images/posts/20180329/aliyun-mutil-region.png)\n\n","source":"_posts/HighAvailability/2018-03-29-aliyun-mutil-region.md","raw":"---\nlayout: post\ntitle: \ncategories: HighAvailability\ndescription:\nkeywords: aliyun region  \ndate: 2018-03-29\n---\n\n![](/images/posts/20180329/aliyun-mutil-region.png)\n\n","slug":"HighAvailability/2018-03-29-aliyun-mutil-region","published":1,"updated":"2018-11-10T08:59:09.795Z","comments":1,"photos":[],"link":"","_id":"cjtohbk7e00096f12p49noxxs","content":"<p><img src=\"/images/posts/20180329/aliyun-mutil-region.png\" alt=\"\"></p>\n","site":{"data":{}},"excerpt":"","more":"<p><img src=\"/images/posts/20180329/aliyun-mutil-region.png\" alt=\"\"></p>\n"},{"layout":"post","title":"","description":null,"keywords":"diamond ","date":"2015-12-19T16:00:00.000Z","_content":"\n#### \n1. HOST\nxx.xx.xx.xx  diamond.configserver.net\nIPDiamond-serverIP\n2. Diamond-clien\n\n#### Diamond\n4\n\n1. Diamond-server\n2. ClientServer\n3. ClientServer\n4. ClientServer\n\n\n\n* Diamondhttp://jm-blog.aliapp.com/?p=1592\n* Diamondhttp://jm-blog.aliapp.com/?p=1606\n* Diamondhttp://jm-blog.aliapp.com/?p=1617\n* DiamondZKhttp://jm-blog.aliapp.com/?p=2561\n\nDiamondDiamond\n\n\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/92a78ada25e538858dbcc2482c0d92b2.png?zoom=2)\n\n#### Server\n1. ConfigService\n    ConcurrentHashMapkeyMd5MD5\n\nMd5server\n\nkeyserver\n2. ServerNotifyService\n    node.propertiesserverIPPropertiesnotifyConfigInfoChangehttpGetdataIdGroupServerNotifyConfigServiceloadConfigInfoToDiskcacheMd5\nserverserverServerHttp ServerDiamondnode\n3. DiskService\n    ConcurrentHashMapputIfAbsentkeymapremove\n4. TimerTaskService\n    scheduledExecutorServiceDumpConfigInfoTask60010DumpConfigInfoTaskConfigServiceMd5\n##### \nserver\n\n\n* MD5\n* \n* \n\n#### Client\n1. \n    * DefaultSubscriberListener DataIdDefaultSubscriberListenerdataIddiataidMapKeyManagerListener dataId\n2. \n    * DiamondClientFactoryDefaultDiamondSubscriberDefaultDiamondSubscriber DiamondSnapshotDefaultDiamondSubscriber DiamondClientSubstart()stop(); start()\n    * \n        1. LocalConfigInfoProcessor\n        2. DiamondServerDiamondServerDiamondServerDataIdDataId:Group:Md5httpDiamondServerdataIdMd5dataIddataidDiamondServerdataIdSNAPSHOT\n        3. SNAPSHOTdiamond serverDataIdSNAPSHOT\n3. \n    * DiamondLocalConfigInfoProcessor~/diamond/data/config-data//dataIdDiamondServerAddressProcessorDiamondServerSnapshotConfigInfoProcessor~/diamond/snapshot//dataId\n    * ~/diamond/data/config-datapopConfigInfodataIddataIdDiamondServer\n    * popConfigInfoDiamondSNAPSHOT\n    * Diamond\n    * ManagerListenerDefaultDiamondManagerdefaultDiamondManager.getAvailableConfigureInfomation(5000)\n    * DefaultDiamondManagergetConfigureInfomation  getAvailableConfigureInfomation getConfigureInfomationDiamondServer\ngetAvailableConfigureInfomation DiamondServerSNAPSHOT\n\n##### \nClient\n\n* DiamondServer  SNAPSHOT\n* \n* \n* cache\n\n","source":"_posts/Middleware/2015-12-20-diamond-study.md","raw":"---\nlayout: post\ntitle: \ncategories: Middleware\ndescription:\nkeywords: diamond \ndate: 2015-12-20\n---\n\n#### \n1. HOST\nxx.xx.xx.xx  diamond.configserver.net\nIPDiamond-serverIP\n2. Diamond-clien\n\n#### Diamond\n4\n\n1. Diamond-server\n2. ClientServer\n3. ClientServer\n4. ClientServer\n\n\n\n* Diamondhttp://jm-blog.aliapp.com/?p=1592\n* Diamondhttp://jm-blog.aliapp.com/?p=1606\n* Diamondhttp://jm-blog.aliapp.com/?p=1617\n* DiamondZKhttp://jm-blog.aliapp.com/?p=2561\n\nDiamondDiamond\n\n\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/92a78ada25e538858dbcc2482c0d92b2.png?zoom=2)\n\n#### Server\n1. ConfigService\n    ConcurrentHashMapkeyMd5MD5\n\nMd5server\n\nkeyserver\n2. ServerNotifyService\n    node.propertiesserverIPPropertiesnotifyConfigInfoChangehttpGetdataIdGroupServerNotifyConfigServiceloadConfigInfoToDiskcacheMd5\nserverserverServerHttp ServerDiamondnode\n3. DiskService\n    ConcurrentHashMapputIfAbsentkeymapremove\n4. TimerTaskService\n    scheduledExecutorServiceDumpConfigInfoTask60010DumpConfigInfoTaskConfigServiceMd5\n##### \nserver\n\n\n* MD5\n* \n* \n\n#### Client\n1. \n    * DefaultSubscriberListener DataIdDefaultSubscriberListenerdataIddiataidMapKeyManagerListener dataId\n2. \n    * DiamondClientFactoryDefaultDiamondSubscriberDefaultDiamondSubscriber DiamondSnapshotDefaultDiamondSubscriber DiamondClientSubstart()stop(); start()\n    * \n        1. LocalConfigInfoProcessor\n        2. DiamondServerDiamondServerDiamondServerDataIdDataId:Group:Md5httpDiamondServerdataIdMd5dataIddataidDiamondServerdataIdSNAPSHOT\n        3. SNAPSHOTdiamond serverDataIdSNAPSHOT\n3. \n    * DiamondLocalConfigInfoProcessor~/diamond/data/config-data//dataIdDiamondServerAddressProcessorDiamondServerSnapshotConfigInfoProcessor~/diamond/snapshot//dataId\n    * ~/diamond/data/config-datapopConfigInfodataIddataIdDiamondServer\n    * popConfigInfoDiamondSNAPSHOT\n    * Diamond\n    * ManagerListenerDefaultDiamondManagerdefaultDiamondManager.getAvailableConfigureInfomation(5000)\n    * DefaultDiamondManagergetConfigureInfomation  getAvailableConfigureInfomation getConfigureInfomationDiamondServer\ngetAvailableConfigureInfomation DiamondServerSNAPSHOT\n\n##### \nClient\n\n* DiamondServer  SNAPSHOT\n* \n* \n* cache\n\n","slug":"Middleware/2015-12-20-diamond-study","published":1,"updated":"2018-11-10T08:59:09.804Z","comments":1,"photos":[],"link":"","_id":"cjtohbk7h000a6f120cybx55w","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li>HOST<br>xx.xx.xx.xx  diamond.configserver.net<br>IPDiamond-serverIP</li>\n<li>Diamond-clien</li>\n</ol>\n<h4 id=\"Diamond\"><a href=\"#Diamond\" class=\"headerlink\" title=\"Diamond\"></a>Diamond</h4><p>4</p>\n<ol>\n<li>Diamond-server</li>\n<li>ClientServer</li>\n<li>ClientServer</li>\n<li>ClientServer</li>\n</ol>\n<p></p>\n<ul>\n<li>Diamond<a href=\"http://jm-blog.aliapp.com/?p=1592\" target=\"_blank\" rel=\"noopener\">http://jm-blog.aliapp.com/?p=1592</a></li>\n<li>Diamond<a href=\"http://jm-blog.aliapp.com/?p=1606\" target=\"_blank\" rel=\"noopener\">http://jm-blog.aliapp.com/?p=1606</a></li>\n<li>Diamond<a href=\"http://jm-blog.aliapp.com/?p=1617\" target=\"_blank\" rel=\"noopener\">http://jm-blog.aliapp.com/?p=1617</a></li>\n<li>DiamondZK<a href=\"http://jm-blog.aliapp.com/?p=2561\" target=\"_blank\" rel=\"noopener\">http://jm-blog.aliapp.com/?p=2561</a></li>\n</ul>\n<p>DiamondDiamond</p>\n<p></p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/92a78ada25e538858dbcc2482c0d92b2.png?zoom=2\" alt=\"\"></p>\n<h4 id=\"Server\"><a href=\"#Server\" class=\"headerlink\" title=\"Server\"></a>Server</h4><ol>\n<li>ConfigService<br> ConcurrentHashMapkeyMd5MD5<br><br>Md5server<br><br>keyserver</li>\n<li>ServerNotifyService<br> node.propertiesserverIPPropertiesnotifyConfigInfoChangehttpGetdataIdGroupServerNotifyConfigServiceloadConfigInfoToDiskcacheMd5<br>serverserverServerHttp ServerDiamondnode</li>\n<li>DiskService<br> ConcurrentHashMapputIfAbsentkeymapremove</li>\n<li>TimerTaskService<br> scheduledExecutorServiceDumpConfigInfoTask60010DumpConfigInfoTaskConfigServiceMd5<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5>server</li>\n</ol>\n<ul>\n<li>MD5</li>\n<li></li>\n<li></li>\n</ul>\n<h4 id=\"Client\"><a href=\"#Client\" class=\"headerlink\" title=\"Client\"></a>Client</h4><ol>\n<li><ul>\n<li>DefaultSubscriberListener DataIdDefaultSubscriberListenerdataIddiataidMapKeyManagerListener dataId</li>\n</ul>\n</li>\n<li><ul>\n<li>DiamondClientFactoryDefaultDiamondSubscriberDefaultDiamondSubscriber DiamondSnapshotDefaultDiamondSubscriber DiamondClientSubstart()stop(); start()</li>\n<li><ol>\n<li>LocalConfigInfoProcessor</li>\n<li>DiamondServerDiamondServerDiamondServerDataIdDataId:Group:Md5httpDiamondServerdataIdMd5dataIddataidDiamondServerdataIdSNAPSHOT</li>\n<li>SNAPSHOTdiamond serverDataIdSNAPSHOT</li>\n</ol>\n</li>\n</ul>\n</li>\n<li><ul>\n<li>DiamondLocalConfigInfoProcessor~/diamond/data/config-data//dataIdDiamondServerAddressProcessorDiamondServerSnapshotConfigInfoProcessor~/diamond/snapshot//dataId</li>\n<li>~/diamond/data/config-datapopConfigInfodataIddataIdDiamondServer</li>\n<li>popConfigInfoDiamondSNAPSHOT</li>\n<li>Diamond</li>\n<li>ManagerListenerDefaultDiamondManagerdefaultDiamondManager.getAvailableConfigureInfomation(5000)</li>\n<li>DefaultDiamondManagergetConfigureInfomation  getAvailableConfigureInfomation getConfigureInfomationDiamondServer<br>getAvailableConfigureInfomation DiamondServerSNAPSHOT</li>\n</ul>\n</li>\n</ol>\n<h5 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h5><p>Client</p>\n<ul>\n<li>DiamondServer  SNAPSHOT</li>\n<li></li>\n<li></li>\n<li>cache</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li>HOST<br>xx.xx.xx.xx  diamond.configserver.net<br>IPDiamond-serverIP</li>\n<li>Diamond-clien</li>\n</ol>\n<h4 id=\"Diamond\"><a href=\"#Diamond\" class=\"headerlink\" title=\"Diamond\"></a>Diamond</h4><p>4</p>\n<ol>\n<li>Diamond-server</li>\n<li>ClientServer</li>\n<li>ClientServer</li>\n<li>ClientServer</li>\n</ol>\n<p></p>\n<ul>\n<li>Diamond<a href=\"http://jm-blog.aliapp.com/?p=1592\" target=\"_blank\" rel=\"noopener\">http://jm-blog.aliapp.com/?p=1592</a></li>\n<li>Diamond<a href=\"http://jm-blog.aliapp.com/?p=1606\" target=\"_blank\" rel=\"noopener\">http://jm-blog.aliapp.com/?p=1606</a></li>\n<li>Diamond<a href=\"http://jm-blog.aliapp.com/?p=1617\" target=\"_blank\" rel=\"noopener\">http://jm-blog.aliapp.com/?p=1617</a></li>\n<li>DiamondZK<a href=\"http://jm-blog.aliapp.com/?p=2561\" target=\"_blank\" rel=\"noopener\">http://jm-blog.aliapp.com/?p=2561</a></li>\n</ul>\n<p>DiamondDiamond</p>\n<p></p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/92a78ada25e538858dbcc2482c0d92b2.png?zoom=2\" alt=\"\"></p>\n<h4 id=\"Server\"><a href=\"#Server\" class=\"headerlink\" title=\"Server\"></a>Server</h4><ol>\n<li>ConfigService<br> ConcurrentHashMapkeyMd5MD5<br><br>Md5server<br><br>keyserver</li>\n<li>ServerNotifyService<br> node.propertiesserverIPPropertiesnotifyConfigInfoChangehttpGetdataIdGroupServerNotifyConfigServiceloadConfigInfoToDiskcacheMd5<br>serverserverServerHttp ServerDiamondnode</li>\n<li>DiskService<br> ConcurrentHashMapputIfAbsentkeymapremove</li>\n<li>TimerTaskService<br> scheduledExecutorServiceDumpConfigInfoTask60010DumpConfigInfoTaskConfigServiceMd5<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5>server</li>\n</ol>\n<ul>\n<li>MD5</li>\n<li></li>\n<li></li>\n</ul>\n<h4 id=\"Client\"><a href=\"#Client\" class=\"headerlink\" title=\"Client\"></a>Client</h4><ol>\n<li><ul>\n<li>DefaultSubscriberListener DataIdDefaultSubscriberListenerdataIddiataidMapKeyManagerListener dataId</li>\n</ul>\n</li>\n<li><ul>\n<li>DiamondClientFactoryDefaultDiamondSubscriberDefaultDiamondSubscriber DiamondSnapshotDefaultDiamondSubscriber DiamondClientSubstart()stop(); start()</li>\n<li><ol>\n<li>LocalConfigInfoProcessor</li>\n<li>DiamondServerDiamondServerDiamondServerDataIdDataId:Group:Md5httpDiamondServerdataIdMd5dataIddataidDiamondServerdataIdSNAPSHOT</li>\n<li>SNAPSHOTdiamond serverDataIdSNAPSHOT</li>\n</ol>\n</li>\n</ul>\n</li>\n<li><ul>\n<li>DiamondLocalConfigInfoProcessor~/diamond/data/config-data//dataIdDiamondServerAddressProcessorDiamondServerSnapshotConfigInfoProcessor~/diamond/snapshot//dataId</li>\n<li>~/diamond/data/config-datapopConfigInfodataIddataIdDiamondServer</li>\n<li>popConfigInfoDiamondSNAPSHOT</li>\n<li>Diamond</li>\n<li>ManagerListenerDefaultDiamondManagerdefaultDiamondManager.getAvailableConfigureInfomation(5000)</li>\n<li>DefaultDiamondManagergetConfigureInfomation  getAvailableConfigureInfomation getConfigureInfomationDiamondServer<br>getAvailableConfigureInfomation DiamondServerSNAPSHOT</li>\n</ul>\n</li>\n</ol>\n<h5 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h5><p>Client</p>\n<ul>\n<li>DiamondServer  SNAPSHOT</li>\n<li></li>\n<li></li>\n<li>cache</li>\n</ul>\n"},{"title":"","date":"2018-11-16T06:29:59.000Z","_content":"\n<a name=\"d4zzse\"></a>\n### \nB->(u1,u2,u3...uN)B->uNBuNuNlocal cache local cache \n\n\n<a name=\"isplgh\"></a>\n### \nlocal cache<!-- more -->\n\n```\n//\nList<ProcessEntity> processEntities = processCache.getIfPresent(cacheKey);\n        if (processEntities == null) {\n            //\n            processEntities = processSourceClient.readProcessEntitiesByTimeGrid(\n                demoDataRequest.getSourceUserId(), demoDataRequest.getSourceNamespace(),\n                demoDataRequest.getSourceTimeGrid());\n        }\n\n        if (CollectionUtils.isNotEmpty(processEntities)) {\n            //\n            processCache.put(cacheKey, processEntities);\n            processEntities.forEach(item -> {\n              //\n                item.setUserId(demoDataRequest.getTargetUserId());\n                item.setNamespace(demoDataRequest.getTargetNamespace());\n                item.setTimeGrid(demoDataRequest.getTargetTimeGrid());\n            });\n            \n            //\n            processTargetClient.batchWriteProcessLog(processEntities);\n        }\n```\n\n\n\n<a name=\"bgu6rd\"></a>\n### \n<br />![](https://cdn.nlark.com/yuque/0/2018/png/104361/1542351217947-009a8e54-41ed-4409-a896-9bad779f631c.png#width=747)\n\n<a name=\"q71zsp\"></a>\n### \n\n\n","source":"_posts/Java/ 2018-11-16-local-cache-chage.md","raw":"---\ntitle: \ndate: 2018-11-16 14:29:59 +0800\ntags: [,]\ncategories: \n---\n\n<a name=\"d4zzse\"></a>\n### \nB->(u1,u2,u3...uN)B->uNBuNuNlocal cache local cache \n\n\n<a name=\"isplgh\"></a>\n### \nlocal cache<!-- more -->\n\n```\n//\nList<ProcessEntity> processEntities = processCache.getIfPresent(cacheKey);\n        if (processEntities == null) {\n            //\n            processEntities = processSourceClient.readProcessEntitiesByTimeGrid(\n                demoDataRequest.getSourceUserId(), demoDataRequest.getSourceNamespace(),\n                demoDataRequest.getSourceTimeGrid());\n        }\n\n        if (CollectionUtils.isNotEmpty(processEntities)) {\n            //\n            processCache.put(cacheKey, processEntities);\n            processEntities.forEach(item -> {\n              //\n                item.setUserId(demoDataRequest.getTargetUserId());\n                item.setNamespace(demoDataRequest.getTargetNamespace());\n                item.setTimeGrid(demoDataRequest.getTargetTimeGrid());\n            });\n            \n            //\n            processTargetClient.batchWriteProcessLog(processEntities);\n        }\n```\n\n\n\n<a name=\"bgu6rd\"></a>\n### \n<br />![](https://cdn.nlark.com/yuque/0/2018/png/104361/1542351217947-009a8e54-41ed-4409-a896-9bad779f631c.png#width=747)\n\n<a name=\"q71zsp\"></a>\n### \n\n\n","slug":"Java/ 2018-11-16-local-cache-chage","published":1,"updated":"2019-03-25T14:46:00.598Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjtohbk7i000d6f12l9wfbb25","content":"<p><a name=\"d4zzse\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>B-&gt;(u1,u2,u3uN)B-&gt;uNBuNuNlocal cache local cache </p>\n<p><a name=\"isplgh\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>local cache<a id=\"more\"></a></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//</span><br><span class=\"line\">List&lt;ProcessEntity&gt; processEntities = processCache.getIfPresent(cacheKey);</span><br><span class=\"line\">        if (processEntities == null) &#123;</span><br><span class=\"line\">            //</span><br><span class=\"line\">            processEntities = processSourceClient.readProcessEntitiesByTimeGrid(</span><br><span class=\"line\">                demoDataRequest.getSourceUserId(), demoDataRequest.getSourceNamespace(),</span><br><span class=\"line\">                demoDataRequest.getSourceTimeGrid());</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        if (CollectionUtils.isNotEmpty(processEntities)) &#123;</span><br><span class=\"line\">            //</span><br><span class=\"line\">            processCache.put(cacheKey, processEntities);</span><br><span class=\"line\">            processEntities.forEach(item -&gt; &#123;</span><br><span class=\"line\">              //</span><br><span class=\"line\">                item.setUserId(demoDataRequest.getTargetUserId());</span><br><span class=\"line\">                item.setNamespace(demoDataRequest.getTargetNamespace());</span><br><span class=\"line\">                item.setTimeGrid(demoDataRequest.getTargetTimeGrid());</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            </span><br><span class=\"line\">            //</span><br><span class=\"line\">            processTargetClient.batchWriteProcessLog(processEntities);</span><br><span class=\"line\">        &#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p><a name=\"bgu6rd\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><br><img src=\"https://cdn.nlark.com/yuque/0/2018/png/104361/1542351217947-009a8e54-41ed-4409-a896-9bad779f631c.png#width=747\" alt=\"\"></p>\n<p><a name=\"q71zsp\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n","site":{"data":{}},"excerpt":"<p><a name=\"d4zzse\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>B-&gt;(u1,u2,u3uN)B-&gt;uNBuNuNlocal cache local cache </p>\n<p><a name=\"isplgh\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>local cache","more":"</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//</span><br><span class=\"line\">List&lt;ProcessEntity&gt; processEntities = processCache.getIfPresent(cacheKey);</span><br><span class=\"line\">        if (processEntities == null) &#123;</span><br><span class=\"line\">            //</span><br><span class=\"line\">            processEntities = processSourceClient.readProcessEntitiesByTimeGrid(</span><br><span class=\"line\">                demoDataRequest.getSourceUserId(), demoDataRequest.getSourceNamespace(),</span><br><span class=\"line\">                demoDataRequest.getSourceTimeGrid());</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        if (CollectionUtils.isNotEmpty(processEntities)) &#123;</span><br><span class=\"line\">            //</span><br><span class=\"line\">            processCache.put(cacheKey, processEntities);</span><br><span class=\"line\">            processEntities.forEach(item -&gt; &#123;</span><br><span class=\"line\">              //</span><br><span class=\"line\">                item.setUserId(demoDataRequest.getTargetUserId());</span><br><span class=\"line\">                item.setNamespace(demoDataRequest.getTargetNamespace());</span><br><span class=\"line\">                item.setTimeGrid(demoDataRequest.getTargetTimeGrid());</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            </span><br><span class=\"line\">            //</span><br><span class=\"line\">            processTargetClient.batchWriteProcessLog(processEntities);</span><br><span class=\"line\">        &#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p><a name=\"bgu6rd\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><br><img src=\"https://cdn.nlark.com/yuque/0/2018/png/104361/1542351217947-009a8e54-41ed-4409-a896-9bad779f631c.png#width=747\" alt=\"\"></p>\n<p><a name=\"q71zsp\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>"},{"layout":"post","title":"Java (dataSource)","description":null,"keywords":"datasource ","date":"2013-02-27T16:00:00.000Z","_content":"\n#### \n* JDBC \n\n\n```java\nClass.forName(driver);\n// mysql com.mysql.jdbc.Driver\n```\n\n* \n\n```java\nConnection conn = DriverManager.getConnection(url,userName,password);\n```\n\n*   statementSQL \n\n\n```java\nStatement statement = conn.createStatement();\n```\n\n*  SQL \n\n\n```java\nResultSet rs = statement.executeQuery(sql);\n```\n\n* \n\n##### \n1. \n2. \n\n#### Spring JDBC \n*  spring-jdbc.jar \n*  dataSource\n\n\n```java\n<bean id=\"dataSource\">\n    <property name=\"driverClassName\" value=\"org.springframework.jdbc.datasource.DriverManagerDataSource\">\n    </property>\n    <property name=\"url\" value=\"jdbc:oracle:thin:@10.217.3.2:1521:orcl\">\n    </property>\n    <property name=\"username\" value=\"*\"></property>\n    <property name=\"password\" value=\"*\"></property>\n</bean>\n```\n\nDriverManagerDataSource  org.springframework.jdbc.datasource   SingleConnectionDataSource\nDriverManagerDataSource -> \nSingleConnectionDataSource ->     \n\n* dataSource bean\n\n\n```java\nApplicationContext ctx = new ClassPathXmlApplicationContext(\"applicationContext.xml\");\nds = (DataSource)ctx.getBean(\"dataSource\");\n```\n\n* ConnectionStatement\n\n\n```java\nConnection conn = ds.getConnection();\nStatement sm = conn.createStatement();\n```\n\n* \n\n\n```java\nString sqlString = \"insert into bryanttesttable values(2,'bryant')\";\nsm.execute(sqlString);\n```\n\n##### \n1.  \n2. \n3. \n\nSpring JDBC JdbcTemplateSpring JDBC  Spring JDBC   JDBC \n\n#### Spring  DBCP Java\n\ncommons-collections.jarcommons-dbcp.jarcommons-pool.jar\n\n\n```java\n<bean id=\"dataSource\" class=\"org.apache.commons.dbcp.BasicDataSource\">\n<property name=\"driverClassName\" value=\"oracle.jdbc.driver.OracleDriver\"></property>\n<property name=\"url\" value=\"jdbc:oracle:thin:@192.168.1.35:1521:orcl\"></property>\n<property name=\"username\" value=\"or_meal\"></property>\n<property name=\"password\" value=\"or_meal\"></property>\n<property name=\"maxActive\" value=\"100\"></property>\n<property name=\"maxIdle\" value=\"30\"></property>\n<property name=\"maxWait\" value=\"10\"></property>\n</bean>\n```\n\n####  JNDI \n\n1SpringJNDI\n\n\n```java\n<bean id=\"dataSource\" class=\"org.springframework.jndi.JndiObjectFactoryBean\">\n   <property name=\"jndiName\">\n    <value>java:comp/env/jcptDataSourceJNDI</value>\n   </property>\n  </bean>\n```\n\n  jcptDataSourceJNDItomcatJNDI.\n\n2JNDI(tomcat)\n  tomcatconf/context.xml\n\n\n```java\n<Resource name=\"jcptDataSourceJNDI\" auth=\"Container\" type=\"javax.sql.DataSource\"\n      maxActive=\"100\" maxIdle=\"30\" maxWait=\"10\"   username=\"tysp\"\n      password=\"12345678\" driverClassName=\"oracle.jdbc.driver.OracleDriver\"\n      url=\"jdbc:oracle:thin:@192.168.1.35:1521:orcl\"/>  \n```\n\n3JNDIDataSource:\n\n\n```java\n<Resource name=\"jcptDataSourceJNDI\" auth=\"Container\" type=\"javax.sql.DataSource\"\n      maxActive=\"100\" maxIdle=\"30\" maxWait=\"10\"   username=\"tysp\"\n      password=\"12345678\" driverClassName=\"oracle.jdbc.driver.OracleDriver\"\n      url=\"jdbc:oracle:thin:@192.168.1.35:1521:orcl\"/>  \n```\n\n","source":"_posts/Java/2013-02-28-datasource-grouth.md","raw":"---\nlayout: post\ntitle: Java (dataSource)\ncategories: Java\ndescription:\nkeywords: datasource \ndate: 2013-02-28\n---\n\n#### \n* JDBC \n\n\n```java\nClass.forName(driver);\n// mysql com.mysql.jdbc.Driver\n```\n\n* \n\n```java\nConnection conn = DriverManager.getConnection(url,userName,password);\n```\n\n*   statementSQL \n\n\n```java\nStatement statement = conn.createStatement();\n```\n\n*  SQL \n\n\n```java\nResultSet rs = statement.executeQuery(sql);\n```\n\n* \n\n##### \n1. \n2. \n\n#### Spring JDBC \n*  spring-jdbc.jar \n*  dataSource\n\n\n```java\n<bean id=\"dataSource\">\n    <property name=\"driverClassName\" value=\"org.springframework.jdbc.datasource.DriverManagerDataSource\">\n    </property>\n    <property name=\"url\" value=\"jdbc:oracle:thin:@10.217.3.2:1521:orcl\">\n    </property>\n    <property name=\"username\" value=\"*\"></property>\n    <property name=\"password\" value=\"*\"></property>\n</bean>\n```\n\nDriverManagerDataSource  org.springframework.jdbc.datasource   SingleConnectionDataSource\nDriverManagerDataSource -> \nSingleConnectionDataSource ->     \n\n* dataSource bean\n\n\n```java\nApplicationContext ctx = new ClassPathXmlApplicationContext(\"applicationContext.xml\");\nds = (DataSource)ctx.getBean(\"dataSource\");\n```\n\n* ConnectionStatement\n\n\n```java\nConnection conn = ds.getConnection();\nStatement sm = conn.createStatement();\n```\n\n* \n\n\n```java\nString sqlString = \"insert into bryanttesttable values(2,'bryant')\";\nsm.execute(sqlString);\n```\n\n##### \n1.  \n2. \n3. \n\nSpring JDBC JdbcTemplateSpring JDBC  Spring JDBC   JDBC \n\n#### Spring  DBCP Java\n\ncommons-collections.jarcommons-dbcp.jarcommons-pool.jar\n\n\n```java\n<bean id=\"dataSource\" class=\"org.apache.commons.dbcp.BasicDataSource\">\n<property name=\"driverClassName\" value=\"oracle.jdbc.driver.OracleDriver\"></property>\n<property name=\"url\" value=\"jdbc:oracle:thin:@192.168.1.35:1521:orcl\"></property>\n<property name=\"username\" value=\"or_meal\"></property>\n<property name=\"password\" value=\"or_meal\"></property>\n<property name=\"maxActive\" value=\"100\"></property>\n<property name=\"maxIdle\" value=\"30\"></property>\n<property name=\"maxWait\" value=\"10\"></property>\n</bean>\n```\n\n####  JNDI \n\n1SpringJNDI\n\n\n```java\n<bean id=\"dataSource\" class=\"org.springframework.jndi.JndiObjectFactoryBean\">\n   <property name=\"jndiName\">\n    <value>java:comp/env/jcptDataSourceJNDI</value>\n   </property>\n  </bean>\n```\n\n  jcptDataSourceJNDItomcatJNDI.\n\n2JNDI(tomcat)\n  tomcatconf/context.xml\n\n\n```java\n<Resource name=\"jcptDataSourceJNDI\" auth=\"Container\" type=\"javax.sql.DataSource\"\n      maxActive=\"100\" maxIdle=\"30\" maxWait=\"10\"   username=\"tysp\"\n      password=\"12345678\" driverClassName=\"oracle.jdbc.driver.OracleDriver\"\n      url=\"jdbc:oracle:thin:@192.168.1.35:1521:orcl\"/>  \n```\n\n3JNDIDataSource:\n\n\n```java\n<Resource name=\"jcptDataSourceJNDI\" auth=\"Container\" type=\"javax.sql.DataSource\"\n      maxActive=\"100\" maxIdle=\"30\" maxWait=\"10\"   username=\"tysp\"\n      password=\"12345678\" driverClassName=\"oracle.jdbc.driver.OracleDriver\"\n      url=\"jdbc:oracle:thin:@192.168.1.35:1521:orcl\"/>  \n```\n\n","slug":"Java/2013-02-28-datasource-grouth","published":1,"updated":"2018-11-10T08:59:09.796Z","comments":1,"photos":[],"link":"","_id":"cjtohbk7k000e6f12fj0zvivt","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>JDBC </li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Class.forName(driver);</span><br><span class=\"line\"><span class=\"comment\">// mysql com.mysql.jdbc.Driver</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li></li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Connection conn = DriverManager.getConnection(url,userName,password);</span><br></pre></td></tr></table></figure>\n<ul>\n<li> statementSQL </li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Statement statement = conn.createStatement();</span><br></pre></td></tr></table></figure>\n<ul>\n<li> SQL </li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ResultSet rs = statement.executeQuery(sql);</span><br></pre></td></tr></table></figure>\n<ul>\n<li></li>\n</ul>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ol>\n<li></li>\n<li></li>\n</ol>\n<h4 id=\"Spring-JDBC-\"><a href=\"#Spring-JDBC-\" class=\"headerlink\" title=\"Spring JDBC \"></a>Spring JDBC </h4><ul>\n<li> spring-jdbc.jar </li>\n<li> dataSource</li>\n</ul>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;bean id=<span class=\"string\">\"dataSource\"</span>&gt;</span><br><span class=\"line\">    &lt;property name=<span class=\"string\">\"driverClassName\"</span> value=<span class=\"string\">\"org.springframework.jdbc.datasource.DriverManagerDataSource\"</span>&gt;</span><br><span class=\"line\">    &lt;/property&gt;</span><br><span class=\"line\">    &lt;property name=<span class=\"string\">\"url\"</span> value=<span class=\"string\">\"jdbc:oracle:thin:@10.217.3.2:1521:orcl\"</span>&gt;</span><br><span class=\"line\">    &lt;/property&gt;</span><br><span class=\"line\">    &lt;property name=\"username\" value=\"*\"&gt;&lt;/property&gt;</span><br><span class=\"line\">    &lt;property name=\"password\" value=\"*\"&gt;&lt;/property&gt;</span><br><span class=\"line\">&lt;/bean&gt;</span><br></pre></td></tr></table></figure>\n<p>DriverManagerDataSource  org.springframework.jdbc.datasource   SingleConnectionDataSource<br>DriverManagerDataSource -&gt; <br>SingleConnectionDataSource -&gt;     </p>\n<ul>\n<li>dataSource bean</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ApplicationContext ctx = <span class=\"keyword\">new</span> ClassPathXmlApplicationContext(<span class=\"string\">\"applicationContext.xml\"</span>);</span><br><span class=\"line\">ds = (DataSource)ctx.getBean(<span class=\"string\">\"dataSource\"</span>);</span><br></pre></td></tr></table></figure>\n<ul>\n<li>ConnectionStatement</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Connection conn = ds.getConnection();</span><br><span class=\"line\">Statement sm = conn.createStatement();</span><br></pre></td></tr></table></figure>\n<ul>\n<li></li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">String sqlString = <span class=\"string\">\"insert into bryanttesttable values(2,'bryant')\"</span>;</span><br><span class=\"line\">sm.execute(sqlString);</span><br></pre></td></tr></table></figure>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ol>\n<li> </li>\n<li></li>\n<li></li>\n</ol>\n<p>Spring JDBC JdbcTemplateSpring JDBC  Spring JDBC   JDBC </p>\n<h4 id=\"Spring--DBCP-Java\"><a href=\"#Spring--DBCP-Java\" class=\"headerlink\" title=\"Spring  DBCP Java\"></a>Spring  DBCP Java</h4><p>commons-collections.jarcommons-dbcp.jarcommons-pool.jar</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;bean id=<span class=\"string\">\"dataSource\"</span> <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">\"org.apache.commons.dbcp.BasicDataSource\"</span>&gt;</span><br><span class=\"line\">&lt;property name=\"driverClassName\" value=\"oracle.jdbc.driver.OracleDriver\"&gt;&lt;/property&gt;</span><br><span class=\"line\">&lt;property name=\"url\" value=\"jdbc:oracle:thin:@192.168.1.35:1521:orcl\"&gt;&lt;/property&gt;</span><br><span class=\"line\">&lt;property name=\"username\" value=\"or_meal\"&gt;&lt;/property&gt;</span><br><span class=\"line\">&lt;property name=\"password\" value=\"or_meal\"&gt;&lt;/property&gt;</span><br><span class=\"line\">&lt;property name=\"maxActive\" value=\"100\"&gt;&lt;/property&gt;</span><br><span class=\"line\">&lt;property name=\"maxIdle\" value=\"30\"&gt;&lt;/property&gt;</span><br><span class=\"line\">&lt;property name=\"maxWait\" value=\"10\"&gt;&lt;/property&gt;</span><br><span class=\"line\">&lt;/bean&gt;</span><br></pre></td></tr></table></figure>\n<h4 id=\"-JNDI-\"><a href=\"#-JNDI-\" class=\"headerlink\" title=\" JNDI \"></a> JNDI </h4><p>1SpringJNDI</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;bean id=<span class=\"string\">\"dataSource\"</span> <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">\"org.springframework.jndi.JndiObjectFactoryBean\"</span>&gt;</span><br><span class=\"line\">   &lt;property name=<span class=\"string\">\"jndiName\"</span>&gt;</span><br><span class=\"line\">    &lt;value&gt;java:comp/env/jcptDataSourceJNDI&lt;/value&gt;</span><br><span class=\"line\">   &lt;/property&gt;</span><br><span class=\"line\">  &lt;/bean&gt;</span><br></pre></td></tr></table></figure>\n<p>  jcptDataSourceJNDItomcatJNDI.</p>\n<p>2JNDI(tomcat)<br>  tomcatconf/context.xml</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;Resource name=<span class=\"string\">\"jcptDataSourceJNDI\"</span> auth=<span class=\"string\">\"Container\"</span> type=<span class=\"string\">\"javax.sql.DataSource\"</span></span><br><span class=\"line\">      maxActive=<span class=\"string\">\"100\"</span> maxIdle=<span class=\"string\">\"30\"</span> maxWait=<span class=\"string\">\"10\"</span>   username=<span class=\"string\">\"tysp\"</span></span><br><span class=\"line\">      password=<span class=\"string\">\"12345678\"</span> driverClassName=<span class=\"string\">\"oracle.jdbc.driver.OracleDriver\"</span></span><br><span class=\"line\">      url=<span class=\"string\">\"jdbc:oracle:thin:@192.168.1.35:1521:orcl\"</span>/&gt;</span><br></pre></td></tr></table></figure>\n<p>3JNDIDataSource:</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;Resource name=<span class=\"string\">\"jcptDataSourceJNDI\"</span> auth=<span class=\"string\">\"Container\"</span> type=<span class=\"string\">\"javax.sql.DataSource\"</span></span><br><span class=\"line\">      maxActive=<span class=\"string\">\"100\"</span> maxIdle=<span class=\"string\">\"30\"</span> maxWait=<span class=\"string\">\"10\"</span>   username=<span class=\"string\">\"tysp\"</span></span><br><span class=\"line\">      password=<span class=\"string\">\"12345678\"</span> driverClassName=<span class=\"string\">\"oracle.jdbc.driver.OracleDriver\"</span></span><br><span class=\"line\">      url=<span class=\"string\">\"jdbc:oracle:thin:@192.168.1.35:1521:orcl\"</span>/&gt;</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>JDBC </li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Class.forName(driver);</span><br><span class=\"line\"><span class=\"comment\">// mysql com.mysql.jdbc.Driver</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li></li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Connection conn = DriverManager.getConnection(url,userName,password);</span><br></pre></td></tr></table></figure>\n<ul>\n<li> statementSQL </li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Statement statement = conn.createStatement();</span><br></pre></td></tr></table></figure>\n<ul>\n<li> SQL </li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ResultSet rs = statement.executeQuery(sql);</span><br></pre></td></tr></table></figure>\n<ul>\n<li></li>\n</ul>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ol>\n<li></li>\n<li></li>\n</ol>\n<h4 id=\"Spring-JDBC-\"><a href=\"#Spring-JDBC-\" class=\"headerlink\" title=\"Spring JDBC \"></a>Spring JDBC </h4><ul>\n<li> spring-jdbc.jar </li>\n<li> dataSource</li>\n</ul>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;bean id=<span class=\"string\">\"dataSource\"</span>&gt;</span><br><span class=\"line\">    &lt;property name=<span class=\"string\">\"driverClassName\"</span> value=<span class=\"string\">\"org.springframework.jdbc.datasource.DriverManagerDataSource\"</span>&gt;</span><br><span class=\"line\">    &lt;/property&gt;</span><br><span class=\"line\">    &lt;property name=<span class=\"string\">\"url\"</span> value=<span class=\"string\">\"jdbc:oracle:thin:@10.217.3.2:1521:orcl\"</span>&gt;</span><br><span class=\"line\">    &lt;/property&gt;</span><br><span class=\"line\">    &lt;property name=\"username\" value=\"*\"&gt;&lt;/property&gt;</span><br><span class=\"line\">    &lt;property name=\"password\" value=\"*\"&gt;&lt;/property&gt;</span><br><span class=\"line\">&lt;/bean&gt;</span><br></pre></td></tr></table></figure>\n<p>DriverManagerDataSource  org.springframework.jdbc.datasource   SingleConnectionDataSource<br>DriverManagerDataSource -&gt; <br>SingleConnectionDataSource -&gt;     </p>\n<ul>\n<li>dataSource bean</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ApplicationContext ctx = <span class=\"keyword\">new</span> ClassPathXmlApplicationContext(<span class=\"string\">\"applicationContext.xml\"</span>);</span><br><span class=\"line\">ds = (DataSource)ctx.getBean(<span class=\"string\">\"dataSource\"</span>);</span><br></pre></td></tr></table></figure>\n<ul>\n<li>ConnectionStatement</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Connection conn = ds.getConnection();</span><br><span class=\"line\">Statement sm = conn.createStatement();</span><br></pre></td></tr></table></figure>\n<ul>\n<li></li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">String sqlString = <span class=\"string\">\"insert into bryanttesttable values(2,'bryant')\"</span>;</span><br><span class=\"line\">sm.execute(sqlString);</span><br></pre></td></tr></table></figure>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ol>\n<li> </li>\n<li></li>\n<li></li>\n</ol>\n<p>Spring JDBC JdbcTemplateSpring JDBC  Spring JDBC   JDBC </p>\n<h4 id=\"Spring--DBCP-Java\"><a href=\"#Spring--DBCP-Java\" class=\"headerlink\" title=\"Spring  DBCP Java\"></a>Spring  DBCP Java</h4><p>commons-collections.jarcommons-dbcp.jarcommons-pool.jar</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;bean id=<span class=\"string\">\"dataSource\"</span> <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">\"org.apache.commons.dbcp.BasicDataSource\"</span>&gt;</span><br><span class=\"line\">&lt;property name=\"driverClassName\" value=\"oracle.jdbc.driver.OracleDriver\"&gt;&lt;/property&gt;</span><br><span class=\"line\">&lt;property name=\"url\" value=\"jdbc:oracle:thin:@192.168.1.35:1521:orcl\"&gt;&lt;/property&gt;</span><br><span class=\"line\">&lt;property name=\"username\" value=\"or_meal\"&gt;&lt;/property&gt;</span><br><span class=\"line\">&lt;property name=\"password\" value=\"or_meal\"&gt;&lt;/property&gt;</span><br><span class=\"line\">&lt;property name=\"maxActive\" value=\"100\"&gt;&lt;/property&gt;</span><br><span class=\"line\">&lt;property name=\"maxIdle\" value=\"30\"&gt;&lt;/property&gt;</span><br><span class=\"line\">&lt;property name=\"maxWait\" value=\"10\"&gt;&lt;/property&gt;</span><br><span class=\"line\">&lt;/bean&gt;</span><br></pre></td></tr></table></figure>\n<h4 id=\"-JNDI-\"><a href=\"#-JNDI-\" class=\"headerlink\" title=\" JNDI \"></a> JNDI </h4><p>1SpringJNDI</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;bean id=<span class=\"string\">\"dataSource\"</span> <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">\"org.springframework.jndi.JndiObjectFactoryBean\"</span>&gt;</span><br><span class=\"line\">   &lt;property name=<span class=\"string\">\"jndiName\"</span>&gt;</span><br><span class=\"line\">    &lt;value&gt;java:comp/env/jcptDataSourceJNDI&lt;/value&gt;</span><br><span class=\"line\">   &lt;/property&gt;</span><br><span class=\"line\">  &lt;/bean&gt;</span><br></pre></td></tr></table></figure>\n<p>  jcptDataSourceJNDItomcatJNDI.</p>\n<p>2JNDI(tomcat)<br>  tomcatconf/context.xml</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;Resource name=<span class=\"string\">\"jcptDataSourceJNDI\"</span> auth=<span class=\"string\">\"Container\"</span> type=<span class=\"string\">\"javax.sql.DataSource\"</span></span><br><span class=\"line\">      maxActive=<span class=\"string\">\"100\"</span> maxIdle=<span class=\"string\">\"30\"</span> maxWait=<span class=\"string\">\"10\"</span>   username=<span class=\"string\">\"tysp\"</span></span><br><span class=\"line\">      password=<span class=\"string\">\"12345678\"</span> driverClassName=<span class=\"string\">\"oracle.jdbc.driver.OracleDriver\"</span></span><br><span class=\"line\">      url=<span class=\"string\">\"jdbc:oracle:thin:@192.168.1.35:1521:orcl\"</span>/&gt;</span><br></pre></td></tr></table></figure>\n<p>3JNDIDataSource:</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;Resource name=<span class=\"string\">\"jcptDataSourceJNDI\"</span> auth=<span class=\"string\">\"Container\"</span> type=<span class=\"string\">\"javax.sql.DataSource\"</span></span><br><span class=\"line\">      maxActive=<span class=\"string\">\"100\"</span> maxIdle=<span class=\"string\">\"30\"</span> maxWait=<span class=\"string\">\"10\"</span>   username=<span class=\"string\">\"tysp\"</span></span><br><span class=\"line\">      password=<span class=\"string\">\"12345678\"</span> driverClassName=<span class=\"string\">\"oracle.jdbc.driver.OracleDriver\"</span></span><br><span class=\"line\">      url=<span class=\"string\">\"jdbc:oracle:thin:@192.168.1.35:1521:orcl\"</span>/&gt;</span><br></pre></td></tr></table></figure>\n"},{"layout":"post","title":"Java  super  this","description":null,"keywords":"super this","date":"2013-03-17T16:00:00.000Z","_content":"super\n\n>The super keyword enables a [subclass](http://java.about.com/od/s/g/subclass.htm) to call the methods and fields of its [superclass](http://java.about.com/od/s/g/superclass.htm). It is not an instance of the superclass object but a way to tell the compiler which methods or fields to reference. The effect is the same as if the subclass is calling one of its own methods.\n\nthis  invokevirtual\n\nsuper   super  invokespecial \n\n\n```java\nC extends B,  B extends A;\nA a = new C();\n```\n\nCCBACBAsuper  this thissuper\n\nthissuper\n\n#### this\n1. thisthis()\n2. this.this\n3. this\n\n#### super\n1. super()super()\n2. super.super.\n3. super.()\n\n","source":"_posts/Java/2013-03-18-java-super-this.md","raw":"---\nlayout: post\ntitle: Java  super  this\ncategories: Java\ndescription:\nkeywords: super this\ndate: 2013-03-18\n---\nsuper\n\n>The super keyword enables a [subclass](http://java.about.com/od/s/g/subclass.htm) to call the methods and fields of its [superclass](http://java.about.com/od/s/g/superclass.htm). It is not an instance of the superclass object but a way to tell the compiler which methods or fields to reference. The effect is the same as if the subclass is calling one of its own methods.\n\nthis  invokevirtual\n\nsuper   super  invokespecial \n\n\n```java\nC extends B,  B extends A;\nA a = new C();\n```\n\nCCBACBAsuper  this thissuper\n\nthissuper\n\n#### this\n1. thisthis()\n2. this.this\n3. this\n\n#### super\n1. super()super()\n2. super.super.\n3. super.()\n\n","slug":"Java/2013-03-18-java-super-this","published":1,"updated":"2018-11-10T08:59:09.796Z","comments":1,"photos":[],"link":"","_id":"cjtohbk7m000i6f12nm6da5zc","content":"<p>super</p>\n<blockquote>\n<p>The super keyword enables a <a href=\"http://java.about.com/od/s/g/subclass.htm\" target=\"_blank\" rel=\"noopener\">subclass</a> to call the methods and fields of its <a href=\"http://java.about.com/od/s/g/superclass.htm\" target=\"_blank\" rel=\"noopener\">superclass</a>. It is not an instance of the superclass object but a way to tell the compiler which methods or fields to reference. The effect is the same as if the subclass is calling one of its own methods.</p>\n</blockquote>\n<p>this  invokevirtual</p>\n<p>super   super  invokespecial </p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">C extends B,  B extends A;</span><br><span class=\"line\">A a = <span class=\"keyword\">new</span> C();</span><br></pre></td></tr></table></figure>\n<p>CCBACBAsuper  this thissuper</p>\n<p>thissuper</p>\n<h4 id=\"this\"><a href=\"#this\" class=\"headerlink\" title=\"this\"></a>this</h4><ol>\n<li>thisthis()</li>\n<li>this.this</li>\n<li>this</li>\n</ol>\n<h4 id=\"super\"><a href=\"#super\" class=\"headerlink\" title=\"super\"></a>super</h4><ol>\n<li>super()super()</li>\n<li>super.super.</li>\n<li>super.()</li>\n</ol>\n","site":{"data":{}},"excerpt":"","more":"<p>super</p>\n<blockquote>\n<p>The super keyword enables a <a href=\"http://java.about.com/od/s/g/subclass.htm\" target=\"_blank\" rel=\"noopener\">subclass</a> to call the methods and fields of its <a href=\"http://java.about.com/od/s/g/superclass.htm\" target=\"_blank\" rel=\"noopener\">superclass</a>. It is not an instance of the superclass object but a way to tell the compiler which methods or fields to reference. The effect is the same as if the subclass is calling one of its own methods.</p>\n</blockquote>\n<p>this  invokevirtual</p>\n<p>super   super  invokespecial </p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">C extends B,  B extends A;</span><br><span class=\"line\">A a = <span class=\"keyword\">new</span> C();</span><br></pre></td></tr></table></figure>\n<p>CCBACBAsuper  this thissuper</p>\n<p>thissuper</p>\n<h4 id=\"this\"><a href=\"#this\" class=\"headerlink\" title=\"this\"></a>this</h4><ol>\n<li>thisthis()</li>\n<li>this.this</li>\n<li>this</li>\n</ol>\n<h4 id=\"super\"><a href=\"#super\" class=\"headerlink\" title=\"super\"></a>super</h4><ol>\n<li>super()super()</li>\n<li>super.super.</li>\n<li>super.()</li>\n</ol>\n"},{"layout":"post","title":"Java  ","description":null,"keywords":"enum ","date":"2013-03-20T16:00:00.000Z","_content":"\n\n####   \n\n\n```java\npublic enum ErrorEnum {\n    TFS_ACCESS_ERROR(\"101\", \"TFS\")\n    /**\n     * \n     */\n    private String errorCode\n    /**\n     * \n     */\n    private String errorMsg;\n    ErrorEnum(String errorCode, String errorMsg){\n        this.errorCode = errorCode;\n        this.errorMsg = errorMsg;\n    \n\n```\n\n   \n\n####  enum \nenum,\n\n\n```java\npackage enumeration;\npublic class Person {\n    //\n    private State s;\n    public Person(State s){this.s = s;}\n    //\n    public void smile(){\n        s.smile();\n    };\n\n    public void cry(){\n        s.cry();\n    };\n}\n\n//\nenum State {\n    //\n    Happy {\n        @Override\n        public void smile() {\n            System.out.println(\"Happy Smile\");\n        }\n\n        @Override\n        public void cry() {\n            System.out.println(\"Happy cry\");\n        }\n    },\n    //\n    Sad {\n        @Override\n        public void smile() {\n            System.out.println(\"Sad Smile\");\n        }\n\n        @Override\n        public void cry() {\n            System.out.println(\"Happy cry\");\n        }\n    };\n\n    //\n    public abstract void smile();\n\n    public abstract void cry();\n}\n```\n\n####  enum \nenum, \n,.\n\n\n```java\npackage enumeration;\n\npublic class StringHandler {\n    enum handler {\n        Sensitive {\n            @Override\n            String hand(String msg) {\n                return msg.replace(\"\", \"*\");\n            }\n        },\n        HTML {\n            @Override\n            String hand(String msg) {\n                return msg.replace(\"<\", \"[\").replace(\">\", \"]\");\n            }\n        };\n        //\n        abstract String hand(String msg);\n    }\n\n    //\n    public static String hand(String msg) {\n        for (handler h : handler.values()) {\n            msg = h.hand(msg);\n        }\n        return msg;\n    }\n\n    public static void main(String[] args) {\n        String msg = \",<html>\";\n        System.out.println(StringHandler.hand(msg));\n    }\n}\n```\n\n#### enum \n switch\n\n#### enum \n\n\n\n```java\npublic enum EnumTest{\n     START,CLOSE,PAUSE\n}\n```\n\nOolong\n\n\n```java\n.source EnumTest.java\n.class public final super EnumTest\n.super java/lang/Enum\n\n.field public static final START LEnumTest;\n.field public static final CLOSE LEnumTest;\n.field public static final PAUSE LEnumTest;\n.field private static final $VALUES [LEnumTest;\n\n.method public static values ()[LEnumTest;\n.limit stack 1\n.limit locals 0\n.line 1\nl0:    getstatic EnumTest/$VALUES [LEnumTest;\nl3:    invokevirtual [LEnumTest;/clone ()Ljava/lang/Object;\nl6:    checkcast [LEnumTest;\nl9:    areturn\n\n.end method\n\n.method public static valueOf (Ljava/lang/String;)LEnumTest;\n.limit stack 2\n.limit locals 1\n.line 1\nl0:    ldc_w\nl3:    aload_0\nl4:    invokestatic java/lang/Enum/valueOf (Ljava/lang/Class;Ljava/lang/String;)Ljava/lang/Enum;\nl7:    checkcast EnumTest\nl10:    areturn\n\n.end method\n\n.method private <init> (Ljava/lang/String;I)V\n.limit stack 3\n.limit locals 3\n.line 1\nl0:    aload_0\nl1:    aload_1\nl2:    iload_2\nl3:    invokespecial java/lang/Enum/<init> (Ljava/lang/String;I)V\nl6:    return\n\n.end method\n\n.method static <clinit> ()V\n.limit stack 4\n.limit locals 0\n.line 2\nl0:    new EnumTest\nl3:    dup\nl4:    ldc \"START\"\nl6:    iconst_0\nl7:    invokespecial EnumTest/<init> (Ljava/lang/String;I)V\nl10:    putstatic EnumTest/START LEnumTest;\nl13:    new EnumTest\nl16:    dup\nl17:    ldc \"CLOSE\"\nl19:    iconst_1\nl20:    invokespecial EnumTest/<init> (Ljava/lang/String;I)V\nl23:    putstatic EnumTest/CLOSE LEnumTest;\nl26:    new EnumTest\nl29:    dup\nl30:    ldc \"PAUSE\"\nl32:    iconst_2\nl33:    invokespecial EnumTest/<init> (Ljava/lang/String;I)V\nl36:    putstatic EnumTest/PAUSE LEnumTest;\n.line 1\nl39:    iconst_3\nl40:    anewarray EnumTest\nl43:    dup\nl44:    iconst_0\nl45:    getstatic EnumTest/START LEnumTest;\nl48:    aastore\nl49:    dup\nl50:    iconst_1\nl51:    getstatic EnumTest/CLOSE LEnumTest;\nl54:    aastore\nl55:    dup\nl56:    iconst_2\nl57:    getstatic EnumTest/PAUSE LEnumTest;\nl60:    aastore\nl61:    putstatic EnumTest/$VALUES [LEnumTest;\nl64:    return\n.end method\n```\nenum Enumenum\nfield **public static final **\n (enum)field\n\n\n","source":"_posts/Java/2013-03-21-java-enum.md","raw":"---\nlayout: post\ntitle: Java  \ncategories: Java\ndescription:\nkeywords: enum \ndate: 2013-03-21\n---\n\n\n####   \n\n\n```java\npublic enum ErrorEnum {\n    TFS_ACCESS_ERROR(\"101\", \"TFS\")\n    /**\n     * \n     */\n    private String errorCode\n    /**\n     * \n     */\n    private String errorMsg;\n    ErrorEnum(String errorCode, String errorMsg){\n        this.errorCode = errorCode;\n        this.errorMsg = errorMsg;\n    \n\n```\n\n   \n\n####  enum \nenum,\n\n\n```java\npackage enumeration;\npublic class Person {\n    //\n    private State s;\n    public Person(State s){this.s = s;}\n    //\n    public void smile(){\n        s.smile();\n    };\n\n    public void cry(){\n        s.cry();\n    };\n}\n\n//\nenum State {\n    //\n    Happy {\n        @Override\n        public void smile() {\n            System.out.println(\"Happy Smile\");\n        }\n\n        @Override\n        public void cry() {\n            System.out.println(\"Happy cry\");\n        }\n    },\n    //\n    Sad {\n        @Override\n        public void smile() {\n            System.out.println(\"Sad Smile\");\n        }\n\n        @Override\n        public void cry() {\n            System.out.println(\"Happy cry\");\n        }\n    };\n\n    //\n    public abstract void smile();\n\n    public abstract void cry();\n}\n```\n\n####  enum \nenum, \n,.\n\n\n```java\npackage enumeration;\n\npublic class StringHandler {\n    enum handler {\n        Sensitive {\n            @Override\n            String hand(String msg) {\n                return msg.replace(\"\", \"*\");\n            }\n        },\n        HTML {\n            @Override\n            String hand(String msg) {\n                return msg.replace(\"<\", \"[\").replace(\">\", \"]\");\n            }\n        };\n        //\n        abstract String hand(String msg);\n    }\n\n    //\n    public static String hand(String msg) {\n        for (handler h : handler.values()) {\n            msg = h.hand(msg);\n        }\n        return msg;\n    }\n\n    public static void main(String[] args) {\n        String msg = \",<html>\";\n        System.out.println(StringHandler.hand(msg));\n    }\n}\n```\n\n#### enum \n switch\n\n#### enum \n\n\n\n```java\npublic enum EnumTest{\n     START,CLOSE,PAUSE\n}\n```\n\nOolong\n\n\n```java\n.source EnumTest.java\n.class public final super EnumTest\n.super java/lang/Enum\n\n.field public static final START LEnumTest;\n.field public static final CLOSE LEnumTest;\n.field public static final PAUSE LEnumTest;\n.field private static final $VALUES [LEnumTest;\n\n.method public static values ()[LEnumTest;\n.limit stack 1\n.limit locals 0\n.line 1\nl0:    getstatic EnumTest/$VALUES [LEnumTest;\nl3:    invokevirtual [LEnumTest;/clone ()Ljava/lang/Object;\nl6:    checkcast [LEnumTest;\nl9:    areturn\n\n.end method\n\n.method public static valueOf (Ljava/lang/String;)LEnumTest;\n.limit stack 2\n.limit locals 1\n.line 1\nl0:    ldc_w\nl3:    aload_0\nl4:    invokestatic java/lang/Enum/valueOf (Ljava/lang/Class;Ljava/lang/String;)Ljava/lang/Enum;\nl7:    checkcast EnumTest\nl10:    areturn\n\n.end method\n\n.method private <init> (Ljava/lang/String;I)V\n.limit stack 3\n.limit locals 3\n.line 1\nl0:    aload_0\nl1:    aload_1\nl2:    iload_2\nl3:    invokespecial java/lang/Enum/<init> (Ljava/lang/String;I)V\nl6:    return\n\n.end method\n\n.method static <clinit> ()V\n.limit stack 4\n.limit locals 0\n.line 2\nl0:    new EnumTest\nl3:    dup\nl4:    ldc \"START\"\nl6:    iconst_0\nl7:    invokespecial EnumTest/<init> (Ljava/lang/String;I)V\nl10:    putstatic EnumTest/START LEnumTest;\nl13:    new EnumTest\nl16:    dup\nl17:    ldc \"CLOSE\"\nl19:    iconst_1\nl20:    invokespecial EnumTest/<init> (Ljava/lang/String;I)V\nl23:    putstatic EnumTest/CLOSE LEnumTest;\nl26:    new EnumTest\nl29:    dup\nl30:    ldc \"PAUSE\"\nl32:    iconst_2\nl33:    invokespecial EnumTest/<init> (Ljava/lang/String;I)V\nl36:    putstatic EnumTest/PAUSE LEnumTest;\n.line 1\nl39:    iconst_3\nl40:    anewarray EnumTest\nl43:    dup\nl44:    iconst_0\nl45:    getstatic EnumTest/START LEnumTest;\nl48:    aastore\nl49:    dup\nl50:    iconst_1\nl51:    getstatic EnumTest/CLOSE LEnumTest;\nl54:    aastore\nl55:    dup\nl56:    iconst_2\nl57:    getstatic EnumTest/PAUSE LEnumTest;\nl60:    aastore\nl61:    putstatic EnumTest/$VALUES [LEnumTest;\nl64:    return\n.end method\n```\nenum Enumenum\nfield **public static final **\n (enum)field\n\n\n","slug":"Java/2013-03-21-java-enum","published":1,"updated":"2018-11-10T08:59:09.796Z","comments":1,"photos":[],"link":"","_id":"cjtohbk7n000j6f12kgwi0kqm","content":"<p></p>\n<h4 id=\"--\"><a href=\"#--\" class=\"headerlink\" title=\"  \"></a>  </h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">enum</span> ErrorEnum &#123;</span><br><span class=\"line\">    TFS_ACCESS_ERROR(<span class=\"string\">\"101\"</span>, <span class=\"string\">\"TFS\"</span>)</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> String errorCode</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> String errorMsg;</span><br><span class=\"line\">    ErrorEnum(String errorCode, String errorMsg)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.errorCode = errorCode;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.errorMsg = errorMsg;</span><br><span class=\"line\">    </span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>   </p>\n<h4 id=\"-enum-\"><a href=\"#-enum-\" class=\"headerlink\" title=\" enum \"></a> enum </h4><p>enum,</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> enumeration;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Person</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> State s;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Person</span><span class=\"params\">(State s)</span></span>&#123;<span class=\"keyword\">this</span>.s = s;&#125;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">smile</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">        s.smile();</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">cry</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">        s.cry();</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"keyword\">enum</span> State &#123;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    Happy &#123;</span><br><span class=\"line\">        <span class=\"meta\">@Override</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">smile</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">\"Happy Smile\"</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"meta\">@Override</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">cry</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">\"Happy cry\"</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    Sad &#123;</span><br><span class=\"line\">        <span class=\"meta\">@Override</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">smile</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">\"Sad Smile\"</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"meta\">@Override</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">cry</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">\"Happy cry\"</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">void</span> <span class=\"title\">smile</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">void</span> <span class=\"title\">cry</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"-enum-\"><a href=\"#-enum-\" class=\"headerlink\" title=\" enum \"></a> enum </h4><p>enum, <br>,.</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> enumeration;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">StringHandler</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">enum</span> handler &#123;</span><br><span class=\"line\">        Sensitive &#123;</span><br><span class=\"line\">            <span class=\"meta\">@Override</span></span><br><span class=\"line\">            <span class=\"function\">String <span class=\"title\">hand</span><span class=\"params\">(String msg)</span> </span>&#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> msg.replace(<span class=\"string\">\"\"</span>, <span class=\"string\">\"*\"</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        HTML &#123;</span><br><span class=\"line\">            <span class=\"meta\">@Override</span></span><br><span class=\"line\">            <span class=\"function\">String <span class=\"title\">hand</span><span class=\"params\">(String msg)</span> </span>&#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> msg.replace(<span class=\"string\">\"&lt;\"</span>, <span class=\"string\">\"[\"</span>).replace(<span class=\"string\">\"&gt;\"</span>, <span class=\"string\">\"]\"</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">abstract</span> String <span class=\"title\">hand</span><span class=\"params\">(String msg)</span></span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> String <span class=\"title\">hand</span><span class=\"params\">(String msg)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (handler h : handler.values()) &#123;</span><br><span class=\"line\">            msg = h.hand(msg);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> msg;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\">        String msg = <span class=\"string\">\",&lt;html&gt;\"</span>;</span><br><span class=\"line\">        System.out.println(StringHandler.hand(msg));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"enum-\"><a href=\"#enum-\" class=\"headerlink\" title=\"enum \"></a>enum </h4><p> switch</p>\n<h4 id=\"enum-\"><a href=\"#enum-\" class=\"headerlink\" title=\"enum \"></a>enum </h4><p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">enum</span> EnumTest&#123;</span><br><span class=\"line\">     START,CLOSE,PAUSE</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>Oolong</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.source EnumTest.java</span><br><span class=\"line\">.class <span class=\"keyword\">public</span> <span class=\"keyword\">final</span> <span class=\"keyword\">super</span> EnumTest</span><br><span class=\"line\">.<span class=\"keyword\">super</span> java/lang/Enum</span><br><span class=\"line\"></span><br><span class=\"line\">.field <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> START LEnumTest;</span><br><span class=\"line\">.field <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> CLOSE LEnumTest;</span><br><span class=\"line\">.field <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> PAUSE LEnumTest;</span><br><span class=\"line\">.field <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> $VALUES [LEnumTest;</span><br><span class=\"line\"></span><br><span class=\"line\">.<span class=\"function\">method <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"title\">values</span> <span class=\"params\">()</span>[LEnumTest</span>;</span><br><span class=\"line\">.limit stack <span class=\"number\">1</span></span><br><span class=\"line\">.limit locals <span class=\"number\">0</span></span><br><span class=\"line\">.line <span class=\"number\">1</span></span><br><span class=\"line\">l0:    getstatic EnumTest/$VALUES [LEnumTest;</span><br><span class=\"line\">l3:    invokevirtual [LEnumTest;/clone ()Ljava/lang/Object;</span><br><span class=\"line\">l6:    checkcast [LEnumTest;</span><br><span class=\"line\">l9:    areturn</span><br><span class=\"line\"></span><br><span class=\"line\">.end method</span><br><span class=\"line\"></span><br><span class=\"line\">.<span class=\"function\">method <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"title\">valueOf</span> <span class=\"params\">(Ljava/lang/String;)</span>LEnumTest</span>;</span><br><span class=\"line\">.limit stack <span class=\"number\">2</span></span><br><span class=\"line\">.limit locals <span class=\"number\">1</span></span><br><span class=\"line\">.line <span class=\"number\">1</span></span><br><span class=\"line\">l0:    ldc_w</span><br><span class=\"line\">l3:    aload_0</span><br><span class=\"line\">l4:    invokestatic java/lang/Enum/valueOf (Ljava/lang/Class;Ljava/lang/String;)Ljava/lang/Enum;</span><br><span class=\"line\">l7:    checkcast EnumTest</span><br><span class=\"line\">l10:    areturn</span><br><span class=\"line\"></span><br><span class=\"line\">.end method</span><br><span class=\"line\"></span><br><span class=\"line\">.method <span class=\"keyword\">private</span> &lt;init&gt; (Ljava/lang/String;I)V</span><br><span class=\"line\">.limit stack <span class=\"number\">3</span></span><br><span class=\"line\">.limit locals <span class=\"number\">3</span></span><br><span class=\"line\">.line <span class=\"number\">1</span></span><br><span class=\"line\">l0:    aload_0</span><br><span class=\"line\">l1:    aload_1</span><br><span class=\"line\">l2:    iload_2</span><br><span class=\"line\">l3:    invokespecial java/lang/Enum/&lt;init&gt; (Ljava/lang/String;I)V</span><br><span class=\"line\">l6:    <span class=\"keyword\">return</span></span><br><span class=\"line\"></span><br><span class=\"line\">.end method</span><br><span class=\"line\"></span><br><span class=\"line\">.method <span class=\"keyword\">static</span> &lt;clinit&gt; ()V</span><br><span class=\"line\">.limit stack <span class=\"number\">4</span></span><br><span class=\"line\">.limit locals <span class=\"number\">0</span></span><br><span class=\"line\">.line <span class=\"number\">2</span></span><br><span class=\"line\">l0:    <span class=\"keyword\">new</span> EnumTest</span><br><span class=\"line\">l3:    dup</span><br><span class=\"line\">l4:    ldc <span class=\"string\">\"START\"</span></span><br><span class=\"line\">l6:    iconst_0</span><br><span class=\"line\">l7:    invokespecial EnumTest/&lt;init&gt; (Ljava/lang/String;I)V</span><br><span class=\"line\">l10:    putstatic EnumTest/START LEnumTest;</span><br><span class=\"line\">l13:    <span class=\"keyword\">new</span> EnumTest</span><br><span class=\"line\">l16:    dup</span><br><span class=\"line\">l17:    ldc <span class=\"string\">\"CLOSE\"</span></span><br><span class=\"line\">l19:    iconst_1</span><br><span class=\"line\">l20:    invokespecial EnumTest/&lt;init&gt; (Ljava/lang/String;I)V</span><br><span class=\"line\">l23:    putstatic EnumTest/CLOSE LEnumTest;</span><br><span class=\"line\">l26:    <span class=\"keyword\">new</span> EnumTest</span><br><span class=\"line\">l29:    dup</span><br><span class=\"line\">l30:    ldc <span class=\"string\">\"PAUSE\"</span></span><br><span class=\"line\">l32:    iconst_2</span><br><span class=\"line\">l33:    invokespecial EnumTest/&lt;init&gt; (Ljava/lang/String;I)V</span><br><span class=\"line\">l36:    putstatic EnumTest/PAUSE LEnumTest;</span><br><span class=\"line\">.line <span class=\"number\">1</span></span><br><span class=\"line\">l39:    iconst_3</span><br><span class=\"line\">l40:    anewarray EnumTest</span><br><span class=\"line\">l43:    dup</span><br><span class=\"line\">l44:    iconst_0</span><br><span class=\"line\">l45:    getstatic EnumTest/START LEnumTest;</span><br><span class=\"line\">l48:    aastore</span><br><span class=\"line\">l49:    dup</span><br><span class=\"line\">l50:    iconst_1</span><br><span class=\"line\">l51:    getstatic EnumTest/CLOSE LEnumTest;</span><br><span class=\"line\">l54:    aastore</span><br><span class=\"line\">l55:    dup</span><br><span class=\"line\">l56:    iconst_2</span><br><span class=\"line\">l57:    getstatic EnumTest/PAUSE LEnumTest;</span><br><span class=\"line\">l60:    aastore</span><br><span class=\"line\">l61:    putstatic EnumTest/$VALUES [LEnumTest;</span><br><span class=\"line\">l64:    <span class=\"keyword\">return</span></span><br><span class=\"line\">.end method</span><br></pre></td></tr></table></figure>\n<p>enum Enumenum<br>field <strong>public static final </strong><br> (enum)field<br></p>\n","site":{"data":{}},"excerpt":"","more":"<p></p>\n<h4 id=\"--\"><a href=\"#--\" class=\"headerlink\" title=\"  \"></a>  </h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">enum</span> ErrorEnum &#123;</span><br><span class=\"line\">    TFS_ACCESS_ERROR(<span class=\"string\">\"101\"</span>, <span class=\"string\">\"TFS\"</span>)</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> String errorCode</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> String errorMsg;</span><br><span class=\"line\">    ErrorEnum(String errorCode, String errorMsg)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.errorCode = errorCode;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.errorMsg = errorMsg;</span><br><span class=\"line\">    </span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>   </p>\n<h4 id=\"-enum-\"><a href=\"#-enum-\" class=\"headerlink\" title=\" enum \"></a> enum </h4><p>enum,</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> enumeration;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Person</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> State s;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Person</span><span class=\"params\">(State s)</span></span>&#123;<span class=\"keyword\">this</span>.s = s;&#125;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">smile</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">        s.smile();</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">cry</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">        s.cry();</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"keyword\">enum</span> State &#123;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    Happy &#123;</span><br><span class=\"line\">        <span class=\"meta\">@Override</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">smile</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">\"Happy Smile\"</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"meta\">@Override</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">cry</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">\"Happy cry\"</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    Sad &#123;</span><br><span class=\"line\">        <span class=\"meta\">@Override</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">smile</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">\"Sad Smile\"</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"meta\">@Override</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">cry</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">\"Happy cry\"</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">void</span> <span class=\"title\">smile</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">void</span> <span class=\"title\">cry</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"-enum-\"><a href=\"#-enum-\" class=\"headerlink\" title=\" enum \"></a> enum </h4><p>enum, <br>,.</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> enumeration;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">StringHandler</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">enum</span> handler &#123;</span><br><span class=\"line\">        Sensitive &#123;</span><br><span class=\"line\">            <span class=\"meta\">@Override</span></span><br><span class=\"line\">            <span class=\"function\">String <span class=\"title\">hand</span><span class=\"params\">(String msg)</span> </span>&#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> msg.replace(<span class=\"string\">\"\"</span>, <span class=\"string\">\"*\"</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        HTML &#123;</span><br><span class=\"line\">            <span class=\"meta\">@Override</span></span><br><span class=\"line\">            <span class=\"function\">String <span class=\"title\">hand</span><span class=\"params\">(String msg)</span> </span>&#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> msg.replace(<span class=\"string\">\"&lt;\"</span>, <span class=\"string\">\"[\"</span>).replace(<span class=\"string\">\"&gt;\"</span>, <span class=\"string\">\"]\"</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">abstract</span> String <span class=\"title\">hand</span><span class=\"params\">(String msg)</span></span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> String <span class=\"title\">hand</span><span class=\"params\">(String msg)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (handler h : handler.values()) &#123;</span><br><span class=\"line\">            msg = h.hand(msg);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> msg;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\">        String msg = <span class=\"string\">\",&lt;html&gt;\"</span>;</span><br><span class=\"line\">        System.out.println(StringHandler.hand(msg));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"enum-\"><a href=\"#enum-\" class=\"headerlink\" title=\"enum \"></a>enum </h4><p> switch</p>\n<h4 id=\"enum-\"><a href=\"#enum-\" class=\"headerlink\" title=\"enum \"></a>enum </h4><p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">enum</span> EnumTest&#123;</span><br><span class=\"line\">     START,CLOSE,PAUSE</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>Oolong</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.source EnumTest.java</span><br><span class=\"line\">.class <span class=\"keyword\">public</span> <span class=\"keyword\">final</span> <span class=\"keyword\">super</span> EnumTest</span><br><span class=\"line\">.<span class=\"keyword\">super</span> java/lang/Enum</span><br><span class=\"line\"></span><br><span class=\"line\">.field <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> START LEnumTest;</span><br><span class=\"line\">.field <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> CLOSE LEnumTest;</span><br><span class=\"line\">.field <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> PAUSE LEnumTest;</span><br><span class=\"line\">.field <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> $VALUES [LEnumTest;</span><br><span class=\"line\"></span><br><span class=\"line\">.<span class=\"function\">method <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"title\">values</span> <span class=\"params\">()</span>[LEnumTest</span>;</span><br><span class=\"line\">.limit stack <span class=\"number\">1</span></span><br><span class=\"line\">.limit locals <span class=\"number\">0</span></span><br><span class=\"line\">.line <span class=\"number\">1</span></span><br><span class=\"line\">l0:    getstatic EnumTest/$VALUES [LEnumTest;</span><br><span class=\"line\">l3:    invokevirtual [LEnumTest;/clone ()Ljava/lang/Object;</span><br><span class=\"line\">l6:    checkcast [LEnumTest;</span><br><span class=\"line\">l9:    areturn</span><br><span class=\"line\"></span><br><span class=\"line\">.end method</span><br><span class=\"line\"></span><br><span class=\"line\">.<span class=\"function\">method <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"title\">valueOf</span> <span class=\"params\">(Ljava/lang/String;)</span>LEnumTest</span>;</span><br><span class=\"line\">.limit stack <span class=\"number\">2</span></span><br><span class=\"line\">.limit locals <span class=\"number\">1</span></span><br><span class=\"line\">.line <span class=\"number\">1</span></span><br><span class=\"line\">l0:    ldc_w</span><br><span class=\"line\">l3:    aload_0</span><br><span class=\"line\">l4:    invokestatic java/lang/Enum/valueOf (Ljava/lang/Class;Ljava/lang/String;)Ljava/lang/Enum;</span><br><span class=\"line\">l7:    checkcast EnumTest</span><br><span class=\"line\">l10:    areturn</span><br><span class=\"line\"></span><br><span class=\"line\">.end method</span><br><span class=\"line\"></span><br><span class=\"line\">.method <span class=\"keyword\">private</span> &lt;init&gt; (Ljava/lang/String;I)V</span><br><span class=\"line\">.limit stack <span class=\"number\">3</span></span><br><span class=\"line\">.limit locals <span class=\"number\">3</span></span><br><span class=\"line\">.line <span class=\"number\">1</span></span><br><span class=\"line\">l0:    aload_0</span><br><span class=\"line\">l1:    aload_1</span><br><span class=\"line\">l2:    iload_2</span><br><span class=\"line\">l3:    invokespecial java/lang/Enum/&lt;init&gt; (Ljava/lang/String;I)V</span><br><span class=\"line\">l6:    <span class=\"keyword\">return</span></span><br><span class=\"line\"></span><br><span class=\"line\">.end method</span><br><span class=\"line\"></span><br><span class=\"line\">.method <span class=\"keyword\">static</span> &lt;clinit&gt; ()V</span><br><span class=\"line\">.limit stack <span class=\"number\">4</span></span><br><span class=\"line\">.limit locals <span class=\"number\">0</span></span><br><span class=\"line\">.line <span class=\"number\">2</span></span><br><span class=\"line\">l0:    <span class=\"keyword\">new</span> EnumTest</span><br><span class=\"line\">l3:    dup</span><br><span class=\"line\">l4:    ldc <span class=\"string\">\"START\"</span></span><br><span class=\"line\">l6:    iconst_0</span><br><span class=\"line\">l7:    invokespecial EnumTest/&lt;init&gt; (Ljava/lang/String;I)V</span><br><span class=\"line\">l10:    putstatic EnumTest/START LEnumTest;</span><br><span class=\"line\">l13:    <span class=\"keyword\">new</span> EnumTest</span><br><span class=\"line\">l16:    dup</span><br><span class=\"line\">l17:    ldc <span class=\"string\">\"CLOSE\"</span></span><br><span class=\"line\">l19:    iconst_1</span><br><span class=\"line\">l20:    invokespecial EnumTest/&lt;init&gt; (Ljava/lang/String;I)V</span><br><span class=\"line\">l23:    putstatic EnumTest/CLOSE LEnumTest;</span><br><span class=\"line\">l26:    <span class=\"keyword\">new</span> EnumTest</span><br><span class=\"line\">l29:    dup</span><br><span class=\"line\">l30:    ldc <span class=\"string\">\"PAUSE\"</span></span><br><span class=\"line\">l32:    iconst_2</span><br><span class=\"line\">l33:    invokespecial EnumTest/&lt;init&gt; (Ljava/lang/String;I)V</span><br><span class=\"line\">l36:    putstatic EnumTest/PAUSE LEnumTest;</span><br><span class=\"line\">.line <span class=\"number\">1</span></span><br><span class=\"line\">l39:    iconst_3</span><br><span class=\"line\">l40:    anewarray EnumTest</span><br><span class=\"line\">l43:    dup</span><br><span class=\"line\">l44:    iconst_0</span><br><span class=\"line\">l45:    getstatic EnumTest/START LEnumTest;</span><br><span class=\"line\">l48:    aastore</span><br><span class=\"line\">l49:    dup</span><br><span class=\"line\">l50:    iconst_1</span><br><span class=\"line\">l51:    getstatic EnumTest/CLOSE LEnumTest;</span><br><span class=\"line\">l54:    aastore</span><br><span class=\"line\">l55:    dup</span><br><span class=\"line\">l56:    iconst_2</span><br><span class=\"line\">l57:    getstatic EnumTest/PAUSE LEnumTest;</span><br><span class=\"line\">l60:    aastore</span><br><span class=\"line\">l61:    putstatic EnumTest/$VALUES [LEnumTest;</span><br><span class=\"line\">l64:    <span class=\"keyword\">return</span></span><br><span class=\"line\">.end method</span><br></pre></td></tr></table></figure>\n<p>enum Enumenum<br>field <strong>public static final </strong><br> (enum)field<br></p>\n"},{"layout":"post","title":"Java  final  static","description":null,"keywords":"final static","date":"2013-04-29T16:00:00.000Z","_content":"### final\n#### 1.final\n\nfinalfinal\n\nfinal\n\nfinal\n\n#### 2.final\n\nfinal\nfinal\n\nfinal\n\n#### 3.final\n\nfinalfinalfinalfinal\n\n#### 4.final \n\nfinalJava  \n\n\n### static\nstaticJavastatic\nstaticprivateprivatestatic\n\nstaticJavaJVM\n\n#### 1.static\n\nstaticstatic\nJVM\n\n#### 2.static\n\nthissuper(static)staticstaticabstract\n\n#### 3.static\n\nstaticstaticJVMstaticJVM\n\n#### 4staticfinal\nstatic final\n\n\n\n","source":"_posts/Java/2013-04-30-java-final-static.md","raw":"---\nlayout: post\ntitle: Java  final  static\ncategories: Java\ndescription:\nkeywords: final static\ndate: 2013-04-30\n---\n### final\n#### 1.final\n\nfinalfinal\n\nfinal\n\nfinal\n\n#### 2.final\n\nfinal\nfinal\n\nfinal\n\n#### 3.final\n\nfinalfinalfinalfinal\n\n#### 4.final \n\nfinalJava  \n\n\n### static\nstaticJavastatic\nstaticprivateprivatestatic\n\nstaticJavaJVM\n\n#### 1.static\n\nstaticstatic\nJVM\n\n#### 2.static\n\nthissuper(static)staticstaticabstract\n\n#### 3.static\n\nstaticstaticJVMstaticJVM\n\n#### 4staticfinal\nstatic final\n\n\n\n","slug":"Java/2013-04-30-java-final-static","published":1,"updated":"2018-11-10T08:59:09.797Z","comments":1,"photos":[],"link":"","_id":"cjtohbk7p000m6f1292pjaq9c","content":"<h3 id=\"final\"><a href=\"#final\" class=\"headerlink\" title=\"final\"></a>final</h3><h4 id=\"1-final\"><a href=\"#1-final\" class=\"headerlink\" title=\"1.final\"></a>1.final</h4><p>finalfinal</p>\n<p>final</p>\n<p>final</p>\n<h4 id=\"2-final\"><a href=\"#2-final\" class=\"headerlink\" title=\"2.final\"></a>2.final</h4><p>final<br>final<br><br>final</p>\n<h4 id=\"3-final\"><a href=\"#3-final\" class=\"headerlink\" title=\"3.final\"></a>3.final</h4><p>finalfinalfinalfinal</p>\n<h4 id=\"4-final-\"><a href=\"#4-final-\" class=\"headerlink\" title=\"4.final \"></a>4.final </h4><p>finalJava  </p>\n<h3 id=\"static\"><a href=\"#static\" class=\"headerlink\" title=\"static\"></a>static</h3><p>staticJavastatic<br>staticprivateprivatestatic</p>\n<p>staticJavaJVM</p>\n<h4 id=\"1-static\"><a href=\"#1-static\" class=\"headerlink\" title=\"1.static\"></a>1.static</h4><p>staticstatic<br>JVM</p>\n<h4 id=\"2-static\"><a href=\"#2-static\" class=\"headerlink\" title=\"2.static\"></a>2.static</h4><p>thissuper(static)staticstaticabstract</p>\n<h4 id=\"3-static\"><a href=\"#3-static\" class=\"headerlink\" title=\"3.static\"></a>3.static</h4><p>staticstaticJVMstaticJVM</p>\n<h4 id=\"4staticfinal\"><a href=\"#4staticfinal\" class=\"headerlink\" title=\"4staticfinal\"></a>4staticfinal</h4><p>static final<br><br></p>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"final\"><a href=\"#final\" class=\"headerlink\" title=\"final\"></a>final</h3><h4 id=\"1-final\"><a href=\"#1-final\" class=\"headerlink\" title=\"1.final\"></a>1.final</h4><p>finalfinal</p>\n<p>final</p>\n<p>final</p>\n<h4 id=\"2-final\"><a href=\"#2-final\" class=\"headerlink\" title=\"2.final\"></a>2.final</h4><p>final<br>final<br><br>final</p>\n<h4 id=\"3-final\"><a href=\"#3-final\" class=\"headerlink\" title=\"3.final\"></a>3.final</h4><p>finalfinalfinalfinal</p>\n<h4 id=\"4-final-\"><a href=\"#4-final-\" class=\"headerlink\" title=\"4.final \"></a>4.final </h4><p>finalJava  </p>\n<h3 id=\"static\"><a href=\"#static\" class=\"headerlink\" title=\"static\"></a>static</h3><p>staticJavastatic<br>staticprivateprivatestatic</p>\n<p>staticJavaJVM</p>\n<h4 id=\"1-static\"><a href=\"#1-static\" class=\"headerlink\" title=\"1.static\"></a>1.static</h4><p>staticstatic<br>JVM</p>\n<h4 id=\"2-static\"><a href=\"#2-static\" class=\"headerlink\" title=\"2.static\"></a>2.static</h4><p>thissuper(static)staticstaticabstract</p>\n<h4 id=\"3-static\"><a href=\"#3-static\" class=\"headerlink\" title=\"3.static\"></a>3.static</h4><p>staticstaticJVMstaticJVM</p>\n<h4 id=\"4staticfinal\"><a href=\"#4staticfinal\" class=\"headerlink\" title=\"4staticfinal\"></a>4staticfinal</h4><p>static final<br><br></p>\n"},{"layout":"post","title":"HTTP","description":null,"keywords":"http","date":"2013-07-02T16:00:00.000Z","_content":"\n#### http\nHTTPHyperText Transfer ProtocolWWW()\n\n#### http\nhttp/\n\nhttphttpcookie\n\n\n\n#### http\n\nWebhttpwebhttp\n\n#### http  app  \n\nWebWebHTTPHTMLURL\n\n()\n\nWeb(serves)(call)(methods):WebHTTP(request)(serves) (business logic)\n\nApachewebTomcatIISWeb\n\n[http://blog.csdn.net/gideal_wang/article/details/4442525](http://blog.csdn.net/gideal_wang/article/details/4442525)\n\n#### http\n>URLhostipDNSURLIPIP80socketURLgetHTTPoutputStream.write inputStream.read\n\nHTTP\n\nhttp   \n\n```\nRequest Header:\nRequest URL:http://www.taobao.com/\nRequest Method:GET\nStatus Code:200 OK200 OK\nRequest Headersview source\nAccept:text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\nAccept-Encoding:gzip,deflate,sdch\nAccept-Language:zh-CN,zh;q=0.8\nCache-Control:max-age=0\nConnection:keep-alive\nCookie:miid=.....\nHost:www.taobao.com\nUser-Agent:Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1469.0 Safari/537.36\n\nRespone Header:\nCache-Control:max-age=3600\nConnection:keep-alive\nContent-Encoding:gzip\nContent-Type:text/html; charset=gbk\nDate:Wed, 03 Jul 2013 02:03:28 GMT\nExpires:Wed, 03 Jul 2013 03:03:28 GMT\nServer:Tengine\nTransfer-Encoding:chunked\nVary:Accept-Encoding\n```\n\n#### http   TCP \n[Websocket ](http://heartaway.cn/2013/05/02/websocket/)\n\n#### http socket\nsocketSocketTCP/IPSocketTCP/IPSocketSocketSocket TCP UDP \n\nhttpTCP\n\nsocketsocket\n\nHTTP Socket , Socket ,  HTTP Socket , , HTTP , ,webservice .\n\n\n","source":"_posts/Java/2013-07-03-http.md","raw":"---\nlayout: post\ntitle: HTTP\ncategories: Java\ndescription:\nkeywords: http\ndate: 2013-07-03\n---\n\n#### http\nHTTPHyperText Transfer ProtocolWWW()\n\n#### http\nhttp/\n\nhttphttpcookie\n\n\n\n#### http\n\nWebhttpwebhttp\n\n#### http  app  \n\nWebWebHTTPHTMLURL\n\n()\n\nWeb(serves)(call)(methods):WebHTTP(request)(serves) (business logic)\n\nApachewebTomcatIISWeb\n\n[http://blog.csdn.net/gideal_wang/article/details/4442525](http://blog.csdn.net/gideal_wang/article/details/4442525)\n\n#### http\n>URLhostipDNSURLIPIP80socketURLgetHTTPoutputStream.write inputStream.read\n\nHTTP\n\nhttp   \n\n```\nRequest Header:\nRequest URL:http://www.taobao.com/\nRequest Method:GET\nStatus Code:200 OK200 OK\nRequest Headersview source\nAccept:text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\nAccept-Encoding:gzip,deflate,sdch\nAccept-Language:zh-CN,zh;q=0.8\nCache-Control:max-age=0\nConnection:keep-alive\nCookie:miid=.....\nHost:www.taobao.com\nUser-Agent:Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1469.0 Safari/537.36\n\nRespone Header:\nCache-Control:max-age=3600\nConnection:keep-alive\nContent-Encoding:gzip\nContent-Type:text/html; charset=gbk\nDate:Wed, 03 Jul 2013 02:03:28 GMT\nExpires:Wed, 03 Jul 2013 03:03:28 GMT\nServer:Tengine\nTransfer-Encoding:chunked\nVary:Accept-Encoding\n```\n\n#### http   TCP \n[Websocket ](http://heartaway.cn/2013/05/02/websocket/)\n\n#### http socket\nsocketSocketTCP/IPSocketTCP/IPSocketSocketSocket TCP UDP \n\nhttpTCP\n\nsocketsocket\n\nHTTP Socket , Socket ,  HTTP Socket , , HTTP , ,webservice .\n\n\n","slug":"Java/2013-07-03-http","published":1,"updated":"2018-11-10T08:59:09.797Z","comments":1,"photos":[],"link":"","_id":"cjtohbk7p000o6f12ql1hussi","content":"<h4 id=\"http\"><a href=\"#http\" class=\"headerlink\" title=\"http\"></a>http</h4><p>HTTPHyperText Transfer ProtocolWWW()</p>\n<h4 id=\"http\"><a href=\"#http\" class=\"headerlink\" title=\"http\"></a>http</h4><p>http/</p>\n<p>httphttpcookie</p>\n<p></p>\n<h4 id=\"http\"><a href=\"#http\" class=\"headerlink\" title=\"http\"></a>http</h4><p>Webhttpwebhttp</p>\n<h4 id=\"http--app--\"><a href=\"#http--app--\" class=\"headerlink\" title=\"http  app  \"></a>http  app  </h4><p>WebWebHTTPHTMLURL</p>\n<p>()</p>\n<p>Web(serves)(call)(methods):WebHTTP(request)(serves) (business logic)</p>\n<p>ApachewebTomcatIISWeb</p>\n<p><a href=\"http://blog.csdn.net/gideal_wang/article/details/4442525\" target=\"_blank\" rel=\"noopener\">http://blog.csdn.net/gideal_wang/article/details/4442525</a></p>\n<h4 id=\"http\"><a href=\"#http\" class=\"headerlink\" title=\"http\"></a>http</h4><blockquote>\n<p>URLhostipDNSURLIPIP80socketURLgetHTTPoutputStream.write inputStream.read</p>\n</blockquote>\n<p>HTTP</p>\n<p>http   </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Request Header:</span><br><span class=\"line\">Request URL:http://www.taobao.com/</span><br><span class=\"line\">Request Method:GET</span><br><span class=\"line\">Status Code:200 OK200 OK</span><br><span class=\"line\">Request Headersview source</span><br><span class=\"line\">Accept:text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8</span><br><span class=\"line\">Accept-Encoding:gzip,deflate,sdch</span><br><span class=\"line\">Accept-Language:zh-CN,zh;q=0.8</span><br><span class=\"line\">Cache-Control:max-age=0</span><br><span class=\"line\">Connection:keep-alive</span><br><span class=\"line\">Cookie:miid=.....</span><br><span class=\"line\">Host:www.taobao.com</span><br><span class=\"line\">User-Agent:Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1469.0 Safari/537.36</span><br><span class=\"line\"></span><br><span class=\"line\">Respone Header:</span><br><span class=\"line\">Cache-Control:max-age=3600</span><br><span class=\"line\">Connection:keep-alive</span><br><span class=\"line\">Content-Encoding:gzip</span><br><span class=\"line\">Content-Type:text/html; charset=gbk</span><br><span class=\"line\">Date:Wed, 03 Jul 2013 02:03:28 GMT</span><br><span class=\"line\">Expires:Wed, 03 Jul 2013 03:03:28 GMT</span><br><span class=\"line\">Server:Tengine</span><br><span class=\"line\">Transfer-Encoding:chunked</span><br><span class=\"line\">Vary:Accept-Encoding</span><br></pre></td></tr></table></figure>\n<h4 id=\"http--TCP-\"><a href=\"#http--TCP-\" class=\"headerlink\" title=\"http   TCP \"></a>http   TCP </h4><p><a href=\"http://heartaway.cn/2013/05/02/websocket/\">Websocket </a></p>\n<h4 id=\"http-socket\"><a href=\"#http-socket\" class=\"headerlink\" title=\"http socket\"></a>http socket</h4><p>socketSocketTCP/IPSocketTCP/IPSocketSocketSocket TCP UDP </p>\n<p>httpTCP</p>\n<p>socketsocket</p>\n<p>HTTP Socket , Socket ,  HTTP Socket , , HTTP , ,webservice .</p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"http\"><a href=\"#http\" class=\"headerlink\" title=\"http\"></a>http</h4><p>HTTPHyperText Transfer ProtocolWWW()</p>\n<h4 id=\"http\"><a href=\"#http\" class=\"headerlink\" title=\"http\"></a>http</h4><p>http/</p>\n<p>httphttpcookie</p>\n<p></p>\n<h4 id=\"http\"><a href=\"#http\" class=\"headerlink\" title=\"http\"></a>http</h4><p>Webhttpwebhttp</p>\n<h4 id=\"http--app--\"><a href=\"#http--app--\" class=\"headerlink\" title=\"http  app  \"></a>http  app  </h4><p>WebWebHTTPHTMLURL</p>\n<p>()</p>\n<p>Web(serves)(call)(methods):WebHTTP(request)(serves) (business logic)</p>\n<p>ApachewebTomcatIISWeb</p>\n<p><a href=\"http://blog.csdn.net/gideal_wang/article/details/4442525\" target=\"_blank\" rel=\"noopener\">http://blog.csdn.net/gideal_wang/article/details/4442525</a></p>\n<h4 id=\"http\"><a href=\"#http\" class=\"headerlink\" title=\"http\"></a>http</h4><blockquote>\n<p>URLhostipDNSURLIPIP80socketURLgetHTTPoutputStream.write inputStream.read</p>\n</blockquote>\n<p>HTTP</p>\n<p>http   </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Request Header:</span><br><span class=\"line\">Request URL:http://www.taobao.com/</span><br><span class=\"line\">Request Method:GET</span><br><span class=\"line\">Status Code:200 OK200 OK</span><br><span class=\"line\">Request Headersview source</span><br><span class=\"line\">Accept:text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8</span><br><span class=\"line\">Accept-Encoding:gzip,deflate,sdch</span><br><span class=\"line\">Accept-Language:zh-CN,zh;q=0.8</span><br><span class=\"line\">Cache-Control:max-age=0</span><br><span class=\"line\">Connection:keep-alive</span><br><span class=\"line\">Cookie:miid=.....</span><br><span class=\"line\">Host:www.taobao.com</span><br><span class=\"line\">User-Agent:Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1469.0 Safari/537.36</span><br><span class=\"line\"></span><br><span class=\"line\">Respone Header:</span><br><span class=\"line\">Cache-Control:max-age=3600</span><br><span class=\"line\">Connection:keep-alive</span><br><span class=\"line\">Content-Encoding:gzip</span><br><span class=\"line\">Content-Type:text/html; charset=gbk</span><br><span class=\"line\">Date:Wed, 03 Jul 2013 02:03:28 GMT</span><br><span class=\"line\">Expires:Wed, 03 Jul 2013 03:03:28 GMT</span><br><span class=\"line\">Server:Tengine</span><br><span class=\"line\">Transfer-Encoding:chunked</span><br><span class=\"line\">Vary:Accept-Encoding</span><br></pre></td></tr></table></figure>\n<h4 id=\"http--TCP-\"><a href=\"#http--TCP-\" class=\"headerlink\" title=\"http   TCP \"></a>http   TCP </h4><p><a href=\"http://heartaway.cn/2013/05/02/websocket/\">Websocket </a></p>\n<h4 id=\"http-socket\"><a href=\"#http-socket\" class=\"headerlink\" title=\"http socket\"></a>http socket</h4><p>socketSocketTCP/IPSocketTCP/IPSocketSocketSocket TCP UDP </p>\n<p>httpTCP</p>\n<p>socketsocket</p>\n<p>HTTP Socket , Socket ,  HTTP Socket , , HTTP , ,webservice .</p>\n"},{"layout":"post","title":"CPU","description":null,"keywords":"cpu-high CPU ","date":"2015-03-24T16:00:00.000Z","_content":"\n\n\n#### cpu\n\n\n```shell\n    top\n```\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/3b592916b5baec5553bf6076f5966a32.png)\n\n#### \n\n\n```shell\nps -ef |grep id\n```\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/17d53d36e9a5222ef2b730a9ce5c1eae.png)\ngcgc\n\n#### CPU\n\n```shell\njstack\n```\n#### GC\n\n```shell\njstat -gc  \n```\n\n\n\nS0C Current survivor space 0 capacity (KB). survivor0\n\nS1C Current survivor space 1 capacity (KB). survivor1\n\nS0U Survivor space 0 utilization (KB). survivor0\n\nS1U Survivor space 1 utilization (KB). survivor1\n\nEC Current eden space capacity (KB). eden\n\nEU Eden space utilization (KB). eden\n\nOC Current old space capacity (KB). old\n\nOU Old space utilization (KB). old\n\nPC Current permanent space capacity (KB). perm\n\nPU Permanent space utilization (KB). perm\n\nYGC Number of young generation GC Events. young gc\n\nYGCT Young generation garbage collection time. young gc\n\nFGC Number of full GC events. full gc\n\nFGCT Full garbage collection time. full gc\n\nGCT Total garbage collection time. gc\n\n Yong GC FGC4sFGCYGCFGCGC(-XX:+DisableExplicitGC)\nFGCGC-verbose:gc -Xloggc:/home/admin/logs/gc.log\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/babc327d486ccbce313f8b16ce951f7d.png)\n\nCPUFGC1.3G\nEdenOldOldFGC\n\nEdenOldJmapGCCMSCMSYGCCMSNew\n\nGC\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/31d9dbfe8fb11073e7180fbb5eb069f6.png)\n\nCMS GC UseCMSInitiatingOccupancyOnlyJVM\n\n#### JVM\n\nJVMGC(JVM)GCGCJVM-XXUseCMSInitiatingOccupancyOnly=true\n\navailablemax_promotion_in_bytesoldav_promofalsecms gc2sfalseYGCcms gc\n\n****\n\nMinor GCSurvivorMinor GCMinor GCGCMinor GCFull GCMinor GCMinor GCFull GCGC\nGClogCMSCMS\n\n\n```java\n2015-03-26T18:18:06.349+0800: 7.092: [GC 7.092: [ParNew: 471872K->471872K(471872K), 0.0000420 secs]7.092: [CMS: 366666K->524287K(524288K), 27.0023450 secs] 838538K->829914K(996160K), [CMS Perm : 3196K->3195K(131072K)], 27.0025170 secs]\n```\n\nParNewjvmFGColdYGCMSC\nJVMJVM-XXUseCMSInitiatingOccupancyOnly=true\n\n#### \n\n\nHeap1GGCCMS[<=3GCMS GC](http://hellojava.info/?p=142)Heap2G\n48GHeap4GGCCMSUseCMSInitiatingOccupancyOnlyGC\n\n\n","source":"_posts/Java/2015-03-25-crm-cpu-high-analysis.md","raw":"---\nlayout: post\ntitle: CPU\ncategories: Java\ndescription:\nkeywords: cpu-high CPU \ndate: 2015-03-25\n---\n\n\n\n#### cpu\n\n\n```shell\n    top\n```\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/3b592916b5baec5553bf6076f5966a32.png)\n\n#### \n\n\n```shell\nps -ef |grep id\n```\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/17d53d36e9a5222ef2b730a9ce5c1eae.png)\ngcgc\n\n#### CPU\n\n```shell\njstack\n```\n#### GC\n\n```shell\njstat -gc  \n```\n\n\n\nS0C Current survivor space 0 capacity (KB). survivor0\n\nS1C Current survivor space 1 capacity (KB). survivor1\n\nS0U Survivor space 0 utilization (KB). survivor0\n\nS1U Survivor space 1 utilization (KB). survivor1\n\nEC Current eden space capacity (KB). eden\n\nEU Eden space utilization (KB). eden\n\nOC Current old space capacity (KB). old\n\nOU Old space utilization (KB). old\n\nPC Current permanent space capacity (KB). perm\n\nPU Permanent space utilization (KB). perm\n\nYGC Number of young generation GC Events. young gc\n\nYGCT Young generation garbage collection time. young gc\n\nFGC Number of full GC events. full gc\n\nFGCT Full garbage collection time. full gc\n\nGCT Total garbage collection time. gc\n\n Yong GC FGC4sFGCYGCFGCGC(-XX:+DisableExplicitGC)\nFGCGC-verbose:gc -Xloggc:/home/admin/logs/gc.log\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/babc327d486ccbce313f8b16ce951f7d.png)\n\nCPUFGC1.3G\nEdenOldOldFGC\n\nEdenOldJmapGCCMSCMSYGCCMSNew\n\nGC\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/31d9dbfe8fb11073e7180fbb5eb069f6.png)\n\nCMS GC UseCMSInitiatingOccupancyOnlyJVM\n\n#### JVM\n\nJVMGC(JVM)GCGCJVM-XXUseCMSInitiatingOccupancyOnly=true\n\navailablemax_promotion_in_bytesoldav_promofalsecms gc2sfalseYGCcms gc\n\n****\n\nMinor GCSurvivorMinor GCMinor GCGCMinor GCFull GCMinor GCMinor GCFull GCGC\nGClogCMSCMS\n\n\n```java\n2015-03-26T18:18:06.349+0800: 7.092: [GC 7.092: [ParNew: 471872K->471872K(471872K), 0.0000420 secs]7.092: [CMS: 366666K->524287K(524288K), 27.0023450 secs] 838538K->829914K(996160K), [CMS Perm : 3196K->3195K(131072K)], 27.0025170 secs]\n```\n\nParNewjvmFGColdYGCMSC\nJVMJVM-XXUseCMSInitiatingOccupancyOnly=true\n\n#### \n\n\nHeap1GGCCMS[<=3GCMS GC](http://hellojava.info/?p=142)Heap2G\n48GHeap4GGCCMSUseCMSInitiatingOccupancyOnlyGC\n\n\n","slug":"Java/2015-03-25-crm-cpu-high-analysis","published":1,"updated":"2018-11-10T08:59:09.797Z","comments":1,"photos":[],"link":"","_id":"cjtohbk7r000r6f121h7dzowz","content":"<p></p>\n<h4 id=\"cpu\"><a href=\"#cpu\" class=\"headerlink\" title=\"cpu\"></a>cpu</h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">top</span><br></pre></td></tr></table></figure>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/3b592916b5baec5553bf6076f5966a32.png\" alt=\"\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ps -ef |grep id</span><br></pre></td></tr></table></figure>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/17d53d36e9a5222ef2b730a9ce5c1eae.png\" alt=\"\"><br>gcgc</p>\n<h4 id=\"CPU\"><a href=\"#CPU\" class=\"headerlink\" title=\"CPU\"></a>CPU</h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">jstack</span><br></pre></td></tr></table></figure>\n<h4 id=\"GC\"><a href=\"#GC\" class=\"headerlink\" title=\"GC\"></a>GC</h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">jstat -gc</span><br></pre></td></tr></table></figure>\n<p></p>\n<p>S0C Current survivor space 0 capacity (KB). survivor0</p>\n<p>S1C Current survivor space 1 capacity (KB). survivor1</p>\n<p>S0U Survivor space 0 utilization (KB). survivor0</p>\n<p>S1U Survivor space 1 utilization (KB). survivor1</p>\n<p>EC Current eden space capacity (KB). eden</p>\n<p>EU Eden space utilization (KB). eden</p>\n<p>OC Current old space capacity (KB). old</p>\n<p>OU Old space utilization (KB). old</p>\n<p>PC Current permanent space capacity (KB). perm</p>\n<p>PU Permanent space utilization (KB). perm</p>\n<p>YGC Number of young generation GC Events. young gc</p>\n<p>YGCT Young generation garbage collection time. young gc</p>\n<p>FGC Number of full GC events. full gc</p>\n<p>FGCT Full garbage collection time. full gc</p>\n<p>GCT Total garbage collection time. gc</p>\n<p> Yong GC FGC4sFGCYGCFGCGC(-XX:+DisableExplicitGC)<br>FGCGC-verbose:gc -Xloggc:/home/admin/logs/gc.log</p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/babc327d486ccbce313f8b16ce951f7d.png\" alt=\"\"></p>\n<p>CPUFGC1.3G<br>EdenOldOldFGC</p>\n<p>EdenOldJmapGCCMSCMSYGCCMSNew</p>\n<p>GC</p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/31d9dbfe8fb11073e7180fbb5eb069f6.png\" alt=\"\"></p>\n<p>CMS GC UseCMSInitiatingOccupancyOnlyJVM</p>\n<h4 id=\"JVM\"><a href=\"#JVM\" class=\"headerlink\" title=\"JVM\"></a>JVM</h4><p>JVMGC(JVM)GCGCJVM-XXUseCMSInitiatingOccupancyOnly=true</p>\n<p>availablemax_promotion_in_bytesoldav_promofalsecms gc2sfalseYGCcms gc</p>\n<p><strong></strong></p>\n<p>Minor GCSurvivorMinor GCMinor GCGCMinor GCFull GCMinor GCMinor GCFull GCGC<br>GClogCMSCMS</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">2015</span>-<span class=\"number\">03</span>-<span class=\"number\">26</span>T18:<span class=\"number\">18</span>:<span class=\"number\">06.349</span>+<span class=\"number\">0800</span>: <span class=\"number\">7.092</span>: [GC <span class=\"number\">7.092</span>: [ParNew: <span class=\"number\">471872</span>K-&gt;<span class=\"number\">471872</span>K(<span class=\"number\">471872</span>K), <span class=\"number\">0.0000420</span> secs]<span class=\"number\">7.092</span>: [CMS: <span class=\"number\">366666</span>K-&gt;<span class=\"number\">524287</span>K(<span class=\"number\">524288</span>K), <span class=\"number\">27.0023450</span> secs] <span class=\"number\">838538</span>K-&gt;<span class=\"number\">829914</span>K(<span class=\"number\">996160</span>K), [CMS Perm : <span class=\"number\">3196</span>K-&gt;<span class=\"number\">3195</span>K(<span class=\"number\">131072</span>K)], <span class=\"number\">27.0025170</span> secs]</span><br></pre></td></tr></table></figure>\n<p>ParNewjvmFGColdYGCMSC<br>JVMJVM-XXUseCMSInitiatingOccupancyOnly=true</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<p>Heap1GGCCMS<a href=\"http://hellojava.info/?p=142\" target=\"_blank\" rel=\"noopener\">&lt;=3GCMS GC</a>Heap2G<br>48GHeap4GGCCMSUseCMSInitiatingOccupancyOnlyGC</p>\n","site":{"data":{}},"excerpt":"","more":"<p></p>\n<h4 id=\"cpu\"><a href=\"#cpu\" class=\"headerlink\" title=\"cpu\"></a>cpu</h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">top</span><br></pre></td></tr></table></figure>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/3b592916b5baec5553bf6076f5966a32.png\" alt=\"\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ps -ef |grep id</span><br></pre></td></tr></table></figure>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/17d53d36e9a5222ef2b730a9ce5c1eae.png\" alt=\"\"><br>gcgc</p>\n<h4 id=\"CPU\"><a href=\"#CPU\" class=\"headerlink\" title=\"CPU\"></a>CPU</h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">jstack</span><br></pre></td></tr></table></figure>\n<h4 id=\"GC\"><a href=\"#GC\" class=\"headerlink\" title=\"GC\"></a>GC</h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">jstat -gc</span><br></pre></td></tr></table></figure>\n<p></p>\n<p>S0C Current survivor space 0 capacity (KB). survivor0</p>\n<p>S1C Current survivor space 1 capacity (KB). survivor1</p>\n<p>S0U Survivor space 0 utilization (KB). survivor0</p>\n<p>S1U Survivor space 1 utilization (KB). survivor1</p>\n<p>EC Current eden space capacity (KB). eden</p>\n<p>EU Eden space utilization (KB). eden</p>\n<p>OC Current old space capacity (KB). old</p>\n<p>OU Old space utilization (KB). old</p>\n<p>PC Current permanent space capacity (KB). perm</p>\n<p>PU Permanent space utilization (KB). perm</p>\n<p>YGC Number of young generation GC Events. young gc</p>\n<p>YGCT Young generation garbage collection time. young gc</p>\n<p>FGC Number of full GC events. full gc</p>\n<p>FGCT Full garbage collection time. full gc</p>\n<p>GCT Total garbage collection time. gc</p>\n<p> Yong GC FGC4sFGCYGCFGCGC(-XX:+DisableExplicitGC)<br>FGCGC-verbose:gc -Xloggc:/home/admin/logs/gc.log</p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/babc327d486ccbce313f8b16ce951f7d.png\" alt=\"\"></p>\n<p>CPUFGC1.3G<br>EdenOldOldFGC</p>\n<p>EdenOldJmapGCCMSCMSYGCCMSNew</p>\n<p>GC</p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/31d9dbfe8fb11073e7180fbb5eb069f6.png\" alt=\"\"></p>\n<p>CMS GC UseCMSInitiatingOccupancyOnlyJVM</p>\n<h4 id=\"JVM\"><a href=\"#JVM\" class=\"headerlink\" title=\"JVM\"></a>JVM</h4><p>JVMGC(JVM)GCGCJVM-XXUseCMSInitiatingOccupancyOnly=true</p>\n<p>availablemax_promotion_in_bytesoldav_promofalsecms gc2sfalseYGCcms gc</p>\n<p><strong></strong></p>\n<p>Minor GCSurvivorMinor GCMinor GCGCMinor GCFull GCMinor GCMinor GCFull GCGC<br>GClogCMSCMS</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">2015</span>-<span class=\"number\">03</span>-<span class=\"number\">26</span>T18:<span class=\"number\">18</span>:<span class=\"number\">06.349</span>+<span class=\"number\">0800</span>: <span class=\"number\">7.092</span>: [GC <span class=\"number\">7.092</span>: [ParNew: <span class=\"number\">471872</span>K-&gt;<span class=\"number\">471872</span>K(<span class=\"number\">471872</span>K), <span class=\"number\">0.0000420</span> secs]<span class=\"number\">7.092</span>: [CMS: <span class=\"number\">366666</span>K-&gt;<span class=\"number\">524287</span>K(<span class=\"number\">524288</span>K), <span class=\"number\">27.0023450</span> secs] <span class=\"number\">838538</span>K-&gt;<span class=\"number\">829914</span>K(<span class=\"number\">996160</span>K), [CMS Perm : <span class=\"number\">3196</span>K-&gt;<span class=\"number\">3195</span>K(<span class=\"number\">131072</span>K)], <span class=\"number\">27.0025170</span> secs]</span><br></pre></td></tr></table></figure>\n<p>ParNewjvmFGColdYGCMSC<br>JVMJVM-XXUseCMSInitiatingOccupancyOnly=true</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<p>Heap1GGCCMS<a href=\"http://hellojava.info/?p=142\" target=\"_blank\" rel=\"noopener\">&lt;=3GCMS GC</a>Heap2G<br>48GHeap4GGCCMSUseCMSInitiatingOccupancyOnlyGC</p>\n"},{"layout":"post","title":"Java ","description":null,"keywords":"jvm  ","date":"2015-03-25T16:00:00.000Z","_content":"[https://github.com/kittylyst/jfx-mem](https://github.com/kittylyst/jfx-mem) JavaGC\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/a2b296390844a629bc3a17c120dccb55.png)\n\n#### \n\nIDEAApplication\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/1ea51c9fd021f3717bd4060c084e6809.png)\n\n#### \nedenTLABThread Local Allocation Bufferedeneden survivoroldHeapedenservivorYoung GenedenYGCedensurvivorsurvivor2fromtoEdenEdenYong GCEdenFromToYong GCEdenToFromYong GCFromToOld GenerationOld GenerationFull GCYong Generation  Old Generation Full GCFull GCFull GCstop the world \n\n#### \nOld-- \n\n#### \n##### 1. \n\n##### 2. -\n500M100MFGC\n##### 3. -\n\n\nYGCYGCEdenFromToEdenToFrom\n\nGCGC\n\n* GCGCSerial GCGCParallel ScavengeGCParNew\n* GCGCSerial MSCGCParallel MSCGCCMS\n\nGC YGCFGCGC\n\n|  |  |\n| --- | --- |\n|UseSerialGC\t|ClientSerial+Serial Old|\n|UseParNewGC\t|ParNew+Serial Old|\n|UseConcMarkSweepGC\t|ParNew+CMS+Serial OldSerial OldCMSConcurrent Mode Failure|\n|UseParallelGC\t|ServerParallel Scavenge+Serial Old|\n|UseParallelOldGC|\tParallel Scavenge+Parallel Old|\n\njvmCMS\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/5bb973bcf6eefcfd36fdedbc1a34a75e.png)\n\n-XX:+UseConcMarkSweepGC CMSCMS-FGC\n>-XX:+UseCMSCompactAtFullCollection\n\n-XX:CMSInitiatingOccupancyFraction=80 Old80%CMS GCHotSpot VM\n\n-XX:+UseCMSInitiatingOccupancyOnly JVMCMSJVMCMSInitiatingOccupancyFractionCMS\n\n-XX:+CMSClassUnloadingEnabled CMS-XX:+CMSClassUnloadingEnabledJVM-XX:+CMSPermGenSweepingEnabledFull GC\nCMS[http://ifeve.com/useful-jvm-flags-part-7-cms-collector/](http://ifeve.com/useful-jvm-flags-part-7-cms-collector/)\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/aa638667a77acf42f9f8f2f9f96fe781.png)\n\nOldFGCFGCOutOfMemory\n\n\n","source":"_posts/Java/2015-03-26-java-mem-visualization.md","raw":"---\nlayout: post\ntitle: Java \ncategories: Java\ndescription:\nkeywords: jvm  \ndate: 2015-03-26\n---\n[https://github.com/kittylyst/jfx-mem](https://github.com/kittylyst/jfx-mem) JavaGC\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/a2b296390844a629bc3a17c120dccb55.png)\n\n#### \n\nIDEAApplication\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/1ea51c9fd021f3717bd4060c084e6809.png)\n\n#### \nedenTLABThread Local Allocation Bufferedeneden survivoroldHeapedenservivorYoung GenedenYGCedensurvivorsurvivor2fromtoEdenEdenYong GCEdenFromToYong GCEdenToFromYong GCFromToOld GenerationOld GenerationFull GCYong Generation  Old Generation Full GCFull GCFull GCstop the world \n\n#### \nOld-- \n\n#### \n##### 1. \n\n##### 2. -\n500M100MFGC\n##### 3. -\n\n\nYGCYGCEdenFromToEdenToFrom\n\nGCGC\n\n* GCGCSerial GCGCParallel ScavengeGCParNew\n* GCGCSerial MSCGCParallel MSCGCCMS\n\nGC YGCFGCGC\n\n|  |  |\n| --- | --- |\n|UseSerialGC\t|ClientSerial+Serial Old|\n|UseParNewGC\t|ParNew+Serial Old|\n|UseConcMarkSweepGC\t|ParNew+CMS+Serial OldSerial OldCMSConcurrent Mode Failure|\n|UseParallelGC\t|ServerParallel Scavenge+Serial Old|\n|UseParallelOldGC|\tParallel Scavenge+Parallel Old|\n\njvmCMS\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/5bb973bcf6eefcfd36fdedbc1a34a75e.png)\n\n-XX:+UseConcMarkSweepGC CMSCMS-FGC\n>-XX:+UseCMSCompactAtFullCollection\n\n-XX:CMSInitiatingOccupancyFraction=80 Old80%CMS GCHotSpot VM\n\n-XX:+UseCMSInitiatingOccupancyOnly JVMCMSJVMCMSInitiatingOccupancyFractionCMS\n\n-XX:+CMSClassUnloadingEnabled CMS-XX:+CMSClassUnloadingEnabledJVM-XX:+CMSPermGenSweepingEnabledFull GC\nCMS[http://ifeve.com/useful-jvm-flags-part-7-cms-collector/](http://ifeve.com/useful-jvm-flags-part-7-cms-collector/)\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/aa638667a77acf42f9f8f2f9f96fe781.png)\n\nOldFGCFGCOutOfMemory\n\n\n","slug":"Java/2015-03-26-java-mem-visualization","published":1,"updated":"2018-11-10T08:59:09.798Z","comments":1,"photos":[],"link":"","_id":"cjtohbk7s000s6f12p8ojfkey","content":"<p><a href=\"https://github.com/kittylyst/jfx-mem\" target=\"_blank\" rel=\"noopener\">https://github.com/kittylyst/jfx-mem</a> JavaGC</p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/a2b296390844a629bc3a17c120dccb55.png\" alt=\"\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>IDEAApplication</p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/1ea51c9fd021f3717bd4060c084e6809.png\" alt=\"\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>edenTLABThread Local Allocation Bufferedeneden survivoroldHeapedenservivorYoung GenedenYGCedensurvivorsurvivor2fromtoEdenEdenYong GCEdenFromToYong GCEdenToFromYong GCFromToOld GenerationOld GenerationFull GCYong Generation  Old Generation Full GCFull GCFull GCstop the world </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>Old-- </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h5 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"1. \"></a>1. </h5><p></p>\n<h5 id=\"2--\"><a href=\"#2--\" class=\"headerlink\" title=\"2. -\"></a>2. -</h5><p>500M100MFGC</p>\n<h5 id=\"3--\"><a href=\"#3--\" class=\"headerlink\" title=\"3. -\"></a>3. -</h5><p></p>\n<p>YGCYGCEdenFromToEdenToFrom</p>\n<p>GCGC</p>\n<ul>\n<li>GCGCSerial GCGCParallel ScavengeGCParNew</li>\n<li>GCGCSerial MSCGCParallel MSCGCCMS</li>\n</ul>\n<p>GC YGCFGCGC</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>UseSerialGC</td>\n<td>ClientSerial+Serial Old</td>\n</tr>\n<tr>\n<td>UseParNewGC</td>\n<td>ParNew+Serial Old</td>\n</tr>\n<tr>\n<td>UseConcMarkSweepGC</td>\n<td>ParNew+CMS+Serial OldSerial OldCMSConcurrent Mode Failure</td>\n</tr>\n<tr>\n<td>UseParallelGC</td>\n<td>ServerParallel Scavenge+Serial Old</td>\n</tr>\n<tr>\n<td>UseParallelOldGC</td>\n<td>Parallel Scavenge+Parallel Old</td>\n</tr>\n</tbody>\n</table>\n<p>jvmCMS</p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/5bb973bcf6eefcfd36fdedbc1a34a75e.png\" alt=\"\"></p>\n<p>-XX:+UseConcMarkSweepGC CMSCMS-FGC</p>\n<blockquote>\n<p>-XX:+UseCMSCompactAtFullCollection</p>\n</blockquote>\n<p>-XX:CMSInitiatingOccupancyFraction=80 Old80%CMS GCHotSpot VM</p>\n<p>-XX:+UseCMSInitiatingOccupancyOnly JVMCMSJVMCMSInitiatingOccupancyFractionCMS</p>\n<p>-XX:+CMSClassUnloadingEnabled CMS-XX:+CMSClassUnloadingEnabledJVM-XX:+CMSPermGenSweepingEnabledFull GC<br>CMS<a href=\"http://ifeve.com/useful-jvm-flags-part-7-cms-collector/\" target=\"_blank\" rel=\"noopener\">http://ifeve.com/useful-jvm-flags-part-7-cms-collector/</a></p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/aa638667a77acf42f9f8f2f9f96fe781.png\" alt=\"\"></p>\n<p>OldFGCFGCOutOfMemory</p>\n","site":{"data":{}},"excerpt":"","more":"<p><a href=\"https://github.com/kittylyst/jfx-mem\" target=\"_blank\" rel=\"noopener\">https://github.com/kittylyst/jfx-mem</a> JavaGC</p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/a2b296390844a629bc3a17c120dccb55.png\" alt=\"\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>IDEAApplication</p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/1ea51c9fd021f3717bd4060c084e6809.png\" alt=\"\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>edenTLABThread Local Allocation Bufferedeneden survivoroldHeapedenservivorYoung GenedenYGCedensurvivorsurvivor2fromtoEdenEdenYong GCEdenFromToYong GCEdenToFromYong GCFromToOld GenerationOld GenerationFull GCYong Generation  Old Generation Full GCFull GCFull GCstop the world </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>Old-- </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h5 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"1. \"></a>1. </h5><p></p>\n<h5 id=\"2--\"><a href=\"#2--\" class=\"headerlink\" title=\"2. -\"></a>2. -</h5><p>500M100MFGC</p>\n<h5 id=\"3--\"><a href=\"#3--\" class=\"headerlink\" title=\"3. -\"></a>3. -</h5><p></p>\n<p>YGCYGCEdenFromToEdenToFrom</p>\n<p>GCGC</p>\n<ul>\n<li>GCGCSerial GCGCParallel ScavengeGCParNew</li>\n<li>GCGCSerial MSCGCParallel MSCGCCMS</li>\n</ul>\n<p>GC YGCFGCGC</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>UseSerialGC</td>\n<td>ClientSerial+Serial Old</td>\n</tr>\n<tr>\n<td>UseParNewGC</td>\n<td>ParNew+Serial Old</td>\n</tr>\n<tr>\n<td>UseConcMarkSweepGC</td>\n<td>ParNew+CMS+Serial OldSerial OldCMSConcurrent Mode Failure</td>\n</tr>\n<tr>\n<td>UseParallelGC</td>\n<td>ServerParallel Scavenge+Serial Old</td>\n</tr>\n<tr>\n<td>UseParallelOldGC</td>\n<td>Parallel Scavenge+Parallel Old</td>\n</tr>\n</tbody>\n</table>\n<p>jvmCMS</p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/5bb973bcf6eefcfd36fdedbc1a34a75e.png\" alt=\"\"></p>\n<p>-XX:+UseConcMarkSweepGC CMSCMS-FGC</p>\n<blockquote>\n<p>-XX:+UseCMSCompactAtFullCollection</p>\n</blockquote>\n<p>-XX:CMSInitiatingOccupancyFraction=80 Old80%CMS GCHotSpot VM</p>\n<p>-XX:+UseCMSInitiatingOccupancyOnly JVMCMSJVMCMSInitiatingOccupancyFractionCMS</p>\n<p>-XX:+CMSClassUnloadingEnabled CMS-XX:+CMSClassUnloadingEnabledJVM-XX:+CMSPermGenSweepingEnabledFull GC<br>CMS<a href=\"http://ifeve.com/useful-jvm-flags-part-7-cms-collector/\" target=\"_blank\" rel=\"noopener\">http://ifeve.com/useful-jvm-flags-part-7-cms-collector/</a></p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/aa638667a77acf42f9f8f2f9f96fe781.png\" alt=\"\"></p>\n<p>OldFGCFGCOutOfMemory</p>\n"},{"layout":"post","title":"Java ","description":null,"keywords":"singleton ","date":"2015-06-01T16:00:00.000Z","_content":"\n#### \n\n\n```java\npublic class Singleton {  \nprivate Singleton(){}  \nprivate static final Singleton instance = new Singleton();  \npublic static Singleton getInstance() {\nreturn instance; \n}\n}\n```\n\n#### \n\n\n```java\npublic class Singleton {   \nprivate static Singleton instance = null;  \npublic static synchronized Singleton getInstance() {\nif (instance == null)\ninstance  new Singleton();\nreturn instance; \n}   \n}\n```\n\n#### \n\n```java\npublic class Singleton {   \nprivate static volatile Singleton instance = null;  \npublic static Singleton getInstance() {\nif (instance == null) {\nsynchronized (Singleton.class) {\nif (instance == null) {\ninstance  new Singleton();\n}\n}\n}\nreturn instance; \n}   \n}\n```\n\n synchronized ,, \n\n#### \n\n\n```java\npublic class Singleton {   \nprivate static class Holder {\n  static final Singleton instance = new Singleton();\n}  \n\npublic static Singleton getInstance() {\nreturn Holder.instance; \n}   \n}\n```\n\n\n","source":"_posts/Java/2015-06-02-java-singleton-four-method.md","raw":"---\nlayout: post\ntitle: Java \ncategories: Java\ndescription:\nkeywords: singleton \ndate: 2015-06-02\n---\n\n#### \n\n\n```java\npublic class Singleton {  \nprivate Singleton(){}  \nprivate static final Singleton instance = new Singleton();  \npublic static Singleton getInstance() {\nreturn instance; \n}\n}\n```\n\n#### \n\n\n```java\npublic class Singleton {   \nprivate static Singleton instance = null;  \npublic static synchronized Singleton getInstance() {\nif (instance == null)\ninstance  new Singleton();\nreturn instance; \n}   \n}\n```\n\n#### \n\n```java\npublic class Singleton {   \nprivate static volatile Singleton instance = null;  \npublic static Singleton getInstance() {\nif (instance == null) {\nsynchronized (Singleton.class) {\nif (instance == null) {\ninstance  new Singleton();\n}\n}\n}\nreturn instance; \n}   \n}\n```\n\n synchronized ,, \n\n#### \n\n\n```java\npublic class Singleton {   \nprivate static class Holder {\n  static final Singleton instance = new Singleton();\n}  \n\npublic static Singleton getInstance() {\nreturn Holder.instance; \n}   \n}\n```\n\n\n","slug":"Java/2015-06-02-java-singleton-four-method","published":1,"updated":"2018-11-10T08:59:09.798Z","comments":1,"photos":[],"link":"","_id":"cjtohbk7t000w6f12js15xpfd","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Singleton</span> </span>&#123;  </span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> <span class=\"title\">Singleton</span><span class=\"params\">()</span></span>&#123;&#125;  </span><br><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> Singleton instance = <span class=\"keyword\">new</span> Singleton();  </span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> Singleton <span class=\"title\">getInstance</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\"><span class=\"keyword\">return</span> instance; </span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Singleton</span> </span>&#123;   </span><br><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> Singleton instance = <span class=\"keyword\">null</span>;  </span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">synchronized</span> Singleton <span class=\"title\">getInstance</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\"><span class=\"keyword\">if</span> (instance == <span class=\"keyword\">null</span>)</span><br><span class=\"line\">instance  <span class=\"keyword\">new</span> Singleton();</span><br><span class=\"line\"><span class=\"keyword\">return</span> instance; </span><br><span class=\"line\">&#125;   </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Singleton</span> </span>&#123;   </span><br><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">volatile</span> Singleton instance = <span class=\"keyword\">null</span>;  </span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> Singleton <span class=\"title\">getInstance</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\"><span class=\"keyword\">if</span> (instance == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\"><span class=\"keyword\">synchronized</span> (Singleton.class) &#123;</span><br><span class=\"line\"><span class=\"keyword\">if</span> (instance == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">instance  <span class=\"keyword\">new</span> Singleton();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">return</span> instance; </span><br><span class=\"line\">&#125;   </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p> synchronized ,, </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Singleton</span> </span>&#123;   </span><br><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Holder</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> Singleton instance = <span class=\"keyword\">new</span> Singleton();</span><br><span class=\"line\">&#125;  </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> Singleton <span class=\"title\">getInstance</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\"><span class=\"keyword\">return</span> Holder.instance; </span><br><span class=\"line\">&#125;   </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Singleton</span> </span>&#123;  </span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> <span class=\"title\">Singleton</span><span class=\"params\">()</span></span>&#123;&#125;  </span><br><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> Singleton instance = <span class=\"keyword\">new</span> Singleton();  </span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> Singleton <span class=\"title\">getInstance</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\"><span class=\"keyword\">return</span> instance; </span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Singleton</span> </span>&#123;   </span><br><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> Singleton instance = <span class=\"keyword\">null</span>;  </span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">synchronized</span> Singleton <span class=\"title\">getInstance</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\"><span class=\"keyword\">if</span> (instance == <span class=\"keyword\">null</span>)</span><br><span class=\"line\">instance  <span class=\"keyword\">new</span> Singleton();</span><br><span class=\"line\"><span class=\"keyword\">return</span> instance; </span><br><span class=\"line\">&#125;   </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Singleton</span> </span>&#123;   </span><br><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">volatile</span> Singleton instance = <span class=\"keyword\">null</span>;  </span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> Singleton <span class=\"title\">getInstance</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\"><span class=\"keyword\">if</span> (instance == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\"><span class=\"keyword\">synchronized</span> (Singleton.class) &#123;</span><br><span class=\"line\"><span class=\"keyword\">if</span> (instance == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">instance  <span class=\"keyword\">new</span> Singleton();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">return</span> instance; </span><br><span class=\"line\">&#125;   </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p> synchronized ,, </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Singleton</span> </span>&#123;   </span><br><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Holder</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> Singleton instance = <span class=\"keyword\">new</span> Singleton();</span><br><span class=\"line\">&#125;  </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> Singleton <span class=\"title\">getInstance</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\"><span class=\"keyword\">return</span> Holder.instance; </span><br><span class=\"line\">&#125;   </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n"},{"layout":"post","title":"SimpleDateFormat ","description":null,"keywords":"simpleDateFormat ","date":"2016-03-09T16:00:00.000Z","_content":"SimpleDateFormat\n\n![](/images/posts/20160310/7BCC9F9B-0535-48BC-B247-3A13DFC9C60E.png)\n\nSimpleDateFormat\n\nSimpleDateFormatDateFormat,DateFormatprotected CalendarcalendarCalendarJdk\n\nSimpleDateFormatformatparse\n\n#### format\n\n![](/images/posts/20160310/simpledataformat-format.png)\n\ndatecalendarcalendarformatdatecalendarcalendarcalendarsubFormat\n\n#### parse\nparsejava.text.CalendarBuilder.establishcalendar DatecalendarCalendar#clear()calendarcalendarcalendartime\n\n![](/images/posts/20160310/5C6ED2A3-C1DF-4937-8C59-A03C73582185.png)\n\ncalendarAcalendarclear(),B\n\n#### \nSimpleDateFormatcalendarcalendar\n\n#### SimpleDateFormat\n1. SimpleDateFormat\n2. parseformatSimpleDateFormat\n3. ThreadLocal\n4. Apache commonsFastDateFormat  Joda-Time\n\nUtil\n\n\n```java\n/**\n * <p>\n * SimpleDateFormat\n * </p>\n * Date: 16/3/10\n * Time: 3:38\n */\npublic final class DateUtil {\n\n    private static final Logger logger = LoggerFactory.getLogger(DateUtil.class);\n    public static final String DEF_PATTERN = \"yyyy-MM-dd HH:mm:ss\";//\n    public static final String DATE_PATTERN = \"yyyy-MM-dd\";//\n    //\n    public static final Date START_NULL_DATE = parseDate(\"1970-01-01 08:00:00\", DATE_PATTERN);\n\n    private static final ThreadLocal<Map<String/**pattern**/, DateFormat>> threadLocal = new ThreadLocal<Map<String, DateFormat>>() {\n        @Override\n        protected Map<String, DateFormat> initialValue() {\n            return new HashMap<String, DateFormat>();\n        }\n    };\n\n\n    /**\n     * DateFormat\n     *\n     * @param pattern\n     * @return\n     */\n    private static DateFormat getDateFormat(String pattern) {\n        DateFormat dateFormat = threadLocal.get().get(pattern);\n        if (dateFormat == null) {\n            dateFormat = new SimpleDateFormat(pattern);\n            threadLocal.get().put(pattern, dateFormat);\n        }\n\n        return dateFormat;\n    }\n\n}\n```\n\nRuntimeJVM\n\n\n```java\njava.lang.NoClassDefFoundError: Could not initialize class com.xxxx.vender.util.DateUtil\n```\n\nThreadLocalThreadLocalstaticDateUtilNPEThreadLocalSTART_NULL_DATE,START_NULL_DATEthreadLocalNPEjava.lang.NoClassDefFoundErrorNPE\n\n \n\n#### java.lang.NoClassDefFoundError\nNoClassDefFoundErrorJVMclasspathjava.lang.NoClassDefFoundError\n\n\n\n[http://blog.csdn.net/jamesjxin/article/details/46606307](http://blog.csdn.net/jamesjxin/article/details/46606307)\n\n","source":"_posts/Java/2016-03-10-simpledateformat.md","raw":"---\nlayout: post\ntitle: SimpleDateFormat \ncategories: Java\ndescription:\nkeywords: simpleDateFormat \ndate: 2016-03-10\n---\nSimpleDateFormat\n\n![](/images/posts/20160310/7BCC9F9B-0535-48BC-B247-3A13DFC9C60E.png)\n\nSimpleDateFormat\n\nSimpleDateFormatDateFormat,DateFormatprotected CalendarcalendarCalendarJdk\n\nSimpleDateFormatformatparse\n\n#### format\n\n![](/images/posts/20160310/simpledataformat-format.png)\n\ndatecalendarcalendarformatdatecalendarcalendarcalendarsubFormat\n\n#### parse\nparsejava.text.CalendarBuilder.establishcalendar DatecalendarCalendar#clear()calendarcalendarcalendartime\n\n![](/images/posts/20160310/5C6ED2A3-C1DF-4937-8C59-A03C73582185.png)\n\ncalendarAcalendarclear(),B\n\n#### \nSimpleDateFormatcalendarcalendar\n\n#### SimpleDateFormat\n1. SimpleDateFormat\n2. parseformatSimpleDateFormat\n3. ThreadLocal\n4. Apache commonsFastDateFormat  Joda-Time\n\nUtil\n\n\n```java\n/**\n * <p>\n * SimpleDateFormat\n * </p>\n * Date: 16/3/10\n * Time: 3:38\n */\npublic final class DateUtil {\n\n    private static final Logger logger = LoggerFactory.getLogger(DateUtil.class);\n    public static final String DEF_PATTERN = \"yyyy-MM-dd HH:mm:ss\";//\n    public static final String DATE_PATTERN = \"yyyy-MM-dd\";//\n    //\n    public static final Date START_NULL_DATE = parseDate(\"1970-01-01 08:00:00\", DATE_PATTERN);\n\n    private static final ThreadLocal<Map<String/**pattern**/, DateFormat>> threadLocal = new ThreadLocal<Map<String, DateFormat>>() {\n        @Override\n        protected Map<String, DateFormat> initialValue() {\n            return new HashMap<String, DateFormat>();\n        }\n    };\n\n\n    /**\n     * DateFormat\n     *\n     * @param pattern\n     * @return\n     */\n    private static DateFormat getDateFormat(String pattern) {\n        DateFormat dateFormat = threadLocal.get().get(pattern);\n        if (dateFormat == null) {\n            dateFormat = new SimpleDateFormat(pattern);\n            threadLocal.get().put(pattern, dateFormat);\n        }\n\n        return dateFormat;\n    }\n\n}\n```\n\nRuntimeJVM\n\n\n```java\njava.lang.NoClassDefFoundError: Could not initialize class com.xxxx.vender.util.DateUtil\n```\n\nThreadLocalThreadLocalstaticDateUtilNPEThreadLocalSTART_NULL_DATE,START_NULL_DATEthreadLocalNPEjava.lang.NoClassDefFoundErrorNPE\n\n \n\n#### java.lang.NoClassDefFoundError\nNoClassDefFoundErrorJVMclasspathjava.lang.NoClassDefFoundError\n\n\n\n[http://blog.csdn.net/jamesjxin/article/details/46606307](http://blog.csdn.net/jamesjxin/article/details/46606307)\n\n","slug":"Java/2016-03-10-simpledateformat","published":1,"updated":"2018-11-10T08:59:09.798Z","comments":1,"photos":[],"link":"","_id":"cjtohbk7u000y6f12cj8vbhok","content":"<p>SimpleDateFormat</p>\n<p><img src=\"/images/posts/20160310/7BCC9F9B-0535-48BC-B247-3A13DFC9C60E.png\" alt=\"\"></p>\n<p>SimpleDateFormat</p>\n<p>SimpleDateFormatDateFormat,DateFormatprotected CalendarcalendarCalendarJdk</p>\n<p>SimpleDateFormatformatparse</p>\n<h4 id=\"format\"><a href=\"#format\" class=\"headerlink\" title=\"format\"></a>format</h4><p><img src=\"/images/posts/20160310/simpledataformat-format.png\" alt=\"\"></p>\n<p>datecalendarcalendarformatdatecalendarcalendarcalendarsubFormat</p>\n<h4 id=\"parse\"><a href=\"#parse\" class=\"headerlink\" title=\"parse\"></a>parse</h4><p>parsejava.text.CalendarBuilder.establishcalendar DatecalendarCalendar#clear()calendarcalendarcalendartime</p>\n<p><img src=\"/images/posts/20160310/5C6ED2A3-C1DF-4937-8C59-A03C73582185.png\" alt=\"\"></p>\n<p>calendarAcalendarclear(),B</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>SimpleDateFormatcalendarcalendar</p>\n<h4 id=\"SimpleDateFormat\"><a href=\"#SimpleDateFormat\" class=\"headerlink\" title=\"SimpleDateFormat\"></a>SimpleDateFormat</h4><ol>\n<li>SimpleDateFormat</li>\n<li>parseformatSimpleDateFormat</li>\n<li>ThreadLocal</li>\n<li>Apache commonsFastDateFormat  Joda-Time</li>\n</ol>\n<p>Util</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * &lt;p&gt;</span></span><br><span class=\"line\"><span class=\"comment\"> * SimpleDateFormat</span></span><br><span class=\"line\"><span class=\"comment\"> * &lt;/p&gt;</span></span><br><span class=\"line\"><span class=\"comment\"> * Date: 16/3/10</span></span><br><span class=\"line\"><span class=\"comment\"> * Time: 3:38</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">final</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DateUtil</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> Logger logger = LoggerFactory.getLogger(DateUtil.class);</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> String DEF_PATTERN = <span class=\"string\">\"yyyy-MM-dd HH:mm:ss\"</span>;<span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> String DATE_PATTERN = <span class=\"string\">\"yyyy-MM-dd\"</span>;<span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> Date START_NULL_DATE = parseDate(<span class=\"string\">\"1970-01-01 08:00:00\"</span>, DATE_PATTERN);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> ThreadLocal&lt;Map&lt;String<span class=\"comment\">/**pattern**/</span>, DateFormat&gt;&gt; threadLocal = <span class=\"keyword\">new</span> ThreadLocal&lt;Map&lt;String, DateFormat&gt;&gt;() &#123;</span><br><span class=\"line\">        <span class=\"meta\">@Override</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">protected</span> Map&lt;String, DateFormat&gt; <span class=\"title\">initialValue</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> HashMap&lt;String, DateFormat&gt;();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * DateFormat</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> pattern</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span></span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> DateFormat <span class=\"title\">getDateFormat</span><span class=\"params\">(String pattern)</span> </span>&#123;</span><br><span class=\"line\">        DateFormat dateFormat = threadLocal.get().get(pattern);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (dateFormat == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            dateFormat = <span class=\"keyword\">new</span> SimpleDateFormat(pattern);</span><br><span class=\"line\">            threadLocal.get().put(pattern, dateFormat);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> dateFormat;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>RuntimeJVM</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">java.lang.NoClassDefFoundError: Could not initialize <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">com</span>.<span class=\"title\">xxxx</span>.<span class=\"title\">vender</span>.<span class=\"title\">util</span>.<span class=\"title\">DateUtil</span></span></span><br></pre></td></tr></table></figure>\n<p>ThreadLocalThreadLocalstaticDateUtilNPEThreadLocalSTART_NULL_DATE,START_NULL_DATEthreadLocalNPEjava.lang.NoClassDefFoundErrorNPE</p>\n<h4 id=\"java-lang-NoClassDefFoundError\"><a href=\"#java-lang-NoClassDefFoundError\" class=\"headerlink\" title=\"java.lang.NoClassDefFoundError\"></a>java.lang.NoClassDefFoundError</h4><p>NoClassDefFoundErrorJVMclasspathjava.lang.NoClassDefFoundError</p>\n<p></p>\n<p><a href=\"http://blog.csdn.net/jamesjxin/article/details/46606307\" target=\"_blank\" rel=\"noopener\">http://blog.csdn.net/jamesjxin/article/details/46606307</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p>SimpleDateFormat</p>\n<p><img src=\"/images/posts/20160310/7BCC9F9B-0535-48BC-B247-3A13DFC9C60E.png\" alt=\"\"></p>\n<p>SimpleDateFormat</p>\n<p>SimpleDateFormatDateFormat,DateFormatprotected CalendarcalendarCalendarJdk</p>\n<p>SimpleDateFormatformatparse</p>\n<h4 id=\"format\"><a href=\"#format\" class=\"headerlink\" title=\"format\"></a>format</h4><p><img src=\"/images/posts/20160310/simpledataformat-format.png\" alt=\"\"></p>\n<p>datecalendarcalendarformatdatecalendarcalendarcalendarsubFormat</p>\n<h4 id=\"parse\"><a href=\"#parse\" class=\"headerlink\" title=\"parse\"></a>parse</h4><p>parsejava.text.CalendarBuilder.establishcalendar DatecalendarCalendar#clear()calendarcalendarcalendartime</p>\n<p><img src=\"/images/posts/20160310/5C6ED2A3-C1DF-4937-8C59-A03C73582185.png\" alt=\"\"></p>\n<p>calendarAcalendarclear(),B</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>SimpleDateFormatcalendarcalendar</p>\n<h4 id=\"SimpleDateFormat\"><a href=\"#SimpleDateFormat\" class=\"headerlink\" title=\"SimpleDateFormat\"></a>SimpleDateFormat</h4><ol>\n<li>SimpleDateFormat</li>\n<li>parseformatSimpleDateFormat</li>\n<li>ThreadLocal</li>\n<li>Apache commonsFastDateFormat  Joda-Time</li>\n</ol>\n<p>Util</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * &lt;p&gt;</span></span><br><span class=\"line\"><span class=\"comment\"> * SimpleDateFormat</span></span><br><span class=\"line\"><span class=\"comment\"> * &lt;/p&gt;</span></span><br><span class=\"line\"><span class=\"comment\"> * Date: 16/3/10</span></span><br><span class=\"line\"><span class=\"comment\"> * Time: 3:38</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">final</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DateUtil</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> Logger logger = LoggerFactory.getLogger(DateUtil.class);</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> String DEF_PATTERN = <span class=\"string\">\"yyyy-MM-dd HH:mm:ss\"</span>;<span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> String DATE_PATTERN = <span class=\"string\">\"yyyy-MM-dd\"</span>;<span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> Date START_NULL_DATE = parseDate(<span class=\"string\">\"1970-01-01 08:00:00\"</span>, DATE_PATTERN);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> ThreadLocal&lt;Map&lt;String<span class=\"comment\">/**pattern**/</span>, DateFormat&gt;&gt; threadLocal = <span class=\"keyword\">new</span> ThreadLocal&lt;Map&lt;String, DateFormat&gt;&gt;() &#123;</span><br><span class=\"line\">        <span class=\"meta\">@Override</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">protected</span> Map&lt;String, DateFormat&gt; <span class=\"title\">initialValue</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> HashMap&lt;String, DateFormat&gt;();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * DateFormat</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> pattern</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span></span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> DateFormat <span class=\"title\">getDateFormat</span><span class=\"params\">(String pattern)</span> </span>&#123;</span><br><span class=\"line\">        DateFormat dateFormat = threadLocal.get().get(pattern);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (dateFormat == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            dateFormat = <span class=\"keyword\">new</span> SimpleDateFormat(pattern);</span><br><span class=\"line\">            threadLocal.get().put(pattern, dateFormat);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> dateFormat;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>RuntimeJVM</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">java.lang.NoClassDefFoundError: Could not initialize <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">com</span>.<span class=\"title\">xxxx</span>.<span class=\"title\">vender</span>.<span class=\"title\">util</span>.<span class=\"title\">DateUtil</span></span></span><br></pre></td></tr></table></figure>\n<p>ThreadLocalThreadLocalstaticDateUtilNPEThreadLocalSTART_NULL_DATE,START_NULL_DATEthreadLocalNPEjava.lang.NoClassDefFoundErrorNPE</p>\n<h4 id=\"java-lang-NoClassDefFoundError\"><a href=\"#java-lang-NoClassDefFoundError\" class=\"headerlink\" title=\"java.lang.NoClassDefFoundError\"></a>java.lang.NoClassDefFoundError</h4><p>NoClassDefFoundErrorJVMclasspathjava.lang.NoClassDefFoundError</p>\n<p></p>\n<p><a href=\"http://blog.csdn.net/jamesjxin/article/details/46606307\" target=\"_blank\" rel=\"noopener\">http://blog.csdn.net/jamesjxin/article/details/46606307</a></p>\n"},{"layout":"post","title":"JVMuse Or read-load-use","description":null,"keywords":"jvm ","date":"2016-05-04T16:00:00.000Z","_content":"\n> \nshareVar1 shareVar2shareVar1\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/85bf0b2656136362bbe81ace0ae8c981.png?zoom=2)\n\n\n\n\n```java\npublic class StaticVarVisibility {\n\n    public static boolean shareVar = true;\n\n    public static void main(String[] args) {\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                int i = 0;\n                //JVMuseread-load-use\n                while (shareVar) {\n                    i++;\n                    //1000new Object();\n                    //synchronized (this) { } ?isuseread-load-use\n                    //System.out.println(i); //println synchronized \n                    //try {\n                    //sleepCPUJVMCPU\n                    //TimeUnit.MICROSECONDS.sleep(1);\n                    //} catch (InterruptedException e) {\n                    //}\n                }\n            }\n        }).start();\n\n        try {\n            TimeUnit.SECONDS.sleep(1);\n        } catch (InterruptedException e) {\n        }\n\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                shareVar = false;  //shareVarfalsewhile\n            }\n        }).start();\n    }\n}\n```\n\n#### \n1i++2shareVarfalse1\n\n1synchronizedsleep1shareVar\n#### \nstaticstatic1\n\nJVM1shareVaruseread-load-usesleepsynchronizedcpushareVarjvmuseread-load-use\n\nshareVarvolatilejvmread-load-use\n#### \n  JVMuseread-load-use volatile\n\n","source":"_posts/Java/2016-05-05-mem-visiable.md","raw":"---\nlayout: post\ntitle: JVMuse Or read-load-use\ncategories: Java\ndescription:\nkeywords: jvm \ndate: 2016-05-05\n---\n\n> \nshareVar1 shareVar2shareVar1\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/85bf0b2656136362bbe81ace0ae8c981.png?zoom=2)\n\n\n\n\n```java\npublic class StaticVarVisibility {\n\n    public static boolean shareVar = true;\n\n    public static void main(String[] args) {\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                int i = 0;\n                //JVMuseread-load-use\n                while (shareVar) {\n                    i++;\n                    //1000new Object();\n                    //synchronized (this) { } ?isuseread-load-use\n                    //System.out.println(i); //println synchronized \n                    //try {\n                    //sleepCPUJVMCPU\n                    //TimeUnit.MICROSECONDS.sleep(1);\n                    //} catch (InterruptedException e) {\n                    //}\n                }\n            }\n        }).start();\n\n        try {\n            TimeUnit.SECONDS.sleep(1);\n        } catch (InterruptedException e) {\n        }\n\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                shareVar = false;  //shareVarfalsewhile\n            }\n        }).start();\n    }\n}\n```\n\n#### \n1i++2shareVarfalse1\n\n1synchronizedsleep1shareVar\n#### \nstaticstatic1\n\nJVM1shareVaruseread-load-usesleepsynchronizedcpushareVarjvmuseread-load-use\n\nshareVarvolatilejvmread-load-use\n#### \n  JVMuseread-load-use volatile\n\n","slug":"Java/2016-05-05-mem-visiable","published":1,"updated":"2018-11-10T08:59:09.798Z","comments":1,"photos":[],"link":"","_id":"cjtohbk7v00116f127b7v7qgs","content":"<blockquote>\n<p><br>shareVar1 shareVar2shareVar1</p>\n</blockquote>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/85bf0b2656136362bbe81ace0ae8c981.png?zoom=2\" alt=\"\"></p>\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">StaticVarVisibility</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">boolean</span> shareVar = <span class=\"keyword\">true</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">new</span> Thread(<span class=\"keyword\">new</span> Runnable() &#123;</span><br><span class=\"line\">            <span class=\"meta\">@Override</span></span><br><span class=\"line\">            <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">run</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">                <span class=\"keyword\">int</span> i = <span class=\"number\">0</span>;</span><br><span class=\"line\">                <span class=\"comment\">//JVMuseread-load-use</span></span><br><span class=\"line\">                <span class=\"keyword\">while</span> (shareVar) &#123;</span><br><span class=\"line\">                    i++;</span><br><span class=\"line\">                    <span class=\"comment\">//1000new Object();</span></span><br><span class=\"line\">                    <span class=\"comment\">//synchronized (this) &#123; &#125; ?isuseread-load-use</span></span><br><span class=\"line\">                    <span class=\"comment\">//System.out.println(i); //println synchronized </span></span><br><span class=\"line\">                    <span class=\"comment\">//try &#123;</span></span><br><span class=\"line\">                    <span class=\"comment\">//sleepCPUJVMCPU</span></span><br><span class=\"line\">                    <span class=\"comment\">//TimeUnit.MICROSECONDS.sleep(1);</span></span><br><span class=\"line\">                    <span class=\"comment\">//&#125; catch (InterruptedException e) &#123;</span></span><br><span class=\"line\">                    <span class=\"comment\">//&#125;</span></span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;).start();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            TimeUnit.SECONDS.sleep(<span class=\"number\">1</span>);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (InterruptedException e) &#123;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">new</span> Thread(<span class=\"keyword\">new</span> Runnable() &#123;</span><br><span class=\"line\">            <span class=\"meta\">@Override</span></span><br><span class=\"line\">            <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">run</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">                shareVar = <span class=\"keyword\">false</span>;  <span class=\"comment\">//shareVarfalsewhile</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;).start();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>1i++2shareVarfalse1</p>\n<p>1synchronizedsleep1shareVar</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>staticstatic1</p>\n<p>JVM1shareVaruseread-load-usesleepsynchronizedcpushareVarjvmuseread-load-use</p>\n<p>shareVarvolatilejvmread-load-use</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>  JVMuseread-load-use volatile</p>\n","site":{"data":{}},"excerpt":"","more":"<blockquote>\n<p><br>shareVar1 shareVar2shareVar1</p>\n</blockquote>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/85bf0b2656136362bbe81ace0ae8c981.png?zoom=2\" alt=\"\"></p>\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">StaticVarVisibility</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">boolean</span> shareVar = <span class=\"keyword\">true</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">new</span> Thread(<span class=\"keyword\">new</span> Runnable() &#123;</span><br><span class=\"line\">            <span class=\"meta\">@Override</span></span><br><span class=\"line\">            <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">run</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">                <span class=\"keyword\">int</span> i = <span class=\"number\">0</span>;</span><br><span class=\"line\">                <span class=\"comment\">//JVMuseread-load-use</span></span><br><span class=\"line\">                <span class=\"keyword\">while</span> (shareVar) &#123;</span><br><span class=\"line\">                    i++;</span><br><span class=\"line\">                    <span class=\"comment\">//1000new Object();</span></span><br><span class=\"line\">                    <span class=\"comment\">//synchronized (this) &#123; &#125; ?isuseread-load-use</span></span><br><span class=\"line\">                    <span class=\"comment\">//System.out.println(i); //println synchronized </span></span><br><span class=\"line\">                    <span class=\"comment\">//try &#123;</span></span><br><span class=\"line\">                    <span class=\"comment\">//sleepCPUJVMCPU</span></span><br><span class=\"line\">                    <span class=\"comment\">//TimeUnit.MICROSECONDS.sleep(1);</span></span><br><span class=\"line\">                    <span class=\"comment\">//&#125; catch (InterruptedException e) &#123;</span></span><br><span class=\"line\">                    <span class=\"comment\">//&#125;</span></span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;).start();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            TimeUnit.SECONDS.sleep(<span class=\"number\">1</span>);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (InterruptedException e) &#123;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">new</span> Thread(<span class=\"keyword\">new</span> Runnable() &#123;</span><br><span class=\"line\">            <span class=\"meta\">@Override</span></span><br><span class=\"line\">            <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">run</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">                shareVar = <span class=\"keyword\">false</span>;  <span class=\"comment\">//shareVarfalsewhile</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;).start();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>1i++2shareVarfalse1</p>\n<p>1synchronizedsleep1shareVar</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>staticstatic1</p>\n<p>JVM1shareVaruseread-load-usesleepsynchronizedcpushareVarjvmuseread-load-use</p>\n<p>shareVarvolatilejvmread-load-use</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>  JVMuseread-load-use volatile</p>\n"},{"layout":"post","title":"Dubbo","description":null,"keywords":"dubbo timeout ","date":"2016-05-02T16:00:00.000Z","_content":"\n>\n\n\n\n\n```java\nCaused by: com.alibaba.dubbo.remoting.TimeoutException: Waiting server-side response timeout. \nstart time: 2016-05-03 15:45:29.514, end time: 2016-05-03 15:45:35.771, client elapsed: 0 ms, \nserver elapsed: 6257 ms, timeout: 1000 ms, request: Request [id=288854, version=2.0.0, twoway\n=true, event=false, broken=false, data=RpcInvocation [methodName=getItemInfoListForOrder, par\nameterTypes=[interface java.util.List], arguments=[[xxx, xxx, xxx, xxx, xxx, xxx, xxx,\n xxx, xxx, xxx]], attachments={id=xxx, input=xxx, path=\n```\n\n## :\n\nAPIDubboRDS\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/2583a7eee58bc603641dd69762c072f5.png?zoom=2)\n\n15480(480)dbdbiops\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/35f8ad8500739b5ff44ea28f054c2db0.png?zoom=2)\n\nrdssqldbiops\n\ndbsleep200,sqlmysqliops\n\njstack wait\n\n\n```shell\n[admin@order2.hz /home/admin]$grep 'java.lang.Thread.State:' 17116.jstack |\nawk '{FS=\":\"} {print $2}'|awk '{print $1}' |sort |uniq -c\n     18 RUNNABLE\n    147 TIMED_WAITING\n    662 WAITING\n```\n\nblocked Locked ownable synchronizers:  None \nMysql200Sleep\n**java.lang.OutOfMemoryError: Java heap space **GC5sFullGC\n\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/b8986c22adbd6ebf3296e803f04a32de.png?zoom=2)\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/bd6226fb951d4dbd1cdb5b0cee0416b8.png?zoom=2)\n\nSQLquery3W30M1003GJVM2Gdubbo\n\n Unable to create new native thread\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/fa8b9a68b8d1d2e556950b05f9f9d5a3.png?zoom=2)\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/af92db0be6556aae1394fbc6433dd842.png?zoom=2)\n\nLinux\n\n\n```shell\n[admin@order1.hz /home/admin]$cat /proc/sys/kernel/threads-max\n```\n\n60949 \nulimit  shell Shell CPU Shell \n\n\n```shell\n[admin@order1.hz /home/admin]$ulimit -a\ncore file size          (blocks, -c) 0\ndata seg size           (kbytes, -d) unlimited\nscheduling priority             (-e) 0\nfile size               (blocks, -f) unlimited\npending signals                 (-i) 30474\nmax locked memory       (kbytes, -l) 64\nmax memory size         (kbytes, -m) unlimited\nopen files                      (-n) 65535\npipe size            (512 bytes, -p) 8\nPOSIX message queues     (bytes, -q) 819200\nreal-time priority              (-r) 0\nstack size              (kbytes, -s) 10240\ncpu time               (seconds, -t) unlimited\nmax user processes              (-u) 1024\nvirtual memory          (kbytes, -v) unlimited\nfile locks                      (-x) unlimited\n```\n\nmax user processes Linux1024JVM\nJvmjdk7-Xms2g -Xmx2g  Xssthe stack size for each threadJVM(Xmx)(Xss)ulimit -u,[JVMThread](http://jzhihui.iteye.com/blog/1271122)\n\nXss1M[1](http://hg.openjdk.java.net/jdk7u/jdk7u/hotspot/file/2cd3690f644c/src/os_cpu/linux_x86/vm/globals_linux_x86.hpp#l32) [2](http://hg.openjdk.java.net/jdk7u/jdk7u/hotspot/file/2cd3690f644c/src/os_cpu/linux_x86/vm/os_linux_x86.cpp#l654)ulimit -s10Mpthread_createHotSpot VMJavaprimordial threadJava\n\n[What the difference between -Xss and -XX:ThreadStackSize is?](http://mail.openjdk.java.net/pipermail/hotspot-dev/2011-June/004272.html)\n\n[Inconsistency between -Xss and -XX:ThreadStackSize in the java launcher](http://mail.openjdk.java.net/pipermail/hotspot-dev/2011-July/004288.html)\n\n\n\n>(MaxProcessMemory  JVMMemory  ReservedOsMemory) / (ThreadStackSize) = Number of threads\n\nxmx=2Gxss=1M4G   2G  300M(top) / 1M = 1700  1700ulimit -u 10241024\nJvm\n\n\n```shell\nps -eLf |grep java -c\n```\n\n800ulimit2000\n\n\n## \nFullGCCPUGCjstack\n\n","source":"_posts/Java/2016-05-03-dubbo-timeout.md","raw":"---\nlayout: post\ntitle: Dubbo\ncategories: Java\ndescription:\nkeywords: dubbo timeout \ndate: 2016-05-03\n---\n\n>\n\n\n\n\n```java\nCaused by: com.alibaba.dubbo.remoting.TimeoutException: Waiting server-side response timeout. \nstart time: 2016-05-03 15:45:29.514, end time: 2016-05-03 15:45:35.771, client elapsed: 0 ms, \nserver elapsed: 6257 ms, timeout: 1000 ms, request: Request [id=288854, version=2.0.0, twoway\n=true, event=false, broken=false, data=RpcInvocation [methodName=getItemInfoListForOrder, par\nameterTypes=[interface java.util.List], arguments=[[xxx, xxx, xxx, xxx, xxx, xxx, xxx,\n xxx, xxx, xxx]], attachments={id=xxx, input=xxx, path=\n```\n\n## :\n\nAPIDubboRDS\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/2583a7eee58bc603641dd69762c072f5.png?zoom=2)\n\n15480(480)dbdbiops\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/35f8ad8500739b5ff44ea28f054c2db0.png?zoom=2)\n\nrdssqldbiops\n\ndbsleep200,sqlmysqliops\n\njstack wait\n\n\n```shell\n[admin@order2.hz /home/admin]$grep 'java.lang.Thread.State:' 17116.jstack |\nawk '{FS=\":\"} {print $2}'|awk '{print $1}' |sort |uniq -c\n     18 RUNNABLE\n    147 TIMED_WAITING\n    662 WAITING\n```\n\nblocked Locked ownable synchronizers:  None \nMysql200Sleep\n**java.lang.OutOfMemoryError: Java heap space **GC5sFullGC\n\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/b8986c22adbd6ebf3296e803f04a32de.png?zoom=2)\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/bd6226fb951d4dbd1cdb5b0cee0416b8.png?zoom=2)\n\nSQLquery3W30M1003GJVM2Gdubbo\n\n Unable to create new native thread\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/fa8b9a68b8d1d2e556950b05f9f9d5a3.png?zoom=2)\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/af92db0be6556aae1394fbc6433dd842.png?zoom=2)\n\nLinux\n\n\n```shell\n[admin@order1.hz /home/admin]$cat /proc/sys/kernel/threads-max\n```\n\n60949 \nulimit  shell Shell CPU Shell \n\n\n```shell\n[admin@order1.hz /home/admin]$ulimit -a\ncore file size          (blocks, -c) 0\ndata seg size           (kbytes, -d) unlimited\nscheduling priority             (-e) 0\nfile size               (blocks, -f) unlimited\npending signals                 (-i) 30474\nmax locked memory       (kbytes, -l) 64\nmax memory size         (kbytes, -m) unlimited\nopen files                      (-n) 65535\npipe size            (512 bytes, -p) 8\nPOSIX message queues     (bytes, -q) 819200\nreal-time priority              (-r) 0\nstack size              (kbytes, -s) 10240\ncpu time               (seconds, -t) unlimited\nmax user processes              (-u) 1024\nvirtual memory          (kbytes, -v) unlimited\nfile locks                      (-x) unlimited\n```\n\nmax user processes Linux1024JVM\nJvmjdk7-Xms2g -Xmx2g  Xssthe stack size for each threadJVM(Xmx)(Xss)ulimit -u,[JVMThread](http://jzhihui.iteye.com/blog/1271122)\n\nXss1M[1](http://hg.openjdk.java.net/jdk7u/jdk7u/hotspot/file/2cd3690f644c/src/os_cpu/linux_x86/vm/globals_linux_x86.hpp#l32) [2](http://hg.openjdk.java.net/jdk7u/jdk7u/hotspot/file/2cd3690f644c/src/os_cpu/linux_x86/vm/os_linux_x86.cpp#l654)ulimit -s10Mpthread_createHotSpot VMJavaprimordial threadJava\n\n[What the difference between -Xss and -XX:ThreadStackSize is?](http://mail.openjdk.java.net/pipermail/hotspot-dev/2011-June/004272.html)\n\n[Inconsistency between -Xss and -XX:ThreadStackSize in the java launcher](http://mail.openjdk.java.net/pipermail/hotspot-dev/2011-July/004288.html)\n\n\n\n>(MaxProcessMemory  JVMMemory  ReservedOsMemory) / (ThreadStackSize) = Number of threads\n\nxmx=2Gxss=1M4G   2G  300M(top) / 1M = 1700  1700ulimit -u 10241024\nJvm\n\n\n```shell\nps -eLf |grep java -c\n```\n\n800ulimit2000\n\n\n## \nFullGCCPUGCjstack\n\n","slug":"Java/2016-05-03-dubbo-timeout","published":1,"updated":"2018-11-10T08:59:09.798Z","comments":1,"photos":[],"link":"","_id":"cjtohbk7w00126f12p279ly6b","content":"<blockquote>\n<p></p>\n</blockquote>\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Caused by: com.alibaba.dubbo.remoting.TimeoutException: Waiting server-side response timeout. </span><br><span class=\"line\">start time: <span class=\"number\">2016</span>-<span class=\"number\">05</span>-<span class=\"number\">03</span> <span class=\"number\">15</span>:<span class=\"number\">45</span>:<span class=\"number\">29.514</span>, end time: <span class=\"number\">2016</span>-<span class=\"number\">05</span>-<span class=\"number\">03</span> <span class=\"number\">15</span>:<span class=\"number\">45</span>:<span class=\"number\">35.771</span>, client elapsed: <span class=\"number\">0</span> ms, </span><br><span class=\"line\">server elapsed: <span class=\"number\">6257</span> ms, timeout: <span class=\"number\">1000</span> ms, request: Request [id=<span class=\"number\">288854</span>, version=<span class=\"number\">2.0</span>.0, twoway</span><br><span class=\"line\">=<span class=\"keyword\">true</span>, event=<span class=\"keyword\">false</span>, broken=<span class=\"keyword\">false</span>, data=RpcInvocation [methodName=getItemInfoListForOrder, par</span><br><span class=\"line\">ameterTypes=[interface java.util.List], arguments=[[xxx, xxx, xxx, xxx, xxx, xxx, xxx,</span><br><span class=\"line\"> xxx, xxx, xxx]], attachments=&#123;id=xxx, input=xxx, path=</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\":\"></a>:</h2><p>APIDubboRDS</p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/2583a7eee58bc603641dd69762c072f5.png?zoom=2\" alt=\"\"></p>\n<p>15480(480)dbdbiops</p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/35f8ad8500739b5ff44ea28f054c2db0.png?zoom=2\" alt=\"\"></p>\n<p>rdssqldbiops</p>\n<p>dbsleep200,sqlmysqliops</p>\n<p>jstack wait</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[admin@order2.hz /home/admin]$grep 'java.lang.Thread.State:' 17116.jstack |</span><br><span class=\"line\">awk '&#123;FS=\":\"&#125; &#123;print $2&#125;'|awk '&#123;print $1&#125;' |sort |uniq -c</span><br><span class=\"line\">     18 RUNNABLE</span><br><span class=\"line\">    147 TIMED_WAITING</span><br><span class=\"line\">    662 WAITING</span><br></pre></td></tr></table></figure>\n<p>blocked Locked ownable synchronizers:  None <br>Mysql200Sleep<br><strong>java.lang.OutOfMemoryError: Java heap space </strong>GC5sFullGC<br></p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/b8986c22adbd6ebf3296e803f04a32de.png?zoom=2\" alt=\"\"></p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/bd6226fb951d4dbd1cdb5b0cee0416b8.png?zoom=2\" alt=\"\"></p>\n<p>SQLquery3W30M1003GJVM2Gdubbo</p>\n<p> Unable to create new native thread</p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/fa8b9a68b8d1d2e556950b05f9f9d5a3.png?zoom=2\" alt=\"\"></p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/af92db0be6556aae1394fbc6433dd842.png?zoom=2\" alt=\"\"></p>\n<p>Linux</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[admin@order1.hz /home/admin]$cat /proc/sys/kernel/threads-max</span><br></pre></td></tr></table></figure>\n<p>60949 <br>ulimit  shell Shell CPU Shell </p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[admin@order1.hz /home/admin]$ulimit -a</span><br><span class=\"line\">core file size          (blocks, -c) 0</span><br><span class=\"line\">data seg size           (kbytes, -d) unlimited</span><br><span class=\"line\">scheduling priority             (-e) 0</span><br><span class=\"line\">file size               (blocks, -f) unlimited</span><br><span class=\"line\">pending signals                 (-i) 30474</span><br><span class=\"line\">max locked memory       (kbytes, -l) 64</span><br><span class=\"line\">max memory size         (kbytes, -m) unlimited</span><br><span class=\"line\">open files                      (-n) 65535</span><br><span class=\"line\">pipe size            (512 bytes, -p) 8</span><br><span class=\"line\">POSIX message queues     (bytes, -q) 819200</span><br><span class=\"line\">real-time priority              (-r) 0</span><br><span class=\"line\">stack size              (kbytes, -s) 10240</span><br><span class=\"line\">cpu time               (seconds, -t) unlimited</span><br><span class=\"line\">max user processes              (-u) 1024</span><br><span class=\"line\">virtual memory          (kbytes, -v) unlimited</span><br><span class=\"line\">file locks                      (-x) unlimited</span><br></pre></td></tr></table></figure>\n<p>max user processes Linux1024JVM<br>Jvmjdk7-Xms2g -Xmx2g  Xssthe stack size for each threadJVM(Xmx)(Xss)ulimit -u,<a href=\"http://jzhihui.iteye.com/blog/1271122\" target=\"_blank\" rel=\"noopener\">JVMThread</a></p>\n<p>Xss1M<a href=\"http://hg.openjdk.java.net/jdk7u/jdk7u/hotspot/file/2cd3690f644c/src/os_cpu/linux_x86/vm/globals_linux_x86.hpp#l32\" target=\"_blank\" rel=\"noopener\">1</a> <a href=\"http://hg.openjdk.java.net/jdk7u/jdk7u/hotspot/file/2cd3690f644c/src/os_cpu/linux_x86/vm/os_linux_x86.cpp#l654\" target=\"_blank\" rel=\"noopener\">2</a>ulimit -s10Mpthread_createHotSpot VMJavaprimordial threadJava</p>\n<p><a href=\"http://mail.openjdk.java.net/pipermail/hotspot-dev/2011-June/004272.html\" target=\"_blank\" rel=\"noopener\">What the difference between -Xss and -XX:ThreadStackSize is?</a></p>\n<p><a href=\"http://mail.openjdk.java.net/pipermail/hotspot-dev/2011-July/004288.html\" target=\"_blank\" rel=\"noopener\">Inconsistency between -Xss and -XX:ThreadStackSize in the java launcher</a></p>\n<p></p>\n<blockquote>\n<p>(MaxProcessMemory  JVMMemory  ReservedOsMemory) / (ThreadStackSize) = Number of threads</p>\n</blockquote>\n<p>xmx=2Gxss=1M4G   2G  300M(top) / 1M = 1700  1700ulimit -u 10241024<br>Jvm</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ps -eLf |grep java -c</span><br></pre></td></tr></table></figure>\n<p>800ulimit2000</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>FullGCCPUGCjstack</p>\n","site":{"data":{}},"excerpt":"","more":"<blockquote>\n<p></p>\n</blockquote>\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Caused by: com.alibaba.dubbo.remoting.TimeoutException: Waiting server-side response timeout. </span><br><span class=\"line\">start time: <span class=\"number\">2016</span>-<span class=\"number\">05</span>-<span class=\"number\">03</span> <span class=\"number\">15</span>:<span class=\"number\">45</span>:<span class=\"number\">29.514</span>, end time: <span class=\"number\">2016</span>-<span class=\"number\">05</span>-<span class=\"number\">03</span> <span class=\"number\">15</span>:<span class=\"number\">45</span>:<span class=\"number\">35.771</span>, client elapsed: <span class=\"number\">0</span> ms, </span><br><span class=\"line\">server elapsed: <span class=\"number\">6257</span> ms, timeout: <span class=\"number\">1000</span> ms, request: Request [id=<span class=\"number\">288854</span>, version=<span class=\"number\">2.0</span>.0, twoway</span><br><span class=\"line\">=<span class=\"keyword\">true</span>, event=<span class=\"keyword\">false</span>, broken=<span class=\"keyword\">false</span>, data=RpcInvocation [methodName=getItemInfoListForOrder, par</span><br><span class=\"line\">ameterTypes=[interface java.util.List], arguments=[[xxx, xxx, xxx, xxx, xxx, xxx, xxx,</span><br><span class=\"line\"> xxx, xxx, xxx]], attachments=&#123;id=xxx, input=xxx, path=</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\":\"></a>:</h2><p>APIDubboRDS</p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/2583a7eee58bc603641dd69762c072f5.png?zoom=2\" alt=\"\"></p>\n<p>15480(480)dbdbiops</p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/35f8ad8500739b5ff44ea28f054c2db0.png?zoom=2\" alt=\"\"></p>\n<p>rdssqldbiops</p>\n<p>dbsleep200,sqlmysqliops</p>\n<p>jstack wait</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[admin@order2.hz /home/admin]$grep 'java.lang.Thread.State:' 17116.jstack |</span><br><span class=\"line\">awk '&#123;FS=\":\"&#125; &#123;print $2&#125;'|awk '&#123;print $1&#125;' |sort |uniq -c</span><br><span class=\"line\">     18 RUNNABLE</span><br><span class=\"line\">    147 TIMED_WAITING</span><br><span class=\"line\">    662 WAITING</span><br></pre></td></tr></table></figure>\n<p>blocked Locked ownable synchronizers:  None <br>Mysql200Sleep<br><strong>java.lang.OutOfMemoryError: Java heap space </strong>GC5sFullGC<br></p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/b8986c22adbd6ebf3296e803f04a32de.png?zoom=2\" alt=\"\"></p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/bd6226fb951d4dbd1cdb5b0cee0416b8.png?zoom=2\" alt=\"\"></p>\n<p>SQLquery3W30M1003GJVM2Gdubbo</p>\n<p> Unable to create new native thread</p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/fa8b9a68b8d1d2e556950b05f9f9d5a3.png?zoom=2\" alt=\"\"></p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/af92db0be6556aae1394fbc6433dd842.png?zoom=2\" alt=\"\"></p>\n<p>Linux</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[admin@order1.hz /home/admin]$cat /proc/sys/kernel/threads-max</span><br></pre></td></tr></table></figure>\n<p>60949 <br>ulimit  shell Shell CPU Shell </p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[admin@order1.hz /home/admin]$ulimit -a</span><br><span class=\"line\">core file size          (blocks, -c) 0</span><br><span class=\"line\">data seg size           (kbytes, -d) unlimited</span><br><span class=\"line\">scheduling priority             (-e) 0</span><br><span class=\"line\">file size               (blocks, -f) unlimited</span><br><span class=\"line\">pending signals                 (-i) 30474</span><br><span class=\"line\">max locked memory       (kbytes, -l) 64</span><br><span class=\"line\">max memory size         (kbytes, -m) unlimited</span><br><span class=\"line\">open files                      (-n) 65535</span><br><span class=\"line\">pipe size            (512 bytes, -p) 8</span><br><span class=\"line\">POSIX message queues     (bytes, -q) 819200</span><br><span class=\"line\">real-time priority              (-r) 0</span><br><span class=\"line\">stack size              (kbytes, -s) 10240</span><br><span class=\"line\">cpu time               (seconds, -t) unlimited</span><br><span class=\"line\">max user processes              (-u) 1024</span><br><span class=\"line\">virtual memory          (kbytes, -v) unlimited</span><br><span class=\"line\">file locks                      (-x) unlimited</span><br></pre></td></tr></table></figure>\n<p>max user processes Linux1024JVM<br>Jvmjdk7-Xms2g -Xmx2g  Xssthe stack size for each threadJVM(Xmx)(Xss)ulimit -u,<a href=\"http://jzhihui.iteye.com/blog/1271122\" target=\"_blank\" rel=\"noopener\">JVMThread</a></p>\n<p>Xss1M<a href=\"http://hg.openjdk.java.net/jdk7u/jdk7u/hotspot/file/2cd3690f644c/src/os_cpu/linux_x86/vm/globals_linux_x86.hpp#l32\" target=\"_blank\" rel=\"noopener\">1</a> <a href=\"http://hg.openjdk.java.net/jdk7u/jdk7u/hotspot/file/2cd3690f644c/src/os_cpu/linux_x86/vm/os_linux_x86.cpp#l654\" target=\"_blank\" rel=\"noopener\">2</a>ulimit -s10Mpthread_createHotSpot VMJavaprimordial threadJava</p>\n<p><a href=\"http://mail.openjdk.java.net/pipermail/hotspot-dev/2011-June/004272.html\" target=\"_blank\" rel=\"noopener\">What the difference between -Xss and -XX:ThreadStackSize is?</a></p>\n<p><a href=\"http://mail.openjdk.java.net/pipermail/hotspot-dev/2011-July/004288.html\" target=\"_blank\" rel=\"noopener\">Inconsistency between -Xss and -XX:ThreadStackSize in the java launcher</a></p>\n<p></p>\n<blockquote>\n<p>(MaxProcessMemory  JVMMemory  ReservedOsMemory) / (ThreadStackSize) = Number of threads</p>\n</blockquote>\n<p>xmx=2Gxss=1M4G   2G  300M(top) / 1M = 1700  1700ulimit -u 10241024<br>Jvm</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ps -eLf |grep java -c</span><br></pre></td></tr></table></figure>\n<p>800ulimit2000</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>FullGCCPUGCjstack</p>\n"},{"layout":"post","title":"Java  IO","keywords":"IO","date":"2016-05-05T16:00:00.000Z","_content":"IO\n\n* IO1.2. \n* IOIOIOIOCPUIOIOIOselect pollselectsocketlinux 2.6.151024\n\n* IOCPU2IOIOIOIOIOIOIOIO\n\n* IOselectsocketLinux 2.6 epoll IOpollepollsocketIOFSmmapfd\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/acb8761f8dca4cd913caf1a23cec53de.png?zoom=2)\n\n### BIO(Blcok IO)\n#### :\n\n* File\n* InputStream OutputStream  I/O\n* Reader Writer  UnicodeI/O; lock\n* FilterInputStream FilterOutputStream  InputStream outStream\n* FilterReader  FilterWriter\n* InputStreamReader OutputStreamWriter    InputStreamOutputStream\n* bufferedInputStram bufferedOutputStream   volatile/sychronized   bufferedReader bufferedWriter synchronized+synchronizedthissynchronizedsynchronizedlock\n\n#### \n* 1. InputStream  OutputStream 2. inputStreamoutputStreamreaderwriter\n\n*   IO,ComponentConcreteComponentConcreteComponent Decorator,\n\n* DecoratorComponentComponentComponentComponentDecorator\n\n* DecoratorConcreteComponentDecorator\n\n### NIO(Non-blcok IO)\n\nNIOChannelsBuffersSelectorsBIOIONIO\n\n#### Buffer\nintcapacity >= limit >= position >= markHeapByteBufferIOMappedByteBuffer\n\n#### \nChannellock()tryLock()MacFileLockJVMJVMJVMOverlappingFileLockExceptiontryLock()nullOverlappingFileLockException\n\ndemo[http://www.javanio.info/filearea/demos/](http://www.javanio.info/filearea/demos/)\n\n[http://www.iteye.com/magazines/132-Java-NIO](http://www.iteye.com/magazines/132-Java-NIO)\n\n","source":"_posts/Java/2016-05-06-java-io.md","raw":"---\nlayout: post\ntitle: Java  IO\ncategories: Java\nkeywords: IO\ndate: 2016-05-06\n---\nIO\n\n* IO1.2. \n* IOIOIOIOCPUIOIOIOselect pollselectsocketlinux 2.6.151024\n\n* IOCPU2IOIOIOIOIOIOIOIO\n\n* IOselectsocketLinux 2.6 epoll IOpollepollsocketIOFSmmapfd\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/acb8761f8dca4cd913caf1a23cec53de.png?zoom=2)\n\n### BIO(Blcok IO)\n#### :\n\n* File\n* InputStream OutputStream  I/O\n* Reader Writer  UnicodeI/O; lock\n* FilterInputStream FilterOutputStream  InputStream outStream\n* FilterReader  FilterWriter\n* InputStreamReader OutputStreamWriter    InputStreamOutputStream\n* bufferedInputStram bufferedOutputStream   volatile/sychronized   bufferedReader bufferedWriter synchronized+synchronizedthissynchronizedsynchronizedlock\n\n#### \n* 1. InputStream  OutputStream 2. inputStreamoutputStreamreaderwriter\n\n*   IO,ComponentConcreteComponentConcreteComponent Decorator,\n\n* DecoratorComponentComponentComponentComponentDecorator\n\n* DecoratorConcreteComponentDecorator\n\n### NIO(Non-blcok IO)\n\nNIOChannelsBuffersSelectorsBIOIONIO\n\n#### Buffer\nintcapacity >= limit >= position >= markHeapByteBufferIOMappedByteBuffer\n\n#### \nChannellock()tryLock()MacFileLockJVMJVMJVMOverlappingFileLockExceptiontryLock()nullOverlappingFileLockException\n\ndemo[http://www.javanio.info/filearea/demos/](http://www.javanio.info/filearea/demos/)\n\n[http://www.iteye.com/magazines/132-Java-NIO](http://www.iteye.com/magazines/132-Java-NIO)\n\n","slug":"Java/2016-05-06-java-io","published":1,"updated":"2018-11-10T08:59:09.799Z","comments":1,"photos":[],"link":"","_id":"cjtohbk7x00146f12w3v3qwmj","content":"<p>IO</p>\n<ul>\n<li>IO1.2. </li>\n<li><p>IOIOIOIOCPUIOIOIOselect pollselectsocketlinux 2.6.151024</p>\n</li>\n<li><p>IOCPU2IOIOIOIOIOIOIOIO</p>\n</li>\n<li><p>IOselectsocketLinux 2.6 epoll IOpollepollsocketIOFSmmapfd</p>\n</li>\n</ul>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/acb8761f8dca4cd913caf1a23cec53de.png?zoom=2\" alt=\"\"></p>\n<h3 id=\"BIO-Blcok-IO\"><a href=\"#BIO-Blcok-IO\" class=\"headerlink\" title=\"BIO(Blcok IO)\"></a>BIO(Blcok IO)</h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\":\"></a>:</h4><ul>\n<li>File</li>\n<li>InputStream OutputStream  I/O</li>\n<li>Reader Writer  UnicodeI/O; lock</li>\n<li>FilterInputStream FilterOutputStream  InputStream outStream</li>\n<li>FilterReader  FilterWriter</li>\n<li>InputStreamReader OutputStreamWriter    InputStreamOutputStream</li>\n<li>bufferedInputStram bufferedOutputStream   volatile/sychronized   bufferedReader bufferedWriter synchronized+synchronizedthissynchronizedsynchronizedlock</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li><p>1. InputStream  OutputStream 2. inputStreamoutputStreamreaderwriter</p>\n</li>\n<li><p>  IO,ComponentConcreteComponentConcreteComponent Decorator,</p>\n</li>\n<li><p>DecoratorComponentComponentComponentComponentDecorator</p>\n</li>\n<li><p>DecoratorConcreteComponentDecorator</p>\n</li>\n</ul>\n<h3 id=\"NIO-Non-blcok-IO\"><a href=\"#NIO-Non-blcok-IO\" class=\"headerlink\" title=\"NIO(Non-blcok IO)\"></a>NIO(Non-blcok IO)</h3><p>NIOChannelsBuffersSelectorsBIOIONIO</p>\n<h4 id=\"Buffer\"><a href=\"#Buffer\" class=\"headerlink\" title=\"Buffer\"></a>Buffer</h4><p>intcapacity &gt;= limit &gt;= position &gt;= markHeapByteBufferIOMappedByteBuffer</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>Channellock()tryLock()MacFileLockJVMJVMJVMOverlappingFileLockExceptiontryLock()nullOverlappingFileLockException</p>\n<p>demo<a href=\"http://www.javanio.info/filearea/demos/\" target=\"_blank\" rel=\"noopener\">http://www.javanio.info/filearea/demos/</a></p>\n<p><a href=\"http://www.iteye.com/magazines/132-Java-NIO\" target=\"_blank\" rel=\"noopener\">http://www.iteye.com/magazines/132-Java-NIO</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p>IO</p>\n<ul>\n<li>IO1.2. </li>\n<li><p>IOIOIOIOCPUIOIOIOselect pollselectsocketlinux 2.6.151024</p>\n</li>\n<li><p>IOCPU2IOIOIOIOIOIOIOIO</p>\n</li>\n<li><p>IOselectsocketLinux 2.6 epoll IOpollepollsocketIOFSmmapfd</p>\n</li>\n</ul>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/acb8761f8dca4cd913caf1a23cec53de.png?zoom=2\" alt=\"\"></p>\n<h3 id=\"BIO-Blcok-IO\"><a href=\"#BIO-Blcok-IO\" class=\"headerlink\" title=\"BIO(Blcok IO)\"></a>BIO(Blcok IO)</h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\":\"></a>:</h4><ul>\n<li>File</li>\n<li>InputStream OutputStream  I/O</li>\n<li>Reader Writer  UnicodeI/O; lock</li>\n<li>FilterInputStream FilterOutputStream  InputStream outStream</li>\n<li>FilterReader  FilterWriter</li>\n<li>InputStreamReader OutputStreamWriter    InputStreamOutputStream</li>\n<li>bufferedInputStram bufferedOutputStream   volatile/sychronized   bufferedReader bufferedWriter synchronized+synchronizedthissynchronizedsynchronizedlock</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li><p>1. InputStream  OutputStream 2. inputStreamoutputStreamreaderwriter</p>\n</li>\n<li><p>  IO,ComponentConcreteComponentConcreteComponent Decorator,</p>\n</li>\n<li><p>DecoratorComponentComponentComponentComponentDecorator</p>\n</li>\n<li><p>DecoratorConcreteComponentDecorator</p>\n</li>\n</ul>\n<h3 id=\"NIO-Non-blcok-IO\"><a href=\"#NIO-Non-blcok-IO\" class=\"headerlink\" title=\"NIO(Non-blcok IO)\"></a>NIO(Non-blcok IO)</h3><p>NIOChannelsBuffersSelectorsBIOIONIO</p>\n<h4 id=\"Buffer\"><a href=\"#Buffer\" class=\"headerlink\" title=\"Buffer\"></a>Buffer</h4><p>intcapacity &gt;= limit &gt;= position &gt;= markHeapByteBufferIOMappedByteBuffer</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>Channellock()tryLock()MacFileLockJVMJVMJVMOverlappingFileLockExceptiontryLock()nullOverlappingFileLockException</p>\n<p>demo<a href=\"http://www.javanio.info/filearea/demos/\" target=\"_blank\" rel=\"noopener\">http://www.javanio.info/filearea/demos/</a></p>\n<p><a href=\"http://www.iteye.com/magazines/132-Java-NIO\" target=\"_blank\" rel=\"noopener\">http://www.iteye.com/magazines/132-Java-NIO</a></p>\n"},{"layout":"post","title":"Java","date":"2016-05-30T16:00:00.000Z","_content":"\n\n\n## \n\n\n```java\nlong startTimeMillis = System.currentTimeMillis()\n..\nlong endTimeMillis = System.currentTimeMillis()\nlong spendTime = endTimeMillis - startTimeMillis;\n```\n\n## StopWatch\nApache-Commons\n\n\n```java\norg.apache.commons.lang3.time.StopWatch\n```\n\nStopWatch System.currentTimeMillis()StopWatch\n\n* \n* \n\nStopWatch\n\n* IllegalStateExceptionRuntimeException\n\n## Spring AOP\n\n\n\n\n```java\npublic class MethodTimeActive implements MethodInterceptor {\n \n    private static final Logger logger = LoggerFactory.getLogger(MethodTimeActive.class);\n \n    /**\n     * mapkeyvalue[01]\n     */\n    public static Map<String, Long[]> methodTest = new HashMap<String, Long[]>();\n \n \n    @Override\n    public Object invoke(MethodInvocation methodInvocation) throws Throwable {\n        StopWatch watch = new StopWatch();\n        watch.start();\n        Object object = methodInvocation.proceed();\n        watch.stop();\n        String methodName = methodInvocation.getMethod().getName();\n        Long time = watch.getTime();\n        if (methodTest.containsKey(methodName)) {\n            Long[] x = methodTest.get(methodName);\n            x[0]++;\n            x[1] += time;\n            logger.info(\"MethodTime  _method=\" + methodName + \" _totalCount=\" + x[0] + \" _totalTime=\" + x[1] + \" ms  _avgTime=\" + x[1] / x[0] + \"ms\");\n        } else {\n            methodTest.put(methodName, new Long[]{1L, time});\n            logger.info(\"MethodTime  _method=\" + methodName + \" _totalCount=1 _totalTime=\" + time + \"ms _avgTime=\" + time + \"ms\");\n        }\n \n        return object;\n    }\n}\n```\n\n\n\nspring-context AOPbeanbean\n\n\n```java\n<bean id=\"venderSpuService\" class=\"org.springframework.aop.framework.ProxyFactoryBean\">\n        <property name=\"target\" ref=\"venderSpuServiceImpl\"/>\n        <property name=\"interceptorNames\">\n            <list>\n                <value>spuServiceAdvisor</value>\n            </list>\n        </property>\n    </bean>\n \n    <bean id=\"methodTimeActive\" class=\"com.sfebiz.vender.util.MethodTimeActive\"/>\n \n    <bean id=\"spuServiceAdvisor\" class=\"org.springframework.aop.support.NameMatchMethodPointcutAdvisor\">\n        <property name=\"mappedNames\">\n            <list>\n                <value>querySpuByProvider4Page</value>\n                <value>querySpuByVSpuId</value>\n                <value>stashSpu</value>\n                <value>commitSpu</value>\n            </list>\n        </property>\n        <property name=\"advice\" ref=\"methodTimeActive\"/>\n    </bean>\n```\n\nmaven\n\n\n```java\n            <dependency>\n                <groupId>org.aspectj</groupId>\n                <artifactId>aspectjweaver</artifactId>\n                <version>1.8.6</version>\n            </dependency>\n```\n\n\n\n* AOPAPI\n\n## \n1. System.currentTimeMillis()\n2. System.currentTimeMillis()System.currentTimeMillis()native\n3. AOP\n\n","source":"_posts/Java/2016-05-31-java-method-cost-time.md","raw":"---\nlayout: post\ntitle: Java\ncategories: Java\ndate: 2016-05-31\n---\n\n\n\n## \n\n\n```java\nlong startTimeMillis = System.currentTimeMillis()\n..\nlong endTimeMillis = System.currentTimeMillis()\nlong spendTime = endTimeMillis - startTimeMillis;\n```\n\n## StopWatch\nApache-Commons\n\n\n```java\norg.apache.commons.lang3.time.StopWatch\n```\n\nStopWatch System.currentTimeMillis()StopWatch\n\n* \n* \n\nStopWatch\n\n* IllegalStateExceptionRuntimeException\n\n## Spring AOP\n\n\n\n\n```java\npublic class MethodTimeActive implements MethodInterceptor {\n \n    private static final Logger logger = LoggerFactory.getLogger(MethodTimeActive.class);\n \n    /**\n     * mapkeyvalue[01]\n     */\n    public static Map<String, Long[]> methodTest = new HashMap<String, Long[]>();\n \n \n    @Override\n    public Object invoke(MethodInvocation methodInvocation) throws Throwable {\n        StopWatch watch = new StopWatch();\n        watch.start();\n        Object object = methodInvocation.proceed();\n        watch.stop();\n        String methodName = methodInvocation.getMethod().getName();\n        Long time = watch.getTime();\n        if (methodTest.containsKey(methodName)) {\n            Long[] x = methodTest.get(methodName);\n            x[0]++;\n            x[1] += time;\n            logger.info(\"MethodTime  _method=\" + methodName + \" _totalCount=\" + x[0] + \" _totalTime=\" + x[1] + \" ms  _avgTime=\" + x[1] / x[0] + \"ms\");\n        } else {\n            methodTest.put(methodName, new Long[]{1L, time});\n            logger.info(\"MethodTime  _method=\" + methodName + \" _totalCount=1 _totalTime=\" + time + \"ms _avgTime=\" + time + \"ms\");\n        }\n \n        return object;\n    }\n}\n```\n\n\n\nspring-context AOPbeanbean\n\n\n```java\n<bean id=\"venderSpuService\" class=\"org.springframework.aop.framework.ProxyFactoryBean\">\n        <property name=\"target\" ref=\"venderSpuServiceImpl\"/>\n        <property name=\"interceptorNames\">\n            <list>\n                <value>spuServiceAdvisor</value>\n            </list>\n        </property>\n    </bean>\n \n    <bean id=\"methodTimeActive\" class=\"com.sfebiz.vender.util.MethodTimeActive\"/>\n \n    <bean id=\"spuServiceAdvisor\" class=\"org.springframework.aop.support.NameMatchMethodPointcutAdvisor\">\n        <property name=\"mappedNames\">\n            <list>\n                <value>querySpuByProvider4Page</value>\n                <value>querySpuByVSpuId</value>\n                <value>stashSpu</value>\n                <value>commitSpu</value>\n            </list>\n        </property>\n        <property name=\"advice\" ref=\"methodTimeActive\"/>\n    </bean>\n```\n\nmaven\n\n\n```java\n            <dependency>\n                <groupId>org.aspectj</groupId>\n                <artifactId>aspectjweaver</artifactId>\n                <version>1.8.6</version>\n            </dependency>\n```\n\n\n\n* AOPAPI\n\n## \n1. System.currentTimeMillis()\n2. System.currentTimeMillis()System.currentTimeMillis()native\n3. AOP\n\n","slug":"Java/2016-05-31-java-method-cost-time","published":1,"updated":"2018-11-10T08:59:09.799Z","comments":1,"photos":[],"link":"","_id":"cjtohbk7y00166f12oiga6cuo","content":"<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">long</span> startTimeMillis = System.currentTimeMillis()</span><br><span class=\"line\">..</span><br><span class=\"line\"><span class=\"keyword\">long</span> endTimeMillis = System.currentTimeMillis()</span><br><span class=\"line\"><span class=\"keyword\">long</span> spendTime = endTimeMillis - startTimeMillis;</span><br></pre></td></tr></table></figure>\n<h2 id=\"StopWatch\"><a href=\"#StopWatch\" class=\"headerlink\" title=\"StopWatch\"></a>StopWatch</h2><p>Apache-Commons</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">org.apache.commons.lang3.time.StopWatch</span><br></pre></td></tr></table></figure>\n<p>StopWatch System.currentTimeMillis()StopWatch</p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p>StopWatch</p>\n<ul>\n<li>IllegalStateExceptionRuntimeException</li>\n</ul>\n<h2 id=\"Spring-AOP\"><a href=\"#Spring-AOP\" class=\"headerlink\" title=\"Spring AOP\"></a>Spring AOP</h2><p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MethodTimeActive</span> <span class=\"keyword\">implements</span> <span class=\"title\">MethodInterceptor</span> </span>&#123;</span><br><span class=\"line\"> </span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> Logger logger = LoggerFactory.getLogger(MethodTimeActive.class);</span><br><span class=\"line\"> </span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * mapkeyvalue[01]</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> Map&lt;String, Long[]&gt; methodTest = <span class=\"keyword\">new</span> HashMap&lt;String, Long[]&gt;();</span><br><span class=\"line\"> </span><br><span class=\"line\"> </span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> Object <span class=\"title\">invoke</span><span class=\"params\">(MethodInvocation methodInvocation)</span> <span class=\"keyword\">throws</span> Throwable </span>&#123;</span><br><span class=\"line\">        StopWatch watch = <span class=\"keyword\">new</span> StopWatch();</span><br><span class=\"line\">        watch.start();</span><br><span class=\"line\">        Object object = methodInvocation.proceed();</span><br><span class=\"line\">        watch.stop();</span><br><span class=\"line\">        String methodName = methodInvocation.getMethod().getName();</span><br><span class=\"line\">        Long time = watch.getTime();</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (methodTest.containsKey(methodName)) &#123;</span><br><span class=\"line\">            Long[] x = methodTest.get(methodName);</span><br><span class=\"line\">            x[<span class=\"number\">0</span>]++;</span><br><span class=\"line\">            x[<span class=\"number\">1</span>] += time;</span><br><span class=\"line\">            logger.info(<span class=\"string\">\"MethodTime  _method=\"</span> + methodName + <span class=\"string\">\" _totalCount=\"</span> + x[<span class=\"number\">0</span>] + <span class=\"string\">\" _totalTime=\"</span> + x[<span class=\"number\">1</span>] + <span class=\"string\">\" ms  _avgTime=\"</span> + x[<span class=\"number\">1</span>] / x[<span class=\"number\">0</span>] + <span class=\"string\">\"ms\"</span>);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            methodTest.put(methodName, <span class=\"keyword\">new</span> Long[]&#123;<span class=\"number\">1L</span>, time&#125;);</span><br><span class=\"line\">            logger.info(<span class=\"string\">\"MethodTime  _method=\"</span> + methodName + <span class=\"string\">\" _totalCount=1 _totalTime=\"</span> + time + <span class=\"string\">\"ms _avgTime=\"</span> + time + <span class=\"string\">\"ms\"</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">        <span class=\"keyword\">return</span> object;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p>spring-context AOPbeanbean</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;bean id=<span class=\"string\">\"venderSpuService\"</span> <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">\"org.springframework.aop.framework.ProxyFactoryBean\"</span>&gt;</span><br><span class=\"line\">        &lt;property name=<span class=\"string\">\"target\"</span> ref=<span class=\"string\">\"venderSpuServiceImpl\"</span>/&gt;</span><br><span class=\"line\">        &lt;property name=<span class=\"string\">\"interceptorNames\"</span>&gt;</span><br><span class=\"line\">            &lt;list&gt;</span><br><span class=\"line\">                &lt;value&gt;spuServiceAdvisor&lt;/value&gt;</span><br><span class=\"line\">            &lt;/list&gt;</span><br><span class=\"line\">        &lt;/property&gt;</span><br><span class=\"line\">    &lt;/bean&gt;</span><br><span class=\"line\"> </span><br><span class=\"line\">    &lt;bean id=<span class=\"string\">\"methodTimeActive\"</span> <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">\"com.sfebiz.vender.util.MethodTimeActive\"</span>/&gt;</span><br><span class=\"line\"> </span><br><span class=\"line\">    &lt;bean id=<span class=\"string\">\"spuServiceAdvisor\"</span> <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">\"org.springframework.aop.support.NameMatchMethodPointcutAdvisor\"</span>&gt;</span><br><span class=\"line\">        &lt;property name=<span class=\"string\">\"mappedNames\"</span>&gt;</span><br><span class=\"line\">            &lt;list&gt;</span><br><span class=\"line\">                &lt;value&gt;querySpuByProvider4Page&lt;/value&gt;</span><br><span class=\"line\">                &lt;value&gt;querySpuByVSpuId&lt;/value&gt;</span><br><span class=\"line\">                &lt;value&gt;stashSpu&lt;/value&gt;</span><br><span class=\"line\">                &lt;value&gt;commitSpu&lt;/value&gt;</span><br><span class=\"line\">            &lt;/list&gt;</span><br><span class=\"line\">        &lt;/property&gt;</span><br><span class=\"line\">        &lt;property name=<span class=\"string\">\"advice\"</span> ref=<span class=\"string\">\"methodTimeActive\"</span>/&gt;</span><br><span class=\"line\">    &lt;/bean&gt;</span><br></pre></td></tr></table></figure>\n<p>maven</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;dependency&gt;</span><br><span class=\"line\">    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;</span><br><span class=\"line\">    &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;</span><br><span class=\"line\">    &lt;version&gt;1.8.6&lt;/version&gt;</span><br><span class=\"line\">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>\n<p></p>\n<ul>\n<li>AOPAPI</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li>System.currentTimeMillis()</li>\n<li>System.currentTimeMillis()System.currentTimeMillis()native</li>\n<li>AOP</li>\n</ol>\n","site":{"data":{}},"excerpt":"","more":"<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">long</span> startTimeMillis = System.currentTimeMillis()</span><br><span class=\"line\">..</span><br><span class=\"line\"><span class=\"keyword\">long</span> endTimeMillis = System.currentTimeMillis()</span><br><span class=\"line\"><span class=\"keyword\">long</span> spendTime = endTimeMillis - startTimeMillis;</span><br></pre></td></tr></table></figure>\n<h2 id=\"StopWatch\"><a href=\"#StopWatch\" class=\"headerlink\" title=\"StopWatch\"></a>StopWatch</h2><p>Apache-Commons</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">org.apache.commons.lang3.time.StopWatch</span><br></pre></td></tr></table></figure>\n<p>StopWatch System.currentTimeMillis()StopWatch</p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p>StopWatch</p>\n<ul>\n<li>IllegalStateExceptionRuntimeException</li>\n</ul>\n<h2 id=\"Spring-AOP\"><a href=\"#Spring-AOP\" class=\"headerlink\" title=\"Spring AOP\"></a>Spring AOP</h2><p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MethodTimeActive</span> <span class=\"keyword\">implements</span> <span class=\"title\">MethodInterceptor</span> </span>&#123;</span><br><span class=\"line\"> </span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> Logger logger = LoggerFactory.getLogger(MethodTimeActive.class);</span><br><span class=\"line\"> </span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * mapkeyvalue[01]</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> Map&lt;String, Long[]&gt; methodTest = <span class=\"keyword\">new</span> HashMap&lt;String, Long[]&gt;();</span><br><span class=\"line\"> </span><br><span class=\"line\"> </span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> Object <span class=\"title\">invoke</span><span class=\"params\">(MethodInvocation methodInvocation)</span> <span class=\"keyword\">throws</span> Throwable </span>&#123;</span><br><span class=\"line\">        StopWatch watch = <span class=\"keyword\">new</span> StopWatch();</span><br><span class=\"line\">        watch.start();</span><br><span class=\"line\">        Object object = methodInvocation.proceed();</span><br><span class=\"line\">        watch.stop();</span><br><span class=\"line\">        String methodName = methodInvocation.getMethod().getName();</span><br><span class=\"line\">        Long time = watch.getTime();</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (methodTest.containsKey(methodName)) &#123;</span><br><span class=\"line\">            Long[] x = methodTest.get(methodName);</span><br><span class=\"line\">            x[<span class=\"number\">0</span>]++;</span><br><span class=\"line\">            x[<span class=\"number\">1</span>] += time;</span><br><span class=\"line\">            logger.info(<span class=\"string\">\"MethodTime  _method=\"</span> + methodName + <span class=\"string\">\" _totalCount=\"</span> + x[<span class=\"number\">0</span>] + <span class=\"string\">\" _totalTime=\"</span> + x[<span class=\"number\">1</span>] + <span class=\"string\">\" ms  _avgTime=\"</span> + x[<span class=\"number\">1</span>] / x[<span class=\"number\">0</span>] + <span class=\"string\">\"ms\"</span>);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            methodTest.put(methodName, <span class=\"keyword\">new</span> Long[]&#123;<span class=\"number\">1L</span>, time&#125;);</span><br><span class=\"line\">            logger.info(<span class=\"string\">\"MethodTime  _method=\"</span> + methodName + <span class=\"string\">\" _totalCount=1 _totalTime=\"</span> + time + <span class=\"string\">\"ms _avgTime=\"</span> + time + <span class=\"string\">\"ms\"</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">        <span class=\"keyword\">return</span> object;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p>spring-context AOPbeanbean</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;bean id=<span class=\"string\">\"venderSpuService\"</span> <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">\"org.springframework.aop.framework.ProxyFactoryBean\"</span>&gt;</span><br><span class=\"line\">        &lt;property name=<span class=\"string\">\"target\"</span> ref=<span class=\"string\">\"venderSpuServiceImpl\"</span>/&gt;</span><br><span class=\"line\">        &lt;property name=<span class=\"string\">\"interceptorNames\"</span>&gt;</span><br><span class=\"line\">            &lt;list&gt;</span><br><span class=\"line\">                &lt;value&gt;spuServiceAdvisor&lt;/value&gt;</span><br><span class=\"line\">            &lt;/list&gt;</span><br><span class=\"line\">        &lt;/property&gt;</span><br><span class=\"line\">    &lt;/bean&gt;</span><br><span class=\"line\"> </span><br><span class=\"line\">    &lt;bean id=<span class=\"string\">\"methodTimeActive\"</span> <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">\"com.sfebiz.vender.util.MethodTimeActive\"</span>/&gt;</span><br><span class=\"line\"> </span><br><span class=\"line\">    &lt;bean id=<span class=\"string\">\"spuServiceAdvisor\"</span> <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">\"org.springframework.aop.support.NameMatchMethodPointcutAdvisor\"</span>&gt;</span><br><span class=\"line\">        &lt;property name=<span class=\"string\">\"mappedNames\"</span>&gt;</span><br><span class=\"line\">            &lt;list&gt;</span><br><span class=\"line\">                &lt;value&gt;querySpuByProvider4Page&lt;/value&gt;</span><br><span class=\"line\">                &lt;value&gt;querySpuByVSpuId&lt;/value&gt;</span><br><span class=\"line\">                &lt;value&gt;stashSpu&lt;/value&gt;</span><br><span class=\"line\">                &lt;value&gt;commitSpu&lt;/value&gt;</span><br><span class=\"line\">            &lt;/list&gt;</span><br><span class=\"line\">        &lt;/property&gt;</span><br><span class=\"line\">        &lt;property name=<span class=\"string\">\"advice\"</span> ref=<span class=\"string\">\"methodTimeActive\"</span>/&gt;</span><br><span class=\"line\">    &lt;/bean&gt;</span><br></pre></td></tr></table></figure>\n<p>maven</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;dependency&gt;</span><br><span class=\"line\">    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;</span><br><span class=\"line\">    &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;</span><br><span class=\"line\">    &lt;version&gt;1.8.6&lt;/version&gt;</span><br><span class=\"line\">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>\n<p></p>\n<ul>\n<li>AOPAPI</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li>System.currentTimeMillis()</li>\n<li>System.currentTimeMillis()System.currentTimeMillis()native</li>\n<li>AOP</li>\n</ol>\n"},{"layout":"post","title":"Object Mapping in Java","description":null,"keywords":"mapping","date":"2016-06-11T16:00:00.000Z","_content":"JavaDO DTODODTO\n\n\n\n1. commons-beanutils  BeanUtils\n2. commons-beanutils  PropertyUtils\n3. ModelMapper\n4. CglibBeanCopier, BulkBean,BeanMap,FastClass/FastMethod\n5. Orika\n6. Dozer\n7. HardCopy\n\n\n\n![](http:/ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/7236b8abc31ef20753e7d002106a0caf.png)\n\n![](/images/posts/20160612/object-mapping-per-hightchart-two.png)\n#### HardCopy\nmapping converterror-proneObject ConvertConvert: ycagConsoleModelConvert\n#### BeanUtils\nSpring-beanApacheBeanUtils.copyProperties\n\n##### \nBeanUtilsoriggetsetgetsetoriggetdestdestsetBeanUtilsorigdestbeangetset\n\n##### \nBeanUtilsConvertUtilsBeanConverterInteger0  Date longNULL0BeanUtils\n\n![](/images/posts/20160612/bean-util-sample.png)\n\n\n&\n#### PropertyUtils\nPropertyUtilsbeanUtilsBeanUtilsConvertUtilsBeanPropertyUtilsBeanPropertyUtilsPropertyUtilsBeanPropertyUtils()BeanUtils\n\nPropertyUtils  BeanUtils\n\n#### ModelMapper\nModelMapperJava\n\n* \n* \n* \n* \n* \n* \n* \n* \n* \n* GuiceSpring\n\n#### CglibBeanCopier\n[http://agapple.iteye.com/blog/799827](http://agapple.iteye.com/blog/799827)BeanUtils\n#### [Orika](http://orika-mapper.github.io/orika-docs/)\nGithub[https://github.com/orika-mapper/orika](https://github.com/orika-mapper/orika)\nObject mappingModelMapperAPIerror-prone\n#### [Dozer](http://dozer.sourceforge.net/)\nDozer\nObject mapping mapping4javaGeDA\n#### \n\n\n#### \n[https://prezi.com/q7pd1ad2spro/copy-of-object-mapping-in-java/](https://prezi.com/q7pd1ad2spro/copy-of-object-mapping-in-java/)\n\n[http://stackoverflow.com/questions/1432764/any-tool-for-java-object-to-object-mapping](http://stackoverflow.com/questions/1432764/any-tool-for-java-object-to-object-mapping)\n\n[http://agapple.iteye.com/blog/1075671](http://agapple.iteye.com/blog/1075671)\n\n\n","source":"_posts/Java/2016-06-12-object-mapping.md","raw":"---\nlayout: post\ntitle: Object Mapping in Java\ncategories: Java\ndescription:\nkeywords: mapping\ndate: 2016-06-12\n---\nJavaDO DTODODTO\n\n\n\n1. commons-beanutils  BeanUtils\n2. commons-beanutils  PropertyUtils\n3. ModelMapper\n4. CglibBeanCopier, BulkBean,BeanMap,FastClass/FastMethod\n5. Orika\n6. Dozer\n7. HardCopy\n\n\n\n![](http:/ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/7236b8abc31ef20753e7d002106a0caf.png)\n\n![](/images/posts/20160612/object-mapping-per-hightchart-two.png)\n#### HardCopy\nmapping converterror-proneObject ConvertConvert: ycagConsoleModelConvert\n#### BeanUtils\nSpring-beanApacheBeanUtils.copyProperties\n\n##### \nBeanUtilsoriggetsetgetsetoriggetdestdestsetBeanUtilsorigdestbeangetset\n\n##### \nBeanUtilsConvertUtilsBeanConverterInteger0  Date longNULL0BeanUtils\n\n![](/images/posts/20160612/bean-util-sample.png)\n\n\n&\n#### PropertyUtils\nPropertyUtilsbeanUtilsBeanUtilsConvertUtilsBeanPropertyUtilsBeanPropertyUtilsPropertyUtilsBeanPropertyUtils()BeanUtils\n\nPropertyUtils  BeanUtils\n\n#### ModelMapper\nModelMapperJava\n\n* \n* \n* \n* \n* \n* \n* \n* \n* \n* GuiceSpring\n\n#### CglibBeanCopier\n[http://agapple.iteye.com/blog/799827](http://agapple.iteye.com/blog/799827)BeanUtils\n#### [Orika](http://orika-mapper.github.io/orika-docs/)\nGithub[https://github.com/orika-mapper/orika](https://github.com/orika-mapper/orika)\nObject mappingModelMapperAPIerror-prone\n#### [Dozer](http://dozer.sourceforge.net/)\nDozer\nObject mapping mapping4javaGeDA\n#### \n\n\n#### \n[https://prezi.com/q7pd1ad2spro/copy-of-object-mapping-in-java/](https://prezi.com/q7pd1ad2spro/copy-of-object-mapping-in-java/)\n\n[http://stackoverflow.com/questions/1432764/any-tool-for-java-object-to-object-mapping](http://stackoverflow.com/questions/1432764/any-tool-for-java-object-to-object-mapping)\n\n[http://agapple.iteye.com/blog/1075671](http://agapple.iteye.com/blog/1075671)\n\n\n","slug":"Java/2016-06-12-object-mapping","published":1,"updated":"2018-11-10T08:59:09.799Z","comments":1,"photos":[],"link":"","_id":"cjtohbk7y00176f1227285n97","content":"<p>JavaDO DTODODTO</p>\n<p></p>\n<ol>\n<li>commons-beanutils  BeanUtils</li>\n<li>commons-beanutils  PropertyUtils</li>\n<li>ModelMapper</li>\n<li>CglibBeanCopier, BulkBean,BeanMap,FastClass/FastMethod</li>\n<li>Orika</li>\n<li>Dozer</li>\n<li>HardCopy</li>\n</ol>\n<p></p>\n<p><img src=\"http:/ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/7236b8abc31ef20753e7d002106a0caf.png\" alt=\"\"></p>\n<p><img src=\"/images/posts/20160612/object-mapping-per-hightchart-two.png\" alt=\"\"></p>\n<h4 id=\"HardCopy\"><a href=\"#HardCopy\" class=\"headerlink\" title=\"HardCopy\"></a>HardCopy</h4><p>mapping converterror-proneObject ConvertConvert: ycagConsoleModelConvert</p>\n<h4 id=\"BeanUtils\"><a href=\"#BeanUtils\" class=\"headerlink\" title=\"BeanUtils\"></a>BeanUtils</h4><p>Spring-beanApacheBeanUtils.copyProperties</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>BeanUtilsoriggetsetgetsetoriggetdestdestsetBeanUtilsorigdestbeangetset</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>BeanUtilsConvertUtilsBeanConverterInteger0  Date longNULL0BeanUtils</p>\n<p><img src=\"/images/posts/20160612/bean-util-sample.png\" alt=\"\"></p>\n<p><br>&amp;</p>\n<h4 id=\"PropertyUtils\"><a href=\"#PropertyUtils\" class=\"headerlink\" title=\"PropertyUtils\"></a>PropertyUtils</h4><p>PropertyUtilsbeanUtilsBeanUtilsConvertUtilsBeanPropertyUtilsBeanPropertyUtilsPropertyUtilsBeanPropertyUtils()BeanUtils</p>\n<p>PropertyUtils  BeanUtils</p>\n<h4 id=\"ModelMapper\"><a href=\"#ModelMapper\" class=\"headerlink\" title=\"ModelMapper\"></a>ModelMapper</h4><p>ModelMapperJava</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li>GuiceSpring</li>\n</ul>\n<h4 id=\"CglibBeanCopier\"><a href=\"#CglibBeanCopier\" class=\"headerlink\" title=\"CglibBeanCopier\"></a>CglibBeanCopier</h4><p><a href=\"http://agapple.iteye.com/blog/799827\" target=\"_blank\" rel=\"noopener\">http://agapple.iteye.com/blog/799827</a>BeanUtils</p>\n<h4 id=\"Orika\"><a href=\"#Orika\" class=\"headerlink\" title=\"Orika\"></a><a href=\"http://orika-mapper.github.io/orika-docs/\" target=\"_blank\" rel=\"noopener\">Orika</a></h4><p>Github<a href=\"https://github.com/orika-mapper/orika\" target=\"_blank\" rel=\"noopener\">https://github.com/orika-mapper/orika</a><br>Object mappingModelMapperAPIerror-prone</p>\n<h4 id=\"Dozer\"><a href=\"#Dozer\" class=\"headerlink\" title=\"Dozer\"></a><a href=\"http://dozer.sourceforge.net/\" target=\"_blank\" rel=\"noopener\">Dozer</a></h4><p>Dozer<br>Object mapping mapping4javaGeDA</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><a href=\"https://prezi.com/q7pd1ad2spro/copy-of-object-mapping-in-java/\" target=\"_blank\" rel=\"noopener\">https://prezi.com/q7pd1ad2spro/copy-of-object-mapping-in-java/</a></p>\n<p><a href=\"http://stackoverflow.com/questions/1432764/any-tool-for-java-object-to-object-mapping\" target=\"_blank\" rel=\"noopener\">http://stackoverflow.com/questions/1432764/any-tool-for-java-object-to-object-mapping</a></p>\n<p><a href=\"http://agapple.iteye.com/blog/1075671\" target=\"_blank\" rel=\"noopener\">http://agapple.iteye.com/blog/1075671</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p>JavaDO DTODODTO</p>\n<p></p>\n<ol>\n<li>commons-beanutils  BeanUtils</li>\n<li>commons-beanutils  PropertyUtils</li>\n<li>ModelMapper</li>\n<li>CglibBeanCopier, BulkBean,BeanMap,FastClass/FastMethod</li>\n<li>Orika</li>\n<li>Dozer</li>\n<li>HardCopy</li>\n</ol>\n<p></p>\n<p><img src=\"http:/ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/7236b8abc31ef20753e7d002106a0caf.png\" alt=\"\"></p>\n<p><img src=\"/images/posts/20160612/object-mapping-per-hightchart-two.png\" alt=\"\"></p>\n<h4 id=\"HardCopy\"><a href=\"#HardCopy\" class=\"headerlink\" title=\"HardCopy\"></a>HardCopy</h4><p>mapping converterror-proneObject ConvertConvert: ycagConsoleModelConvert</p>\n<h4 id=\"BeanUtils\"><a href=\"#BeanUtils\" class=\"headerlink\" title=\"BeanUtils\"></a>BeanUtils</h4><p>Spring-beanApacheBeanUtils.copyProperties</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>BeanUtilsoriggetsetgetsetoriggetdestdestsetBeanUtilsorigdestbeangetset</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>BeanUtilsConvertUtilsBeanConverterInteger0  Date longNULL0BeanUtils</p>\n<p><img src=\"/images/posts/20160612/bean-util-sample.png\" alt=\"\"></p>\n<p><br>&amp;</p>\n<h4 id=\"PropertyUtils\"><a href=\"#PropertyUtils\" class=\"headerlink\" title=\"PropertyUtils\"></a>PropertyUtils</h4><p>PropertyUtilsbeanUtilsBeanUtilsConvertUtilsBeanPropertyUtilsBeanPropertyUtilsPropertyUtilsBeanPropertyUtils()BeanUtils</p>\n<p>PropertyUtils  BeanUtils</p>\n<h4 id=\"ModelMapper\"><a href=\"#ModelMapper\" class=\"headerlink\" title=\"ModelMapper\"></a>ModelMapper</h4><p>ModelMapperJava</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li>GuiceSpring</li>\n</ul>\n<h4 id=\"CglibBeanCopier\"><a href=\"#CglibBeanCopier\" class=\"headerlink\" title=\"CglibBeanCopier\"></a>CglibBeanCopier</h4><p><a href=\"http://agapple.iteye.com/blog/799827\" target=\"_blank\" rel=\"noopener\">http://agapple.iteye.com/blog/799827</a>BeanUtils</p>\n<h4 id=\"Orika\"><a href=\"#Orika\" class=\"headerlink\" title=\"Orika\"></a><a href=\"http://orika-mapper.github.io/orika-docs/\" target=\"_blank\" rel=\"noopener\">Orika</a></h4><p>Github<a href=\"https://github.com/orika-mapper/orika\" target=\"_blank\" rel=\"noopener\">https://github.com/orika-mapper/orika</a><br>Object mappingModelMapperAPIerror-prone</p>\n<h4 id=\"Dozer\"><a href=\"#Dozer\" class=\"headerlink\" title=\"Dozer\"></a><a href=\"http://dozer.sourceforge.net/\" target=\"_blank\" rel=\"noopener\">Dozer</a></h4><p>Dozer<br>Object mapping mapping4javaGeDA</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><a href=\"https://prezi.com/q7pd1ad2spro/copy-of-object-mapping-in-java/\" target=\"_blank\" rel=\"noopener\">https://prezi.com/q7pd1ad2spro/copy-of-object-mapping-in-java/</a></p>\n<p><a href=\"http://stackoverflow.com/questions/1432764/any-tool-for-java-object-to-object-mapping\" target=\"_blank\" rel=\"noopener\">http://stackoverflow.com/questions/1432764/any-tool-for-java-object-to-object-mapping</a></p>\n<p><a href=\"http://agapple.iteye.com/blog/1075671\" target=\"_blank\" rel=\"noopener\">http://agapple.iteye.com/blog/1075671</a></p>\n"},{"layout":"post","title":"","date":"2016-06-13T16:00:00.000Z","_content":">300~500ms30httpHttp10s\n\nJava\n\n\n\n#### \n\n\n```java\nprotected BlockingQueue queue = new LinkedBlockingQueue(100);\n    protected ExecutorService taskExecutor = new ThreadPoolExecutor(5, 20, 10, TimeUnit.MILLISECONDS, queue);\n```\nExecutors\n\nExecutorsThreadPoolExecutor\n\n* Executors.newFixedThreadPool \n* Executors.newSingleThreadExecutor \n* Executors.newCachedThreadPool (Integer.MAX_VALUE)60SynchronousQueue1SynchronousQueueJvmLinux\n* Executors.newScheduledThreadPool Timer\n\n\n\n\n* corePoolSize0\n* maximumPoolSizeInteger.MAX_VALUEjvmlinux osDubbo\n* keepAliveTime60s\n* runnableTaskQueueArrayBlockingQueue FIFOLinkedBlockingQueueFIFO  ArrayBlockingQueuePriorityBlockingQueue\n* RejectedExecutionHandlerAbortPolicyJDKAbortPolicyCallerRunsPolicyDiscardOldestPolicyDiscardPolicyCallerRunsPolicy\n\n\n\n\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/10a39f5ab6ff4780007537e2e73ee106.png)\n\n\n### CountDownLatch \n\n\n```java\n  //\n            CountDownLatch countDownLatch = new CountDownLatch(stockoutOrderDOs4Update.size());//countDown\n            List<Future> taskResultList = new ArrayList<Future>();\n            for (StockoutOrderDO orderDO : stockoutOrderDOs4Update) {\n                StockoutOrderStateConvertTask stockoutOrderStateConvertTask = new StockoutOrderStateConvertTask(orderDO, toState, countDownLatch);\n                Future future = taskExecutor.submit(stockoutOrderStateConvertTask);\n                taskResultList.add(future);\n            }\n\n            try {\n                //\n                countDownLatch.await();\n            } catch (InterruptedException e) {\n                logger.error(\"\", e);\n            }\n```\n\nExecutorexecutesubmitfuture\n\nfuturefuturegetgetget(long timeout, TimeUnit unit)submitfuture.get()\n\nCountDownLatch\n\n****\n\nSpring\n#### \n\n\n\n","source":"_posts/Java/2016-06-14-threadpool-handle-batch.md","raw":"---\nlayout: post\ntitle: \ncategories: Java\ndate: 2016-06-14\n---\n>300~500ms30httpHttp10s\n\nJava\n\n\n\n#### \n\n\n```java\nprotected BlockingQueue queue = new LinkedBlockingQueue(100);\n    protected ExecutorService taskExecutor = new ThreadPoolExecutor(5, 20, 10, TimeUnit.MILLISECONDS, queue);\n```\nExecutors\n\nExecutorsThreadPoolExecutor\n\n* Executors.newFixedThreadPool \n* Executors.newSingleThreadExecutor \n* Executors.newCachedThreadPool (Integer.MAX_VALUE)60SynchronousQueue1SynchronousQueueJvmLinux\n* Executors.newScheduledThreadPool Timer\n\n\n\n\n* corePoolSize0\n* maximumPoolSizeInteger.MAX_VALUEjvmlinux osDubbo\n* keepAliveTime60s\n* runnableTaskQueueArrayBlockingQueue FIFOLinkedBlockingQueueFIFO  ArrayBlockingQueuePriorityBlockingQueue\n* RejectedExecutionHandlerAbortPolicyJDKAbortPolicyCallerRunsPolicyDiscardOldestPolicyDiscardPolicyCallerRunsPolicy\n\n\n\n\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/10a39f5ab6ff4780007537e2e73ee106.png)\n\n\n### CountDownLatch \n\n\n```java\n  //\n            CountDownLatch countDownLatch = new CountDownLatch(stockoutOrderDOs4Update.size());//countDown\n            List<Future> taskResultList = new ArrayList<Future>();\n            for (StockoutOrderDO orderDO : stockoutOrderDOs4Update) {\n                StockoutOrderStateConvertTask stockoutOrderStateConvertTask = new StockoutOrderStateConvertTask(orderDO, toState, countDownLatch);\n                Future future = taskExecutor.submit(stockoutOrderStateConvertTask);\n                taskResultList.add(future);\n            }\n\n            try {\n                //\n                countDownLatch.await();\n            } catch (InterruptedException e) {\n                logger.error(\"\", e);\n            }\n```\n\nExecutorexecutesubmitfuture\n\nfuturefuturegetgetget(long timeout, TimeUnit unit)submitfuture.get()\n\nCountDownLatch\n\n****\n\nSpring\n#### \n\n\n\n","slug":"Java/2016-06-14-threadpool-handle-batch","published":1,"updated":"2018-11-10T08:59:09.799Z","comments":1,"photos":[],"link":"","_id":"cjtohbk7z001a6f12fzsmawki","content":"<blockquote>\n<p>300~500ms30httpHttp10s</p>\n</blockquote>\n<p>Java</p>\n<p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">protected</span> BlockingQueue queue = <span class=\"keyword\">new</span> LinkedBlockingQueue(<span class=\"number\">100</span>);</span><br><span class=\"line\">    <span class=\"keyword\">protected</span> ExecutorService taskExecutor = <span class=\"keyword\">new</span> ThreadPoolExecutor(<span class=\"number\">5</span>, <span class=\"number\">20</span>, <span class=\"number\">10</span>, TimeUnit.MILLISECONDS, queue);</span><br></pre></td></tr></table></figure>\n<p>Executors</p>\n<p>ExecutorsThreadPoolExecutor</p>\n<ul>\n<li>Executors.newFixedThreadPool </li>\n<li>Executors.newSingleThreadExecutor </li>\n<li>Executors.newCachedThreadPool (Integer.MAX_VALUE)60SynchronousQueue1SynchronousQueueJvmLinux</li>\n<li>Executors.newScheduledThreadPool Timer</li>\n</ul>\n<p></p>\n<ul>\n<li>corePoolSize0</li>\n<li>maximumPoolSizeInteger.MAX_VALUEjvmlinux osDubbo</li>\n<li>keepAliveTime60s</li>\n<li>runnableTaskQueueArrayBlockingQueue FIFOLinkedBlockingQueueFIFO  ArrayBlockingQueuePriorityBlockingQueue</li>\n<li>RejectedExecutionHandlerAbortPolicyJDKAbortPolicyCallerRunsPolicyDiscardOldestPolicyDiscardPolicyCallerRunsPolicy</li>\n</ul>\n<p></p>\n<p></p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/10a39f5ab6ff4780007537e2e73ee106.png\" alt=\"\"><br></p>\n<h3 id=\"CountDownLatch-\"><a href=\"#CountDownLatch-\" class=\"headerlink\" title=\"CountDownLatch \"></a>CountDownLatch </h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">          CountDownLatch countDownLatch = <span class=\"keyword\">new</span> CountDownLatch(stockoutOrderDOs4Update.size());<span class=\"comment\">//countDown</span></span><br><span class=\"line\">          List&lt;Future&gt; taskResultList = <span class=\"keyword\">new</span> ArrayList&lt;Future&gt;();</span><br><span class=\"line\">          <span class=\"keyword\">for</span> (StockoutOrderDO orderDO : stockoutOrderDOs4Update) &#123;</span><br><span class=\"line\">              StockoutOrderStateConvertTask stockoutOrderStateConvertTask = <span class=\"keyword\">new</span> StockoutOrderStateConvertTask(orderDO, toState, countDownLatch);</span><br><span class=\"line\">              Future future = taskExecutor.submit(stockoutOrderStateConvertTask);</span><br><span class=\"line\">              taskResultList.add(future);</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">          <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">              <span class=\"comment\">//</span></span><br><span class=\"line\">              countDownLatch.await();</span><br><span class=\"line\">          &#125; <span class=\"keyword\">catch</span> (InterruptedException e) &#123;</span><br><span class=\"line\">              logger.error(<span class=\"string\">\"\"</span>, e);</span><br><span class=\"line\">          &#125;</span><br></pre></td></tr></table></figure>\n<p>Executorexecutesubmitfuture</p>\n<p>futurefuturegetgetget(long timeout, TimeUnit unit)submitfuture.get()</p>\n<p>CountDownLatch</p>\n<p><strong></strong></p>\n<p>Spring</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n","site":{"data":{}},"excerpt":"","more":"<blockquote>\n<p>300~500ms30httpHttp10s</p>\n</blockquote>\n<p>Java</p>\n<p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">protected</span> BlockingQueue queue = <span class=\"keyword\">new</span> LinkedBlockingQueue(<span class=\"number\">100</span>);</span><br><span class=\"line\">    <span class=\"keyword\">protected</span> ExecutorService taskExecutor = <span class=\"keyword\">new</span> ThreadPoolExecutor(<span class=\"number\">5</span>, <span class=\"number\">20</span>, <span class=\"number\">10</span>, TimeUnit.MILLISECONDS, queue);</span><br></pre></td></tr></table></figure>\n<p>Executors</p>\n<p>ExecutorsThreadPoolExecutor</p>\n<ul>\n<li>Executors.newFixedThreadPool </li>\n<li>Executors.newSingleThreadExecutor </li>\n<li>Executors.newCachedThreadPool (Integer.MAX_VALUE)60SynchronousQueue1SynchronousQueueJvmLinux</li>\n<li>Executors.newScheduledThreadPool Timer</li>\n</ul>\n<p></p>\n<ul>\n<li>corePoolSize0</li>\n<li>maximumPoolSizeInteger.MAX_VALUEjvmlinux osDubbo</li>\n<li>keepAliveTime60s</li>\n<li>runnableTaskQueueArrayBlockingQueue FIFOLinkedBlockingQueueFIFO  ArrayBlockingQueuePriorityBlockingQueue</li>\n<li>RejectedExecutionHandlerAbortPolicyJDKAbortPolicyCallerRunsPolicyDiscardOldestPolicyDiscardPolicyCallerRunsPolicy</li>\n</ul>\n<p></p>\n<p></p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/10a39f5ab6ff4780007537e2e73ee106.png\" alt=\"\"><br></p>\n<h3 id=\"CountDownLatch-\"><a href=\"#CountDownLatch-\" class=\"headerlink\" title=\"CountDownLatch \"></a>CountDownLatch </h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">          CountDownLatch countDownLatch = <span class=\"keyword\">new</span> CountDownLatch(stockoutOrderDOs4Update.size());<span class=\"comment\">//countDown</span></span><br><span class=\"line\">          List&lt;Future&gt; taskResultList = <span class=\"keyword\">new</span> ArrayList&lt;Future&gt;();</span><br><span class=\"line\">          <span class=\"keyword\">for</span> (StockoutOrderDO orderDO : stockoutOrderDOs4Update) &#123;</span><br><span class=\"line\">              StockoutOrderStateConvertTask stockoutOrderStateConvertTask = <span class=\"keyword\">new</span> StockoutOrderStateConvertTask(orderDO, toState, countDownLatch);</span><br><span class=\"line\">              Future future = taskExecutor.submit(stockoutOrderStateConvertTask);</span><br><span class=\"line\">              taskResultList.add(future);</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">          <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">              <span class=\"comment\">//</span></span><br><span class=\"line\">              countDownLatch.await();</span><br><span class=\"line\">          &#125; <span class=\"keyword\">catch</span> (InterruptedException e) &#123;</span><br><span class=\"line\">              logger.error(<span class=\"string\">\"\"</span>, e);</span><br><span class=\"line\">          &#125;</span><br></pre></td></tr></table></figure>\n<p>Executorexecutesubmitfuture</p>\n<p>futurefuturegetgetget(long timeout, TimeUnit unit)submitfuture.get()</p>\n<p>CountDownLatch</p>\n<p><strong></strong></p>\n<p>Spring</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n"},{"layout":"post","title":"ID","date":"2016-06-25T16:00:00.000Z","_content":">ID\n\n#### ID\n\n\n\n#### \n\n\n\n#### UUID\nID\nuuid64\n\n#### \nIDID\n1000\nLRU Cache100Key\n\n#### \n39bit4bit7bit\n\n\n\n#### Redis+\nredis1000RedisRedisID\nredis\n\n#### \n\n\n","source":"_posts/Java/2016-06-26-distributed-id-generator.md","raw":"---\nlayout: post\ntitle: ID\ncategories: Java\ndate: 2016-06-26\n---\n>ID\n\n#### ID\n\n\n\n#### \n\n\n\n#### UUID\nID\nuuid64\n\n#### \nIDID\n1000\nLRU Cache100Key\n\n#### \n39bit4bit7bit\n\n\n\n#### Redis+\nredis1000RedisRedisID\nredis\n\n#### \n\n\n","slug":"Java/2016-06-26-distributed-id-generator","published":1,"updated":"2018-11-10T08:59:09.799Z","comments":1,"photos":[],"link":"","_id":"cjtohbk81001b6f12rnbgy5y2","content":"<blockquote>\n<p>ID</p>\n</blockquote>\n<h4 id=\"ID\"><a href=\"#ID\" class=\"headerlink\" title=\"ID\"></a>ID</h4><p><br></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br></p>\n<h4 id=\"UUID\"><a href=\"#UUID\" class=\"headerlink\" title=\"UUID\"></a>UUID</h4><p>ID<br>uuid64</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>IDID<br>1000<br>LRU Cache100Key</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>39bit4bit7bit<br><br></p>\n<h4 id=\"Redis-\"><a href=\"#Redis-\" class=\"headerlink\" title=\"Redis+\"></a>Redis+</h4><p>redis1000RedisRedisID<br>redis</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n","site":{"data":{}},"excerpt":"","more":"<blockquote>\n<p>ID</p>\n</blockquote>\n<h4 id=\"ID\"><a href=\"#ID\" class=\"headerlink\" title=\"ID\"></a>ID</h4><p><br></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br></p>\n<h4 id=\"UUID\"><a href=\"#UUID\" class=\"headerlink\" title=\"UUID\"></a>UUID</h4><p>ID<br>uuid64</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>IDID<br>1000<br>LRU Cache100Key</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>39bit4bit7bit<br><br></p>\n<h4 id=\"Redis-\"><a href=\"#Redis-\" class=\"headerlink\" title=\"Redis+\"></a>Redis+</h4><p>redis1000RedisRedisID<br>redis</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n"},{"layout":"post","title":"CAS ","description":null,"keywords":"cas","date":"2016-07-06T16:00:00.000Z","_content":"### CAS\n\n#### 1. x86 CPU\nCPU#HLOCK pinLOCKCPU#HLOCK pinCPU\n```java\ninline bool CAS2(pointer_t *addr, pointer_t &old_value, pointer_t &new_value)\n{\nbool ret;\n__asm__ __volatile__(\n\"lock cmpxchg16b %1;n\"\n\"sete %0;n\"\n:\"=m\"(ret),\"+m\" (*(volatile pointer_t *) (addr))\n:\"a\" (old_value.ptr), \"d\" (old_value.tag), \"b\" (new_value.ptr), \"c\" (new_value.tag));\nreturn ret;\n}\n```\nX86CPU\n \n\n\n\nread-modify-writeLOCK#\n\n\n\nCPU\nL1/L2 cachecacheCPUcache coherencycacheprocessor\nLOCKLOCK.\ncache lineInter486,\n\n\n\n>ACCESSES TO CACHEABLE MEMORY THAT ARE SPLIT ACROSS BUS WIDTHS, CACHE LINES, AND PAGE BOUNDARIES ARE NOT GUARANTEED TO BE ATOMIC BY THE INTEL CORE 2 DUO, INTEL ATOM, INTEL CORE DUO, PENTIUM M, PENTIUM 4, INTEL XEON, P6 FAMILY, PENTIUM, AND INTEL486 PROCESSORS.\n\ncache linepage\n\n#### 2.linux\n\natomic_tLinux32atomic_t24SPARC32int8SPARC\n0-31(640-63),\n\n\n### \n1\n2\n3\n\n\n### CAS\n#### 1). ABA\nCASABACASJavaAtomicStampedReferenceABA\n#### 2). \n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/731405bbc5b0122b43c21a44dddcbedc.png)\nCASCPUJVMpausepausede-pipeline,CPUmemory order violationCPUCPU pipeline flushCPU\n#### 3). \nCASCASi2,j=aij=2aCASijJava1.5JDKAtomicReferenceCAS\n\n\n### \nhttps://software.intel.com/zh-cn/blogs/2010/01/14/cpucpu\nhttp://blog.hesey.net/2011/09/resolve-aba-by-atomicstampedreference.html\nhttp://www.infoq.com/cn/articles/atomic-operation\nhttp://www.infoq.com/cn/articles/java-memory-model-5\nhttp://www.docin.com/p-92508695.html%E3%80%82\n\n","source":"_posts/Java/2016-07-07-cas-work.md","raw":"---\nlayout: post\ntitle: CAS \ncategories: Java\ndescription:\nkeywords: cas\ndate: 2016-07-07\n---\n### CAS\n\n#### 1. x86 CPU\nCPU#HLOCK pinLOCKCPU#HLOCK pinCPU\n```java\ninline bool CAS2(pointer_t *addr, pointer_t &old_value, pointer_t &new_value)\n{\nbool ret;\n__asm__ __volatile__(\n\"lock cmpxchg16b %1;n\"\n\"sete %0;n\"\n:\"=m\"(ret),\"+m\" (*(volatile pointer_t *) (addr))\n:\"a\" (old_value.ptr), \"d\" (old_value.tag), \"b\" (new_value.ptr), \"c\" (new_value.tag));\nreturn ret;\n}\n```\nX86CPU\n \n\n\n\nread-modify-writeLOCK#\n\n\n\nCPU\nL1/L2 cachecacheCPUcache coherencycacheprocessor\nLOCKLOCK.\ncache lineInter486,\n\n\n\n>ACCESSES TO CACHEABLE MEMORY THAT ARE SPLIT ACROSS BUS WIDTHS, CACHE LINES, AND PAGE BOUNDARIES ARE NOT GUARANTEED TO BE ATOMIC BY THE INTEL CORE 2 DUO, INTEL ATOM, INTEL CORE DUO, PENTIUM M, PENTIUM 4, INTEL XEON, P6 FAMILY, PENTIUM, AND INTEL486 PROCESSORS.\n\ncache linepage\n\n#### 2.linux\n\natomic_tLinux32atomic_t24SPARC32int8SPARC\n0-31(640-63),\n\n\n### \n1\n2\n3\n\n\n### CAS\n#### 1). ABA\nCASABACASJavaAtomicStampedReferenceABA\n#### 2). \n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/731405bbc5b0122b43c21a44dddcbedc.png)\nCASCPUJVMpausepausede-pipeline,CPUmemory order violationCPUCPU pipeline flushCPU\n#### 3). \nCASCASi2,j=aij=2aCASijJava1.5JDKAtomicReferenceCAS\n\n\n### \nhttps://software.intel.com/zh-cn/blogs/2010/01/14/cpucpu\nhttp://blog.hesey.net/2011/09/resolve-aba-by-atomicstampedreference.html\nhttp://www.infoq.com/cn/articles/atomic-operation\nhttp://www.infoq.com/cn/articles/java-memory-model-5\nhttp://www.docin.com/p-92508695.html%E3%80%82\n\n","slug":"Java/2016-07-07-cas-work","published":1,"updated":"2018-11-10T08:59:09.800Z","comments":1,"photos":[],"link":"","_id":"cjtohbk82001e6f12yitikoaw","content":"<h3 id=\"CAS\"><a href=\"#CAS\" class=\"headerlink\" title=\"CAS\"></a>CAS</h3><h4 id=\"1-x86-CPU\"><a href=\"#1-x86-CPU\" class=\"headerlink\" title=\"1. x86 CPU\"></a>1. x86 CPU</h4><p>CPU#HLOCK pinLOCKCPU#HLOCK pinCPU<br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\">inline bool <span class=\"title\">CAS2</span><span class=\"params\">(pointer_t *addr, pointer_t &amp;old_value, pointer_t &amp;new_value)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">bool ret;</span><br><span class=\"line\"><span class=\"function\">__asm__ <span class=\"title\">__volatile__</span><span class=\"params\">(</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\"><span class=\"string\">\"lock cmpxchg16b %1;n\"</span></span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\"><span class=\"string\">\"sete %0;n\"</span></span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">:<span class=\"string\">\"=m\"</span>(ret)</span>,\"+m\" <span class=\"params\">(*(<span class=\"keyword\">volatile</span> pointer_t *)</span> <span class=\"params\">(addr)</span>)</span></span><br><span class=\"line\"><span class=\"function\">:\"a\" <span class=\"params\">(old_value.ptr)</span>, \"d\" <span class=\"params\">(old_value.tag)</span>, \"b\" <span class=\"params\">(new_value.ptr)</span>, \"c\" <span class=\"params\">(new_value.tag)</span>)</span>;</span><br><span class=\"line\"><span class=\"keyword\">return</span> ret;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>X86CPU<br> <br></p>\n<p><br>read-modify-writeLOCK#</p>\n<p></p>\n<p>CPU<br>L1/L2 cachecacheCPUcache coherencycacheprocessor<br>LOCKLOCK.<br>cache lineInter486,</p>\n<p></p>\n<blockquote>\n<p>ACCESSES TO CACHEABLE MEMORY THAT ARE SPLIT ACROSS BUS WIDTHS, CACHE LINES, AND PAGE BOUNDARIES ARE NOT GUARANTEED TO BE ATOMIC BY THE INTEL CORE 2 DUO, INTEL ATOM, INTEL CORE DUO, PENTIUM M, PENTIUM 4, INTEL XEON, P6 FAMILY, PENTIUM, AND INTEL486 PROCESSORS.</p>\n</blockquote>\n<p>cache linepage</p>\n<h4 id=\"2-linux\"><a href=\"#2-linux\" class=\"headerlink\" title=\"2.linux\"></a>2.linux</h4><p><br>atomic_tLinux32atomic_t24SPARC32int8SPARC<br>0-31(640-63),</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>1<br>2<br>3</p>\n<h3 id=\"CAS\"><a href=\"#CAS\" class=\"headerlink\" title=\"CAS\"></a>CAS</h3><h4 id=\"1-ABA\"><a href=\"#1-ABA\" class=\"headerlink\" title=\"1). ABA\"></a>1). ABA</h4><p>CASABACASJavaAtomicStampedReferenceABA</p>\n<h4 id=\"2-\"><a href=\"#2-\" class=\"headerlink\" title=\"2). \"></a>2). </h4><p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/731405bbc5b0122b43c21a44dddcbedc.png\" alt=\"\"><br>CASCPUJVMpausepausede-pipeline,CPUmemory order violationCPUCPU pipeline flushCPU</p>\n<h4 id=\"3-\"><a href=\"#3-\" class=\"headerlink\" title=\"3). \"></a>3). </h4><p>CASCASi2,j=aij=2aCASijJava1.5JDKAtomicReferenceCAS</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><a href=\"https://software.intel.com/zh-cn/blogs/2010/01/14/cpucpu\" target=\"_blank\" rel=\"noopener\">https://software.intel.com/zh-cn/blogs/2010/01/14/cpucpu</a><br><a href=\"http://blog.hesey.net/2011/09/resolve-aba-by-atomicstampedreference.html\" target=\"_blank\" rel=\"noopener\">http://blog.hesey.net/2011/09/resolve-aba-by-atomicstampedreference.html</a><br><a href=\"http://www.infoq.com/cn/articles/atomic-operation\" target=\"_blank\" rel=\"noopener\">http://www.infoq.com/cn/articles/atomic-operation</a><br><a href=\"http://www.infoq.com/cn/articles/java-memory-model-5\" target=\"_blank\" rel=\"noopener\">http://www.infoq.com/cn/articles/java-memory-model-5</a><br><a href=\"http://www.docin.com/p-92508695.html%E3%80%82\" target=\"_blank\" rel=\"noopener\">http://www.docin.com/p-92508695.html%E3%80%82</a></p>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"CAS\"><a href=\"#CAS\" class=\"headerlink\" title=\"CAS\"></a>CAS</h3><h4 id=\"1-x86-CPU\"><a href=\"#1-x86-CPU\" class=\"headerlink\" title=\"1. x86 CPU\"></a>1. x86 CPU</h4><p>CPU#HLOCK pinLOCKCPU#HLOCK pinCPU<br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\">inline bool <span class=\"title\">CAS2</span><span class=\"params\">(pointer_t *addr, pointer_t &amp;old_value, pointer_t &amp;new_value)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">bool ret;</span><br><span class=\"line\"><span class=\"function\">__asm__ <span class=\"title\">__volatile__</span><span class=\"params\">(</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\"><span class=\"string\">\"lock cmpxchg16b %1;n\"</span></span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\"><span class=\"string\">\"sete %0;n\"</span></span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">:<span class=\"string\">\"=m\"</span>(ret)</span>,\"+m\" <span class=\"params\">(*(<span class=\"keyword\">volatile</span> pointer_t *)</span> <span class=\"params\">(addr)</span>)</span></span><br><span class=\"line\"><span class=\"function\">:\"a\" <span class=\"params\">(old_value.ptr)</span>, \"d\" <span class=\"params\">(old_value.tag)</span>, \"b\" <span class=\"params\">(new_value.ptr)</span>, \"c\" <span class=\"params\">(new_value.tag)</span>)</span>;</span><br><span class=\"line\"><span class=\"keyword\">return</span> ret;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>X86CPU<br> <br></p>\n<p><br>read-modify-writeLOCK#</p>\n<p></p>\n<p>CPU<br>L1/L2 cachecacheCPUcache coherencycacheprocessor<br>LOCKLOCK.<br>cache lineInter486,</p>\n<p></p>\n<blockquote>\n<p>ACCESSES TO CACHEABLE MEMORY THAT ARE SPLIT ACROSS BUS WIDTHS, CACHE LINES, AND PAGE BOUNDARIES ARE NOT GUARANTEED TO BE ATOMIC BY THE INTEL CORE 2 DUO, INTEL ATOM, INTEL CORE DUO, PENTIUM M, PENTIUM 4, INTEL XEON, P6 FAMILY, PENTIUM, AND INTEL486 PROCESSORS.</p>\n</blockquote>\n<p>cache linepage</p>\n<h4 id=\"2-linux\"><a href=\"#2-linux\" class=\"headerlink\" title=\"2.linux\"></a>2.linux</h4><p><br>atomic_tLinux32atomic_t24SPARC32int8SPARC<br>0-31(640-63),</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>1<br>2<br>3</p>\n<h3 id=\"CAS\"><a href=\"#CAS\" class=\"headerlink\" title=\"CAS\"></a>CAS</h3><h4 id=\"1-ABA\"><a href=\"#1-ABA\" class=\"headerlink\" title=\"1). ABA\"></a>1). ABA</h4><p>CASABACASJavaAtomicStampedReferenceABA</p>\n<h4 id=\"2-\"><a href=\"#2-\" class=\"headerlink\" title=\"2). \"></a>2). </h4><p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/731405bbc5b0122b43c21a44dddcbedc.png\" alt=\"\"><br>CASCPUJVMpausepausede-pipeline,CPUmemory order violationCPUCPU pipeline flushCPU</p>\n<h4 id=\"3-\"><a href=\"#3-\" class=\"headerlink\" title=\"3). \"></a>3). </h4><p>CASCASi2,j=aij=2aCASijJava1.5JDKAtomicReferenceCAS</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><a href=\"https://software.intel.com/zh-cn/blogs/2010/01/14/cpucpu\" target=\"_blank\" rel=\"noopener\">https://software.intel.com/zh-cn/blogs/2010/01/14/cpucpu</a><br><a href=\"http://blog.hesey.net/2011/09/resolve-aba-by-atomicstampedreference.html\" target=\"_blank\" rel=\"noopener\">http://blog.hesey.net/2011/09/resolve-aba-by-atomicstampedreference.html</a><br><a href=\"http://www.infoq.com/cn/articles/atomic-operation\" target=\"_blank\" rel=\"noopener\">http://www.infoq.com/cn/articles/atomic-operation</a><br><a href=\"http://www.infoq.com/cn/articles/java-memory-model-5\" target=\"_blank\" rel=\"noopener\">http://www.infoq.com/cn/articles/java-memory-model-5</a><br><a href=\"http://www.docin.com/p-92508695.html%E3%80%82\" target=\"_blank\" rel=\"noopener\">http://www.docin.com/p-92508695.html%E3%80%82</a></p>\n"},{"layout":"post","title":"Java","description":null,"keywords":"java concurrent","date":"2016-07-24T16:00:00.000Z","_content":"\n#### \n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/38c5d3b75b38509879ddc5c0c5e7a9cc.png)\n#### \n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/077c82429ae429987031d0c6255bd7ac.png)\n#### \n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/a04edc5544d9438f7b58bb1147888260.png)\n#### \n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/fbf70991bc2d5b328142c75915155449.png)\n\n","source":"_posts/Java/2016-07-25-picture-java-concurrent.md","raw":"---\nlayout: post\ntitle: Java\ncategories: Java\ndescription:\nkeywords: java concurrent\ndate: 2016-07-25\n---\n\n#### \n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/38c5d3b75b38509879ddc5c0c5e7a9cc.png)\n#### \n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/077c82429ae429987031d0c6255bd7ac.png)\n#### \n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/a04edc5544d9438f7b58bb1147888260.png)\n#### \n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/fbf70991bc2d5b328142c75915155449.png)\n\n","slug":"Java/2016-07-25-picture-java-concurrent","published":1,"updated":"2018-11-10T08:59:09.800Z","comments":1,"photos":[],"link":"","_id":"cjtohbk83001g6f12n9kxfdkq","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/38c5d3b75b38509879ddc5c0c5e7a9cc.png\" alt=\"\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/077c82429ae429987031d0c6255bd7ac.png\" alt=\"\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/a04edc5544d9438f7b58bb1147888260.png\" alt=\"\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/fbf70991bc2d5b328142c75915155449.png\" alt=\"\"></p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/38c5d3b75b38509879ddc5c0c5e7a9cc.png\" alt=\"\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/077c82429ae429987031d0c6255bd7ac.png\" alt=\"\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/a04edc5544d9438f7b58bb1147888260.png\" alt=\"\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/fbf70991bc2d5b328142c75915155449.png\" alt=\"\"></p>\n"},{"layout":"post","title":"TaskThreadPool","description":null,"keywords":"task threadpool","date":"2016-08-16T16:00:00.000Z","_content":"### \n\n### \n\n\n### \nPool-Zcore_size=5,max_size=20,queue_size=1000AAA1A2A3Pool-ZACountDownLatch.awaitAAA1A2A3ABCBCD4BCD2030003000\n### \n* \n* \n### \n* \n* waitlock\n* \n* static\n\n### \n\n```java\npublic  class NamedThreadFactory implements ThreadFactory {\n    private static final AtomicInteger poolNumber = new AtomicInteger(1);\n    private final ThreadGroup group;\n    private final AtomicInteger threadNumber = new AtomicInteger(1);\n    private final String namePrefix;\n    private final boolean threadDeamon;\n\n    NamedThreadFactory(String name) {\n        SecurityManager s = System.getSecurityManager();\n        group = (s != null) ? s.getThreadGroup() : Thread.currentThread().getThreadGroup();\n        String newname = name != null ? name + \"-thread\" : \"thread\";\n        namePrefix = \"pool-\" + poolNumber.getAndIncrement() + \"-\" + newname + \"-\";\n        threadDeamon = false;\n    }\n\n    NamedThreadFactory(String name, boolean deamon) {\n        SecurityManager s = System.getSecurityManager();\n        group = (s != null) ? s.getThreadGroup() : Thread.currentThread().getThreadGroup();\n        String newname = name != null ? name : \"thread\";\n        namePrefix = \"pool-\" + poolNumber.getAndIncrement() + \"-\" + newname + \"-\";\n        threadDeamon = deamon;\n    }\n\n    @Override\n    public Thread newThread(Runnable runnable) {\n        Thread thread = new Thread(group, runnable, namePrefix + threadNumber.getAndIncrement(), 0);\n        thread.setDaemon(threadDeamon);\n\n        if (thread.getPriority() != Thread.NORM_PRIORITY) {\n            thread.setPriority(Thread.NORM_PRIORITY);\n        }\n\n        thread.setUncaughtExceptionHandler(new Thread.UncaughtExceptionHandler() {\n            @Override\n            public void uncaughtException(Thread thread, Throwable ex) {\n                LOGGER.error(\"tagTask.\", thread.getName() + \" thrown an exception : \", ex);\n            }\n        });\n\n        return thread;\n    }\n}\n```\n\n","source":"_posts/Java/2016-08-17-task-threadpool.md","raw":"---\nlayout: post\ntitle: TaskThreadPool\ncategories: Java\ndescription:\nkeywords: task threadpool\ndate: 2016-08-17\n---\n### \n\n### \n\n\n### \nPool-Zcore_size=5,max_size=20,queue_size=1000AAA1A2A3Pool-ZACountDownLatch.awaitAAA1A2A3ABCBCD4BCD2030003000\n### \n* \n* \n### \n* \n* waitlock\n* \n* static\n\n### \n\n```java\npublic  class NamedThreadFactory implements ThreadFactory {\n    private static final AtomicInteger poolNumber = new AtomicInteger(1);\n    private final ThreadGroup group;\n    private final AtomicInteger threadNumber = new AtomicInteger(1);\n    private final String namePrefix;\n    private final boolean threadDeamon;\n\n    NamedThreadFactory(String name) {\n        SecurityManager s = System.getSecurityManager();\n        group = (s != null) ? s.getThreadGroup() : Thread.currentThread().getThreadGroup();\n        String newname = name != null ? name + \"-thread\" : \"thread\";\n        namePrefix = \"pool-\" + poolNumber.getAndIncrement() + \"-\" + newname + \"-\";\n        threadDeamon = false;\n    }\n\n    NamedThreadFactory(String name, boolean deamon) {\n        SecurityManager s = System.getSecurityManager();\n        group = (s != null) ? s.getThreadGroup() : Thread.currentThread().getThreadGroup();\n        String newname = name != null ? name : \"thread\";\n        namePrefix = \"pool-\" + poolNumber.getAndIncrement() + \"-\" + newname + \"-\";\n        threadDeamon = deamon;\n    }\n\n    @Override\n    public Thread newThread(Runnable runnable) {\n        Thread thread = new Thread(group, runnable, namePrefix + threadNumber.getAndIncrement(), 0);\n        thread.setDaemon(threadDeamon);\n\n        if (thread.getPriority() != Thread.NORM_PRIORITY) {\n            thread.setPriority(Thread.NORM_PRIORITY);\n        }\n\n        thread.setUncaughtExceptionHandler(new Thread.UncaughtExceptionHandler() {\n            @Override\n            public void uncaughtException(Thread thread, Throwable ex) {\n                LOGGER.error(\"tagTask.\", thread.getName() + \" thrown an exception : \", ex);\n            }\n        });\n\n        return thread;\n    }\n}\n```\n\n","slug":"Java/2016-08-17-task-threadpool","published":1,"updated":"2018-11-10T08:59:09.800Z","comments":1,"photos":[],"link":"","_id":"cjtohbk84001j6f12cinsz5a8","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Pool-Zcore_size=5,max_size=20,queue_size=1000AAA1A2A3Pool-ZACountDownLatch.awaitAAA1A2A3ABCBCD4BCD2030003000</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li></li>\n<li><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3></li>\n<li></li>\n<li>waitlock</li>\n<li></li>\n<li>static</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span>  <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">NamedThreadFactory</span> <span class=\"keyword\">implements</span> <span class=\"title\">ThreadFactory</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> AtomicInteger poolNumber = <span class=\"keyword\">new</span> AtomicInteger(<span class=\"number\">1</span>);</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">final</span> ThreadGroup group;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">final</span> AtomicInteger threadNumber = <span class=\"keyword\">new</span> AtomicInteger(<span class=\"number\">1</span>);</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">final</span> String namePrefix;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">final</span> <span class=\"keyword\">boolean</span> threadDeamon;</span><br><span class=\"line\"></span><br><span class=\"line\">    NamedThreadFactory(String name) &#123;</span><br><span class=\"line\">        SecurityManager s = System.getSecurityManager();</span><br><span class=\"line\">        group = (s != <span class=\"keyword\">null</span>) ? s.getThreadGroup() : Thread.currentThread().getThreadGroup();</span><br><span class=\"line\">        String newname = name != <span class=\"keyword\">null</span> ? name + <span class=\"string\">\"-thread\"</span> : <span class=\"string\">\"thread\"</span>;</span><br><span class=\"line\">        namePrefix = <span class=\"string\">\"pool-\"</span> + poolNumber.getAndIncrement() + <span class=\"string\">\"-\"</span> + newname + <span class=\"string\">\"-\"</span>;</span><br><span class=\"line\">        threadDeamon = <span class=\"keyword\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    NamedThreadFactory(String name, <span class=\"keyword\">boolean</span> deamon) &#123;</span><br><span class=\"line\">        SecurityManager s = System.getSecurityManager();</span><br><span class=\"line\">        group = (s != <span class=\"keyword\">null</span>) ? s.getThreadGroup() : Thread.currentThread().getThreadGroup();</span><br><span class=\"line\">        String newname = name != <span class=\"keyword\">null</span> ? name : <span class=\"string\">\"thread\"</span>;</span><br><span class=\"line\">        namePrefix = <span class=\"string\">\"pool-\"</span> + poolNumber.getAndIncrement() + <span class=\"string\">\"-\"</span> + newname + <span class=\"string\">\"-\"</span>;</span><br><span class=\"line\">        threadDeamon = deamon;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> Thread <span class=\"title\">newThread</span><span class=\"params\">(Runnable runnable)</span> </span>&#123;</span><br><span class=\"line\">        Thread thread = <span class=\"keyword\">new</span> Thread(group, runnable, namePrefix + threadNumber.getAndIncrement(), <span class=\"number\">0</span>);</span><br><span class=\"line\">        thread.setDaemon(threadDeamon);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (thread.getPriority() != Thread.NORM_PRIORITY) &#123;</span><br><span class=\"line\">            thread.setPriority(Thread.NORM_PRIORITY);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        thread.setUncaughtExceptionHandler(<span class=\"keyword\">new</span> Thread.UncaughtExceptionHandler() &#123;</span><br><span class=\"line\">            <span class=\"meta\">@Override</span></span><br><span class=\"line\">            <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">uncaughtException</span><span class=\"params\">(Thread thread, Throwable ex)</span> </span>&#123;</span><br><span class=\"line\">                LOGGER.error(<span class=\"string\">\"tagTask.\"</span>, thread.getName() + <span class=\"string\">\" thrown an exception : \"</span>, ex);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> thread;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Pool-Zcore_size=5,max_size=20,queue_size=1000AAA1A2A3Pool-ZACountDownLatch.awaitAAA1A2A3ABCBCD4BCD2030003000</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li></li>\n<li><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3></li>\n<li></li>\n<li>waitlock</li>\n<li></li>\n<li>static</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span>  <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">NamedThreadFactory</span> <span class=\"keyword\">implements</span> <span class=\"title\">ThreadFactory</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> AtomicInteger poolNumber = <span class=\"keyword\">new</span> AtomicInteger(<span class=\"number\">1</span>);</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">final</span> ThreadGroup group;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">final</span> AtomicInteger threadNumber = <span class=\"keyword\">new</span> AtomicInteger(<span class=\"number\">1</span>);</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">final</span> String namePrefix;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">final</span> <span class=\"keyword\">boolean</span> threadDeamon;</span><br><span class=\"line\"></span><br><span class=\"line\">    NamedThreadFactory(String name) &#123;</span><br><span class=\"line\">        SecurityManager s = System.getSecurityManager();</span><br><span class=\"line\">        group = (s != <span class=\"keyword\">null</span>) ? s.getThreadGroup() : Thread.currentThread().getThreadGroup();</span><br><span class=\"line\">        String newname = name != <span class=\"keyword\">null</span> ? name + <span class=\"string\">\"-thread\"</span> : <span class=\"string\">\"thread\"</span>;</span><br><span class=\"line\">        namePrefix = <span class=\"string\">\"pool-\"</span> + poolNumber.getAndIncrement() + <span class=\"string\">\"-\"</span> + newname + <span class=\"string\">\"-\"</span>;</span><br><span class=\"line\">        threadDeamon = <span class=\"keyword\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    NamedThreadFactory(String name, <span class=\"keyword\">boolean</span> deamon) &#123;</span><br><span class=\"line\">        SecurityManager s = System.getSecurityManager();</span><br><span class=\"line\">        group = (s != <span class=\"keyword\">null</span>) ? s.getThreadGroup() : Thread.currentThread().getThreadGroup();</span><br><span class=\"line\">        String newname = name != <span class=\"keyword\">null</span> ? name : <span class=\"string\">\"thread\"</span>;</span><br><span class=\"line\">        namePrefix = <span class=\"string\">\"pool-\"</span> + poolNumber.getAndIncrement() + <span class=\"string\">\"-\"</span> + newname + <span class=\"string\">\"-\"</span>;</span><br><span class=\"line\">        threadDeamon = deamon;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> Thread <span class=\"title\">newThread</span><span class=\"params\">(Runnable runnable)</span> </span>&#123;</span><br><span class=\"line\">        Thread thread = <span class=\"keyword\">new</span> Thread(group, runnable, namePrefix + threadNumber.getAndIncrement(), <span class=\"number\">0</span>);</span><br><span class=\"line\">        thread.setDaemon(threadDeamon);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (thread.getPriority() != Thread.NORM_PRIORITY) &#123;</span><br><span class=\"line\">            thread.setPriority(Thread.NORM_PRIORITY);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        thread.setUncaughtExceptionHandler(<span class=\"keyword\">new</span> Thread.UncaughtExceptionHandler() &#123;</span><br><span class=\"line\">            <span class=\"meta\">@Override</span></span><br><span class=\"line\">            <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">uncaughtException</span><span class=\"params\">(Thread thread, Throwable ex)</span> </span>&#123;</span><br><span class=\"line\">                LOGGER.error(<span class=\"string\">\"tagTask.\"</span>, thread.getName() + <span class=\"string\">\" thrown an exception : \"</span>, ex);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> thread;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n"},{"layout":"post","title":"MapStruct BeanUtil ModelMapper","description":null,"keywords":"mapping","date":"2017-02-14T16:00:00.000Z","_content":"### Object mapping \n1.  set/get   invokebeanutil, JavassistDozer,ModelMaper\n2.  set/getclass classset/get MapStruct,Selma,Orika\n### \nobject mapping\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/8b18840183c7caaf6f0847995a4f0c8a.png)\nclass\n\nMapStruct  Selmahttps://java.libhunt.com/project/mapstruct/vs/selma\nMapStruct  ModelMapperhttps://java.libhunt.com/project/mapstruct/vs/modelmapper\n\nMapStruct \n\n### Maven\n```java\n    <properties>\n        <java.version>1.8</java.version>\n        <org.mapstruct.version>1.1.0.Final</org.mapstruct.version>\n    </properties>\n```\n\n```java\n   <dependency>\n       <groupId>org.mapstruct</groupId>\n       <artifactId>mapstruct-jdk8</artifactId>\n       <version>${org.mapstruct.version}</version>\n   </dependency>\n```\n\n```java\n    <plugin>\n           <groupId>org.apache.maven.plugins</groupId>\n           <artifactId>maven-compiler-plugin</artifactId>\n           <version>3.5.1</version>\n           <configuration>\n               <source>${java.version}</source>\n               <target>${java.version}</target>\n               <encoding>${java.encoding}</encoding>\n               <annotationProcessorPaths>\n                   <path>\n                       <groupId>org.mapstruct</groupId>\n                       <artifactId>mapstruct-processor</artifactId>\n                       <version>${org.mapstruct.version}</version>\n                   </path>\n               </annotationProcessorPaths>\n           </configuration>\n    </plugin>\n```\n\n### MapStruct\n```java\n@Mapper(componentModel = \"spring\")\npublic interface MonitorAppGroupIdcDTOMapper {\n\n    MonitorAppGroupIdcDTOMapper MAPPER = Mappers.getMapper(MonitorAppGroupIdcDTOMapper.class);\n\n    void mapping(MonitorAppGroupIdcDTO source, @MappingTarget MonitorAppGroupIdcDTO dest);\n}\n```\n\n\n\n```java\n    @Component\npublic class MonitorAppGroupIdcDTOMapperImpl implements MonitorAppGroupIdcDTOMapper {\n    public MonitorAppGroupIdcDTOMapperImpl() {\n    }\n\n    public void mapping(MonitorAppGroupIdcDTO source, MonitorAppGroupIdcDTO dest) {\n        if(source != null) {\n            dest.setId(source.getId());\n            dest.setGmtCreate(source.getGmtCreate());\n            ...\n        }\n    }\n}\n```\n\nMapStructget/setget/setget/setlombokmapstrcuthttps://github.com/mapstruct/mapstruct/issues/510Lombok get/setIDEIntellij Idea\"Lombok plugin\"DODTOget/setget/setLombokget/set\n\n### MapStruct\n#### 1. @MappercomponentModel\n`componentModel`\n\n* default: mapstruct, Mappers.getMapper(Class)\n* cdi: the generated mapper is an application-scoped CDI bean and can be retrieved via @Inject\n* spring: @ComponentSpring @Autowired\n* jsr330: @javax.inject.Named @Singleton @Inject\n\n\n\n\n","source":"_posts/Java/2017-02-15-object-mapping.md","raw":"---\nlayout: post\ntitle: MapStruct BeanUtil ModelMapper\ncategories: Java\ndescription:\nkeywords: mapping\ndate: 2017-02-15\n---\n### Object mapping \n1.  set/get   invokebeanutil, JavassistDozer,ModelMaper\n2.  set/getclass classset/get MapStruct,Selma,Orika\n### \nobject mapping\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/8b18840183c7caaf6f0847995a4f0c8a.png)\nclass\n\nMapStruct  Selmahttps://java.libhunt.com/project/mapstruct/vs/selma\nMapStruct  ModelMapperhttps://java.libhunt.com/project/mapstruct/vs/modelmapper\n\nMapStruct \n\n### Maven\n```java\n    <properties>\n        <java.version>1.8</java.version>\n        <org.mapstruct.version>1.1.0.Final</org.mapstruct.version>\n    </properties>\n```\n\n```java\n   <dependency>\n       <groupId>org.mapstruct</groupId>\n       <artifactId>mapstruct-jdk8</artifactId>\n       <version>${org.mapstruct.version}</version>\n   </dependency>\n```\n\n```java\n    <plugin>\n           <groupId>org.apache.maven.plugins</groupId>\n           <artifactId>maven-compiler-plugin</artifactId>\n           <version>3.5.1</version>\n           <configuration>\n               <source>${java.version}</source>\n               <target>${java.version}</target>\n               <encoding>${java.encoding}</encoding>\n               <annotationProcessorPaths>\n                   <path>\n                       <groupId>org.mapstruct</groupId>\n                       <artifactId>mapstruct-processor</artifactId>\n                       <version>${org.mapstruct.version}</version>\n                   </path>\n               </annotationProcessorPaths>\n           </configuration>\n    </plugin>\n```\n\n### MapStruct\n```java\n@Mapper(componentModel = \"spring\")\npublic interface MonitorAppGroupIdcDTOMapper {\n\n    MonitorAppGroupIdcDTOMapper MAPPER = Mappers.getMapper(MonitorAppGroupIdcDTOMapper.class);\n\n    void mapping(MonitorAppGroupIdcDTO source, @MappingTarget MonitorAppGroupIdcDTO dest);\n}\n```\n\n\n\n```java\n    @Component\npublic class MonitorAppGroupIdcDTOMapperImpl implements MonitorAppGroupIdcDTOMapper {\n    public MonitorAppGroupIdcDTOMapperImpl() {\n    }\n\n    public void mapping(MonitorAppGroupIdcDTO source, MonitorAppGroupIdcDTO dest) {\n        if(source != null) {\n            dest.setId(source.getId());\n            dest.setGmtCreate(source.getGmtCreate());\n            ...\n        }\n    }\n}\n```\n\nMapStructget/setget/setget/setlombokmapstrcuthttps://github.com/mapstruct/mapstruct/issues/510Lombok get/setIDEIntellij Idea\"Lombok plugin\"DODTOget/setget/setLombokget/set\n\n### MapStruct\n#### 1. @MappercomponentModel\n`componentModel`\n\n* default: mapstruct, Mappers.getMapper(Class)\n* cdi: the generated mapper is an application-scoped CDI bean and can be retrieved via @Inject\n* spring: @ComponentSpring @Autowired\n* jsr330: @javax.inject.Named @Singleton @Inject\n\n\n\n\n","slug":"Java/2017-02-15-object-mapping","published":1,"updated":"2018-11-10T08:59:09.800Z","comments":1,"photos":[],"link":"","_id":"cjtohbk85001l6f126yzkhi48","content":"<h3 id=\"Object-mapping-\"><a href=\"#Object-mapping-\" class=\"headerlink\" title=\"Object mapping \"></a>Object mapping </h3><ol>\n<li> set/get   invokebeanutil, JavassistDozer,ModelMaper</li>\n<li> set/getclass classset/get MapStruct,Selma,Orika<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3>object mapping<br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/8b18840183c7caaf6f0847995a4f0c8a.png\" alt=\"\"><br>class</li>\n</ol>\n<p>MapStruct  Selma<a href=\"https://java.libhunt.com/project/mapstruct/vs/selma\" target=\"_blank\" rel=\"noopener\">https://java.libhunt.com/project/mapstruct/vs/selma</a><br>MapStruct  ModelMapper<a href=\"https://java.libhunt.com/project/mapstruct/vs/modelmapper\" target=\"_blank\" rel=\"noopener\">https://java.libhunt.com/project/mapstruct/vs/modelmapper</a></p>\n<p>MapStruct </p>\n<h3 id=\"Maven\"><a href=\"#Maven\" class=\"headerlink\" title=\"Maven\"></a>Maven</h3><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;properties&gt;</span><br><span class=\"line\">    &lt;java.version&gt;1.8&lt;/java.version&gt;</span><br><span class=\"line\">    &lt;org.mapstruct.version&gt;1.1.0.Final&lt;/org.mapstruct.version&gt;</span><br><span class=\"line\">&lt;/properties&gt;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;dependency&gt;</span><br><span class=\"line\">    &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;</span><br><span class=\"line\">    &lt;artifactId&gt;mapstruct-jdk8&lt;/artifactId&gt;</span><br><span class=\"line\">    &lt;version&gt;$&#123;org.mapstruct.version&#125;&lt;/version&gt;</span><br><span class=\"line\">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;plugin&gt;</span><br><span class=\"line\">       &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;</span><br><span class=\"line\">       &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;</span><br><span class=\"line\">       &lt;version&gt;3.5.1&lt;/version&gt;</span><br><span class=\"line\">       &lt;configuration&gt;</span><br><span class=\"line\">           &lt;source&gt;$&#123;java.version&#125;&lt;/source&gt;</span><br><span class=\"line\">           &lt;target&gt;$&#123;java.version&#125;&lt;/target&gt;</span><br><span class=\"line\">           &lt;encoding&gt;$&#123;java.encoding&#125;&lt;/encoding&gt;</span><br><span class=\"line\">           &lt;annotationProcessorPaths&gt;</span><br><span class=\"line\">               &lt;path&gt;</span><br><span class=\"line\">                   &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;</span><br><span class=\"line\">                   &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;</span><br><span class=\"line\">                   &lt;version&gt;$&#123;org.mapstruct.version&#125;&lt;/version&gt;</span><br><span class=\"line\">               &lt;/path&gt;</span><br><span class=\"line\">           &lt;/annotationProcessorPaths&gt;</span><br><span class=\"line\">       &lt;/configuration&gt;</span><br><span class=\"line\">&lt;/plugin&gt;</span><br></pre></td></tr></table></figure>\n<h3 id=\"MapStruct\"><a href=\"#MapStruct\" class=\"headerlink\" title=\"MapStruct\"></a>MapStruct</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Mapper</span>(componentModel = <span class=\"string\">\"spring\"</span>)</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">MonitorAppGroupIdcDTOMapper</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    MonitorAppGroupIdcDTOMapper MAPPER = Mappers.getMapper(MonitorAppGroupIdcDTOMapper.class);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">mapping</span><span class=\"params\">(MonitorAppGroupIdcDTO source, @MappingTarget MonitorAppGroupIdcDTO dest)</span></span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    <span class=\"meta\">@Component</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MonitorAppGroupIdcDTOMapperImpl</span> <span class=\"keyword\">implements</span> <span class=\"title\">MonitorAppGroupIdcDTOMapper</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">MonitorAppGroupIdcDTOMapperImpl</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">mapping</span><span class=\"params\">(MonitorAppGroupIdcDTO source, MonitorAppGroupIdcDTO dest)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(source != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            dest.setId(source.getId());</span><br><span class=\"line\">            dest.setGmtCreate(source.getGmtCreate());</span><br><span class=\"line\">            ...</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>MapStructget/setget/setget/setlombokmapstrcut<a href=\"https://github.com/mapstruct/mapstruct/issues/510Lombok\" target=\"_blank\" rel=\"noopener\">https://github.com/mapstruct/mapstruct/issues/510Lombok</a> get/setIDEIntellij IdeaLombok pluginDODTOget/setget/setLombokget/set</p>\n<h3 id=\"MapStruct\"><a href=\"#MapStruct\" class=\"headerlink\" title=\"MapStruct\"></a>MapStruct</h3><h4 id=\"1-MappercomponentModel\"><a href=\"#1-MappercomponentModel\" class=\"headerlink\" title=\"1. @MappercomponentModel\"></a>1. @MappercomponentModel</h4><p><code>componentModel</code></p>\n<ul>\n<li>default: mapstruct, Mappers.getMapper(Class)</li>\n<li>cdi: the generated mapper is an application-scoped CDI bean and can be retrieved via @Inject</li>\n<li>spring: @ComponentSpring @Autowired</li>\n<li>jsr330: @javax.inject.Named @Singleton @Inject</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"Object-mapping-\"><a href=\"#Object-mapping-\" class=\"headerlink\" title=\"Object mapping \"></a>Object mapping </h3><ol>\n<li> set/get   invokebeanutil, JavassistDozer,ModelMaper</li>\n<li> set/getclass classset/get MapStruct,Selma,Orika<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3>object mapping<br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/8b18840183c7caaf6f0847995a4f0c8a.png\" alt=\"\"><br>class</li>\n</ol>\n<p>MapStruct  Selma<a href=\"https://java.libhunt.com/project/mapstruct/vs/selma\" target=\"_blank\" rel=\"noopener\">https://java.libhunt.com/project/mapstruct/vs/selma</a><br>MapStruct  ModelMapper<a href=\"https://java.libhunt.com/project/mapstruct/vs/modelmapper\" target=\"_blank\" rel=\"noopener\">https://java.libhunt.com/project/mapstruct/vs/modelmapper</a></p>\n<p>MapStruct </p>\n<h3 id=\"Maven\"><a href=\"#Maven\" class=\"headerlink\" title=\"Maven\"></a>Maven</h3><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;properties&gt;</span><br><span class=\"line\">    &lt;java.version&gt;1.8&lt;/java.version&gt;</span><br><span class=\"line\">    &lt;org.mapstruct.version&gt;1.1.0.Final&lt;/org.mapstruct.version&gt;</span><br><span class=\"line\">&lt;/properties&gt;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;dependency&gt;</span><br><span class=\"line\">    &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;</span><br><span class=\"line\">    &lt;artifactId&gt;mapstruct-jdk8&lt;/artifactId&gt;</span><br><span class=\"line\">    &lt;version&gt;$&#123;org.mapstruct.version&#125;&lt;/version&gt;</span><br><span class=\"line\">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;plugin&gt;</span><br><span class=\"line\">       &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;</span><br><span class=\"line\">       &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;</span><br><span class=\"line\">       &lt;version&gt;3.5.1&lt;/version&gt;</span><br><span class=\"line\">       &lt;configuration&gt;</span><br><span class=\"line\">           &lt;source&gt;$&#123;java.version&#125;&lt;/source&gt;</span><br><span class=\"line\">           &lt;target&gt;$&#123;java.version&#125;&lt;/target&gt;</span><br><span class=\"line\">           &lt;encoding&gt;$&#123;java.encoding&#125;&lt;/encoding&gt;</span><br><span class=\"line\">           &lt;annotationProcessorPaths&gt;</span><br><span class=\"line\">               &lt;path&gt;</span><br><span class=\"line\">                   &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;</span><br><span class=\"line\">                   &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;</span><br><span class=\"line\">                   &lt;version&gt;$&#123;org.mapstruct.version&#125;&lt;/version&gt;</span><br><span class=\"line\">               &lt;/path&gt;</span><br><span class=\"line\">           &lt;/annotationProcessorPaths&gt;</span><br><span class=\"line\">       &lt;/configuration&gt;</span><br><span class=\"line\">&lt;/plugin&gt;</span><br></pre></td></tr></table></figure>\n<h3 id=\"MapStruct\"><a href=\"#MapStruct\" class=\"headerlink\" title=\"MapStruct\"></a>MapStruct</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Mapper</span>(componentModel = <span class=\"string\">\"spring\"</span>)</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">MonitorAppGroupIdcDTOMapper</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    MonitorAppGroupIdcDTOMapper MAPPER = Mappers.getMapper(MonitorAppGroupIdcDTOMapper.class);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">mapping</span><span class=\"params\">(MonitorAppGroupIdcDTO source, @MappingTarget MonitorAppGroupIdcDTO dest)</span></span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    <span class=\"meta\">@Component</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MonitorAppGroupIdcDTOMapperImpl</span> <span class=\"keyword\">implements</span> <span class=\"title\">MonitorAppGroupIdcDTOMapper</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">MonitorAppGroupIdcDTOMapperImpl</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">mapping</span><span class=\"params\">(MonitorAppGroupIdcDTO source, MonitorAppGroupIdcDTO dest)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(source != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            dest.setId(source.getId());</span><br><span class=\"line\">            dest.setGmtCreate(source.getGmtCreate());</span><br><span class=\"line\">            ...</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>MapStructget/setget/setget/setlombokmapstrcut<a href=\"https://github.com/mapstruct/mapstruct/issues/510Lombok\" target=\"_blank\" rel=\"noopener\">https://github.com/mapstruct/mapstruct/issues/510Lombok</a> get/setIDEIntellij IdeaLombok pluginDODTOget/setget/setLombokget/set</p>\n<h3 id=\"MapStruct\"><a href=\"#MapStruct\" class=\"headerlink\" title=\"MapStruct\"></a>MapStruct</h3><h4 id=\"1-MappercomponentModel\"><a href=\"#1-MappercomponentModel\" class=\"headerlink\" title=\"1. @MappercomponentModel\"></a>1. @MappercomponentModel</h4><p><code>componentModel</code></p>\n<ul>\n<li>default: mapstruct, Mappers.getMapper(Class)</li>\n<li>cdi: the generated mapper is an application-scoped CDI bean and can be retrieved via @Inject</li>\n<li>spring: @ComponentSpring @Autowired</li>\n<li>jsr330: @javax.inject.Named @Singleton @Inject</li>\n</ul>\n"},{"layout":"post","title":"ThreadLocal ","description":null,"keywords":"threadlocal","date":"2017-02-15T16:00:00.000Z","_content":"\n## ThreadLocal \nThis class provides thread-local variables. \n\n## ThreadLocal\n1. Threadpackage private\n    * ThreadLocal.ThreadLocalMap threadLocals\n    * ThreadLocal.ThreadLocalMap inheritableThreadLocals\n2.  ThreadLocal  Id**threadLocalHashCode** ThreadLocal threadLocalHashCode   ThreadLocalMap \n   \n```java\n private Entry getEntry(ThreadLocal<?> key) {\n     int i = key.threadLocalHashCode \n     & (table.length - 1);\n     Entry e = table[i];\n     if (e != null && e.get() == key)\n         return e;\n     else\n         return getEntryAfterMiss(key, i, e);\n }\n```\n\n3. ThreadLocalMap EntityEntry[] tableThreadLocal\n\n## ThreadLocalMap\n1. ThreadLocalMapHash Map\n2. Entry  WeakReference  ThreadLocal \n3. ThreadLocalMapThreadLocalMapThreadLocalMapThreadLocalMapThreadLocalThreadLocalMapThreadLocalMapthisThreadLocal\n   \n```java\n    ThreadLocalMap getMap(Thread t) {\n        return t.threadLocals;\n    }\n       void createMap(Thread t, T firstValue) {\n        t.threadLocals = new ThreadLocalMap(this, firstValue);\n    }\n```\n\n##  0x61c88647\n\n\n## \n*  ThreadLocal\n    ThreadLocal \n\n## \n#### 1\nThreadLocalThreadThreadLocalMapobject\n\n****\n\nThreadThreadLocalThreadObjectThreadThreadLocalThreadLocalThreadLocalMap\n\n#### 2\nThreadLocalMaphash\n\n\n\n\n## \nhttp://qifuguang.me/2015/09/02/[Java%E5%B9%B6%E5%8F%91%E5%8C%85%E5%AD%A6%E4%B9%A0%E4%B8%83]%E8%A7%A3%E5%AF%86ThreadLocal/\n\n","source":"_posts/Java/2017-02-16-threadlocal.md","raw":"---\nlayout: post\ntitle: ThreadLocal \ncategories: Java\ndescription:\nkeywords: threadlocal\ndate: 2017-02-16\n---\n\n## ThreadLocal \nThis class provides thread-local variables. \n\n## ThreadLocal\n1. Threadpackage private\n    * ThreadLocal.ThreadLocalMap threadLocals\n    * ThreadLocal.ThreadLocalMap inheritableThreadLocals\n2.  ThreadLocal  Id**threadLocalHashCode** ThreadLocal threadLocalHashCode   ThreadLocalMap \n   \n```java\n private Entry getEntry(ThreadLocal<?> key) {\n     int i = key.threadLocalHashCode \n     & (table.length - 1);\n     Entry e = table[i];\n     if (e != null && e.get() == key)\n         return e;\n     else\n         return getEntryAfterMiss(key, i, e);\n }\n```\n\n3. ThreadLocalMap EntityEntry[] tableThreadLocal\n\n## ThreadLocalMap\n1. ThreadLocalMapHash Map\n2. Entry  WeakReference  ThreadLocal \n3. ThreadLocalMapThreadLocalMapThreadLocalMapThreadLocalMapThreadLocalThreadLocalMapThreadLocalMapthisThreadLocal\n   \n```java\n    ThreadLocalMap getMap(Thread t) {\n        return t.threadLocals;\n    }\n       void createMap(Thread t, T firstValue) {\n        t.threadLocals = new ThreadLocalMap(this, firstValue);\n    }\n```\n\n##  0x61c88647\n\n\n## \n*  ThreadLocal\n    ThreadLocal \n\n## \n#### 1\nThreadLocalThreadThreadLocalMapobject\n\n****\n\nThreadThreadLocalThreadObjectThreadThreadLocalThreadLocalThreadLocalMap\n\n#### 2\nThreadLocalMaphash\n\n\n\n\n## \nhttp://qifuguang.me/2015/09/02/[Java%E5%B9%B6%E5%8F%91%E5%8C%85%E5%AD%A6%E4%B9%A0%E4%B8%83]%E8%A7%A3%E5%AF%86ThreadLocal/\n\n","slug":"Java/2017-02-16-threadlocal","published":1,"updated":"2018-11-10T08:59:09.800Z","comments":1,"photos":[],"link":"","_id":"cjtohbk86001o6f127uf2hfae","content":"<h2 id=\"ThreadLocal-\"><a href=\"#ThreadLocal-\" class=\"headerlink\" title=\"ThreadLocal \"></a>ThreadLocal </h2><p>This class provides thread-local variables. </p>\n<h2 id=\"ThreadLocal\"><a href=\"#ThreadLocal\" class=\"headerlink\" title=\"ThreadLocal\"></a>ThreadLocal</h2><ol>\n<li>Threadpackage private<ul>\n<li>ThreadLocal.ThreadLocalMap threadLocals</li>\n<li>ThreadLocal.ThreadLocalMap inheritableThreadLocals</li>\n</ul>\n</li>\n<li> ThreadLocal  Id<strong>threadLocalHashCode</strong> ThreadLocal threadLocalHashCode   ThreadLocalMap </li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> Entry <span class=\"title\">getEntry</span><span class=\"params\">(ThreadLocal&lt;?&gt; key)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> i = key.threadLocalHashCode </span><br><span class=\"line\">    &amp; (table.length - <span class=\"number\">1</span>);</span><br><span class=\"line\">    Entry e = table[i];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (e != <span class=\"keyword\">null</span> &amp;&amp; e.get() == key)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> e;</span><br><span class=\"line\">    <span class=\"keyword\">else</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> getEntryAfterMiss(key, i, e);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li>ThreadLocalMap EntityEntry[] tableThreadLocal</li>\n</ol>\n<h2 id=\"ThreadLocalMap\"><a href=\"#ThreadLocalMap\" class=\"headerlink\" title=\"ThreadLocalMap\"></a>ThreadLocalMap</h2><ol>\n<li>ThreadLocalMapHash Map</li>\n<li>Entry  WeakReference  ThreadLocal </li>\n<li>ThreadLocalMapThreadLocalMapThreadLocalMapThreadLocalMapThreadLocalThreadLocalMapThreadLocalMapthisThreadLocal</li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\">ThreadLocalMap <span class=\"title\">getMap</span><span class=\"params\">(Thread t)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> t.threadLocals;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">   <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">createMap</span><span class=\"params\">(Thread t, T firstValue)</span> </span>&#123;</span><br><span class=\"line\">    t.threadLocals = <span class=\"keyword\">new</span> ThreadLocalMap(<span class=\"keyword\">this</span>, firstValue);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"-0x61c88647\"><a href=\"#-0x61c88647\" class=\"headerlink\" title=\" 0x61c88647\"></a> 0x61c88647</h2><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li>ThreadLocal<br> ThreadLocal </li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h4 id=\"1\"><a href=\"#1\" class=\"headerlink\" title=\"1\"></a>1</h4><p>ThreadLocalThreadThreadLocalMapobject</p>\n<p><strong></strong></p>\n<p>ThreadThreadLocalThreadObjectThreadThreadLocalThreadLocalThreadLocalMap</p>\n<h4 id=\"2\"><a href=\"#2\" class=\"headerlink\" title=\"2\"></a>2</h4><p>ThreadLocalMaphash</p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"http://qifuguang.me/2015/09/02/[Java%E5%B9%B6%E5%8F%91%E5%8C%85%E5%AD%A6%E4%B9%A0%E4%B8%83]%E8%A7%A3%E5%AF%86ThreadLocal/\" target=\"_blank\" rel=\"noopener\">http://qifuguang.me/2015/09/02/[Java%E5%B9%B6%E5%8F%91%E5%8C%85%E5%AD%A6%E4%B9%A0%E4%B8%83]%E8%A7%A3%E5%AF%86ThreadLocal/</a></p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"ThreadLocal-\"><a href=\"#ThreadLocal-\" class=\"headerlink\" title=\"ThreadLocal \"></a>ThreadLocal </h2><p>This class provides thread-local variables. </p>\n<h2 id=\"ThreadLocal\"><a href=\"#ThreadLocal\" class=\"headerlink\" title=\"ThreadLocal\"></a>ThreadLocal</h2><ol>\n<li>Threadpackage private<ul>\n<li>ThreadLocal.ThreadLocalMap threadLocals</li>\n<li>ThreadLocal.ThreadLocalMap inheritableThreadLocals</li>\n</ul>\n</li>\n<li> ThreadLocal  Id<strong>threadLocalHashCode</strong> ThreadLocal threadLocalHashCode   ThreadLocalMap </li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> Entry <span class=\"title\">getEntry</span><span class=\"params\">(ThreadLocal&lt;?&gt; key)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> i = key.threadLocalHashCode </span><br><span class=\"line\">    &amp; (table.length - <span class=\"number\">1</span>);</span><br><span class=\"line\">    Entry e = table[i];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (e != <span class=\"keyword\">null</span> &amp;&amp; e.get() == key)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> e;</span><br><span class=\"line\">    <span class=\"keyword\">else</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> getEntryAfterMiss(key, i, e);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li>ThreadLocalMap EntityEntry[] tableThreadLocal</li>\n</ol>\n<h2 id=\"ThreadLocalMap\"><a href=\"#ThreadLocalMap\" class=\"headerlink\" title=\"ThreadLocalMap\"></a>ThreadLocalMap</h2><ol>\n<li>ThreadLocalMapHash Map</li>\n<li>Entry  WeakReference  ThreadLocal </li>\n<li>ThreadLocalMapThreadLocalMapThreadLocalMapThreadLocalMapThreadLocalThreadLocalMapThreadLocalMapthisThreadLocal</li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\">ThreadLocalMap <span class=\"title\">getMap</span><span class=\"params\">(Thread t)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> t.threadLocals;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">   <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">createMap</span><span class=\"params\">(Thread t, T firstValue)</span> </span>&#123;</span><br><span class=\"line\">    t.threadLocals = <span class=\"keyword\">new</span> ThreadLocalMap(<span class=\"keyword\">this</span>, firstValue);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"-0x61c88647\"><a href=\"#-0x61c88647\" class=\"headerlink\" title=\" 0x61c88647\"></a> 0x61c88647</h2><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li>ThreadLocal<br> ThreadLocal </li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h4 id=\"1\"><a href=\"#1\" class=\"headerlink\" title=\"1\"></a>1</h4><p>ThreadLocalThreadThreadLocalMapobject</p>\n<p><strong></strong></p>\n<p>ThreadThreadLocalThreadObjectThreadThreadLocalThreadLocalThreadLocalMap</p>\n<h4 id=\"2\"><a href=\"#2\" class=\"headerlink\" title=\"2\"></a>2</h4><p>ThreadLocalMaphash</p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"http://qifuguang.me/2015/09/02/[Java%E5%B9%B6%E5%8F%91%E5%8C%85%E5%AD%A6%E4%B9%A0%E4%B8%83]%E8%A7%A3%E5%AF%86ThreadLocal/\" target=\"_blank\" rel=\"noopener\">http://qifuguang.me/2015/09/02/[Java%E5%B9%B6%E5%8F%91%E5%8C%85%E5%AD%A6%E4%B9%A0%E4%B8%83]%E8%A7%A3%E5%AF%86ThreadLocal/</a></p>\n"},{"layout":"post","title":"Java Load CPU MEM ","description":null,"keywords":"jstack","date":"2017-06-14T16:00:00.000Z","_content":"### \n\n![](/images/posts/20170615/sys-mail-notice.png)\n\n\n### \n\n\n![](/images/posts/20170615/sys-load-top.png)\n\nCPU  80%8G\n\n 5min10\n\n5min\n\nCPU\n```java\ntop -Hp pid \n```\n![](/images/posts/20170615/top-pid.png)\n\nCPU10025748456432.32\n![](/images/posts/20170615/jstack-top.png)\n\n\n![](/images/posts/20170615/jstack-grep-tid.png)\nChangeFree\n![](/images/posts/20170615/changefree-while-query.png)\nwhile\n\n\n![](/images/posts/20170615/system-monitor-line.png)\n\n","source":"_posts/Java/2017-06-15-while-died.md","raw":"---\nlayout: post\ntitle: Java Load CPU MEM \ncategories: Java\ndescription:\nkeywords: jstack\ndate: 2017-06-15\n---\n### \n\n![](/images/posts/20170615/sys-mail-notice.png)\n\n\n### \n\n\n![](/images/posts/20170615/sys-load-top.png)\n\nCPU  80%8G\n\n 5min10\n\n5min\n\nCPU\n```java\ntop -Hp pid \n```\n![](/images/posts/20170615/top-pid.png)\n\nCPU10025748456432.32\n![](/images/posts/20170615/jstack-top.png)\n\n\n![](/images/posts/20170615/jstack-grep-tid.png)\nChangeFree\n![](/images/posts/20170615/changefree-while-query.png)\nwhile\n\n\n![](/images/posts/20170615/system-monitor-line.png)\n\n","slug":"Java/2017-06-15-while-died","published":1,"updated":"2018-11-10T08:59:09.801Z","comments":1,"photos":[],"link":"","_id":"cjtohbk88001q6f12kl9mhjwp","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><br><img src=\"/images/posts/20170615/sys-mail-notice.png\" alt=\"\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><br><img src=\"/images/posts/20170615/sys-load-top.png\" alt=\"\"></p>\n<p>CPU  80%8G</p>\n<p> 5min10</p>\n<p>5min</p>\n<p>CPU<br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">top -Hp pid</span><br></pre></td></tr></table></figure></p>\n<p><img src=\"/images/posts/20170615/top-pid.png\" alt=\"\"></p>\n<p>CPU10025748456432.32<br><img src=\"/images/posts/20170615/jstack-top.png\" alt=\"\"></p>\n<p><br><img src=\"/images/posts/20170615/jstack-grep-tid.png\" alt=\"\"><br>ChangeFree<br><img src=\"/images/posts/20170615/changefree-while-query.png\" alt=\"\"><br>while</p>\n<p><br><img src=\"/images/posts/20170615/system-monitor-line.png\" alt=\"\"></p>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><br><img src=\"/images/posts/20170615/sys-mail-notice.png\" alt=\"\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><br><img src=\"/images/posts/20170615/sys-load-top.png\" alt=\"\"></p>\n<p>CPU  80%8G</p>\n<p> 5min10</p>\n<p>5min</p>\n<p>CPU<br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">top -Hp pid</span><br></pre></td></tr></table></figure></p>\n<p><img src=\"/images/posts/20170615/top-pid.png\" alt=\"\"></p>\n<p>CPU10025748456432.32<br><img src=\"/images/posts/20170615/jstack-top.png\" alt=\"\"></p>\n<p><br><img src=\"/images/posts/20170615/jstack-grep-tid.png\" alt=\"\"><br>ChangeFree<br><img src=\"/images/posts/20170615/changefree-while-query.png\" alt=\"\"><br>while</p>\n<p><br><img src=\"/images/posts/20170615/system-monitor-line.png\" alt=\"\"></p>\n"},{"layout":"post","title":"()","description":null,"keywords":"study road line","date":"2017-06-29T16:00:00.000Z","_content":"\n\n\n### \n![](/images/posts/20170630/4310879-f1ab820576d3d36b.png)\n\n\n![](/images/posts/20170630/4310879-51f9fe182fea724d.png)\nJava\n![](/images/posts/20170630/4310879-4a7c08a813ffa011.png)\n\n![](/images/posts/20170630/4310879-3357bcd3cb02416b.png)\n\n![](/images/posts/20170630/4310879-6ae60b2944c257ef.png)\n\n![](/images/posts/20170630/4310879-dedb20d5be56d989.png)\n\n![](/images/posts/20170630/4310879-678b45d2de320746.png)\n\n![](/images/posts/20170630/4310879-fc19311bc92a811d.png)\n\n![](/images/posts/20170630/4310879-bb0b92f26600b59a.png)\n\n### Java\n![](/images/posts/20170630/4310879-177756096b76affe.png)\n\nJVM\n![](/images/posts/20170630/4310879-cb86b37d1390d7b3.png)\nJava\n![](/images/posts/20170630/4310879-25474decc57eca07.png)\nJava\n![](/images/posts/20170630/4310879-d41c948490a26b54.png)\nJava\n![](/images/posts/20170630/4310879-a2c3b631208d255.png)\nJava List\n![](/images/posts/20170630/4310879-e088ada92f63d4c1.png)\nJava Map\n![](/images/posts/20170630/4310879-4f20d68e1f4bbd33.png)\nJava Set\n### \n![](/images/posts/20170630/4310879-ccf6cae90139b1.png)\n\nHadoop\n![](/images/posts/20170630/4310879-23d0bf618f8f6f5a.png)\n\n### \n![](/images/posts/20170630/4310879-6d0b680ae67a8c96.png)\n\n\n![](/images/posts/20170630/4310879-4c10e03305a1f2d8.png)\n\n\n### \n![](/images/posts/20170630/4310879-2175f5af9eed7857.png)\n\nIOS\n![](/images/posts/20170630/4310879-5ce73b40ffbe076d.png)\nOpenResty\n![](/images/posts/20170630/4310879-141e6ba51f8dc54c.png)\n\n![](/images/posts/20170630/4310879-6d02639ce5ae160f.png)\n\n![](/images/posts/20170630/4310879-f24ca8d32ad1a384.png)\n\n![](/images/posts/20170630/4310879-d0375b2d590c0c34.png)\n\n![](/images/posts/20170630/4310879-6395c5da25e3e7fc.png)\n\n![](/images/posts/20170630/4310879-350ab02c6030c235.png)\n\n\n\n\n\n","source":"_posts/Java/2017-06-30-study-road-line.md","raw":"---\nlayout: post\ntitle: ()\ncategories: Java\ndescription:\nkeywords: study road line\ndate: 2017-06-30\n---\n\n\n\n### \n![](/images/posts/20170630/4310879-f1ab820576d3d36b.png)\n\n\n![](/images/posts/20170630/4310879-51f9fe182fea724d.png)\nJava\n![](/images/posts/20170630/4310879-4a7c08a813ffa011.png)\n\n![](/images/posts/20170630/4310879-3357bcd3cb02416b.png)\n\n![](/images/posts/20170630/4310879-6ae60b2944c257ef.png)\n\n![](/images/posts/20170630/4310879-dedb20d5be56d989.png)\n\n![](/images/posts/20170630/4310879-678b45d2de320746.png)\n\n![](/images/posts/20170630/4310879-fc19311bc92a811d.png)\n\n![](/images/posts/20170630/4310879-bb0b92f26600b59a.png)\n\n### Java\n![](/images/posts/20170630/4310879-177756096b76affe.png)\n\nJVM\n![](/images/posts/20170630/4310879-cb86b37d1390d7b3.png)\nJava\n![](/images/posts/20170630/4310879-25474decc57eca07.png)\nJava\n![](/images/posts/20170630/4310879-d41c948490a26b54.png)\nJava\n![](/images/posts/20170630/4310879-a2c3b631208d255.png)\nJava List\n![](/images/posts/20170630/4310879-e088ada92f63d4c1.png)\nJava Map\n![](/images/posts/20170630/4310879-4f20d68e1f4bbd33.png)\nJava Set\n### \n![](/images/posts/20170630/4310879-ccf6cae90139b1.png)\n\nHadoop\n![](/images/posts/20170630/4310879-23d0bf618f8f6f5a.png)\n\n### \n![](/images/posts/20170630/4310879-6d0b680ae67a8c96.png)\n\n\n![](/images/posts/20170630/4310879-4c10e03305a1f2d8.png)\n\n\n### \n![](/images/posts/20170630/4310879-2175f5af9eed7857.png)\n\nIOS\n![](/images/posts/20170630/4310879-5ce73b40ffbe076d.png)\nOpenResty\n![](/images/posts/20170630/4310879-141e6ba51f8dc54c.png)\n\n![](/images/posts/20170630/4310879-6d02639ce5ae160f.png)\n\n![](/images/posts/20170630/4310879-f24ca8d32ad1a384.png)\n\n![](/images/posts/20170630/4310879-d0375b2d590c0c34.png)\n\n![](/images/posts/20170630/4310879-6395c5da25e3e7fc.png)\n\n![](/images/posts/20170630/4310879-350ab02c6030c235.png)\n\n\n\n\n\n","slug":"Java/2017-06-30-study-road-line","published":1,"updated":"2018-11-10T08:59:09.801Z","comments":1,"photos":[],"link":"","_id":"cjtohbk8a001t6f12pq1bqizv","content":"<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"/images/posts/20170630/4310879-f1ab820576d3d36b.png\" alt=\"\"></p>\n<p><br><img src=\"/images/posts/20170630/4310879-51f9fe182fea724d.png\" alt=\"\"><br>Java<br><img src=\"/images/posts/20170630/4310879-4a7c08a813ffa011.png\" alt=\"\"><br><br><img src=\"/images/posts/20170630/4310879-3357bcd3cb02416b.png\" alt=\"\"><br><br><img src=\"/images/posts/20170630/4310879-6ae60b2944c257ef.png\" alt=\"\"><br><br><img src=\"/images/posts/20170630/4310879-dedb20d5be56d989.png\" alt=\"\"><br><br><img src=\"/images/posts/20170630/4310879-678b45d2de320746.png\" alt=\"\"><br><br><img src=\"/images/posts/20170630/4310879-fc19311bc92a811d.png\" alt=\"\"><br><br><img src=\"/images/posts/20170630/4310879-bb0b92f26600b59a.png\" alt=\"\"><br></p>\n<h3 id=\"Java\"><a href=\"#Java\" class=\"headerlink\" title=\"Java\"></a>Java</h3><p><img src=\"/images/posts/20170630/4310879-177756096b76affe.png\" alt=\"\"></p>\n<p>JVM<br><img src=\"/images/posts/20170630/4310879-cb86b37d1390d7b3.png\" alt=\"\"><br>Java<br><img src=\"/images/posts/20170630/4310879-25474decc57eca07.png\" alt=\"\"><br>Java<br><img src=\"/images/posts/20170630/4310879-d41c948490a26b54.png\" alt=\"\"><br>Java<br><img src=\"/images/posts/20170630/4310879-a2c3b631208d255.png\" alt=\"\"><br>Java List<br><img src=\"/images/posts/20170630/4310879-e088ada92f63d4c1.png\" alt=\"\"><br>Java Map<br><img src=\"/images/posts/20170630/4310879-4f20d68e1f4bbd33.png\" alt=\"\"><br>Java Set</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"/images/posts/20170630/4310879-ccf6cae90139b1.png\" alt=\"\"></p>\n<p>Hadoop<br><img src=\"/images/posts/20170630/4310879-23d0bf618f8f6f5a.png\" alt=\"\"><br></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"/images/posts/20170630/4310879-6d0b680ae67a8c96.png\" alt=\"\"></p>\n<p><br><img src=\"/images/posts/20170630/4310879-4c10e03305a1f2d8.png\" alt=\"\"><br></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"/images/posts/20170630/4310879-2175f5af9eed7857.png\" alt=\"\"></p>\n<p>IOS<br><img src=\"/images/posts/20170630/4310879-5ce73b40ffbe076d.png\" alt=\"\"><br>OpenResty<br><img src=\"/images/posts/20170630/4310879-141e6ba51f8dc54c.png\" alt=\"\"><br><br><img src=\"/images/posts/20170630/4310879-6d02639ce5ae160f.png\" alt=\"\"><br><br><img src=\"/images/posts/20170630/4310879-f24ca8d32ad1a384.png\" alt=\"\"><br><br><img src=\"/images/posts/20170630/4310879-d0375b2d590c0c34.png\" alt=\"\"><br><br><img src=\"/images/posts/20170630/4310879-6395c5da25e3e7fc.png\" alt=\"\"><br><br><img src=\"/images/posts/20170630/4310879-350ab02c6030c235.png\" alt=\"\"><br></p>\n","site":{"data":{}},"excerpt":"","more":"<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"/images/posts/20170630/4310879-f1ab820576d3d36b.png\" alt=\"\"></p>\n<p><br><img src=\"/images/posts/20170630/4310879-51f9fe182fea724d.png\" alt=\"\"><br>Java<br><img src=\"/images/posts/20170630/4310879-4a7c08a813ffa011.png\" alt=\"\"><br><br><img src=\"/images/posts/20170630/4310879-3357bcd3cb02416b.png\" alt=\"\"><br><br><img src=\"/images/posts/20170630/4310879-6ae60b2944c257ef.png\" alt=\"\"><br><br><img src=\"/images/posts/20170630/4310879-dedb20d5be56d989.png\" alt=\"\"><br><br><img src=\"/images/posts/20170630/4310879-678b45d2de320746.png\" alt=\"\"><br><br><img src=\"/images/posts/20170630/4310879-fc19311bc92a811d.png\" alt=\"\"><br><br><img src=\"/images/posts/20170630/4310879-bb0b92f26600b59a.png\" alt=\"\"><br></p>\n<h3 id=\"Java\"><a href=\"#Java\" class=\"headerlink\" title=\"Java\"></a>Java</h3><p><img src=\"/images/posts/20170630/4310879-177756096b76affe.png\" alt=\"\"></p>\n<p>JVM<br><img src=\"/images/posts/20170630/4310879-cb86b37d1390d7b3.png\" alt=\"\"><br>Java<br><img src=\"/images/posts/20170630/4310879-25474decc57eca07.png\" alt=\"\"><br>Java<br><img src=\"/images/posts/20170630/4310879-d41c948490a26b54.png\" alt=\"\"><br>Java<br><img src=\"/images/posts/20170630/4310879-a2c3b631208d255.png\" alt=\"\"><br>Java List<br><img src=\"/images/posts/20170630/4310879-e088ada92f63d4c1.png\" alt=\"\"><br>Java Map<br><img src=\"/images/posts/20170630/4310879-4f20d68e1f4bbd33.png\" alt=\"\"><br>Java Set</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"/images/posts/20170630/4310879-ccf6cae90139b1.png\" alt=\"\"></p>\n<p>Hadoop<br><img src=\"/images/posts/20170630/4310879-23d0bf618f8f6f5a.png\" alt=\"\"><br></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"/images/posts/20170630/4310879-6d0b680ae67a8c96.png\" alt=\"\"></p>\n<p><br><img src=\"/images/posts/20170630/4310879-4c10e03305a1f2d8.png\" alt=\"\"><br></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"/images/posts/20170630/4310879-2175f5af9eed7857.png\" alt=\"\"></p>\n<p>IOS<br><img src=\"/images/posts/20170630/4310879-5ce73b40ffbe076d.png\" alt=\"\"><br>OpenResty<br><img src=\"/images/posts/20170630/4310879-141e6ba51f8dc54c.png\" alt=\"\"><br><br><img src=\"/images/posts/20170630/4310879-6d02639ce5ae160f.png\" alt=\"\"><br><br><img src=\"/images/posts/20170630/4310879-f24ca8d32ad1a384.png\" alt=\"\"><br><br><img src=\"/images/posts/20170630/4310879-d0375b2d590c0c34.png\" alt=\"\"><br><br><img src=\"/images/posts/20170630/4310879-6395c5da25e3e7fc.png\" alt=\"\"><br><br><img src=\"/images/posts/20170630/4310879-350ab02c6030c235.png\" alt=\"\"><br></p>\n"},{"layout":"post","title":"Java split ","description":null,"keywords":"split","date":"2017-07-02T16:00:00.000Z","_content":"\n 30.23 .\n\n\n\n```java\n   \"30.23\".split(\".\")[0]\n```\nstring split\n![](/images/posts/20170703/14990720990548.jpg)\n\n **** \n\n```\n\".$|()[{^?*+\\\\\".indexOf(ch = regex.charAt(0)) \n```\n\n\n```java\nPattern.compile(regex).split(this, limit)\n```\n\".\" \"\"Pattern.splitlimit=00String new String[0] ,[0]\n\n```java\nException in thread \"main\" java.lang.ArrayIndexOutOfBoundsException: 0\n```\nstring.split(regex)\n\n```java\n   \"30.23\".split(\"\\\\.\")[0]\n```\n\n\n\n\n####  org.apache.commons.lang.StringUtils.split \nregexsplitWorker\n\n```java\n        String number = \"30.23\";\n        String[] split = StringUtils.split(number, \".\");\n        for (String s : split) {\n            System.out.println(s);\n        }\n```\n\n\n```java\n30\n23\n```\n### com.google.common.base.Splitter\nGoogle Guavasplitter\n\n```java\nString number = \"30.23\";\nIterable<String> split = Splitter.on('.').trimResults().omitEmptyStrings().split(number);\nfor (String s : split) {\n     System.out.println(s);\n}\n```\n\n\n","source":"_posts/Java/2017-07-03-string-split.md","raw":"---\nlayout: post\ntitle: Java split \ncategories: Java\ndescription:\nkeywords: split\ndate: 2017-07-03\n---\n\n 30.23 .\n\n\n\n```java\n   \"30.23\".split(\".\")[0]\n```\nstring split\n![](/images/posts/20170703/14990720990548.jpg)\n\n **** \n\n```\n\".$|()[{^?*+\\\\\".indexOf(ch = regex.charAt(0)) \n```\n\n\n```java\nPattern.compile(regex).split(this, limit)\n```\n\".\" \"\"Pattern.splitlimit=00String new String[0] ,[0]\n\n```java\nException in thread \"main\" java.lang.ArrayIndexOutOfBoundsException: 0\n```\nstring.split(regex)\n\n```java\n   \"30.23\".split(\"\\\\.\")[0]\n```\n\n\n\n\n####  org.apache.commons.lang.StringUtils.split \nregexsplitWorker\n\n```java\n        String number = \"30.23\";\n        String[] split = StringUtils.split(number, \".\");\n        for (String s : split) {\n            System.out.println(s);\n        }\n```\n\n\n```java\n30\n23\n```\n### com.google.common.base.Splitter\nGoogle Guavasplitter\n\n```java\nString number = \"30.23\";\nIterable<String> split = Splitter.on('.').trimResults().omitEmptyStrings().split(number);\nfor (String s : split) {\n     System.out.println(s);\n}\n```\n\n\n","slug":"Java/2017-07-03-string-split","published":1,"updated":"2018-11-10T08:59:09.801Z","comments":1,"photos":[],"link":"","_id":"cjtohbk8b001v6f12qkwpvp6i","content":"<p> 30.23 .</p>\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"30.23\"</span>.split(<span class=\"string\">\".\"</span>)[<span class=\"number\">0</span>]</span><br></pre></td></tr></table></figure>\n<p>string split<br><img src=\"/images/posts/20170703/14990720990548.jpg\" alt=\"\"></p>\n<p> <strong></strong> </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&quot;.$|()[&#123;^?*+\\\\&quot;.indexOf(ch = regex.charAt(0))</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Pattern.compile(regex).split(<span class=\"keyword\">this</span>, limit)</span><br></pre></td></tr></table></figure>\n<p>. Pattern.splitlimit=00String new String[0] ,[0]</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Exception in thread <span class=\"string\">\"main\"</span> java.lang.ArrayIndexOutOfBoundsException: <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<p>string.split(regex)</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"30.23\"</span>.split(<span class=\"string\">\"\\\\.\"</span>)[<span class=\"number\">0</span>]</span><br></pre></td></tr></table></figure>\n<p></p>\n<h4 id=\"-org-apache-commons-lang-StringUtils-split\"><a href=\"#-org-apache-commons-lang-StringUtils-split\" class=\"headerlink\" title=\" org.apache.commons.lang.StringUtils.split\"></a> org.apache.commons.lang.StringUtils.split</h4><p>regexsplitWorker</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">String number = <span class=\"string\">\"30.23\"</span>;</span><br><span class=\"line\">String[] split = StringUtils.split(number, <span class=\"string\">\".\"</span>);</span><br><span class=\"line\"><span class=\"keyword\">for</span> (String s : split) &#123;</span><br><span class=\"line\">    System.out.println(s);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">30</span></span><br><span class=\"line\"><span class=\"number\">23</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"com-google-common-base-Splitter\"><a href=\"#com-google-common-base-Splitter\" class=\"headerlink\" title=\"com.google.common.base.Splitter\"></a>com.google.common.base.Splitter</h3><p>Google Guavasplitter</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">String number = <span class=\"string\">\"30.23\"</span>;</span><br><span class=\"line\">Iterable&lt;String&gt; split = Splitter.on(<span class=\"string\">'.'</span>).trimResults().omitEmptyStrings().split(number);</span><br><span class=\"line\"><span class=\"keyword\">for</span> (String s : split) &#123;</span><br><span class=\"line\">     System.out.println(s);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<p> 30.23 .</p>\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"30.23\"</span>.split(<span class=\"string\">\".\"</span>)[<span class=\"number\">0</span>]</span><br></pre></td></tr></table></figure>\n<p>string split<br><img src=\"/images/posts/20170703/14990720990548.jpg\" alt=\"\"></p>\n<p> <strong></strong> </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&quot;.$|()[&#123;^?*+\\\\&quot;.indexOf(ch = regex.charAt(0))</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Pattern.compile(regex).split(<span class=\"keyword\">this</span>, limit)</span><br></pre></td></tr></table></figure>\n<p>. Pattern.splitlimit=00String new String[0] ,[0]</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Exception in thread <span class=\"string\">\"main\"</span> java.lang.ArrayIndexOutOfBoundsException: <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<p>string.split(regex)</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"30.23\"</span>.split(<span class=\"string\">\"\\\\.\"</span>)[<span class=\"number\">0</span>]</span><br></pre></td></tr></table></figure>\n<p></p>\n<h4 id=\"-org-apache-commons-lang-StringUtils-split\"><a href=\"#-org-apache-commons-lang-StringUtils-split\" class=\"headerlink\" title=\" org.apache.commons.lang.StringUtils.split\"></a> org.apache.commons.lang.StringUtils.split</h4><p>regexsplitWorker</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">String number = <span class=\"string\">\"30.23\"</span>;</span><br><span class=\"line\">String[] split = StringUtils.split(number, <span class=\"string\">\".\"</span>);</span><br><span class=\"line\"><span class=\"keyword\">for</span> (String s : split) &#123;</span><br><span class=\"line\">    System.out.println(s);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">30</span></span><br><span class=\"line\"><span class=\"number\">23</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"com-google-common-base-Splitter\"><a href=\"#com-google-common-base-Splitter\" class=\"headerlink\" title=\"com.google.common.base.Splitter\"></a>com.google.common.base.Splitter</h3><p>Google Guavasplitter</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">String number = <span class=\"string\">\"30.23\"</span>;</span><br><span class=\"line\">Iterable&lt;String&gt; split = Splitter.on(<span class=\"string\">'.'</span>).trimResults().omitEmptyStrings().split(number);</span><br><span class=\"line\"><span class=\"keyword\">for</span> (String s : split) &#123;</span><br><span class=\"line\">     System.out.println(s);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"layout":"post","title":"Mysql MAX/MIN vs ORDER BY and LIMIT","description":null,"keywords":"Max Order By Limit","date":"2017-07-03T16:00:00.000Z","_content":"TOP N MAX/MIN ORDER BY   LIMIT\n\n\nmin()order by + limit 106000min()0.36s,order by + limit0.84s\n\n****\nmin()\n\nshow status like 'last_query_cost' max  order by limit cbo 228322  67359maxorder by,\n\n\nhttps://stackoverflow.com/questions/426731/min-max-vs-order-by-and-limit\n\n\n","source":"_posts/Java/2017-07-04-mysql-max-orderby-limit.md","raw":"---\nlayout: post\ntitle: Mysql MAX/MIN vs ORDER BY and LIMIT\ncategories: Java\ndescription:\nkeywords: Max Order By Limit\ndate: 2017-07-04\n---\nTOP N MAX/MIN ORDER BY   LIMIT\n\n\nmin()order by + limit 106000min()0.36s,order by + limit0.84s\n\n****\nmin()\n\nshow status like 'last_query_cost' max  order by limit cbo 228322  67359maxorder by,\n\n\nhttps://stackoverflow.com/questions/426731/min-max-vs-order-by-and-limit\n\n\n","slug":"Java/2017-07-04-mysql-max-orderby-limit","published":1,"updated":"2018-11-10T08:59:09.801Z","comments":1,"photos":[],"link":"","_id":"cjtohbk8c001y6f12cr9dom8s","content":"<p>TOP N MAX/MIN ORDER BY   LIMIT</p>\n<p>min()order by + limit 106000min()0.36s,order by + limit0.84s</p>\n<p><strong></strong><br>min()</p>\n<p>show status like last_query_cost max  order by limit cbo 228322  67359maxorder by,</p>\n<p><br><a href=\"https://stackoverflow.com/questions/426731/min-max-vs-order-by-and-limit\" target=\"_blank\" rel=\"noopener\">https://stackoverflow.com/questions/426731/min-max-vs-order-by-and-limit</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p>TOP N MAX/MIN ORDER BY   LIMIT</p>\n<p>min()order by + limit 106000min()0.36s,order by + limit0.84s</p>\n<p><strong></strong><br>min()</p>\n<p>show status like last_query_cost max  order by limit cbo 228322  67359maxorder by,</p>\n<p><br><a href=\"https://stackoverflow.com/questions/426731/min-max-vs-order-by-and-limit\" target=\"_blank\" rel=\"noopener\">https://stackoverflow.com/questions/426731/min-max-vs-order-by-and-limit</a></p>\n"},{"layout":"post","title":"Springmvc  File Download","description":null,"keywords":"download","date":"2017-07-28T16:00:00.000Z","_content":"\n>\nPOIexcel\n\n### HttpServletResponse\nservlet[Servlet ](https://www.ibm.com/developerworks/cn/java/j-lo-servlet/)\n\nHttpServletResponsecontentTypeContent-Disposition\n\nHttpServletResponse ServletResponsehttp\n\nHttpServletResponseHttpServletResponseAPI\n#### 1.1()\n![](/images/posts/20170729/15013170603938.jpg)\nServletResponse\n\n#### 1.2()\n![](/images/posts/20170729/15013171616768.jpg)\n![](/images/posts/20170729/15013171868842.jpg)\n\n#### 1.3()\n![](/images/posts/20170729/15013200170363.jpg)\n![](/images/posts/20170729/15013200322290.jpg)\n\n#### 1.4()\n![](/images/posts/20170729/15013200810263.jpg)\n\n\n![](/images/posts/20170729/15013198529222.png)\nHttpServletResponse\n![](/images/posts/20170729/15013199075789.png)\n\n\n### \nwebNginx[Http Server](https://docs.oracle.com/javase/8/docs/jre/api/net/httpserver/spec/com/sun/net/httpserver/HttpServer.html)tomcathttp\n\n### \nexcel\n\nHTTPHTML HTTPMIME\n\n[MIME](https://www.iana.org/assignments/media-types/media-types.xhtml)InternetHTTPHTTP\n\n\n#### 3.1 contentTypeContent-Disposition\n\n```java\nhttpServletResponse.setContentType(\"application/octet-stream\");\nhttpServletResponse.addHeader(\"Content-Disposition\",\n                \"attachment;filename=\" + new String(fileName.getBytes(\"UTF-8\"), \"iso8859-1\"));\n```\n\napplication/octet-stream\n    HTTPContent-Disposition \n\nContent-Disposition\n MIME MIME  MIME \n\n\nnew String(fileName,\"UTF-8\")headerASCII\n\n1. iso8859-1\n   IE\n2. URLEncoder.encode(fileName,\"UTF-8\")\n    urlencoderUTF-8GBK\n3. filename*=charset'lang'value\ncharset\n\n```java\nheaders.add(\"Content-Disposition\",\"attachment;filename*=UTF-8''\"+URLEncoder.encode(fileName,\"UTF-8\")+\".xls\");  \n```\n\n#### 3.2 \n\nBufferedOutputStream httpServletResponse.getOutputStream()\n\n```java\nFileWriterWithEncoding fwwe = new FileWriterWithEncoding(file, \"gb18030\");\nBufferedWriter bw = new BufferedWriter(fwwe);\nbw.write(\"\");\nfwwe.close();\nbw.close();\n\n\nBufferedInputStream bis = null;\nBufferedOutputStream out = null;\ntry {\n bis = new BufferedInputStream(new FileInputStream(file));\n out = new BufferedOutputStream(httpServletResponse.getOutputStream());\n byte[] buff = new byte[2048];\n while (true) {\n     int bytesRead;\n     if (-1 == (bytesRead = bis.read(buff, 0, buff.length))) {\n         break;\n     }\n     out.write(buff, 0, bytesRead);\n }\n file.deleteOnExit();\n} catch (IOException e) {\n throw e;\n} finally {\n try {\n     if (bis != null) {\n         bis.close();\n     }\n     if (out != null) {\n         out.flush();\n         out.close();\n     }\n } catch (IOException e) {\n     throw e;\n }\n}\n```\n\neasyExcelexcel\n\n```java\nExcelWriter writer = new ExcelWriter(httpServletResponse.getOutputStream(), ExcelTypeEnum.XLS, true);\nSheet sheet = new Sheet(1, 1);\nwriter.write0(datas, sheet);\nwriter.finish();\n```\n\n\ndata.getBytes()GB18030GB18030GB18030\n\nGB2312GBKGB18030\n\n##### \n* GB2312198074456763682\n* GBKGB2312GB2312Windows 95\n* GB180302000GBK1.027484\n* GB13000GB13000 (UCS) ISO10646.1UnicodeUTF\n\n\n### \n\n\n\n\n\n","source":"_posts/Java/2017-07-29-springmvc-file-download.md","raw":"---\nlayout: post\ntitle: Springmvc  File Download\ncategories: Java\ndescription:\nkeywords: download\ndate: 2017-07-29\n---\n\n>\nPOIexcel\n\n### HttpServletResponse\nservlet[Servlet ](https://www.ibm.com/developerworks/cn/java/j-lo-servlet/)\n\nHttpServletResponsecontentTypeContent-Disposition\n\nHttpServletResponse ServletResponsehttp\n\nHttpServletResponseHttpServletResponseAPI\n#### 1.1()\n![](/images/posts/20170729/15013170603938.jpg)\nServletResponse\n\n#### 1.2()\n![](/images/posts/20170729/15013171616768.jpg)\n![](/images/posts/20170729/15013171868842.jpg)\n\n#### 1.3()\n![](/images/posts/20170729/15013200170363.jpg)\n![](/images/posts/20170729/15013200322290.jpg)\n\n#### 1.4()\n![](/images/posts/20170729/15013200810263.jpg)\n\n\n![](/images/posts/20170729/15013198529222.png)\nHttpServletResponse\n![](/images/posts/20170729/15013199075789.png)\n\n\n### \nwebNginx[Http Server](https://docs.oracle.com/javase/8/docs/jre/api/net/httpserver/spec/com/sun/net/httpserver/HttpServer.html)tomcathttp\n\n### \nexcel\n\nHTTPHTML HTTPMIME\n\n[MIME](https://www.iana.org/assignments/media-types/media-types.xhtml)InternetHTTPHTTP\n\n\n#### 3.1 contentTypeContent-Disposition\n\n```java\nhttpServletResponse.setContentType(\"application/octet-stream\");\nhttpServletResponse.addHeader(\"Content-Disposition\",\n                \"attachment;filename=\" + new String(fileName.getBytes(\"UTF-8\"), \"iso8859-1\"));\n```\n\napplication/octet-stream\n    HTTPContent-Disposition \n\nContent-Disposition\n MIME MIME  MIME \n\n\nnew String(fileName,\"UTF-8\")headerASCII\n\n1. iso8859-1\n   IE\n2. URLEncoder.encode(fileName,\"UTF-8\")\n    urlencoderUTF-8GBK\n3. filename*=charset'lang'value\ncharset\n\n```java\nheaders.add(\"Content-Disposition\",\"attachment;filename*=UTF-8''\"+URLEncoder.encode(fileName,\"UTF-8\")+\".xls\");  \n```\n\n#### 3.2 \n\nBufferedOutputStream httpServletResponse.getOutputStream()\n\n```java\nFileWriterWithEncoding fwwe = new FileWriterWithEncoding(file, \"gb18030\");\nBufferedWriter bw = new BufferedWriter(fwwe);\nbw.write(\"\");\nfwwe.close();\nbw.close();\n\n\nBufferedInputStream bis = null;\nBufferedOutputStream out = null;\ntry {\n bis = new BufferedInputStream(new FileInputStream(file));\n out = new BufferedOutputStream(httpServletResponse.getOutputStream());\n byte[] buff = new byte[2048];\n while (true) {\n     int bytesRead;\n     if (-1 == (bytesRead = bis.read(buff, 0, buff.length))) {\n         break;\n     }\n     out.write(buff, 0, bytesRead);\n }\n file.deleteOnExit();\n} catch (IOException e) {\n throw e;\n} finally {\n try {\n     if (bis != null) {\n         bis.close();\n     }\n     if (out != null) {\n         out.flush();\n         out.close();\n     }\n } catch (IOException e) {\n     throw e;\n }\n}\n```\n\neasyExcelexcel\n\n```java\nExcelWriter writer = new ExcelWriter(httpServletResponse.getOutputStream(), ExcelTypeEnum.XLS, true);\nSheet sheet = new Sheet(1, 1);\nwriter.write0(datas, sheet);\nwriter.finish();\n```\n\n\ndata.getBytes()GB18030GB18030GB18030\n\nGB2312GBKGB18030\n\n##### \n* GB2312198074456763682\n* GBKGB2312GB2312Windows 95\n* GB180302000GBK1.027484\n* GB13000GB13000 (UCS) ISO10646.1UnicodeUTF\n\n\n### \n\n\n\n\n\n","slug":"Java/2017-07-29-springmvc-file-download","published":1,"updated":"2018-11-10T08:59:09.802Z","comments":1,"photos":[],"link":"","_id":"cjtohbk8d00206f12fdp15dho","content":"<blockquote>\n<p><br>POIexcel</p>\n</blockquote>\n<h3 id=\"HttpServletResponse\"><a href=\"#HttpServletResponse\" class=\"headerlink\" title=\"HttpServletResponse\"></a>HttpServletResponse</h3><p>servlet<a href=\"https://www.ibm.com/developerworks/cn/java/j-lo-servlet/\" target=\"_blank\" rel=\"noopener\">Servlet </a></p>\n<p>HttpServletResponsecontentTypeContent-Disposition</p>\n<p>HttpServletResponse ServletResponsehttp</p>\n<p>HttpServletResponseHttpServletResponseAPI</p>\n<h4 id=\"1-1--\"><a href=\"#1-1--\" class=\"headerlink\" title=\"1.1()\"></a>1.1()</h4><p><img src=\"/images/posts/20170729/15013170603938.jpg\" alt=\"\"><br>ServletResponse</p>\n<h4 id=\"1-2--\"><a href=\"#1-2--\" class=\"headerlink\" title=\"1.2()\"></a>1.2()</h4><p><img src=\"/images/posts/20170729/15013171616768.jpg\" alt=\"\"><br><img src=\"/images/posts/20170729/15013171868842.jpg\" alt=\"\"></p>\n<h4 id=\"1-3--\"><a href=\"#1-3--\" class=\"headerlink\" title=\"1.3()\"></a>1.3()</h4><p><img src=\"/images/posts/20170729/15013200170363.jpg\" alt=\"\"><br><img src=\"/images/posts/20170729/15013200322290.jpg\" alt=\"\"></p>\n<h4 id=\"1-4--\"><a href=\"#1-4--\" class=\"headerlink\" title=\"1.4()\"></a>1.4()</h4><p><img src=\"/images/posts/20170729/15013200810263.jpg\" alt=\"\"></p>\n<p><img src=\"/images/posts/20170729/15013198529222.png\" alt=\"\"><br>HttpServletResponse<br><img src=\"/images/posts/20170729/15013199075789.png\" alt=\"\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>webNginx<a href=\"https://docs.oracle.com/javase/8/docs/jre/api/net/httpserver/spec/com/sun/net/httpserver/HttpServer.html\" target=\"_blank\" rel=\"noopener\">Http Server</a>tomcathttp</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>excel</p>\n<p>HTTPHTML HTTPMIME</p>\n<p><a href=\"https://www.iana.org/assignments/media-types/media-types.xhtml\" target=\"_blank\" rel=\"noopener\">MIME</a>InternetHTTPHTTP</p>\n<h4 id=\"3-1-contentTypeContent-Disposition\"><a href=\"#3-1-contentTypeContent-Disposition\" class=\"headerlink\" title=\"3.1 contentTypeContent-Disposition\"></a>3.1 contentTypeContent-Disposition</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">httpServletResponse.setContentType(<span class=\"string\">\"application/octet-stream\"</span>);</span><br><span class=\"line\">httpServletResponse.addHeader(<span class=\"string\">\"Content-Disposition\"</span>,</span><br><span class=\"line\">                <span class=\"string\">\"attachment;filename=\"</span> + <span class=\"keyword\">new</span> String(fileName.getBytes(<span class=\"string\">\"UTF-8\"</span>), <span class=\"string\">\"iso8859-1\"</span>));</span><br></pre></td></tr></table></figure>\n<p>application/octet-stream<br>    HTTPContent-Disposition </p>\n<p>Content-Disposition<br> MIME MIME  MIME </p>\n<p><br>new String(fileName,UTF-8)headerASCII</p>\n<ol>\n<li>iso8859-1<br>IE</li>\n<li>URLEncoder.encode(fileName,UTF-8)<br> urlencoderUTF-8GBK</li>\n<li>filename*=charsetlangvalue<br>charset</li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">headers.add(<span class=\"string\">\"Content-Disposition\"</span>,<span class=\"string\">\"attachment;filename*=UTF-8''\"</span>+URLEncoder.encode(fileName,<span class=\"string\">\"UTF-8\"</span>)+<span class=\"string\">\".xls\"</span>);</span><br></pre></td></tr></table></figure>\n<h4 id=\"3-2-\"><a href=\"#3-2-\" class=\"headerlink\" title=\"3.2 \"></a>3.2 </h4><p>BufferedOutputStream httpServletResponse.getOutputStream()</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">FileWriterWithEncoding fwwe = <span class=\"keyword\">new</span> FileWriterWithEncoding(file, <span class=\"string\">\"gb18030\"</span>);</span><br><span class=\"line\">BufferedWriter bw = <span class=\"keyword\">new</span> BufferedWriter(fwwe);</span><br><span class=\"line\">bw.write(<span class=\"string\">\"\"</span>);</span><br><span class=\"line\">fwwe.close();</span><br><span class=\"line\">bw.close();</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">BufferedInputStream bis = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">BufferedOutputStream out = <span class=\"keyword\">null</span>;</span><br><span class=\"line\"><span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\"> bis = <span class=\"keyword\">new</span> BufferedInputStream(<span class=\"keyword\">new</span> FileInputStream(file));</span><br><span class=\"line\"> out = <span class=\"keyword\">new</span> BufferedOutputStream(httpServletResponse.getOutputStream());</span><br><span class=\"line\"> <span class=\"keyword\">byte</span>[] buff = <span class=\"keyword\">new</span> <span class=\"keyword\">byte</span>[<span class=\"number\">2048</span>];</span><br><span class=\"line\"> <span class=\"keyword\">while</span> (<span class=\"keyword\">true</span>) &#123;</span><br><span class=\"line\">     <span class=\"keyword\">int</span> bytesRead;</span><br><span class=\"line\">     <span class=\"keyword\">if</span> (-<span class=\"number\">1</span> == (bytesRead = bis.read(buff, <span class=\"number\">0</span>, buff.length))) &#123;</span><br><span class=\"line\">         <span class=\"keyword\">break</span>;</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">     out.write(buff, <span class=\"number\">0</span>, bytesRead);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> file.deleteOnExit();</span><br><span class=\"line\">&#125; <span class=\"keyword\">catch</span> (IOException e) &#123;</span><br><span class=\"line\"> <span class=\"keyword\">throw</span> e;</span><br><span class=\"line\">&#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\"> <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">     <span class=\"keyword\">if</span> (bis != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">         bis.close();</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">     <span class=\"keyword\">if</span> (out != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">         out.flush();</span><br><span class=\"line\">         out.close();</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\"> &#125; <span class=\"keyword\">catch</span> (IOException e) &#123;</span><br><span class=\"line\">     <span class=\"keyword\">throw</span> e;</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>easyExcelexcel</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ExcelWriter writer = <span class=\"keyword\">new</span> ExcelWriter(httpServletResponse.getOutputStream(), ExcelTypeEnum.XLS, <span class=\"keyword\">true</span>);</span><br><span class=\"line\">Sheet sheet = <span class=\"keyword\">new</span> Sheet(<span class=\"number\">1</span>, <span class=\"number\">1</span>);</span><br><span class=\"line\">writer.write0(datas, sheet);</span><br><span class=\"line\">writer.finish();</span><br></pre></td></tr></table></figure>\n<p><br>data.getBytes()GB18030GB18030GB18030</p>\n<p>GB2312GBKGB18030</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ul>\n<li>GB2312198074456763682</li>\n<li>GBKGB2312GB2312Windows 95</li>\n<li>GB180302000GBK1.027484</li>\n<li>GB13000GB13000 (UCS) ISO10646.1UnicodeUTF</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n","site":{"data":{}},"excerpt":"","more":"<blockquote>\n<p><br>POIexcel</p>\n</blockquote>\n<h3 id=\"HttpServletResponse\"><a href=\"#HttpServletResponse\" class=\"headerlink\" title=\"HttpServletResponse\"></a>HttpServletResponse</h3><p>servlet<a href=\"https://www.ibm.com/developerworks/cn/java/j-lo-servlet/\" target=\"_blank\" rel=\"noopener\">Servlet </a></p>\n<p>HttpServletResponsecontentTypeContent-Disposition</p>\n<p>HttpServletResponse ServletResponsehttp</p>\n<p>HttpServletResponseHttpServletResponseAPI</p>\n<h4 id=\"1-1--\"><a href=\"#1-1--\" class=\"headerlink\" title=\"1.1()\"></a>1.1()</h4><p><img src=\"/images/posts/20170729/15013170603938.jpg\" alt=\"\"><br>ServletResponse</p>\n<h4 id=\"1-2--\"><a href=\"#1-2--\" class=\"headerlink\" title=\"1.2()\"></a>1.2()</h4><p><img src=\"/images/posts/20170729/15013171616768.jpg\" alt=\"\"><br><img src=\"/images/posts/20170729/15013171868842.jpg\" alt=\"\"></p>\n<h4 id=\"1-3--\"><a href=\"#1-3--\" class=\"headerlink\" title=\"1.3()\"></a>1.3()</h4><p><img src=\"/images/posts/20170729/15013200170363.jpg\" alt=\"\"><br><img src=\"/images/posts/20170729/15013200322290.jpg\" alt=\"\"></p>\n<h4 id=\"1-4--\"><a href=\"#1-4--\" class=\"headerlink\" title=\"1.4()\"></a>1.4()</h4><p><img src=\"/images/posts/20170729/15013200810263.jpg\" alt=\"\"></p>\n<p><img src=\"/images/posts/20170729/15013198529222.png\" alt=\"\"><br>HttpServletResponse<br><img src=\"/images/posts/20170729/15013199075789.png\" alt=\"\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>webNginx<a href=\"https://docs.oracle.com/javase/8/docs/jre/api/net/httpserver/spec/com/sun/net/httpserver/HttpServer.html\" target=\"_blank\" rel=\"noopener\">Http Server</a>tomcathttp</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>excel</p>\n<p>HTTPHTML HTTPMIME</p>\n<p><a href=\"https://www.iana.org/assignments/media-types/media-types.xhtml\" target=\"_blank\" rel=\"noopener\">MIME</a>InternetHTTPHTTP</p>\n<h4 id=\"3-1-contentTypeContent-Disposition\"><a href=\"#3-1-contentTypeContent-Disposition\" class=\"headerlink\" title=\"3.1 contentTypeContent-Disposition\"></a>3.1 contentTypeContent-Disposition</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">httpServletResponse.setContentType(<span class=\"string\">\"application/octet-stream\"</span>);</span><br><span class=\"line\">httpServletResponse.addHeader(<span class=\"string\">\"Content-Disposition\"</span>,</span><br><span class=\"line\">                <span class=\"string\">\"attachment;filename=\"</span> + <span class=\"keyword\">new</span> String(fileName.getBytes(<span class=\"string\">\"UTF-8\"</span>), <span class=\"string\">\"iso8859-1\"</span>));</span><br></pre></td></tr></table></figure>\n<p>application/octet-stream<br>    HTTPContent-Disposition </p>\n<p>Content-Disposition<br> MIME MIME  MIME </p>\n<p><br>new String(fileName,UTF-8)headerASCII</p>\n<ol>\n<li>iso8859-1<br>IE</li>\n<li>URLEncoder.encode(fileName,UTF-8)<br> urlencoderUTF-8GBK</li>\n<li>filename*=charsetlangvalue<br>charset</li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">headers.add(<span class=\"string\">\"Content-Disposition\"</span>,<span class=\"string\">\"attachment;filename*=UTF-8''\"</span>+URLEncoder.encode(fileName,<span class=\"string\">\"UTF-8\"</span>)+<span class=\"string\">\".xls\"</span>);</span><br></pre></td></tr></table></figure>\n<h4 id=\"3-2-\"><a href=\"#3-2-\" class=\"headerlink\" title=\"3.2 \"></a>3.2 </h4><p>BufferedOutputStream httpServletResponse.getOutputStream()</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">FileWriterWithEncoding fwwe = <span class=\"keyword\">new</span> FileWriterWithEncoding(file, <span class=\"string\">\"gb18030\"</span>);</span><br><span class=\"line\">BufferedWriter bw = <span class=\"keyword\">new</span> BufferedWriter(fwwe);</span><br><span class=\"line\">bw.write(<span class=\"string\">\"\"</span>);</span><br><span class=\"line\">fwwe.close();</span><br><span class=\"line\">bw.close();</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">BufferedInputStream bis = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">BufferedOutputStream out = <span class=\"keyword\">null</span>;</span><br><span class=\"line\"><span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\"> bis = <span class=\"keyword\">new</span> BufferedInputStream(<span class=\"keyword\">new</span> FileInputStream(file));</span><br><span class=\"line\"> out = <span class=\"keyword\">new</span> BufferedOutputStream(httpServletResponse.getOutputStream());</span><br><span class=\"line\"> <span class=\"keyword\">byte</span>[] buff = <span class=\"keyword\">new</span> <span class=\"keyword\">byte</span>[<span class=\"number\">2048</span>];</span><br><span class=\"line\"> <span class=\"keyword\">while</span> (<span class=\"keyword\">true</span>) &#123;</span><br><span class=\"line\">     <span class=\"keyword\">int</span> bytesRead;</span><br><span class=\"line\">     <span class=\"keyword\">if</span> (-<span class=\"number\">1</span> == (bytesRead = bis.read(buff, <span class=\"number\">0</span>, buff.length))) &#123;</span><br><span class=\"line\">         <span class=\"keyword\">break</span>;</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">     out.write(buff, <span class=\"number\">0</span>, bytesRead);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> file.deleteOnExit();</span><br><span class=\"line\">&#125; <span class=\"keyword\">catch</span> (IOException e) &#123;</span><br><span class=\"line\"> <span class=\"keyword\">throw</span> e;</span><br><span class=\"line\">&#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\"> <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">     <span class=\"keyword\">if</span> (bis != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">         bis.close();</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">     <span class=\"keyword\">if</span> (out != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">         out.flush();</span><br><span class=\"line\">         out.close();</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\"> &#125; <span class=\"keyword\">catch</span> (IOException e) &#123;</span><br><span class=\"line\">     <span class=\"keyword\">throw</span> e;</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>easyExcelexcel</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ExcelWriter writer = <span class=\"keyword\">new</span> ExcelWriter(httpServletResponse.getOutputStream(), ExcelTypeEnum.XLS, <span class=\"keyword\">true</span>);</span><br><span class=\"line\">Sheet sheet = <span class=\"keyword\">new</span> Sheet(<span class=\"number\">1</span>, <span class=\"number\">1</span>);</span><br><span class=\"line\">writer.write0(datas, sheet);</span><br><span class=\"line\">writer.finish();</span><br></pre></td></tr></table></figure>\n<p><br>data.getBytes()GB18030GB18030GB18030</p>\n<p>GB2312GBKGB18030</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ul>\n<li>GB2312198074456763682</li>\n<li>GBKGB2312GB2312Windows 95</li>\n<li>GB180302000GBK1.027484</li>\n<li>GB13000GB13000 (UCS) ISO10646.1UnicodeUTF</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n"},{"layout":"post","title":"Distributed System Id Gen","description":null,"keywords":"id-gen","date":"2017-07-30T16:00:00.000Z","_content":"\n# ID\n>ID\n\n\n### ID\n\n\n\n### +1\ncurrent_valueid\nid\n\n\nRR\n\n### \n\n\n\n### UUID\nID\nuuid64\n\n### \nIDID\n1000\nLRU Cache100Key\n\n### \n39bit4bit7bit\n\n\n\n### Redis+\nredis1000RedisRedisID\nredis\n\nredisredisdown \n\n### \n\n\n\n\n[](https://mp.weixin.qq.com/s?__biz=MzIwODA4NjMwNA==&mid=2652898525&idx=1&sn=7e7c1a64fa288eceb17fd4057afd2a62&chksm=8cdcd092bbab598469534293f1eff0d65edcfeaf65050c79f8d054e008c0d1843af1502d34a7&mpshare=1&scene=1&srcid=0731m6EiK3LyvkmVltj03hG9&key=807bd2816f4e78936c683f90def8c012cc01115330c60aaa1377edae1f76fec7b00e4698f4d6ddc22680f9a80dade15c2cf6caa00853e61b925ff2ab93d1110eff532aedcb1347a8db1074bea22542a1&ascene=0&uin=MTE3NTkxNDk4MA%3D%3D&devicetype=iMac+MacBookPro11%2C4+OSX+OSX+10.12.5+build(16F73)&version=12020810&nettype=WIFI&fontScale=100&pass_ticket=Q2dSEf7cwUT%2FHuuZ1wpxUh3%2Fd9hovwWFg9YsoOzUMokJ2WygwbBZxUPkJXDCEA09)\n\n\n\n\n","source":"_posts/Java/2017-07-31-distrubute-id-gen.md","raw":"---\nlayout: post\ntitle: Distributed System Id Gen\ncategories: Java\ndescription:\nkeywords: id-gen\ndate: 2017-07-31\n---\n\n# ID\n>ID\n\n\n### ID\n\n\n\n### +1\ncurrent_valueid\nid\n\n\nRR\n\n### \n\n\n\n### UUID\nID\nuuid64\n\n### \nIDID\n1000\nLRU Cache100Key\n\n### \n39bit4bit7bit\n\n\n\n### Redis+\nredis1000RedisRedisID\nredis\n\nredisredisdown \n\n### \n\n\n\n\n[](https://mp.weixin.qq.com/s?__biz=MzIwODA4NjMwNA==&mid=2652898525&idx=1&sn=7e7c1a64fa288eceb17fd4057afd2a62&chksm=8cdcd092bbab598469534293f1eff0d65edcfeaf65050c79f8d054e008c0d1843af1502d34a7&mpshare=1&scene=1&srcid=0731m6EiK3LyvkmVltj03hG9&key=807bd2816f4e78936c683f90def8c012cc01115330c60aaa1377edae1f76fec7b00e4698f4d6ddc22680f9a80dade15c2cf6caa00853e61b925ff2ab93d1110eff532aedcb1347a8db1074bea22542a1&ascene=0&uin=MTE3NTkxNDk4MA%3D%3D&devicetype=iMac+MacBookPro11%2C4+OSX+OSX+10.12.5+build(16F73)&version=12020810&nettype=WIFI&fontScale=100&pass_ticket=Q2dSEf7cwUT%2FHuuZ1wpxUh3%2Fd9hovwWFg9YsoOzUMokJ2WygwbBZxUPkJXDCEA09)\n\n\n\n\n","slug":"Java/2017-07-31-distrubute-id-gen","published":1,"updated":"2018-11-10T08:59:09.802Z","comments":1,"photos":[],"link":"","_id":"cjtohbk8f00236f12la52u16n","content":"<h1 id=\"ID\"><a href=\"#ID\" class=\"headerlink\" title=\"ID\"></a>ID</h1><blockquote>\n<p>ID</p>\n</blockquote>\n<h3 id=\"ID\"><a href=\"#ID\" class=\"headerlink\" title=\"ID\"></a>ID</h3><p><br></p>\n<h3 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"+1\"></a>+1</h3><p>current_valueid<br>id<br></p>\n<p>RR</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><br></p>\n<h3 id=\"UUID\"><a href=\"#UUID\" class=\"headerlink\" title=\"UUID\"></a>UUID</h3><p>ID<br>uuid64</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>IDID<br>1000<br>LRU Cache100Key</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>39bit4bit7bit<br><br></p>\n<h3 id=\"Redis-\"><a href=\"#Redis-\" class=\"headerlink\" title=\"Redis+\"></a>Redis+</h3><p>redis1000RedisRedisID<br>redis</p>\n<p>redisredisdown </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p><a href=\"https://mp.weixin.qq.com/s?__biz=MzIwODA4NjMwNA==&amp;mid=2652898525&amp;idx=1&amp;sn=7e7c1a64fa288eceb17fd4057afd2a62&amp;chksm=8cdcd092bbab598469534293f1eff0d65edcfeaf65050c79f8d054e008c0d1843af1502d34a7&amp;mpshare=1&amp;scene=1&amp;srcid=0731m6EiK3LyvkmVltj03hG9&amp;key=807bd2816f4e78936c683f90def8c012cc01115330c60aaa1377edae1f76fec7b00e4698f4d6ddc22680f9a80dade15c2cf6caa00853e61b925ff2ab93d1110eff532aedcb1347a8db1074bea22542a1&amp;ascene=0&amp;uin=MTE3NTkxNDk4MA%3D%3D&amp;devicetype=iMac+MacBookPro11%2C4+OSX+OSX+10.12.5+build(16F73\" target=\"_blank\" rel=\"noopener\"></a>&amp;version=12020810&amp;nettype=WIFI&amp;fontScale=100&amp;pass_ticket=Q2dSEf7cwUT%2FHuuZ1wpxUh3%2Fd9hovwWFg9YsoOzUMokJ2WygwbBZxUPkJXDCEA09)</p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"ID\"><a href=\"#ID\" class=\"headerlink\" title=\"ID\"></a>ID</h1><blockquote>\n<p>ID</p>\n</blockquote>\n<h3 id=\"ID\"><a href=\"#ID\" class=\"headerlink\" title=\"ID\"></a>ID</h3><p><br></p>\n<h3 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"+1\"></a>+1</h3><p>current_valueid<br>id<br></p>\n<p>RR</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><br></p>\n<h3 id=\"UUID\"><a href=\"#UUID\" class=\"headerlink\" title=\"UUID\"></a>UUID</h3><p>ID<br>uuid64</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>IDID<br>1000<br>LRU Cache100Key</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>39bit4bit7bit<br><br></p>\n<h3 id=\"Redis-\"><a href=\"#Redis-\" class=\"headerlink\" title=\"Redis+\"></a>Redis+</h3><p>redis1000RedisRedisID<br>redis</p>\n<p>redisredisdown </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p><a href=\"https://mp.weixin.qq.com/s?__biz=MzIwODA4NjMwNA==&amp;mid=2652898525&amp;idx=1&amp;sn=7e7c1a64fa288eceb17fd4057afd2a62&amp;chksm=8cdcd092bbab598469534293f1eff0d65edcfeaf65050c79f8d054e008c0d1843af1502d34a7&amp;mpshare=1&amp;scene=1&amp;srcid=0731m6EiK3LyvkmVltj03hG9&amp;key=807bd2816f4e78936c683f90def8c012cc01115330c60aaa1377edae1f76fec7b00e4698f4d6ddc22680f9a80dade15c2cf6caa00853e61b925ff2ab93d1110eff532aedcb1347a8db1074bea22542a1&amp;ascene=0&amp;uin=MTE3NTkxNDk4MA%3D%3D&amp;devicetype=iMac+MacBookPro11%2C4+OSX+OSX+10.12.5+build(16F73\" target=\"_blank\" rel=\"noopener\"></a>&amp;version=12020810&amp;nettype=WIFI&amp;fontScale=100&amp;pass_ticket=Q2dSEf7cwUT%2FHuuZ1wpxUh3%2Fd9hovwWFg9YsoOzUMokJ2WygwbBZxUPkJXDCEA09)</p>\n"},{"layout":"post","title":"Capture Html Content After Render","description":null,"keywords":"phantomJS","date":"2017-09-20T16:00:00.000Z","_content":"Dom\n\n1. PhantomJSHeadlessHTML\n2. Ajax\n\nPhantomJSjs\n\nloadPage.js,HTML\n\n```java\nvar args = require('system').args;\nvar page = require('webpage').create();\nvar fs = require('fs');\nvar url;\nvar fileName = \"\";\nvar cookieJson = \"\";\nvar type = \"html\";\nvar viewWidth = 1024;\nvar viewHeight = 768;\n\n\nargs.forEach(function(arg, i) {\n    if(i === 1){\n      url = arg;\n    }\n\n    if(i === 2){\n      type = arg;\n    }\n\n     if(i === 3){\n      fileName = arg;\n    }\n\n    if(i === 4){\n      cookieJson = arg;\n    }\n\n    if(i === 5){\n      viewWidth = arg;\n    }\n\n    if(i === 6){\n      viewHeight = arg;\n    }\n});\n\npage.viewportSize = { width: viewWidth, height:viewHeight };\n\nif(cookieJson != null && cookieJson != \"\"){\n    var cookieArray =  JSON.parse(cookieJson);\n      for (var i = 0; i < cookieArray.length; i++) {\n          var cookieObj = cookieArray[i];\n          var cookie = {\n            'name'     : cookieObj.name,\n            'value'    : cookieObj.value,\n            'path'     : cookieObj.path,\n            'domain'   : cookieObj.domain,\n            'expires'  : cookieObj.expires\n          };\n        phantom.addCookie(cookie);\n    }\n}\n\npage.onError = function(msg, trace) {\n    console.log(\"[Warning]This is page.onError\");\n    var msgStack = ['ERROR: ' + msg];\n    if (trace && trace.length) {\n        msgStack.push('TRACE:');\n        trace.forEach(function(t) {\n          msgStack.push(' -> ' + t.file + ': ' + t.line + (t.function ? ' (in function \"' + t.function +'\")' : ''));\n        });\n    }\n    // console.error(msgStack.join('\\n'));\n};\n\nphantom.onError = function(msg, trace) {\n    console.log(\"[Warning]This is phantom.onError\");\n    var msgStack = ['PHANTOM ERROR: ' + msg];\n    if (trace && trace.length) {\n      msgStack.push('TRACE:');\n      trace.forEach(function(t) {\n        msgStack.push(' -> ' + (t.file || t.sourceURL) + ': ' + t.line + (t.function ? ' (in function ' + t.function +')' : ''));\n      });\n    }\n      console.error(msgStack.join('\\n'));\n      phantom.exit(1);\n};\n\npage.onLoadFinished = function() {\n   setTimeout(function(){\n      if(type == \"image\"){\n        page.render(fileName,{format: 'jpg', quality: '100'});\n        console.log(\"render page finished: \" + url);\n      }\n       \n      if(type == \"html\"){\n         fs.write(fileName, page.content, 'w');\n         console.log(\"page html gen success: \" + url);\n      }\n\n      phantom.exit();         \n   },5000);\n};\n\npage.open(url, function (status) {\n    if (status === \"success\") {\n        console.log(\"load status: \" + status);\n    }else{\n        phantom.exit();\n    }\n});\n```\n\nProcessLinuxshellURLURL\n\n```java\nString type = \"html\";\nString[] params =\n                    new String[] {DiamondUtil.getPhantomJsPath(), DiamondUtil.getCaptureJsPath(), url,type , htmlName,\n                        cookieJson};\n                ShellUtil.executeShell(params, \" capture url \" + url);\n                File htmlFile = new File(defaultFilePath(htmlName));\n                if (checkFileEixst(htmlFile)) {\n                    String htmlOssUrl = fileService.updateObjectToOss(htmlName, htmlFile);\n                }\n```\n\nShellUtil\n\n```java\npublic static void executeShell(String[] params, String message) throws Exception {\n        Process process = null;\n        BufferedReader stdBufferedReader = null;\n        BufferedReader errorBufferedReader = null;\n        try {\n            ProcessBuilder pb = new ProcessBuilder(params);\n            pb.directory(new File(DiamondUtil.getCaptureImagePath()));\n            pb.redirectErrorStream(true);\n            process = pb.start();\n            stdBufferedReader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n            errorBufferedReader = new BufferedReader(new InputStreamReader(process.getErrorStream()));\n            String line;\n            while ((line = stdBufferedReader.readLine()) != null) {\n                logger.info(message + \":\" + line);\n            }\n\n            while ((line = errorBufferedReader.readLine()) != null) {\n                logger.error(message + \":\" + line);\n            }\n            process.waitFor();\n        } catch (Exception e) {\n            logger.error(message, e);\n        } finally {\n            if (stdBufferedReader != null) {\n                stdBufferedReader.close();\n            }\n            if (errorBufferedReader != null) {\n                stdBufferedReader.close();\n            }\n            if (process != null) {\n                process.destroy();\n            }\n\n        }\n    }\n```\n\nbitmap-fonts\n\n\n```shell\nsudo yum remove bitmap-fonts bitmap-fonts-cjk\n```\n\n\n\n\n```html\n...{  ...  font-family: Helvetica, arial, \"microsoft yahei\", Monaco, sans-serif;  ...}\n```\n\n  sans-serif 5 Linux osxwindowscopyosx  .ttc  .dfont   http://transfonter.org/ttc-unpack Linux  .ttf \n\n Linux  fc-cache \n\n\n```shell\nsudo mkdir /usr/share/fonts/customsudo cp *.ttf  /usr/share/fonts/customfc-cache -fv\n```\n\n","source":"_posts/Java/2017-09-21-phantomjs-use.md","raw":"---\nlayout: post\ntitle: Capture Html Content After Render\ncategories: Java\ndescription:\nkeywords: phantomJS\ndate: 2017-09-21\n---\nDom\n\n1. PhantomJSHeadlessHTML\n2. Ajax\n\nPhantomJSjs\n\nloadPage.js,HTML\n\n```java\nvar args = require('system').args;\nvar page = require('webpage').create();\nvar fs = require('fs');\nvar url;\nvar fileName = \"\";\nvar cookieJson = \"\";\nvar type = \"html\";\nvar viewWidth = 1024;\nvar viewHeight = 768;\n\n\nargs.forEach(function(arg, i) {\n    if(i === 1){\n      url = arg;\n    }\n\n    if(i === 2){\n      type = arg;\n    }\n\n     if(i === 3){\n      fileName = arg;\n    }\n\n    if(i === 4){\n      cookieJson = arg;\n    }\n\n    if(i === 5){\n      viewWidth = arg;\n    }\n\n    if(i === 6){\n      viewHeight = arg;\n    }\n});\n\npage.viewportSize = { width: viewWidth, height:viewHeight };\n\nif(cookieJson != null && cookieJson != \"\"){\n    var cookieArray =  JSON.parse(cookieJson);\n      for (var i = 0; i < cookieArray.length; i++) {\n          var cookieObj = cookieArray[i];\n          var cookie = {\n            'name'     : cookieObj.name,\n            'value'    : cookieObj.value,\n            'path'     : cookieObj.path,\n            'domain'   : cookieObj.domain,\n            'expires'  : cookieObj.expires\n          };\n        phantom.addCookie(cookie);\n    }\n}\n\npage.onError = function(msg, trace) {\n    console.log(\"[Warning]This is page.onError\");\n    var msgStack = ['ERROR: ' + msg];\n    if (trace && trace.length) {\n        msgStack.push('TRACE:');\n        trace.forEach(function(t) {\n          msgStack.push(' -> ' + t.file + ': ' + t.line + (t.function ? ' (in function \"' + t.function +'\")' : ''));\n        });\n    }\n    // console.error(msgStack.join('\\n'));\n};\n\nphantom.onError = function(msg, trace) {\n    console.log(\"[Warning]This is phantom.onError\");\n    var msgStack = ['PHANTOM ERROR: ' + msg];\n    if (trace && trace.length) {\n      msgStack.push('TRACE:');\n      trace.forEach(function(t) {\n        msgStack.push(' -> ' + (t.file || t.sourceURL) + ': ' + t.line + (t.function ? ' (in function ' + t.function +')' : ''));\n      });\n    }\n      console.error(msgStack.join('\\n'));\n      phantom.exit(1);\n};\n\npage.onLoadFinished = function() {\n   setTimeout(function(){\n      if(type == \"image\"){\n        page.render(fileName,{format: 'jpg', quality: '100'});\n        console.log(\"render page finished: \" + url);\n      }\n       \n      if(type == \"html\"){\n         fs.write(fileName, page.content, 'w');\n         console.log(\"page html gen success: \" + url);\n      }\n\n      phantom.exit();         \n   },5000);\n};\n\npage.open(url, function (status) {\n    if (status === \"success\") {\n        console.log(\"load status: \" + status);\n    }else{\n        phantom.exit();\n    }\n});\n```\n\nProcessLinuxshellURLURL\n\n```java\nString type = \"html\";\nString[] params =\n                    new String[] {DiamondUtil.getPhantomJsPath(), DiamondUtil.getCaptureJsPath(), url,type , htmlName,\n                        cookieJson};\n                ShellUtil.executeShell(params, \" capture url \" + url);\n                File htmlFile = new File(defaultFilePath(htmlName));\n                if (checkFileEixst(htmlFile)) {\n                    String htmlOssUrl = fileService.updateObjectToOss(htmlName, htmlFile);\n                }\n```\n\nShellUtil\n\n```java\npublic static void executeShell(String[] params, String message) throws Exception {\n        Process process = null;\n        BufferedReader stdBufferedReader = null;\n        BufferedReader errorBufferedReader = null;\n        try {\n            ProcessBuilder pb = new ProcessBuilder(params);\n            pb.directory(new File(DiamondUtil.getCaptureImagePath()));\n            pb.redirectErrorStream(true);\n            process = pb.start();\n            stdBufferedReader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n            errorBufferedReader = new BufferedReader(new InputStreamReader(process.getErrorStream()));\n            String line;\n            while ((line = stdBufferedReader.readLine()) != null) {\n                logger.info(message + \":\" + line);\n            }\n\n            while ((line = errorBufferedReader.readLine()) != null) {\n                logger.error(message + \":\" + line);\n            }\n            process.waitFor();\n        } catch (Exception e) {\n            logger.error(message, e);\n        } finally {\n            if (stdBufferedReader != null) {\n                stdBufferedReader.close();\n            }\n            if (errorBufferedReader != null) {\n                stdBufferedReader.close();\n            }\n            if (process != null) {\n                process.destroy();\n            }\n\n        }\n    }\n```\n\nbitmap-fonts\n\n\n```shell\nsudo yum remove bitmap-fonts bitmap-fonts-cjk\n```\n\n\n\n\n```html\n...{  ...  font-family: Helvetica, arial, \"microsoft yahei\", Monaco, sans-serif;  ...}\n```\n\n  sans-serif 5 Linux osxwindowscopyosx  .ttc  .dfont   http://transfonter.org/ttc-unpack Linux  .ttf \n\n Linux  fc-cache \n\n\n```shell\nsudo mkdir /usr/share/fonts/customsudo cp *.ttf  /usr/share/fonts/customfc-cache -fv\n```\n\n","slug":"Java/2017-09-21-phantomjs-use","published":1,"updated":"2018-11-10T08:59:09.802Z","comments":1,"photos":[],"link":"","_id":"cjtohbk8h00256f12x8ccjnqu","content":"<p>Dom</p>\n<ol>\n<li>PhantomJSHeadlessHTML</li>\n<li>Ajax</li>\n</ol>\n<p>PhantomJSjs</p>\n<p>loadPage.js,HTML</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> args = require(<span class=\"string\">'system'</span>).args;</span><br><span class=\"line\"><span class=\"keyword\">var</span> page = require(<span class=\"string\">'webpage'</span>).create();</span><br><span class=\"line\"><span class=\"keyword\">var</span> fs = require(<span class=\"string\">'fs'</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> url;</span><br><span class=\"line\"><span class=\"keyword\">var</span> fileName = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> cookieJson = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> type = <span class=\"string\">\"html\"</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> viewWidth = <span class=\"number\">1024</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> viewHeight = <span class=\"number\">768</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">args.forEach(function(arg, i) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(i === <span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">      url = arg;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(i === <span class=\"number\">2</span>)&#123;</span><br><span class=\"line\">      type = arg;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">     <span class=\"keyword\">if</span>(i === <span class=\"number\">3</span>)&#123;</span><br><span class=\"line\">      fileName = arg;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(i === <span class=\"number\">4</span>)&#123;</span><br><span class=\"line\">      cookieJson = arg;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(i === <span class=\"number\">5</span>)&#123;</span><br><span class=\"line\">      viewWidth = arg;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(i === <span class=\"number\">6</span>)&#123;</span><br><span class=\"line\">      viewHeight = arg;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">page.viewportSize = &#123; width: viewWidth, height:viewHeight &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span>(cookieJson != <span class=\"keyword\">null</span> &amp;&amp; cookieJson != <span class=\"string\">\"\"</span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> cookieArray =  JSON.parse(cookieJson);</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; cookieArray.length; i++) &#123;</span><br><span class=\"line\">          <span class=\"keyword\">var</span> cookieObj = cookieArray[i];</span><br><span class=\"line\">          <span class=\"keyword\">var</span> cookie = &#123;</span><br><span class=\"line\">            <span class=\"string\">'name'</span>     : cookieObj.name,</span><br><span class=\"line\">            <span class=\"string\">'value'</span>    : cookieObj.value,</span><br><span class=\"line\">            <span class=\"string\">'path'</span>     : cookieObj.path,</span><br><span class=\"line\">            <span class=\"string\">'domain'</span>   : cookieObj.domain,</span><br><span class=\"line\">            <span class=\"string\">'expires'</span>  : cookieObj.expires</span><br><span class=\"line\">          &#125;;</span><br><span class=\"line\">        phantom.addCookie(cookie);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">page.onError = function(msg, trace) &#123;</span><br><span class=\"line\">    console.log(<span class=\"string\">\"[Warning]This is page.onError\"</span>);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> msgStack = [<span class=\"string\">'ERROR: '</span> + msg];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (trace &amp;&amp; trace.length) &#123;</span><br><span class=\"line\">        msgStack.push(<span class=\"string\">'TRACE:'</span>);</span><br><span class=\"line\">        trace.forEach(function(t) &#123;</span><br><span class=\"line\">          msgStack.push(<span class=\"string\">' -&gt; '</span> + t.file + <span class=\"string\">': '</span> + t.line + (t.function ? <span class=\"string\">' (in function \"'</span> + t.function +<span class=\"string\">'\")'</span> : <span class=\"string\">''</span>));</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// console.error(msgStack.join('\\n'));</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">phantom.onError = function(msg, trace) &#123;</span><br><span class=\"line\">    console.log(<span class=\"string\">\"[Warning]This is phantom.onError\"</span>);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> msgStack = [<span class=\"string\">'PHANTOM ERROR: '</span> + msg];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (trace &amp;&amp; trace.length) &#123;</span><br><span class=\"line\">      msgStack.push(<span class=\"string\">'TRACE:'</span>);</span><br><span class=\"line\">      trace.forEach(function(t) &#123;</span><br><span class=\"line\">        msgStack.push(<span class=\"string\">' -&gt; '</span> + (t.file || t.sourceURL) + <span class=\"string\">': '</span> + t.line + (t.function ? <span class=\"string\">' (in function '</span> + t.function +<span class=\"string\">')'</span> : <span class=\"string\">''</span>));</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">      console.error(msgStack.join(<span class=\"string\">'\\n'</span>));</span><br><span class=\"line\">      phantom.exit(<span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">page.onLoadFinished = function() &#123;</span><br><span class=\"line\">   setTimeout(function()&#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span>(type == <span class=\"string\">\"image\"</span>)&#123;</span><br><span class=\"line\">        page.render(fileName,&#123;format: <span class=\"string\">'jpg'</span>, quality: <span class=\"string\">'100'</span>&#125;);</span><br><span class=\"line\">        console.log(<span class=\"string\">\"render page finished: \"</span> + url);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">       </span><br><span class=\"line\">      <span class=\"keyword\">if</span>(type == <span class=\"string\">\"html\"</span>)&#123;</span><br><span class=\"line\">         fs.write(fileName, page.content, <span class=\"string\">'w'</span>);</span><br><span class=\"line\">         console.log(<span class=\"string\">\"page html gen success: \"</span> + url);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      phantom.exit();         </span><br><span class=\"line\">   &#125;,<span class=\"number\">5000</span>);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">page.open(url, function (status) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (status === <span class=\"string\">\"success\"</span>) &#123;</span><br><span class=\"line\">        console.log(<span class=\"string\">\"load status: \"</span> + status);</span><br><span class=\"line\">    &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">        phantom.exit();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p>ProcessLinuxshellURLURL</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">String type = <span class=\"string\">\"html\"</span>;</span><br><span class=\"line\">String[] params =</span><br><span class=\"line\">                    <span class=\"keyword\">new</span> String[] &#123;DiamondUtil.getPhantomJsPath(), DiamondUtil.getCaptureJsPath(), url,type , htmlName,</span><br><span class=\"line\">                        cookieJson&#125;;</span><br><span class=\"line\">                ShellUtil.executeShell(params, <span class=\"string\">\" capture url \"</span> + url);</span><br><span class=\"line\">                File htmlFile = <span class=\"keyword\">new</span> File(defaultFilePath(htmlName));</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (checkFileEixst(htmlFile)) &#123;</span><br><span class=\"line\">                    String htmlOssUrl = fileService.updateObjectToOss(htmlName, htmlFile);</span><br><span class=\"line\">                &#125;</span><br></pre></td></tr></table></figure>\n<p>ShellUtil</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">executeShell</span><span class=\"params\">(String[] params, String message)</span> <span class=\"keyword\">throws</span> Exception </span>&#123;</span><br><span class=\"line\">        Process process = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        BufferedReader stdBufferedReader = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        BufferedReader errorBufferedReader = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            ProcessBuilder pb = <span class=\"keyword\">new</span> ProcessBuilder(params);</span><br><span class=\"line\">            pb.directory(<span class=\"keyword\">new</span> File(DiamondUtil.getCaptureImagePath()));</span><br><span class=\"line\">            pb.redirectErrorStream(<span class=\"keyword\">true</span>);</span><br><span class=\"line\">            process = pb.start();</span><br><span class=\"line\">            stdBufferedReader = <span class=\"keyword\">new</span> BufferedReader(<span class=\"keyword\">new</span> InputStreamReader(process.getInputStream()));</span><br><span class=\"line\">            errorBufferedReader = <span class=\"keyword\">new</span> BufferedReader(<span class=\"keyword\">new</span> InputStreamReader(process.getErrorStream()));</span><br><span class=\"line\">            String line;</span><br><span class=\"line\">            <span class=\"keyword\">while</span> ((line = stdBufferedReader.readLine()) != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                logger.info(message + <span class=\"string\">\":\"</span> + line);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">while</span> ((line = errorBufferedReader.readLine()) != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                logger.error(message + <span class=\"string\">\":\"</span> + line);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            process.waitFor();</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">            logger.error(message, e);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (stdBufferedReader != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                stdBufferedReader.close();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (errorBufferedReader != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                stdBufferedReader.close();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (process != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                process.destroy();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<p>bitmap-fonts</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo yum remove bitmap-fonts bitmap-fonts-cjk</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...&#123;  ...  font-family: Helvetica, arial, \"microsoft yahei\", Monaco, sans-serif;  ...&#125;</span><br></pre></td></tr></table></figure>\n<p>  sans-serif 5 Linux osxwindowscopyosx  .ttc  .dfont   <a href=\"http://transfonter.org/ttc-unpack\" target=\"_blank\" rel=\"noopener\">http://transfonter.org/ttc-unpack</a> Linux  .ttf </p>\n<p> Linux  fc-cache </p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo mkdir /usr/share/fonts/customsudo cp *.ttf  /usr/share/fonts/customfc-cache -fv</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<p>Dom</p>\n<ol>\n<li>PhantomJSHeadlessHTML</li>\n<li>Ajax</li>\n</ol>\n<p>PhantomJSjs</p>\n<p>loadPage.js,HTML</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> args = require(<span class=\"string\">'system'</span>).args;</span><br><span class=\"line\"><span class=\"keyword\">var</span> page = require(<span class=\"string\">'webpage'</span>).create();</span><br><span class=\"line\"><span class=\"keyword\">var</span> fs = require(<span class=\"string\">'fs'</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> url;</span><br><span class=\"line\"><span class=\"keyword\">var</span> fileName = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> cookieJson = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> type = <span class=\"string\">\"html\"</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> viewWidth = <span class=\"number\">1024</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> viewHeight = <span class=\"number\">768</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">args.forEach(function(arg, i) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(i === <span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">      url = arg;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(i === <span class=\"number\">2</span>)&#123;</span><br><span class=\"line\">      type = arg;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">     <span class=\"keyword\">if</span>(i === <span class=\"number\">3</span>)&#123;</span><br><span class=\"line\">      fileName = arg;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(i === <span class=\"number\">4</span>)&#123;</span><br><span class=\"line\">      cookieJson = arg;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(i === <span class=\"number\">5</span>)&#123;</span><br><span class=\"line\">      viewWidth = arg;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(i === <span class=\"number\">6</span>)&#123;</span><br><span class=\"line\">      viewHeight = arg;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">page.viewportSize = &#123; width: viewWidth, height:viewHeight &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span>(cookieJson != <span class=\"keyword\">null</span> &amp;&amp; cookieJson != <span class=\"string\">\"\"</span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> cookieArray =  JSON.parse(cookieJson);</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; cookieArray.length; i++) &#123;</span><br><span class=\"line\">          <span class=\"keyword\">var</span> cookieObj = cookieArray[i];</span><br><span class=\"line\">          <span class=\"keyword\">var</span> cookie = &#123;</span><br><span class=\"line\">            <span class=\"string\">'name'</span>     : cookieObj.name,</span><br><span class=\"line\">            <span class=\"string\">'value'</span>    : cookieObj.value,</span><br><span class=\"line\">            <span class=\"string\">'path'</span>     : cookieObj.path,</span><br><span class=\"line\">            <span class=\"string\">'domain'</span>   : cookieObj.domain,</span><br><span class=\"line\">            <span class=\"string\">'expires'</span>  : cookieObj.expires</span><br><span class=\"line\">          &#125;;</span><br><span class=\"line\">        phantom.addCookie(cookie);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">page.onError = function(msg, trace) &#123;</span><br><span class=\"line\">    console.log(<span class=\"string\">\"[Warning]This is page.onError\"</span>);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> msgStack = [<span class=\"string\">'ERROR: '</span> + msg];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (trace &amp;&amp; trace.length) &#123;</span><br><span class=\"line\">        msgStack.push(<span class=\"string\">'TRACE:'</span>);</span><br><span class=\"line\">        trace.forEach(function(t) &#123;</span><br><span class=\"line\">          msgStack.push(<span class=\"string\">' -&gt; '</span> + t.file + <span class=\"string\">': '</span> + t.line + (t.function ? <span class=\"string\">' (in function \"'</span> + t.function +<span class=\"string\">'\")'</span> : <span class=\"string\">''</span>));</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// console.error(msgStack.join('\\n'));</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">phantom.onError = function(msg, trace) &#123;</span><br><span class=\"line\">    console.log(<span class=\"string\">\"[Warning]This is phantom.onError\"</span>);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> msgStack = [<span class=\"string\">'PHANTOM ERROR: '</span> + msg];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (trace &amp;&amp; trace.length) &#123;</span><br><span class=\"line\">      msgStack.push(<span class=\"string\">'TRACE:'</span>);</span><br><span class=\"line\">      trace.forEach(function(t) &#123;</span><br><span class=\"line\">        msgStack.push(<span class=\"string\">' -&gt; '</span> + (t.file || t.sourceURL) + <span class=\"string\">': '</span> + t.line + (t.function ? <span class=\"string\">' (in function '</span> + t.function +<span class=\"string\">')'</span> : <span class=\"string\">''</span>));</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">      console.error(msgStack.join(<span class=\"string\">'\\n'</span>));</span><br><span class=\"line\">      phantom.exit(<span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">page.onLoadFinished = function() &#123;</span><br><span class=\"line\">   setTimeout(function()&#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span>(type == <span class=\"string\">\"image\"</span>)&#123;</span><br><span class=\"line\">        page.render(fileName,&#123;format: <span class=\"string\">'jpg'</span>, quality: <span class=\"string\">'100'</span>&#125;);</span><br><span class=\"line\">        console.log(<span class=\"string\">\"render page finished: \"</span> + url);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">       </span><br><span class=\"line\">      <span class=\"keyword\">if</span>(type == <span class=\"string\">\"html\"</span>)&#123;</span><br><span class=\"line\">         fs.write(fileName, page.content, <span class=\"string\">'w'</span>);</span><br><span class=\"line\">         console.log(<span class=\"string\">\"page html gen success: \"</span> + url);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      phantom.exit();         </span><br><span class=\"line\">   &#125;,<span class=\"number\">5000</span>);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">page.open(url, function (status) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (status === <span class=\"string\">\"success\"</span>) &#123;</span><br><span class=\"line\">        console.log(<span class=\"string\">\"load status: \"</span> + status);</span><br><span class=\"line\">    &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">        phantom.exit();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p>ProcessLinuxshellURLURL</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">String type = <span class=\"string\">\"html\"</span>;</span><br><span class=\"line\">String[] params =</span><br><span class=\"line\">                    <span class=\"keyword\">new</span> String[] &#123;DiamondUtil.getPhantomJsPath(), DiamondUtil.getCaptureJsPath(), url,type , htmlName,</span><br><span class=\"line\">                        cookieJson&#125;;</span><br><span class=\"line\">                ShellUtil.executeShell(params, <span class=\"string\">\" capture url \"</span> + url);</span><br><span class=\"line\">                File htmlFile = <span class=\"keyword\">new</span> File(defaultFilePath(htmlName));</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (checkFileEixst(htmlFile)) &#123;</span><br><span class=\"line\">                    String htmlOssUrl = fileService.updateObjectToOss(htmlName, htmlFile);</span><br><span class=\"line\">                &#125;</span><br></pre></td></tr></table></figure>\n<p>ShellUtil</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">executeShell</span><span class=\"params\">(String[] params, String message)</span> <span class=\"keyword\">throws</span> Exception </span>&#123;</span><br><span class=\"line\">        Process process = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        BufferedReader stdBufferedReader = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        BufferedReader errorBufferedReader = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            ProcessBuilder pb = <span class=\"keyword\">new</span> ProcessBuilder(params);</span><br><span class=\"line\">            pb.directory(<span class=\"keyword\">new</span> File(DiamondUtil.getCaptureImagePath()));</span><br><span class=\"line\">            pb.redirectErrorStream(<span class=\"keyword\">true</span>);</span><br><span class=\"line\">            process = pb.start();</span><br><span class=\"line\">            stdBufferedReader = <span class=\"keyword\">new</span> BufferedReader(<span class=\"keyword\">new</span> InputStreamReader(process.getInputStream()));</span><br><span class=\"line\">            errorBufferedReader = <span class=\"keyword\">new</span> BufferedReader(<span class=\"keyword\">new</span> InputStreamReader(process.getErrorStream()));</span><br><span class=\"line\">            String line;</span><br><span class=\"line\">            <span class=\"keyword\">while</span> ((line = stdBufferedReader.readLine()) != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                logger.info(message + <span class=\"string\">\":\"</span> + line);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">while</span> ((line = errorBufferedReader.readLine()) != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                logger.error(message + <span class=\"string\">\":\"</span> + line);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            process.waitFor();</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">            logger.error(message, e);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (stdBufferedReader != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                stdBufferedReader.close();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (errorBufferedReader != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                stdBufferedReader.close();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (process != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                process.destroy();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<p>bitmap-fonts</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo yum remove bitmap-fonts bitmap-fonts-cjk</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...&#123;  ...  font-family: Helvetica, arial, \"microsoft yahei\", Monaco, sans-serif;  ...&#125;</span><br></pre></td></tr></table></figure>\n<p>  sans-serif 5 Linux osxwindowscopyosx  .ttc  .dfont   <a href=\"http://transfonter.org/ttc-unpack\" target=\"_blank\" rel=\"noopener\">http://transfonter.org/ttc-unpack</a> Linux  .ttf </p>\n<p> Linux  fc-cache </p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo mkdir /usr/share/fonts/customsudo cp *.ttf  /usr/share/fonts/customfc-cache -fv</span><br></pre></td></tr></table></figure>\n"},{"layout":"post","title":"","description":null,"keywords":"message ","date":"2017-10-19T16:00:00.000Z","_content":"\n>\nABABUTF-8B\n\nA\n\n```java\nnew Message(TOPIC, TAG, null,          (messageContent.toString()).getBytes())\n```\n\nbytestringbytegetBytes()getBytes()\n\nEncodes this {@code String} into a sequence of bytes using the\n platform's default charset, storing the result into a new byte array.\n\nStringCoding.encodeCharset.defaultCharset().name()\n\n```java \n   /**\n     * Returns the default charset of this Java virtual machine.\n     *\n     * <p> The default charset is determined during virtual-machine startup and\n     * typically depends upon the locale and charset of the underlying\n     * operating system.\n     *\n     * @return  A charset object for the default charset\n     *\n     * @since 1.5\n     */\n    public static Charset defaultCharset() {\n        if (defaultCharset == null) {\n            synchronized (Charset.class) {\n                String csn = AccessController.doPrivileged(\n                    new GetPropertyAction(\"file.encoding\"));\n                Charset cs = lookup(csn);\n                if (cs != null)\n                    defaultCharset = cs;\n                else\n                    defaultCharset = forName(\"UTF-8\");\n            }\n        }\n        return defaultCharset;\n    }\n```\n\nJVMjvm-Dfile.encoding UTF-8\n\nA-Dfile.encoding=GB18030\n\n![](/images/posts/20171020/15084809508975.jpg)\n\n\n![](/images/posts/20171020/15084807485727.jpg)\n\n\nstringbytegetBytes(String charsetName)\n\n\n\n\n","source":"_posts/Java/2017-10-20-message-string-byte.md","raw":"---\nlayout: post\ntitle: \ncategories: Java\ndescription:\nkeywords: message \ndate: 2017-10-20\n---\n\n>\nABABUTF-8B\n\nA\n\n```java\nnew Message(TOPIC, TAG, null,          (messageContent.toString()).getBytes())\n```\n\nbytestringbytegetBytes()getBytes()\n\nEncodes this {@code String} into a sequence of bytes using the\n platform's default charset, storing the result into a new byte array.\n\nStringCoding.encodeCharset.defaultCharset().name()\n\n```java \n   /**\n     * Returns the default charset of this Java virtual machine.\n     *\n     * <p> The default charset is determined during virtual-machine startup and\n     * typically depends upon the locale and charset of the underlying\n     * operating system.\n     *\n     * @return  A charset object for the default charset\n     *\n     * @since 1.5\n     */\n    public static Charset defaultCharset() {\n        if (defaultCharset == null) {\n            synchronized (Charset.class) {\n                String csn = AccessController.doPrivileged(\n                    new GetPropertyAction(\"file.encoding\"));\n                Charset cs = lookup(csn);\n                if (cs != null)\n                    defaultCharset = cs;\n                else\n                    defaultCharset = forName(\"UTF-8\");\n            }\n        }\n        return defaultCharset;\n    }\n```\n\nJVMjvm-Dfile.encoding UTF-8\n\nA-Dfile.encoding=GB18030\n\n![](/images/posts/20171020/15084809508975.jpg)\n\n\n![](/images/posts/20171020/15084807485727.jpg)\n\n\nstringbytegetBytes(String charsetName)\n\n\n\n\n","slug":"Java/2017-10-20-message-string-byte","published":1,"updated":"2018-11-10T08:59:09.803Z","comments":1,"photos":[],"link":"","_id":"cjtohbk8i00286f12o0bykp4a","content":"<blockquote>\n<p><br>ABABUTF-8B</p>\n</blockquote>\n<p>A</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">new</span> Message(TOPIC, TAG, <span class=\"keyword\">null</span>,          (messageContent.toString()).getBytes())</span><br></pre></td></tr></table></figure>\n<p>bytestringbytegetBytes()getBytes()</p>\n<p>Encodes this {@code String} into a sequence of bytes using the<br> platforms default charset, storing the result into a new byte array.</p>\n<p>StringCoding.encodeCharset.defaultCharset().name()</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">  * Returns the default charset of this Java virtual machine.</span></span><br><span class=\"line\"><span class=\"comment\">  *</span></span><br><span class=\"line\"><span class=\"comment\">  * &lt;p&gt; The default charset is determined during virtual-machine startup and</span></span><br><span class=\"line\"><span class=\"comment\">  * typically depends upon the locale and charset of the underlying</span></span><br><span class=\"line\"><span class=\"comment\">  * operating system.</span></span><br><span class=\"line\"><span class=\"comment\">  *</span></span><br><span class=\"line\"><span class=\"comment\">  * <span class=\"doctag\">@return</span>  A charset object for the default charset</span></span><br><span class=\"line\"><span class=\"comment\">  *</span></span><br><span class=\"line\"><span class=\"comment\">  * <span class=\"doctag\">@since</span> 1.5</span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> Charset <span class=\"title\">defaultCharset</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">     <span class=\"keyword\">if</span> (defaultCharset == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">         <span class=\"keyword\">synchronized</span> (Charset.class) &#123;</span><br><span class=\"line\">             String csn = AccessController.doPrivileged(</span><br><span class=\"line\">                 <span class=\"keyword\">new</span> GetPropertyAction(<span class=\"string\">\"file.encoding\"</span>));</span><br><span class=\"line\">             Charset cs = lookup(csn);</span><br><span class=\"line\">             <span class=\"keyword\">if</span> (cs != <span class=\"keyword\">null</span>)</span><br><span class=\"line\">                 defaultCharset = cs;</span><br><span class=\"line\">             <span class=\"keyword\">else</span></span><br><span class=\"line\">                 defaultCharset = forName(<span class=\"string\">\"UTF-8\"</span>);</span><br><span class=\"line\">         &#125;</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">     <span class=\"keyword\">return</span> defaultCharset;</span><br><span class=\"line\"> &#125;</span><br></pre></td></tr></table></figure>\n<p>JVMjvm-Dfile.encoding UTF-8</p>\n<p>A-Dfile.encoding=GB18030</p>\n<p><img src=\"/images/posts/20171020/15084809508975.jpg\" alt=\"\"></p>\n<p><br><img src=\"/images/posts/20171020/15084807485727.jpg\" alt=\"\"></p>\n<p><br>stringbytegetBytes(String charsetName)</p>\n","site":{"data":{}},"excerpt":"","more":"<blockquote>\n<p><br>ABABUTF-8B</p>\n</blockquote>\n<p>A</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">new</span> Message(TOPIC, TAG, <span class=\"keyword\">null</span>,          (messageContent.toString()).getBytes())</span><br></pre></td></tr></table></figure>\n<p>bytestringbytegetBytes()getBytes()</p>\n<p>Encodes this {@code String} into a sequence of bytes using the<br> platforms default charset, storing the result into a new byte array.</p>\n<p>StringCoding.encodeCharset.defaultCharset().name()</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">  * Returns the default charset of this Java virtual machine.</span></span><br><span class=\"line\"><span class=\"comment\">  *</span></span><br><span class=\"line\"><span class=\"comment\">  * &lt;p&gt; The default charset is determined during virtual-machine startup and</span></span><br><span class=\"line\"><span class=\"comment\">  * typically depends upon the locale and charset of the underlying</span></span><br><span class=\"line\"><span class=\"comment\">  * operating system.</span></span><br><span class=\"line\"><span class=\"comment\">  *</span></span><br><span class=\"line\"><span class=\"comment\">  * <span class=\"doctag\">@return</span>  A charset object for the default charset</span></span><br><span class=\"line\"><span class=\"comment\">  *</span></span><br><span class=\"line\"><span class=\"comment\">  * <span class=\"doctag\">@since</span> 1.5</span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> Charset <span class=\"title\">defaultCharset</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">     <span class=\"keyword\">if</span> (defaultCharset == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">         <span class=\"keyword\">synchronized</span> (Charset.class) &#123;</span><br><span class=\"line\">             String csn = AccessController.doPrivileged(</span><br><span class=\"line\">                 <span class=\"keyword\">new</span> GetPropertyAction(<span class=\"string\">\"file.encoding\"</span>));</span><br><span class=\"line\">             Charset cs = lookup(csn);</span><br><span class=\"line\">             <span class=\"keyword\">if</span> (cs != <span class=\"keyword\">null</span>)</span><br><span class=\"line\">                 defaultCharset = cs;</span><br><span class=\"line\">             <span class=\"keyword\">else</span></span><br><span class=\"line\">                 defaultCharset = forName(<span class=\"string\">\"UTF-8\"</span>);</span><br><span class=\"line\">         &#125;</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">     <span class=\"keyword\">return</span> defaultCharset;</span><br><span class=\"line\"> &#125;</span><br></pre></td></tr></table></figure>\n<p>JVMjvm-Dfile.encoding UTF-8</p>\n<p>A-Dfile.encoding=GB18030</p>\n<p><img src=\"/images/posts/20171020/15084809508975.jpg\" alt=\"\"></p>\n<p><br><img src=\"/images/posts/20171020/15084807485727.jpg\" alt=\"\"></p>\n<p><br>stringbytegetBytes(String charsetName)</p>\n"},{"layout":"post","title":"Springproperty-placeholder","description":null,"keywords":"spring-property,placeholder,","date":"2018-01-18T16:00:00.000Z","_content":"property\n\nautoconfig\nspring.property-placeholder\n\n## spring\n\n\n\n```java\n<context:property-placeholder location=\"classpath:xxx.properties\" \nignore-unresolvable=\"true\"/>\n```\n\n\n```java\n    <bean id=\"propertyConfigurer\" class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\">\n        <property name=\"location\">\n            <value>myConfig.properties</value>\n        </property>\n    </bean>\n```\n\n\n\n```java\n<context:property-placeholder   \n        location=\"\"  \n        file-encoding=\"\"  \n        ignore-resource-not-found=\"\"  \n        ignore-unresolvable=\"\"  \n        properties-ref=\"\"  \n        local-override=\"\"  \n        system-properties-mode=\"\"  \n        order=\"\"  \n/> \n```\nignore-resource-not-foundfalse \n\nignore-unresolvable \n\norder<context:property-placeholder/>\n\nignore-resource-not-foundignore-unresolvableturefalse\n\n#### PropertySource\nSpring3.1@PropertySource,property.\n\n#### properties\n* java@Value\n\n```java\n@Value( \"${jdbc.url}\" )\nprivate String jdbcUrl;\n```\n\n* Springxml\n\n```java\n<bean id=\"dataSource\">\n  <property name=\"url\" value=\"${jdbc.url}\" />\n</bean>\n```\n\n#### property-placeholder\n\nSpringSpringorg.springframework.beans.factory.config.PropertyPlaceholderCVonfigurerBeanPropertyPlaceholderConfigurer\n\nproperty-placeholder\n\n```java\n<context:property-placeholder location=\"xxx.properties\" ignore-unresolvable=\"true\"/>\n\n<context:property-placeholder location=\"xxx.properties\" ignore-unresolvable=\"true\"/>\n```\nignore-unresolvable=\"true\"property-placeholder\n\n\nignore-unresolvablefalseproperty-placeholderproperty-placeholdertrue\n\n#### context:property-placeholder \n ContextNamespaceHandler  contextproperty-placeholder PropertyPlaceholderBeanDefinitionParser\n\n```java\npublic class ContextNamespaceHandler extends NamespaceHandlerSupport {\n\n\t@Override\n\tpublic void init() {\n\t\tregisterBeanDefinitionParser(\"property-placeholder\", new PropertyPlaceholderBeanDefinitionParser());\n\t\tregisterBeanDefinitionParser(\"property-override\", new PropertyOverrideBeanDefinitionParser());\n\t\tregisterBeanDefinitionParser(\"annotation-config\", new AnnotationConfigBeanDefinitionParser());\n\t\tregisterBeanDefinitionParser(\"component-scan\", new ComponentScanBeanDefinitionParser());\n\t\tregisterBeanDefinitionParser(\"load-time-weaver\", new LoadTimeWeaverBeanDefinitionParser());\n\t\tregisterBeanDefinitionParser(\"spring-configured\", new SpringConfiguredBeanDefinitionParser());\n\t\tregisterBeanDefinitionParser(\"mbean-export\", new MBeanExportBeanDefinitionParser());\n\t\tregisterBeanDefinitionParser(\"mbean-server\", new MBeanServerBeanDefinitionParser());\n\t}\n\n}\n```\nPropertyPlaceholderBeanDefinitionParserproperty-placeholder PropertySourcesPlaceholderConfigurer bean \n\n PropertySourcesPlaceholderConfigurer  PropertyPlaceholderConfigurer Spring Bean \n BeanFactoryPostProcessor Spring Bean\n\n AutowiredAnnotationBeanPostProcessor#postProcessPropertyValues PropertySourcesPlaceholderConfigurer  \n\n```java\n    public PropertyValues postProcessPropertyValues(PropertyValues pvs, PropertyDescriptor[] pds, Object bean, String beanName) throws BeansException {\n        InjectionMetadata metadata = this.findAutowiringMetadata(beanName, bean.getClass());\n\n        try {\n            metadata.inject(bean, beanName, pvs);\n            return pvs;\n        } catch (Throwable var7) {\n            throw new BeanCreationException(beanName, \"Injection of autowired dependencies failed\", var7);\n        }\n    }\n```\n\n\nPropertySourcesPlaceholderConfigurerBeanFactoryPostProcessorXMLBeanFactoryPostProcessor SetterPropertySourcesPlaceholderConfigurer\n\nBeanFactoryPostProcessorBeanbean\n\n#### Spring @Value\n1. Spring Context \n2. context:property-placeholderPropertySourcesPlaceholderConfigurer\n3. PropertySourcesPlaceholderConfigurer\n4. PropertySourcesPlaceholderConfigurerStringValueResolverBean\n5. SpringBeanFactoryPostProcessorBeanAutowiredAnnotationBeanPostProcessor Bean@ValueFieldMethod\n6. PropertySourcesPlaceholderConfigurerStringValueResolverval@ValueFieldMethod(Method)2\n7. Spring\n\n\nhttp://blog.csdn.net/qyp199312/article/details/54313784\n\n\n\n","source":"_posts/Java/2018-01-19-spring-properties.md","raw":"---\nlayout: post\ntitle: Springproperty-placeholder\ncategories: Java\ndescription:\nkeywords: spring-property,placeholder,\ndate: 2018-01-19\n---\nproperty\n\nautoconfig\nspring.property-placeholder\n\n## spring\n\n\n\n```java\n<context:property-placeholder location=\"classpath:xxx.properties\" \nignore-unresolvable=\"true\"/>\n```\n\n\n```java\n    <bean id=\"propertyConfigurer\" class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\">\n        <property name=\"location\">\n            <value>myConfig.properties</value>\n        </property>\n    </bean>\n```\n\n\n\n```java\n<context:property-placeholder   \n        location=\"\"  \n        file-encoding=\"\"  \n        ignore-resource-not-found=\"\"  \n        ignore-unresolvable=\"\"  \n        properties-ref=\"\"  \n        local-override=\"\"  \n        system-properties-mode=\"\"  \n        order=\"\"  \n/> \n```\nignore-resource-not-foundfalse \n\nignore-unresolvable \n\norder<context:property-placeholder/>\n\nignore-resource-not-foundignore-unresolvableturefalse\n\n#### PropertySource\nSpring3.1@PropertySource,property.\n\n#### properties\n* java@Value\n\n```java\n@Value( \"${jdbc.url}\" )\nprivate String jdbcUrl;\n```\n\n* Springxml\n\n```java\n<bean id=\"dataSource\">\n  <property name=\"url\" value=\"${jdbc.url}\" />\n</bean>\n```\n\n#### property-placeholder\n\nSpringSpringorg.springframework.beans.factory.config.PropertyPlaceholderCVonfigurerBeanPropertyPlaceholderConfigurer\n\nproperty-placeholder\n\n```java\n<context:property-placeholder location=\"xxx.properties\" ignore-unresolvable=\"true\"/>\n\n<context:property-placeholder location=\"xxx.properties\" ignore-unresolvable=\"true\"/>\n```\nignore-unresolvable=\"true\"property-placeholder\n\n\nignore-unresolvablefalseproperty-placeholderproperty-placeholdertrue\n\n#### context:property-placeholder \n ContextNamespaceHandler  contextproperty-placeholder PropertyPlaceholderBeanDefinitionParser\n\n```java\npublic class ContextNamespaceHandler extends NamespaceHandlerSupport {\n\n\t@Override\n\tpublic void init() {\n\t\tregisterBeanDefinitionParser(\"property-placeholder\", new PropertyPlaceholderBeanDefinitionParser());\n\t\tregisterBeanDefinitionParser(\"property-override\", new PropertyOverrideBeanDefinitionParser());\n\t\tregisterBeanDefinitionParser(\"annotation-config\", new AnnotationConfigBeanDefinitionParser());\n\t\tregisterBeanDefinitionParser(\"component-scan\", new ComponentScanBeanDefinitionParser());\n\t\tregisterBeanDefinitionParser(\"load-time-weaver\", new LoadTimeWeaverBeanDefinitionParser());\n\t\tregisterBeanDefinitionParser(\"spring-configured\", new SpringConfiguredBeanDefinitionParser());\n\t\tregisterBeanDefinitionParser(\"mbean-export\", new MBeanExportBeanDefinitionParser());\n\t\tregisterBeanDefinitionParser(\"mbean-server\", new MBeanServerBeanDefinitionParser());\n\t}\n\n}\n```\nPropertyPlaceholderBeanDefinitionParserproperty-placeholder PropertySourcesPlaceholderConfigurer bean \n\n PropertySourcesPlaceholderConfigurer  PropertyPlaceholderConfigurer Spring Bean \n BeanFactoryPostProcessor Spring Bean\n\n AutowiredAnnotationBeanPostProcessor#postProcessPropertyValues PropertySourcesPlaceholderConfigurer  \n\n```java\n    public PropertyValues postProcessPropertyValues(PropertyValues pvs, PropertyDescriptor[] pds, Object bean, String beanName) throws BeansException {\n        InjectionMetadata metadata = this.findAutowiringMetadata(beanName, bean.getClass());\n\n        try {\n            metadata.inject(bean, beanName, pvs);\n            return pvs;\n        } catch (Throwable var7) {\n            throw new BeanCreationException(beanName, \"Injection of autowired dependencies failed\", var7);\n        }\n    }\n```\n\n\nPropertySourcesPlaceholderConfigurerBeanFactoryPostProcessorXMLBeanFactoryPostProcessor SetterPropertySourcesPlaceholderConfigurer\n\nBeanFactoryPostProcessorBeanbean\n\n#### Spring @Value\n1. Spring Context \n2. context:property-placeholderPropertySourcesPlaceholderConfigurer\n3. PropertySourcesPlaceholderConfigurer\n4. PropertySourcesPlaceholderConfigurerStringValueResolverBean\n5. SpringBeanFactoryPostProcessorBeanAutowiredAnnotationBeanPostProcessor Bean@ValueFieldMethod\n6. PropertySourcesPlaceholderConfigurerStringValueResolverval@ValueFieldMethod(Method)2\n7. Spring\n\n\nhttp://blog.csdn.net/qyp199312/article/details/54313784\n\n\n\n","slug":"Java/2018-01-19-spring-properties","published":1,"updated":"2018-11-10T08:59:09.803Z","comments":1,"photos":[],"link":"","_id":"cjtohbk8j002a6f12hmgkeuhy","content":"<p>property</p>\n<p>autoconfig<br>spring.property-placeholder</p>\n<h2 id=\"spring\"><a href=\"#spring\" class=\"headerlink\" title=\"spring\"></a>spring</h2><p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;context:property-placeholder location=<span class=\"string\">\"classpath:xxx.properties\"</span> </span><br><span class=\"line\">ignore-unresolvable=<span class=\"string\">\"true\"</span>/&gt;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;bean id=<span class=\"string\">\"propertyConfigurer\"</span> <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"</span>&gt;</span><br><span class=\"line\">    &lt;property name=<span class=\"string\">\"location\"</span>&gt;</span><br><span class=\"line\">        &lt;value&gt;myConfig.properties&lt;/value&gt;</span><br><span class=\"line\">    &lt;/property&gt;</span><br><span class=\"line\">&lt;/bean&gt;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;context:property-placeholder   </span><br><span class=\"line\">        location=<span class=\"string\">\"\"</span>  </span><br><span class=\"line\">        file-encoding=<span class=\"string\">\"\"</span>  </span><br><span class=\"line\">        ignore-resource-not-found=<span class=\"string\">\"\"</span>  </span><br><span class=\"line\">        ignore-unresolvable=<span class=\"string\">\"\"</span>  </span><br><span class=\"line\">        properties-ref=<span class=\"string\">\"\"</span>  </span><br><span class=\"line\">        local-override=<span class=\"string\">\"\"</span>  </span><br><span class=\"line\">        system-properties-mode=<span class=\"string\">\"\"</span>  </span><br><span class=\"line\">        order=<span class=\"string\">\"\"</span>  </span><br><span class=\"line\">/&gt;</span><br></pre></td></tr></table></figure>\n<p>ignore-resource-not-foundfalse </p>\n<p>ignore-unresolvable </p>\n<p>order<a href=\"context:property-placeholder/\" target=\"_blank\" rel=\"noopener\">context:property-placeholder/</a></p>\n<p>ignore-resource-not-foundignore-unresolvableturefalse</p>\n<h4 id=\"PropertySource\"><a href=\"#PropertySource\" class=\"headerlink\" title=\"PropertySource\"></a>PropertySource</h4><p>Spring3.1@PropertySource,property.</p>\n<h4 id=\"properties\"><a href=\"#properties\" class=\"headerlink\" title=\"properties\"></a>properties</h4><ul>\n<li>java@Value</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Value</span>( <span class=\"string\">\"$&#123;jdbc.url&#125;\"</span> )</span><br><span class=\"line\"><span class=\"keyword\">private</span> String jdbcUrl;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>Springxml</li>\n</ul>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;bean id=<span class=\"string\">\"dataSource\"</span>&gt;</span><br><span class=\"line\">  &lt;property name=<span class=\"string\">\"url\"</span> value=<span class=\"string\">\"$&#123;jdbc.url&#125;\"</span> /&gt;</span><br><span class=\"line\">&lt;/bean&gt;</span><br></pre></td></tr></table></figure>\n<h4 id=\"property-placeholder\"><a href=\"#property-placeholder\" class=\"headerlink\" title=\"property-placeholder\"></a>property-placeholder</h4><p>SpringSpringorg.springframework.beans.factory.config.PropertyPlaceholderCVonfigurerBeanPropertyPlaceholderConfigurer</p>\n<p>property-placeholder</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;context:property-placeholder location=<span class=\"string\">\"xxx.properties\"</span> ignore-unresolvable=<span class=\"string\">\"true\"</span>/&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;context:property-placeholder location=<span class=\"string\">\"xxx.properties\"</span> ignore-unresolvable=<span class=\"string\">\"true\"</span>/&gt;</span><br></pre></td></tr></table></figure>\n<p>ignore-unresolvable=trueproperty-placeholder</p>\n<p>ignore-unresolvablefalseproperty-placeholderproperty-placeholdertrue</p>\n<h4 id=\"context-property-placeholder-\"><a href=\"#context-property-placeholder-\" class=\"headerlink\" title=\"context:property-placeholder \"></a>context:property-placeholder </h4><p> ContextNamespaceHandler  contextproperty-placeholder PropertyPlaceholderBeanDefinitionParser</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ContextNamespaceHandler</span> <span class=\"keyword\">extends</span> <span class=\"title\">NamespaceHandlerSupport</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"meta\">@Override</span></span><br><span class=\"line\">\t<span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">init</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t\tregisterBeanDefinitionParser(<span class=\"string\">\"property-placeholder\"</span>, <span class=\"keyword\">new</span> PropertyPlaceholderBeanDefinitionParser());</span><br><span class=\"line\">\t\tregisterBeanDefinitionParser(<span class=\"string\">\"property-override\"</span>, <span class=\"keyword\">new</span> PropertyOverrideBeanDefinitionParser());</span><br><span class=\"line\">\t\tregisterBeanDefinitionParser(<span class=\"string\">\"annotation-config\"</span>, <span class=\"keyword\">new</span> AnnotationConfigBeanDefinitionParser());</span><br><span class=\"line\">\t\tregisterBeanDefinitionParser(<span class=\"string\">\"component-scan\"</span>, <span class=\"keyword\">new</span> ComponentScanBeanDefinitionParser());</span><br><span class=\"line\">\t\tregisterBeanDefinitionParser(<span class=\"string\">\"load-time-weaver\"</span>, <span class=\"keyword\">new</span> LoadTimeWeaverBeanDefinitionParser());</span><br><span class=\"line\">\t\tregisterBeanDefinitionParser(<span class=\"string\">\"spring-configured\"</span>, <span class=\"keyword\">new</span> SpringConfiguredBeanDefinitionParser());</span><br><span class=\"line\">\t\tregisterBeanDefinitionParser(<span class=\"string\">\"mbean-export\"</span>, <span class=\"keyword\">new</span> MBeanExportBeanDefinitionParser());</span><br><span class=\"line\">\t\tregisterBeanDefinitionParser(<span class=\"string\">\"mbean-server\"</span>, <span class=\"keyword\">new</span> MBeanServerBeanDefinitionParser());</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>PropertyPlaceholderBeanDefinitionParserproperty-placeholder PropertySourcesPlaceholderConfigurer bean </p>\n<p> PropertySourcesPlaceholderConfigurer  PropertyPlaceholderConfigurer Spring Bean<br> BeanFactoryPostProcessor Spring Bean</p>\n<p> AutowiredAnnotationBeanPostProcessor#postProcessPropertyValues PropertySourcesPlaceholderConfigurer  </p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> PropertyValues <span class=\"title\">postProcessPropertyValues</span><span class=\"params\">(PropertyValues pvs, PropertyDescriptor[] pds, Object bean, String beanName)</span> <span class=\"keyword\">throws</span> BeansException </span>&#123;</span><br><span class=\"line\">    InjectionMetadata metadata = <span class=\"keyword\">this</span>.findAutowiringMetadata(beanName, bean.getClass());</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        metadata.inject(bean, beanName, pvs);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> pvs;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (Throwable var7) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> BeanCreationException(beanName, <span class=\"string\">\"Injection of autowired dependencies failed\"</span>, var7);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>PropertySourcesPlaceholderConfigurerBeanFactoryPostProcessorXMLBeanFactoryPostProcessor SetterPropertySourcesPlaceholderConfigurer</p>\n<p>BeanFactoryPostProcessorBeanbean</p>\n<h4 id=\"Spring-Value\"><a href=\"#Spring-Value\" class=\"headerlink\" title=\"Spring @Value\"></a>Spring @Value</h4><ol>\n<li>Spring Context </li>\n<li>context:property-placeholderPropertySourcesPlaceholderConfigurer</li>\n<li>PropertySourcesPlaceholderConfigurer</li>\n<li>PropertySourcesPlaceholderConfigurerStringValueResolverBean</li>\n<li>SpringBeanFactoryPostProcessorBeanAutowiredAnnotationBeanPostProcessor Bean@ValueFieldMethod</li>\n<li>PropertySourcesPlaceholderConfigurerStringValueResolverval@ValueFieldMethod(Method)2</li>\n<li>Spring</li>\n</ol>\n<p><br><a href=\"http://blog.csdn.net/qyp199312/article/details/54313784\" target=\"_blank\" rel=\"noopener\">http://blog.csdn.net/qyp199312/article/details/54313784</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p>property</p>\n<p>autoconfig<br>spring.property-placeholder</p>\n<h2 id=\"spring\"><a href=\"#spring\" class=\"headerlink\" title=\"spring\"></a>spring</h2><p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;context:property-placeholder location=<span class=\"string\">\"classpath:xxx.properties\"</span> </span><br><span class=\"line\">ignore-unresolvable=<span class=\"string\">\"true\"</span>/&gt;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;bean id=<span class=\"string\">\"propertyConfigurer\"</span> <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"</span>&gt;</span><br><span class=\"line\">    &lt;property name=<span class=\"string\">\"location\"</span>&gt;</span><br><span class=\"line\">        &lt;value&gt;myConfig.properties&lt;/value&gt;</span><br><span class=\"line\">    &lt;/property&gt;</span><br><span class=\"line\">&lt;/bean&gt;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;context:property-placeholder   </span><br><span class=\"line\">        location=<span class=\"string\">\"\"</span>  </span><br><span class=\"line\">        file-encoding=<span class=\"string\">\"\"</span>  </span><br><span class=\"line\">        ignore-resource-not-found=<span class=\"string\">\"\"</span>  </span><br><span class=\"line\">        ignore-unresolvable=<span class=\"string\">\"\"</span>  </span><br><span class=\"line\">        properties-ref=<span class=\"string\">\"\"</span>  </span><br><span class=\"line\">        local-override=<span class=\"string\">\"\"</span>  </span><br><span class=\"line\">        system-properties-mode=<span class=\"string\">\"\"</span>  </span><br><span class=\"line\">        order=<span class=\"string\">\"\"</span>  </span><br><span class=\"line\">/&gt;</span><br></pre></td></tr></table></figure>\n<p>ignore-resource-not-foundfalse </p>\n<p>ignore-unresolvable </p>\n<p>order<a href=\"context:property-placeholder/\" target=\"_blank\" rel=\"noopener\">context:property-placeholder/</a></p>\n<p>ignore-resource-not-foundignore-unresolvableturefalse</p>\n<h4 id=\"PropertySource\"><a href=\"#PropertySource\" class=\"headerlink\" title=\"PropertySource\"></a>PropertySource</h4><p>Spring3.1@PropertySource,property.</p>\n<h4 id=\"properties\"><a href=\"#properties\" class=\"headerlink\" title=\"properties\"></a>properties</h4><ul>\n<li>java@Value</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Value</span>( <span class=\"string\">\"$&#123;jdbc.url&#125;\"</span> )</span><br><span class=\"line\"><span class=\"keyword\">private</span> String jdbcUrl;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>Springxml</li>\n</ul>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;bean id=<span class=\"string\">\"dataSource\"</span>&gt;</span><br><span class=\"line\">  &lt;property name=<span class=\"string\">\"url\"</span> value=<span class=\"string\">\"$&#123;jdbc.url&#125;\"</span> /&gt;</span><br><span class=\"line\">&lt;/bean&gt;</span><br></pre></td></tr></table></figure>\n<h4 id=\"property-placeholder\"><a href=\"#property-placeholder\" class=\"headerlink\" title=\"property-placeholder\"></a>property-placeholder</h4><p>SpringSpringorg.springframework.beans.factory.config.PropertyPlaceholderCVonfigurerBeanPropertyPlaceholderConfigurer</p>\n<p>property-placeholder</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;context:property-placeholder location=<span class=\"string\">\"xxx.properties\"</span> ignore-unresolvable=<span class=\"string\">\"true\"</span>/&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;context:property-placeholder location=<span class=\"string\">\"xxx.properties\"</span> ignore-unresolvable=<span class=\"string\">\"true\"</span>/&gt;</span><br></pre></td></tr></table></figure>\n<p>ignore-unresolvable=trueproperty-placeholder</p>\n<p>ignore-unresolvablefalseproperty-placeholderproperty-placeholdertrue</p>\n<h4 id=\"context-property-placeholder-\"><a href=\"#context-property-placeholder-\" class=\"headerlink\" title=\"context:property-placeholder \"></a>context:property-placeholder </h4><p> ContextNamespaceHandler  contextproperty-placeholder PropertyPlaceholderBeanDefinitionParser</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ContextNamespaceHandler</span> <span class=\"keyword\">extends</span> <span class=\"title\">NamespaceHandlerSupport</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"meta\">@Override</span></span><br><span class=\"line\">\t<span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">init</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t\tregisterBeanDefinitionParser(<span class=\"string\">\"property-placeholder\"</span>, <span class=\"keyword\">new</span> PropertyPlaceholderBeanDefinitionParser());</span><br><span class=\"line\">\t\tregisterBeanDefinitionParser(<span class=\"string\">\"property-override\"</span>, <span class=\"keyword\">new</span> PropertyOverrideBeanDefinitionParser());</span><br><span class=\"line\">\t\tregisterBeanDefinitionParser(<span class=\"string\">\"annotation-config\"</span>, <span class=\"keyword\">new</span> AnnotationConfigBeanDefinitionParser());</span><br><span class=\"line\">\t\tregisterBeanDefinitionParser(<span class=\"string\">\"component-scan\"</span>, <span class=\"keyword\">new</span> ComponentScanBeanDefinitionParser());</span><br><span class=\"line\">\t\tregisterBeanDefinitionParser(<span class=\"string\">\"load-time-weaver\"</span>, <span class=\"keyword\">new</span> LoadTimeWeaverBeanDefinitionParser());</span><br><span class=\"line\">\t\tregisterBeanDefinitionParser(<span class=\"string\">\"spring-configured\"</span>, <span class=\"keyword\">new</span> SpringConfiguredBeanDefinitionParser());</span><br><span class=\"line\">\t\tregisterBeanDefinitionParser(<span class=\"string\">\"mbean-export\"</span>, <span class=\"keyword\">new</span> MBeanExportBeanDefinitionParser());</span><br><span class=\"line\">\t\tregisterBeanDefinitionParser(<span class=\"string\">\"mbean-server\"</span>, <span class=\"keyword\">new</span> MBeanServerBeanDefinitionParser());</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>PropertyPlaceholderBeanDefinitionParserproperty-placeholder PropertySourcesPlaceholderConfigurer bean </p>\n<p> PropertySourcesPlaceholderConfigurer  PropertyPlaceholderConfigurer Spring Bean<br> BeanFactoryPostProcessor Spring Bean</p>\n<p> AutowiredAnnotationBeanPostProcessor#postProcessPropertyValues PropertySourcesPlaceholderConfigurer  </p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> PropertyValues <span class=\"title\">postProcessPropertyValues</span><span class=\"params\">(PropertyValues pvs, PropertyDescriptor[] pds, Object bean, String beanName)</span> <span class=\"keyword\">throws</span> BeansException </span>&#123;</span><br><span class=\"line\">    InjectionMetadata metadata = <span class=\"keyword\">this</span>.findAutowiringMetadata(beanName, bean.getClass());</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        metadata.inject(bean, beanName, pvs);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> pvs;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (Throwable var7) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> BeanCreationException(beanName, <span class=\"string\">\"Injection of autowired dependencies failed\"</span>, var7);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>PropertySourcesPlaceholderConfigurerBeanFactoryPostProcessorXMLBeanFactoryPostProcessor SetterPropertySourcesPlaceholderConfigurer</p>\n<p>BeanFactoryPostProcessorBeanbean</p>\n<h4 id=\"Spring-Value\"><a href=\"#Spring-Value\" class=\"headerlink\" title=\"Spring @Value\"></a>Spring @Value</h4><ol>\n<li>Spring Context </li>\n<li>context:property-placeholderPropertySourcesPlaceholderConfigurer</li>\n<li>PropertySourcesPlaceholderConfigurer</li>\n<li>PropertySourcesPlaceholderConfigurerStringValueResolverBean</li>\n<li>SpringBeanFactoryPostProcessorBeanAutowiredAnnotationBeanPostProcessor Bean@ValueFieldMethod</li>\n<li>PropertySourcesPlaceholderConfigurerStringValueResolverval@ValueFieldMethod(Method)2</li>\n<li>Spring</li>\n</ol>\n<p><br><a href=\"http://blog.csdn.net/qyp199312/article/details/54313784\" target=\"_blank\" rel=\"noopener\">http://blog.csdn.net/qyp199312/article/details/54313784</a></p>\n"},{"layout":"post","title":"POJO setter return \"this\"","description":null,"keywords":"setter","date":"2018-03-21T16:00:00.000Z","_content":"\n\nPOJOsetterreturn void\n\n\n```java\n    public void setStatus(String status) {\n        this.status = status;\n    }\n```\n\nsetbuildsetter\n\n```java\n    public Employee setName(String name) {\n        this.name = name;\n        return this;\n    }\n```\n\n\n\n```java\nnew Employee().setName(\"Xin yuan\").setHeight(178);\n```\n\npojo`return this`[Java Bean](https://docstore.mik.ua/orelly/java-ent/jnut/ch06_02.htm)JVMIDEgetter&setterreturn thissetterreturn this\n\n\n\n****\n\njava\n\n```java\nnew Employee()\n{{\n    setName(\"Jack Sparrow\");\n    setId(1);\n    setFoo(\"bacon!\");\n}});\n```\n\n****\n\nbuilder\n\n```java\n    public Employee setName(String name) {\n        this.name = name;\n        return this;\n    }\n    \n    public static class Builder {\n        private String name;\n          public Builder name(Strig name) {\n            this.name = name;\n            return this;\n        }\n    }\n```\n(Builder Pattern)************POJO builder\n\n\n****\n\nwithXxx\n\n```java\n    public Employee setName(String name) {\n        this.name = name;\n        return this;\n    }\n    \n    public Employee withName(String name) {\n        setName(name);\n        return this;\n    }\n    //\n    new Employee().withName(\"Xin yuan\").withHeight(178);\n    \n```\n\n### \nPOJO Java Beansetterreturn thisJavaJava Beanwithbuild\n\n\n****\n\n[https://en.wikipedia.org/wiki/Plain_old_Java_object](https://en.wikipedia.org/wiki/Plain_old_Java_object)\n\n[https://stackoverflow.com/questions/1345001/is-it-bad-practice-to-make-a-setter-return-this](https://stackoverflow.com/questions/1345001/is-it-bad-practice-to-make-a-setter-return-this)\n\n","source":"_posts/Java/2018-03-22-java-bean-setter-return.md","raw":"---\nlayout: post\ntitle: POJO setter return \"this\"\ncategories: Java\ndescription:\nkeywords: setter\ndate: 2018-03-22\n---\n\n\nPOJOsetterreturn void\n\n\n```java\n    public void setStatus(String status) {\n        this.status = status;\n    }\n```\n\nsetbuildsetter\n\n```java\n    public Employee setName(String name) {\n        this.name = name;\n        return this;\n    }\n```\n\n\n\n```java\nnew Employee().setName(\"Xin yuan\").setHeight(178);\n```\n\npojo`return this`[Java Bean](https://docstore.mik.ua/orelly/java-ent/jnut/ch06_02.htm)JVMIDEgetter&setterreturn thissetterreturn this\n\n\n\n****\n\njava\n\n```java\nnew Employee()\n{{\n    setName(\"Jack Sparrow\");\n    setId(1);\n    setFoo(\"bacon!\");\n}});\n```\n\n****\n\nbuilder\n\n```java\n    public Employee setName(String name) {\n        this.name = name;\n        return this;\n    }\n    \n    public static class Builder {\n        private String name;\n          public Builder name(Strig name) {\n            this.name = name;\n            return this;\n        }\n    }\n```\n(Builder Pattern)************POJO builder\n\n\n****\n\nwithXxx\n\n```java\n    public Employee setName(String name) {\n        this.name = name;\n        return this;\n    }\n    \n    public Employee withName(String name) {\n        setName(name);\n        return this;\n    }\n    //\n    new Employee().withName(\"Xin yuan\").withHeight(178);\n    \n```\n\n### \nPOJO Java Beansetterreturn thisJavaJava Beanwithbuild\n\n\n****\n\n[https://en.wikipedia.org/wiki/Plain_old_Java_object](https://en.wikipedia.org/wiki/Plain_old_Java_object)\n\n[https://stackoverflow.com/questions/1345001/is-it-bad-practice-to-make-a-setter-return-this](https://stackoverflow.com/questions/1345001/is-it-bad-practice-to-make-a-setter-return-this)\n\n","slug":"Java/2018-03-22-java-bean-setter-return","published":1,"updated":"2018-11-10T08:59:09.803Z","comments":1,"photos":[],"link":"","_id":"cjtohbk8k002d6f12n9b7imr8","content":"<p>POJOsetterreturn void</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">setStatus</span><span class=\"params\">(String status)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.status = status;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>setbuildsetter</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> Employee <span class=\"title\">setName</span><span class=\"params\">(String name)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.name = name;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">new</span> Employee().setName(<span class=\"string\">\"Xin yuan\"</span>).setHeight(<span class=\"number\">178</span>);</span><br></pre></td></tr></table></figure>\n<p>pojo<code>return this</code><a href=\"https://docstore.mik.ua/orelly/java-ent/jnut/ch06_02.htm\" target=\"_blank\" rel=\"noopener\">Java Bean</a>JVMIDEgetter&amp;setterreturn thissetterreturn this</p>\n<p></p>\n<p><strong></strong></p>\n<p>java</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">new</span> Employee()</span><br><span class=\"line\">&#123;&#123;</span><br><span class=\"line\">    setName(<span class=\"string\">\"Jack Sparrow\"</span>);</span><br><span class=\"line\">    setId(<span class=\"number\">1</span>);</span><br><span class=\"line\">    setFoo(<span class=\"string\">\"bacon!\"</span>);</span><br><span class=\"line\">&#125;&#125;);</span><br></pre></td></tr></table></figure>\n<p><strong></strong></p>\n<p>builder</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> Employee <span class=\"title\">setName</span><span class=\"params\">(String name)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.name = name;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Builder</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String name;</span><br><span class=\"line\">      <span class=\"function\"><span class=\"keyword\">public</span> Builder <span class=\"title\">name</span><span class=\"params\">(Strig name)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.name = name;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>(Builder Pattern)<strong></strong><strong></strong><strong></strong>POJO builder</p>\n<p><strong></strong></p>\n<p>withXxx</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> Employee <span class=\"title\">setName</span><span class=\"params\">(String name)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.name = name;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> Employee <span class=\"title\">withName</span><span class=\"params\">(String name)</span> </span>&#123;</span><br><span class=\"line\">    setName(name);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"keyword\">new</span> Employee().withName(<span class=\"string\">\"Xin yuan\"</span>).withHeight(<span class=\"number\">178</span>);</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>POJO Java Beansetterreturn thisJavaJava Beanwithbuild</p>\n<p><strong></strong></p>\n<p><a href=\"https://en.wikipedia.org/wiki/Plain_old_Java_object\" target=\"_blank\" rel=\"noopener\">https://en.wikipedia.org/wiki/Plain_old_Java_object</a></p>\n<p><a href=\"https://stackoverflow.com/questions/1345001/is-it-bad-practice-to-make-a-setter-return-this\" target=\"_blank\" rel=\"noopener\">https://stackoverflow.com/questions/1345001/is-it-bad-practice-to-make-a-setter-return-this</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p>POJOsetterreturn void</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">setStatus</span><span class=\"params\">(String status)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.status = status;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>setbuildsetter</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> Employee <span class=\"title\">setName</span><span class=\"params\">(String name)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.name = name;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">new</span> Employee().setName(<span class=\"string\">\"Xin yuan\"</span>).setHeight(<span class=\"number\">178</span>);</span><br></pre></td></tr></table></figure>\n<p>pojo<code>return this</code><a href=\"https://docstore.mik.ua/orelly/java-ent/jnut/ch06_02.htm\" target=\"_blank\" rel=\"noopener\">Java Bean</a>JVMIDEgetter&amp;setterreturn thissetterreturn this</p>\n<p></p>\n<p><strong></strong></p>\n<p>java</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">new</span> Employee()</span><br><span class=\"line\">&#123;&#123;</span><br><span class=\"line\">    setName(<span class=\"string\">\"Jack Sparrow\"</span>);</span><br><span class=\"line\">    setId(<span class=\"number\">1</span>);</span><br><span class=\"line\">    setFoo(<span class=\"string\">\"bacon!\"</span>);</span><br><span class=\"line\">&#125;&#125;);</span><br></pre></td></tr></table></figure>\n<p><strong></strong></p>\n<p>builder</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> Employee <span class=\"title\">setName</span><span class=\"params\">(String name)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.name = name;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Builder</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String name;</span><br><span class=\"line\">      <span class=\"function\"><span class=\"keyword\">public</span> Builder <span class=\"title\">name</span><span class=\"params\">(Strig name)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.name = name;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>(Builder Pattern)<strong></strong><strong></strong><strong></strong>POJO builder</p>\n<p><strong></strong></p>\n<p>withXxx</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> Employee <span class=\"title\">setName</span><span class=\"params\">(String name)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.name = name;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> Employee <span class=\"title\">withName</span><span class=\"params\">(String name)</span> </span>&#123;</span><br><span class=\"line\">    setName(name);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"keyword\">new</span> Employee().withName(<span class=\"string\">\"Xin yuan\"</span>).withHeight(<span class=\"number\">178</span>);</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>POJO Java Beansetterreturn thisJavaJava Beanwithbuild</p>\n<p><strong></strong></p>\n<p><a href=\"https://en.wikipedia.org/wiki/Plain_old_Java_object\" target=\"_blank\" rel=\"noopener\">https://en.wikipedia.org/wiki/Plain_old_Java_object</a></p>\n<p><a href=\"https://stackoverflow.com/questions/1345001/is-it-bad-practice-to-make-a-setter-return-this\" target=\"_blank\" rel=\"noopener\">https://stackoverflow.com/questions/1345001/is-it-bad-practice-to-make-a-setter-return-this</a></p>\n"},{"layout":"post","title":"Mybatis ","description":null,"keywords":"mybatis,","date":"2018-04-08T16:00:00.000Z","_content":"\n>MybatisJava\n\n### \nSQLJDBCRDBMSXMLOOP\n\n\n### Mybatis\n\n\n* SQL/\n* JDBC\n* XMLsqlmapmapperpojo\n\nMybatisSQLRDBMS**30**<!-- more -->\n\n### Mybatis \n\n\n* Configuration\n* SqlSessionFactory\n* SqlSession\n* MappedStatement\n\n\n\n* Executor \n* StatementHandler \n* ParameterHandler \n* ResultSetHandler\n\n\n\n* Java&\n* \n\n\n\n### Mybatis \nibatis  mybatis\n\nibatis 2002 Clinton Begin\nibatis 2010apachemybatismybatis 3\n\n### Mybatis \n\n![](/images/posts/20180409/mybatis-work-flow.jpg)\n    CSDN\n\n\n### Mybatis \n1. SQL&\n2. \n3. SQLSQL\n4. builderProxy\n5. \n6. CachePerpetualCache\n    * \n    * \n    * \n7. PluginJava\n8. \n\n\n### Mybatis\n* XMLJava APIMybatis\n* XMLSQLMapper\n* OGNLSQL\n* \n\n\n##### Executor\n![](/images/posts/20180409/mybatis-executor-topo.jpg)\n\nCachingExecutor Executorwrapper\n\n##### SQL\n4:\n\n1. if \n2. choise(when,otherwise)\n3. trimwhere,set\n4. foreach\n\n##### \n1. \n    SqlSession\n    PerpetualCache HashMap\n    Local Cachecircular references\n     localCacheScope=STATEMENT|SESSIONSTATEMENT\n\n2. \n    namespaceSqlSession\n    LruCachePerpetualCache \n    Mybatis\n\n\n##### scope\n* SqlSessionFactory    \n* SqlSession \n* Mapper Instance \n\n#### Spring\n\n\n:http://www.mybatis.org/spring/index.html\n\nhttp://www.mybatis.org/spring/index.html\n\n\n#### \n\n\n[https://github.com/heartaway/mybatis-study-demo](https://github.com/heartaway/mybatis-study-demo)\n\n\n#### :\nhttp://www.mybatis.org/mybatis-3/zh/configuration.html\n\nhttp://www.mybatis.org/spring/index.html\n\nhttps://blog.csdn.net/column/details/mybatis-principle.html\n\niBatis\n\n\n\n\n\n","source":"_posts/Java/2018-04-09-mybatis-core-thought.md","raw":"---\nlayout: post\ntitle:  Mybatis \ncategories: Java\ndescription:\nkeywords: mybatis,\ndate: 2018-04-09\n---\n\n>MybatisJava\n\n### \nSQLJDBCRDBMSXMLOOP\n\n\n### Mybatis\n\n\n* SQL/\n* JDBC\n* XMLsqlmapmapperpojo\n\nMybatisSQLRDBMS**30**<!-- more -->\n\n### Mybatis \n\n\n* Configuration\n* SqlSessionFactory\n* SqlSession\n* MappedStatement\n\n\n\n* Executor \n* StatementHandler \n* ParameterHandler \n* ResultSetHandler\n\n\n\n* Java&\n* \n\n\n\n### Mybatis \nibatis  mybatis\n\nibatis 2002 Clinton Begin\nibatis 2010apachemybatismybatis 3\n\n### Mybatis \n\n![](/images/posts/20180409/mybatis-work-flow.jpg)\n    CSDN\n\n\n### Mybatis \n1. SQL&\n2. \n3. SQLSQL\n4. builderProxy\n5. \n6. CachePerpetualCache\n    * \n    * \n    * \n7. PluginJava\n8. \n\n\n### Mybatis\n* XMLJava APIMybatis\n* XMLSQLMapper\n* OGNLSQL\n* \n\n\n##### Executor\n![](/images/posts/20180409/mybatis-executor-topo.jpg)\n\nCachingExecutor Executorwrapper\n\n##### SQL\n4:\n\n1. if \n2. choise(when,otherwise)\n3. trimwhere,set\n4. foreach\n\n##### \n1. \n    SqlSession\n    PerpetualCache HashMap\n    Local Cachecircular references\n     localCacheScope=STATEMENT|SESSIONSTATEMENT\n\n2. \n    namespaceSqlSession\n    LruCachePerpetualCache \n    Mybatis\n\n\n##### scope\n* SqlSessionFactory    \n* SqlSession \n* Mapper Instance \n\n#### Spring\n\n\n:http://www.mybatis.org/spring/index.html\n\nhttp://www.mybatis.org/spring/index.html\n\n\n#### \n\n\n[https://github.com/heartaway/mybatis-study-demo](https://github.com/heartaway/mybatis-study-demo)\n\n\n#### :\nhttp://www.mybatis.org/mybatis-3/zh/configuration.html\n\nhttp://www.mybatis.org/spring/index.html\n\nhttps://blog.csdn.net/column/details/mybatis-principle.html\n\niBatis\n\n\n\n\n\n","slug":"Java/2018-04-09-mybatis-core-thought","published":1,"updated":"2019-03-25T15:01:17.795Z","comments":1,"photos":[],"link":"","_id":"cjtohbk8l002f6f12zmx4mvi6","content":"<blockquote>\n<p>MybatisJava</p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>SQLJDBCRDBMSXMLOOP</p>\n<h3 id=\"Mybatis\"><a href=\"#Mybatis\" class=\"headerlink\" title=\"Mybatis\"></a>Mybatis</h3><p></p>\n<ul>\n<li>SQL/</li>\n<li>JDBC</li>\n<li>XMLsqlmapmapperpojo</li>\n</ul>\n<p>MybatisSQLRDBMS<strong>30</strong><a id=\"more\"></a></p>\n<h3 id=\"Mybatis-\"><a href=\"#Mybatis-\" class=\"headerlink\" title=\"Mybatis \"></a>Mybatis </h3><p></p>\n<ul>\n<li>Configuration</li>\n<li>SqlSessionFactory</li>\n<li>SqlSession</li>\n<li>MappedStatement</li>\n</ul>\n<p></p>\n<ul>\n<li>Executor </li>\n<li>StatementHandler </li>\n<li>ParameterHandler </li>\n<li>ResultSetHandler</li>\n</ul>\n<p></p>\n<ul>\n<li>Java&amp;</li>\n<li></li>\n</ul>\n<h3 id=\"Mybatis-\"><a href=\"#Mybatis-\" class=\"headerlink\" title=\"Mybatis \"></a>Mybatis </h3><p>ibatis  mybatis</p>\n<p>ibatis 2002 Clinton Begin<br>ibatis 2010apachemybatismybatis 3</p>\n<h3 id=\"Mybatis-\"><a href=\"#Mybatis-\" class=\"headerlink\" title=\"Mybatis \"></a>Mybatis </h3><p><img src=\"/images/posts/20180409/mybatis-work-flow.jpg\" alt=\"\"><br>    CSDN</p>\n<h3 id=\"Mybatis-\"><a href=\"#Mybatis-\" class=\"headerlink\" title=\"Mybatis \"></a>Mybatis </h3><ol>\n<li>SQL&amp;</li>\n<li></li>\n<li>SQLSQL</li>\n<li>builderProxy</li>\n<li></li>\n<li>CachePerpetualCache<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n</li>\n<li>PluginJava</li>\n<li></li>\n</ol>\n<h3 id=\"Mybatis\"><a href=\"#Mybatis\" class=\"headerlink\" title=\"Mybatis\"></a>Mybatis</h3><ul>\n<li>XMLJava APIMybatis</li>\n<li>XMLSQLMapper</li>\n<li>OGNLSQL</li>\n<li></li>\n</ul>\n<h5 id=\"Executor\"><a href=\"#Executor\" class=\"headerlink\" title=\"Executor\"></a>Executor</h5><p><img src=\"/images/posts/20180409/mybatis-executor-topo.jpg\" alt=\"\"></p>\n<p>CachingExecutor Executorwrapper</p>\n<h5 id=\"SQL\"><a href=\"#SQL\" class=\"headerlink\" title=\"SQL\"></a>SQL</h5><p>4:</p>\n<ol>\n<li>if </li>\n<li>choise(when,otherwise)</li>\n<li>trimwhere,set</li>\n<li>foreach</li>\n</ol>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ol>\n<li><p><br> SqlSession<br> PerpetualCache HashMap<br> Local Cachecircular references<br>  localCacheScope=STATEMENT|SESSIONSTATEMENT</p>\n</li>\n<li><p><br> namespaceSqlSession<br> LruCachePerpetualCache<br> Mybatis</p>\n</li>\n</ol>\n<h5 id=\"scope\"><a href=\"#scope\" class=\"headerlink\" title=\"scope\"></a>scope</h5><ul>\n<li>SqlSessionFactory    </li>\n<li>SqlSession </li>\n<li>Mapper Instance </li>\n</ul>\n<h4 id=\"Spring\"><a href=\"#Spring\" class=\"headerlink\" title=\"Spring\"></a>Spring</h4><p></p>\n<p>:<a href=\"http://www.mybatis.org/spring/index.html\" target=\"_blank\" rel=\"noopener\">http://www.mybatis.org/spring/index.html</a></p>\n<p><a href=\"http://www.mybatis.org/spring/index.html\" target=\"_blank\" rel=\"noopener\">http://www.mybatis.org/spring/index.html</a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<p><a href=\"https://github.com/heartaway/mybatis-study-demo\" target=\"_blank\" rel=\"noopener\">https://github.com/heartaway/mybatis-study-demo</a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\":\"></a>:</h4><p><a href=\"http://www.mybatis.org/mybatis-3/zh/configuration.html\" target=\"_blank\" rel=\"noopener\">http://www.mybatis.org/mybatis-3/zh/configuration.html</a></p>\n<p><a href=\"http://www.mybatis.org/spring/index.html\" target=\"_blank\" rel=\"noopener\">http://www.mybatis.org/spring/index.html</a></p>\n<p><a href=\"https://blog.csdn.net/column/details/mybatis-principle.html\" target=\"_blank\" rel=\"noopener\">https://blog.csdn.net/column/details/mybatis-principle.html</a></p>\n<p>iBatis</p>\n","site":{"data":{}},"excerpt":"<blockquote>\n<p>MybatisJava</p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>SQLJDBCRDBMSXMLOOP</p>\n<h3 id=\"Mybatis\"><a href=\"#Mybatis\" class=\"headerlink\" title=\"Mybatis\"></a>Mybatis</h3><p></p>\n<ul>\n<li>SQL/</li>\n<li>JDBC</li>\n<li>XMLsqlmapmapperpojo</li>\n</ul>\n<p>MybatisSQLRDBMS<strong>30</strong>","more":"</p>\n<h3 id=\"Mybatis-\"><a href=\"#Mybatis-\" class=\"headerlink\" title=\"Mybatis \"></a>Mybatis </h3><p></p>\n<ul>\n<li>Configuration</li>\n<li>SqlSessionFactory</li>\n<li>SqlSession</li>\n<li>MappedStatement</li>\n</ul>\n<p></p>\n<ul>\n<li>Executor </li>\n<li>StatementHandler </li>\n<li>ParameterHandler </li>\n<li>ResultSetHandler</li>\n</ul>\n<p></p>\n<ul>\n<li>Java&amp;</li>\n<li></li>\n</ul>\n<h3 id=\"Mybatis-\"><a href=\"#Mybatis-\" class=\"headerlink\" title=\"Mybatis \"></a>Mybatis </h3><p>ibatis  mybatis</p>\n<p>ibatis 2002 Clinton Begin<br>ibatis 2010apachemybatismybatis 3</p>\n<h3 id=\"Mybatis-\"><a href=\"#Mybatis-\" class=\"headerlink\" title=\"Mybatis \"></a>Mybatis </h3><p><img src=\"/images/posts/20180409/mybatis-work-flow.jpg\" alt=\"\"><br>    CSDN</p>\n<h3 id=\"Mybatis-\"><a href=\"#Mybatis-\" class=\"headerlink\" title=\"Mybatis \"></a>Mybatis </h3><ol>\n<li>SQL&amp;</li>\n<li></li>\n<li>SQLSQL</li>\n<li>builderProxy</li>\n<li></li>\n<li>CachePerpetualCache<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n</li>\n<li>PluginJava</li>\n<li></li>\n</ol>\n<h3 id=\"Mybatis\"><a href=\"#Mybatis\" class=\"headerlink\" title=\"Mybatis\"></a>Mybatis</h3><ul>\n<li>XMLJava APIMybatis</li>\n<li>XMLSQLMapper</li>\n<li>OGNLSQL</li>\n<li></li>\n</ul>\n<h5 id=\"Executor\"><a href=\"#Executor\" class=\"headerlink\" title=\"Executor\"></a>Executor</h5><p><img src=\"/images/posts/20180409/mybatis-executor-topo.jpg\" alt=\"\"></p>\n<p>CachingExecutor Executorwrapper</p>\n<h5 id=\"SQL\"><a href=\"#SQL\" class=\"headerlink\" title=\"SQL\"></a>SQL</h5><p>4:</p>\n<ol>\n<li>if </li>\n<li>choise(when,otherwise)</li>\n<li>trimwhere,set</li>\n<li>foreach</li>\n</ol>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ol>\n<li><p><br> SqlSession<br> PerpetualCache HashMap<br> Local Cachecircular references<br>  localCacheScope=STATEMENT|SESSIONSTATEMENT</p>\n</li>\n<li><p><br> namespaceSqlSession<br> LruCachePerpetualCache<br> Mybatis</p>\n</li>\n</ol>\n<h5 id=\"scope\"><a href=\"#scope\" class=\"headerlink\" title=\"scope\"></a>scope</h5><ul>\n<li>SqlSessionFactory    </li>\n<li>SqlSession </li>\n<li>Mapper Instance </li>\n</ul>\n<h4 id=\"Spring\"><a href=\"#Spring\" class=\"headerlink\" title=\"Spring\"></a>Spring</h4><p></p>\n<p>:<a href=\"http://www.mybatis.org/spring/index.html\" target=\"_blank\" rel=\"noopener\">http://www.mybatis.org/spring/index.html</a></p>\n<p><a href=\"http://www.mybatis.org/spring/index.html\" target=\"_blank\" rel=\"noopener\">http://www.mybatis.org/spring/index.html</a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<p><a href=\"https://github.com/heartaway/mybatis-study-demo\" target=\"_blank\" rel=\"noopener\">https://github.com/heartaway/mybatis-study-demo</a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\":\"></a>:</h4><p><a href=\"http://www.mybatis.org/mybatis-3/zh/configuration.html\" target=\"_blank\" rel=\"noopener\">http://www.mybatis.org/mybatis-3/zh/configuration.html</a></p>\n<p><a href=\"http://www.mybatis.org/spring/index.html\" target=\"_blank\" rel=\"noopener\">http://www.mybatis.org/spring/index.html</a></p>\n<p><a href=\"https://blog.csdn.net/column/details/mybatis-principle.html\" target=\"_blank\" rel=\"noopener\">https://blog.csdn.net/column/details/mybatis-principle.html</a></p>\n<p>iBatis</p>"},{"layout":"post","title":"Mysql","description":null,"keywords":"mysql lock ddl ","date":"2016-06-14T16:00:00.000Z","_content":"Mysqlsc_stockout_order\n\n```java\n  ALTER TABLE `sc_stockout_order` ADD `route_remarks` VARCHAR(1024)  CHARACTER SET utf8mb4  NULL  DEFAULT NULL  COMMENT ''  AFTER `remarks`;\n```\n\nMysql\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/04f830403a41d77a161d11469427417f.png)\n\n\n\n\n```java\nCause: org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; \n        nested exception is org.apache.tomcat.jdbc.pool.PoolExhaustedException: \n        [DubboServerHandler-10.162.99.129:20880-thread-105] Timeout: Pool empty. \n        Unable to fetch a connection in 50 seconds, none available[size:80; busy:79; idle:0; lastwait:50000].\n        at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:26) ~[mybatis-3.2.8.jar:3.2.8\n```\n\nJDBC80021603002150\n\nMysql  show processlist  ALTER TABLE xx Query kill processId  processlist\n\nshow processlist \n\n\n```java\nWaiting for table metadata lock\n```\n\nsc_stockout_order  91  3959102  ,  \n\n#### Mysql\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/62bb08da180f2be0647b257b8c9ea9bb.png)\n\n160\n\n#### \nMysql5.6\n\n1. ALTAR TABLE\n2. \n3. \n4. \n\n>Historically, many DDL operations on InnoDB tables were expensive. Many ALTER TABLE operations worked by creating a new, empty table defined with the requested table options and indexes, then copying the existing rows to the new table one-by-one, updating the indexes as the rows were inserted. After all rows from the original table were copied, the old table was dropped and the copy was renamed with the name of the original table.\n\nMysql 5.6 Online DDL\n\n>MySQL 5.6 enhances many other types of ALTER TABLE operations to avoid copying the table. Another enhancement allows SELECT queries and INSERT, UPDATE, and DELETE (DML) statements to proceed while the table is being altered. This combination of features is now known as online DDL.\n\nOnline DDL\n[http://www.cnblogs.com/cchust/p/4639397.html](http://www.cnblogs.com/cchust/p/4639397.html)\n\nMysql 5.6 Online DDL\n\nSQLSQLALTER TABLE\n\nALTER TABLE\n\nmysql\n\n\n```sql\nSELECT VERSION();\n5.6.16-log\n```\n\nMysqlSQLSQL\n\n\n\n#### \n\n\n* \n* \n* \n* SELECT  DATA_LENGTH + INDEX_LENGTH  FROM TABLES WHERE TABLE_SCHEMA=logistics AND TABLE_NAME=stockout_order ;\n\n\nMysqlDBA [percona-toolkit ](https://www.percona.com/doc/percona-toolkit/2.2/pt-online-schema-change.html)DDLPT[http://www.cnblogs.com/zhoujinyi/p/3491059.html](http://www.cnblogs.com/zhoujinyi/p/3491059.html)\n Metadata lock wait  [https://help.aliyun.com/knowledge_detail/41723.html](https://help.aliyun.com/knowledge_detail/41723.html)\n\n","source":"_posts/Mysql/2016-06-15-mysql-lock-table-ddl.md","raw":"---\nlayout: post\ntitle: Mysql\ncategories: Mysql\ndescription:\nkeywords: mysql lock ddl \ndate: 2016-06-15\n---\nMysqlsc_stockout_order\n\n```java\n  ALTER TABLE `sc_stockout_order` ADD `route_remarks` VARCHAR(1024)  CHARACTER SET utf8mb4  NULL  DEFAULT NULL  COMMENT ''  AFTER `remarks`;\n```\n\nMysql\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/04f830403a41d77a161d11469427417f.png)\n\n\n\n\n```java\nCause: org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; \n        nested exception is org.apache.tomcat.jdbc.pool.PoolExhaustedException: \n        [DubboServerHandler-10.162.99.129:20880-thread-105] Timeout: Pool empty. \n        Unable to fetch a connection in 50 seconds, none available[size:80; busy:79; idle:0; lastwait:50000].\n        at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:26) ~[mybatis-3.2.8.jar:3.2.8\n```\n\nJDBC80021603002150\n\nMysql  show processlist  ALTER TABLE xx Query kill processId  processlist\n\nshow processlist \n\n\n```java\nWaiting for table metadata lock\n```\n\nsc_stockout_order  91  3959102  ,  \n\n#### Mysql\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/62bb08da180f2be0647b257b8c9ea9bb.png)\n\n160\n\n#### \nMysql5.6\n\n1. ALTAR TABLE\n2. \n3. \n4. \n\n>Historically, many DDL operations on InnoDB tables were expensive. Many ALTER TABLE operations worked by creating a new, empty table defined with the requested table options and indexes, then copying the existing rows to the new table one-by-one, updating the indexes as the rows were inserted. After all rows from the original table were copied, the old table was dropped and the copy was renamed with the name of the original table.\n\nMysql 5.6 Online DDL\n\n>MySQL 5.6 enhances many other types of ALTER TABLE operations to avoid copying the table. Another enhancement allows SELECT queries and INSERT, UPDATE, and DELETE (DML) statements to proceed while the table is being altered. This combination of features is now known as online DDL.\n\nOnline DDL\n[http://www.cnblogs.com/cchust/p/4639397.html](http://www.cnblogs.com/cchust/p/4639397.html)\n\nMysql 5.6 Online DDL\n\nSQLSQLALTER TABLE\n\nALTER TABLE\n\nmysql\n\n\n```sql\nSELECT VERSION();\n5.6.16-log\n```\n\nMysqlSQLSQL\n\n\n\n#### \n\n\n* \n* \n* \n* SELECT  DATA_LENGTH + INDEX_LENGTH  FROM TABLES WHERE TABLE_SCHEMA=logistics AND TABLE_NAME=stockout_order ;\n\n\nMysqlDBA [percona-toolkit ](https://www.percona.com/doc/percona-toolkit/2.2/pt-online-schema-change.html)DDLPT[http://www.cnblogs.com/zhoujinyi/p/3491059.html](http://www.cnblogs.com/zhoujinyi/p/3491059.html)\n Metadata lock wait  [https://help.aliyun.com/knowledge_detail/41723.html](https://help.aliyun.com/knowledge_detail/41723.html)\n\n","slug":"Mysql/2016-06-15-mysql-lock-table-ddl","published":1,"updated":"2018-11-10T08:59:09.804Z","comments":1,"photos":[],"link":"","_id":"cjtohbk8m002i6f12tfp7cblu","content":"<p>Mysqlsc_stockout_order</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ALTER TABLE `sc_stockout_order` ADD `route_remarks` VARCHAR(<span class=\"number\">1024</span>)  CHARACTER SET utf8mb4  NULL  DEFAULT NULL  COMMENT <span class=\"string\">''</span>  AFTER `remarks`;</span><br></pre></td></tr></table></figure>\n<p>Mysql</p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/04f830403a41d77a161d11469427417f.png\" alt=\"\"></p>\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; </span><br><span class=\"line\">        nested exception is org.apache.tomcat.jdbc.pool.PoolExhaustedException: </span><br><span class=\"line\">        [DubboServerHandler-<span class=\"number\">10.162</span>.99.129:<span class=\"number\">20880</span>-thread-<span class=\"number\">105</span>] Timeout: Pool empty. </span><br><span class=\"line\">        Unable to fetch a connection in <span class=\"number\">50</span> seconds, none available[size:<span class=\"number\">80</span>; busy:<span class=\"number\">79</span>; idle:<span class=\"number\">0</span>; lastwait:<span class=\"number\">50000</span>].</span><br><span class=\"line\">        at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:<span class=\"number\">26</span>) ~[mybatis-<span class=\"number\">3.2</span>.8.jar:<span class=\"number\">3.2</span>.8</span><br></pre></td></tr></table></figure>\n<p>JDBC80021603002150</p>\n<p>Mysql  show processlist  ALTER TABLE xx Query kill processId  processlist</p>\n<p>show processlist </p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Waiting <span class=\"keyword\">for</span> table metadata lock</span><br></pre></td></tr></table></figure>\n<p>sc_stockout_order  91  3959102  ,  </p>\n<h4 id=\"Mysql\"><a href=\"#Mysql\" class=\"headerlink\" title=\"Mysql\"></a>Mysql</h4><p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/62bb08da180f2be0647b257b8c9ea9bb.png\" alt=\"\"></p>\n<p>160</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>Mysql5.6</p>\n<ol>\n<li>ALTAR TABLE</li>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n<blockquote>\n<p>Historically, many DDL operations on InnoDB tables were expensive. Many ALTER TABLE operations worked by creating a new, empty table defined with the requested table options and indexes, then copying the existing rows to the new table one-by-one, updating the indexes as the rows were inserted. After all rows from the original table were copied, the old table was dropped and the copy was renamed with the name of the original table.</p>\n</blockquote>\n<p>Mysql 5.6 Online DDL</p>\n<blockquote>\n<p>MySQL 5.6 enhances many other types of ALTER TABLE operations to avoid copying the table. Another enhancement allows SELECT queries and INSERT, UPDATE, and DELETE (DML) statements to proceed while the table is being altered. This combination of features is now known as online DDL.</p>\n</blockquote>\n<p>Online DDL<br><a href=\"http://www.cnblogs.com/cchust/p/4639397.html\" target=\"_blank\" rel=\"noopener\">http://www.cnblogs.com/cchust/p/4639397.html</a></p>\n<p>Mysql 5.6 Online DDL</p>\n<p>SQLSQLALTER TABLE</p>\n<p>ALTER TABLE</p>\n<p>mysql</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"keyword\">VERSION</span>();</span><br><span class=\"line\">5.6.16-log</span><br></pre></td></tr></table></figure>\n<p>MysqlSQLSQL<br></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li>SELECT  DATA_LENGTH + INDEX_LENGTH  FROM TABLES WHERE TABLE_SCHEMA=logistics AND TABLE_NAME=stockout_order ;</li>\n</ul>\n<p>MysqlDBA <a href=\"https://www.percona.com/doc/percona-toolkit/2.2/pt-online-schema-change.html\" target=\"_blank\" rel=\"noopener\">percona-toolkit </a>DDLPT<a href=\"http://www.cnblogs.com/zhoujinyi/p/3491059.html\" target=\"_blank\" rel=\"noopener\">http://www.cnblogs.com/zhoujinyi/p/3491059.html</a><br> Metadata lock wait  <a href=\"https://help.aliyun.com/knowledge_detail/41723.html\" target=\"_blank\" rel=\"noopener\">https://help.aliyun.com/knowledge_detail/41723.html</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p>Mysqlsc_stockout_order</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ALTER TABLE `sc_stockout_order` ADD `route_remarks` VARCHAR(<span class=\"number\">1024</span>)  CHARACTER SET utf8mb4  NULL  DEFAULT NULL  COMMENT <span class=\"string\">''</span>  AFTER `remarks`;</span><br></pre></td></tr></table></figure>\n<p>Mysql</p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/04f830403a41d77a161d11469427417f.png\" alt=\"\"></p>\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; </span><br><span class=\"line\">        nested exception is org.apache.tomcat.jdbc.pool.PoolExhaustedException: </span><br><span class=\"line\">        [DubboServerHandler-<span class=\"number\">10.162</span>.99.129:<span class=\"number\">20880</span>-thread-<span class=\"number\">105</span>] Timeout: Pool empty. </span><br><span class=\"line\">        Unable to fetch a connection in <span class=\"number\">50</span> seconds, none available[size:<span class=\"number\">80</span>; busy:<span class=\"number\">79</span>; idle:<span class=\"number\">0</span>; lastwait:<span class=\"number\">50000</span>].</span><br><span class=\"line\">        at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:<span class=\"number\">26</span>) ~[mybatis-<span class=\"number\">3.2</span>.8.jar:<span class=\"number\">3.2</span>.8</span><br></pre></td></tr></table></figure>\n<p>JDBC80021603002150</p>\n<p>Mysql  show processlist  ALTER TABLE xx Query kill processId  processlist</p>\n<p>show processlist </p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Waiting <span class=\"keyword\">for</span> table metadata lock</span><br></pre></td></tr></table></figure>\n<p>sc_stockout_order  91  3959102  ,  </p>\n<h4 id=\"Mysql\"><a href=\"#Mysql\" class=\"headerlink\" title=\"Mysql\"></a>Mysql</h4><p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/62bb08da180f2be0647b257b8c9ea9bb.png\" alt=\"\"></p>\n<p>160</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>Mysql5.6</p>\n<ol>\n<li>ALTAR TABLE</li>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n<blockquote>\n<p>Historically, many DDL operations on InnoDB tables were expensive. Many ALTER TABLE operations worked by creating a new, empty table defined with the requested table options and indexes, then copying the existing rows to the new table one-by-one, updating the indexes as the rows were inserted. After all rows from the original table were copied, the old table was dropped and the copy was renamed with the name of the original table.</p>\n</blockquote>\n<p>Mysql 5.6 Online DDL</p>\n<blockquote>\n<p>MySQL 5.6 enhances many other types of ALTER TABLE operations to avoid copying the table. Another enhancement allows SELECT queries and INSERT, UPDATE, and DELETE (DML) statements to proceed while the table is being altered. This combination of features is now known as online DDL.</p>\n</blockquote>\n<p>Online DDL<br><a href=\"http://www.cnblogs.com/cchust/p/4639397.html\" target=\"_blank\" rel=\"noopener\">http://www.cnblogs.com/cchust/p/4639397.html</a></p>\n<p>Mysql 5.6 Online DDL</p>\n<p>SQLSQLALTER TABLE</p>\n<p>ALTER TABLE</p>\n<p>mysql</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"keyword\">VERSION</span>();</span><br><span class=\"line\">5.6.16-log</span><br></pre></td></tr></table></figure>\n<p>MysqlSQLSQL<br></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li>SELECT  DATA_LENGTH + INDEX_LENGTH  FROM TABLES WHERE TABLE_SCHEMA=logistics AND TABLE_NAME=stockout_order ;</li>\n</ul>\n<p>MysqlDBA <a href=\"https://www.percona.com/doc/percona-toolkit/2.2/pt-online-schema-change.html\" target=\"_blank\" rel=\"noopener\">percona-toolkit </a>DDLPT<a href=\"http://www.cnblogs.com/zhoujinyi/p/3491059.html\" target=\"_blank\" rel=\"noopener\">http://www.cnblogs.com/zhoujinyi/p/3491059.html</a><br> Metadata lock wait  <a href=\"https://help.aliyun.com/knowledge_detail/41723.html\" target=\"_blank\" rel=\"noopener\">https://help.aliyun.com/knowledge_detail/41723.html</a></p>\n"},{"layout":"post","title":"Mysql  ","description":null,"keywords":"mysql lock  ","date":"2016-06-30T16:00:00.000Z","_content":"### \n\n\n\nPessimistic Concurrency ControlPCC\n\n\n\n### Mysql InnoDB \nselectfor update;\n\n\nselectfor updateXid1 \n\n\n Row Lock Table Lock\nselectfor updateMySQL InnoDBRow-Level LockMySQL Row lock () MySQL Table Lock ()\nMysqlfor updateSQLmysqlInnoDB\n\n\n### Mysql InnoDB\nmysqlMySQLautocommitMySQL\nset autocommit=0;\n\n\nMysql\n\nMysql\nRedisDB\n\n\n\n### \nhttp://www.cnblogs.com/zhaoyl/p/4121010.html\nhttp://hedengcheng.com/?p=771\n\n\n","source":"_posts/Mysql/2016-07-01-mysql-lock.md","raw":"---\nlayout: post\ntitle: Mysql  \ncategories: Mysql\ndescription:\nkeywords: mysql lock  \ndate: 2016-07-01\n---\n### \n\n\n\nPessimistic Concurrency ControlPCC\n\n\n\n### Mysql InnoDB \nselectfor update;\n\n\nselectfor updateXid1 \n\n\n Row Lock Table Lock\nselectfor updateMySQL InnoDBRow-Level LockMySQL Row lock () MySQL Table Lock ()\nMysqlfor updateSQLmysqlInnoDB\n\n\n### Mysql InnoDB\nmysqlMySQLautocommitMySQL\nset autocommit=0;\n\n\nMysql\n\nMysql\nRedisDB\n\n\n\n### \nhttp://www.cnblogs.com/zhaoyl/p/4121010.html\nhttp://hedengcheng.com/?p=771\n\n\n","slug":"Mysql/2016-07-01-mysql-lock","published":1,"updated":"2018-11-10T08:59:09.804Z","comments":1,"photos":[],"link":"","_id":"cjtohbk8n002k6f12in6nqep4","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p>Pessimistic Concurrency ControlPCC<br></p>\n<h3 id=\"Mysql-InnoDB-\"><a href=\"#Mysql-InnoDB-\" class=\"headerlink\" title=\"Mysql InnoDB \"></a>Mysql InnoDB </h3><p>selectfor update;</p>\n<p>selectfor updateXid1 </p>\n<p> Row Lock Table Lock<br>selectfor updateMySQL InnoDBRow-Level LockMySQL Row lock () MySQL Table Lock ()<br>Mysqlfor updateSQLmysqlInnoDB</p>\n<h3 id=\"Mysql-InnoDB\"><a href=\"#Mysql-InnoDB\" class=\"headerlink\" title=\"Mysql InnoDB\"></a>Mysql InnoDB</h3><p>mysqlMySQLautocommitMySQL<br>set autocommit=0;</p>\n<p>Mysql<br><br>Mysql<br>RedisDB<br></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><a href=\"http://www.cnblogs.com/zhaoyl/p/4121010.html\" target=\"_blank\" rel=\"noopener\">http://www.cnblogs.com/zhaoyl/p/4121010.html</a><br><a href=\"http://hedengcheng.com/?p=771\" target=\"_blank\" rel=\"noopener\">http://hedengcheng.com/?p=771</a></p>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p>Pessimistic Concurrency ControlPCC<br></p>\n<h3 id=\"Mysql-InnoDB-\"><a href=\"#Mysql-InnoDB-\" class=\"headerlink\" title=\"Mysql InnoDB \"></a>Mysql InnoDB </h3><p>selectfor update;</p>\n<p>selectfor updateXid1 </p>\n<p> Row Lock Table Lock<br>selectfor updateMySQL InnoDBRow-Level LockMySQL Row lock () MySQL Table Lock ()<br>Mysqlfor updateSQLmysqlInnoDB</p>\n<h3 id=\"Mysql-InnoDB\"><a href=\"#Mysql-InnoDB\" class=\"headerlink\" title=\"Mysql InnoDB\"></a>Mysql InnoDB</h3><p>mysqlMySQLautocommitMySQL<br>set autocommit=0;</p>\n<p>Mysql<br><br>Mysql<br>RedisDB<br></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><a href=\"http://www.cnblogs.com/zhaoyl/p/4121010.html\" target=\"_blank\" rel=\"noopener\">http://www.cnblogs.com/zhaoyl/p/4121010.html</a><br><a href=\"http://hedengcheng.com/?p=771\" target=\"_blank\" rel=\"noopener\">http://hedengcheng.com/?p=771</a></p>\n"},{"layout":"post","title":"Lock wait timeout exceeded; try restarting transaction","description":null,"keywords":"mysql lock wait  ","date":"2016-07-15T16:00:00.000Z","_content":"![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/c853d26a0835a5f6499783c87fca2294.png)\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/24fb3edb62f132f30451f468d9cf77f8.png)\n### \n\n INNODB_LOCKS\n SHOW PROCESSLIST;  \nMysqlMysql\nMysql\nshow variables like innodb_lock_wait_timeout;\nVariable_name                          Value\ninnodb_lock_wait_timeout         50\nSpring-15050\n### \n INNODB_LOCKS\nproduct-put-tag-tx-lock\nXSpring5050MysqlLock wait timeout exceeded; try restarting transaction\n### \n\n\n\n\n### \n\n\n\n\n\n### \n#### \n\n\n\n#### \nSKUSKU \n\nMysqlredisredisredisredisRedis-ClusterRedis-Clustermulti-keyRedisMysql\n\n\n","source":"_posts/Mysql/2016-07-16-mysql-lock-wait.md","raw":"---\nlayout: post\ntitle: Lock wait timeout exceeded; try restarting transaction\ncategories: Mysql\ndescription:\nkeywords: mysql lock wait  \ndate: 2016-07-16\n---\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/c853d26a0835a5f6499783c87fca2294.png)\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/24fb3edb62f132f30451f468d9cf77f8.png)\n### \n\n INNODB_LOCKS\n SHOW PROCESSLIST;  \nMysqlMysql\nMysql\nshow variables like innodb_lock_wait_timeout;\nVariable_name                          Value\ninnodb_lock_wait_timeout         50\nSpring-15050\n### \n INNODB_LOCKS\nproduct-put-tag-tx-lock\nXSpring5050MysqlLock wait timeout exceeded; try restarting transaction\n### \n\n\n\n\n### \n\n\n\n\n\n### \n#### \n\n\n\n#### \nSKUSKU \n\nMysqlredisredisredisredisRedis-ClusterRedis-Clustermulti-keyRedisMysql\n\n\n","slug":"Mysql/2016-07-16-mysql-lock-wait","published":1,"updated":"2018-11-10T08:59:09.805Z","comments":1,"photos":[],"link":"","_id":"cjtohbk8o002n6f12e16xriw2","content":"<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/c853d26a0835a5f6499783c87fca2294.png\" alt=\"\"><br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/24fb3edb62f132f30451f468d9cf77f8.png\" alt=\"\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> INNODB_LOCKS<br> SHOW PROCESSLIST;  <br>MysqlMysql<br>Mysql<br>show variables like innodb_lock_wait_timeout;<br>Variable_name                          Value<br>innodb_lock_wait_timeout         50<br>Spring-15050</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> INNODB_LOCKS<br>product-put-tag-tx-lock<br>XSpring5050MysqlLock wait timeout exceeded; try restarting transaction</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><br><br><br></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><br><br><br><br></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>SKUSKU </p>\n<p>MysqlredisredisredisredisRedis-ClusterRedis-Clustermulti-keyRedisMysql</p>\n","site":{"data":{}},"excerpt":"","more":"<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/c853d26a0835a5f6499783c87fca2294.png\" alt=\"\"><br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/24fb3edb62f132f30451f468d9cf77f8.png\" alt=\"\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> INNODB_LOCKS<br> SHOW PROCESSLIST;  <br>MysqlMysql<br>Mysql<br>show variables like innodb_lock_wait_timeout;<br>Variable_name                          Value<br>innodb_lock_wait_timeout         50<br>Spring-15050</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> INNODB_LOCKS<br>product-put-tag-tx-lock<br>XSpring5050MysqlLock wait timeout exceeded; try restarting transaction</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><br><br><br></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><br><br><br><br></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>SKUSKU </p>\n<p>MysqlredisredisredisredisRedis-ClusterRedis-Clustermulti-keyRedisMysql</p>\n"},{"layout":"post","title":"How to select text data type for mysql","description":null,"keywords":"mysql text","date":"2017-08-31T16:00:00.000Z","_content":"\ndbmysqltexttext\n\n```sql\nCaused by: com.mysql.jdbc.MysqlDataTruncation: Data truncation: Data too long for column 'xxx' at row 1\n```\n\n xxx text `65581`mysqltext\n\n\n|Type | Maximum length|\n|---|---|\n|  TINYTEXT |           255 (2 81) bytes|\n|      TEXT |        65,535 (2161) bytes = 64 KiB|\n|MEDIUMTEXT |    16,777,215 (2241) bytes = 16 MiB|\n|  LONGTEXT | 4,294,967,295 (2321) bytes =  4 GiB|\n\ntext65535MEDIUMTEXT\n\nMysql charvarchartext\n\n##### \n1.  charnvarcharnn(UTF8)mm*3\n2. charvarcharcharvaluenvarchar+1+1<=n\n3. charvarcharn\n4. char255varchar65535text65535\n5. charvarchartext\n6. varchar1-3text\n\n\n| Value | CHAR(4) | Storage Required | VARCHAR(4) | Storage Required |\n| --- | --- | --- | --- | --- |\n| '' | '  ' | 4 bytes | '' | 1 bytes |\n| 'ab' | 'ab ' | 4 bytes | 'ab' | 3 bytes |\n| 'abcd' | 'abcd' | 4 bytes | 'abcd' | 5 bytes |\n| 'abcdefgh' | 'abcd' | 4 bytes | 'abcd' | 5 bytes |\n\n#### \n1. char255\n2. varchar6553565532\n3. text6553565535\n4. 255varchartext\n\n\n","source":"_posts/Mysql/2017-09-01-mysql-text-field.md","raw":"---\nlayout: post\ntitle: How to select text data type for mysql\ncategories: Mysql\ndescription:\nkeywords: mysql text\ndate: 2017-09-01\n---\n\ndbmysqltexttext\n\n```sql\nCaused by: com.mysql.jdbc.MysqlDataTruncation: Data truncation: Data too long for column 'xxx' at row 1\n```\n\n xxx text `65581`mysqltext\n\n\n|Type | Maximum length|\n|---|---|\n|  TINYTEXT |           255 (2 81) bytes|\n|      TEXT |        65,535 (2161) bytes = 64 KiB|\n|MEDIUMTEXT |    16,777,215 (2241) bytes = 16 MiB|\n|  LONGTEXT | 4,294,967,295 (2321) bytes =  4 GiB|\n\ntext65535MEDIUMTEXT\n\nMysql charvarchartext\n\n##### \n1.  charnvarcharnn(UTF8)mm*3\n2. charvarcharcharvaluenvarchar+1+1<=n\n3. charvarcharn\n4. char255varchar65535text65535\n5. charvarchartext\n6. varchar1-3text\n\n\n| Value | CHAR(4) | Storage Required | VARCHAR(4) | Storage Required |\n| --- | --- | --- | --- | --- |\n| '' | '  ' | 4 bytes | '' | 1 bytes |\n| 'ab' | 'ab ' | 4 bytes | 'ab' | 3 bytes |\n| 'abcd' | 'abcd' | 4 bytes | 'abcd' | 5 bytes |\n| 'abcdefgh' | 'abcd' | 4 bytes | 'abcd' | 5 bytes |\n\n#### \n1. char255\n2. varchar6553565532\n3. text6553565535\n4. 255varchartext\n\n\n","slug":"Mysql/2017-09-01-mysql-text-field","published":1,"updated":"2018-11-10T08:59:09.805Z","comments":1,"photos":[],"link":"","_id":"cjtohbk8q002p6f12fsiw5xmt","content":"<p>dbmysqltexttext</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Caused by: com.mysql.jdbc.MysqlDataTruncation: Data truncation: Data too long for column 'xxx' at row 1</span><br></pre></td></tr></table></figure>\n<p> xxx text <code>65581</code>mysqltext</p>\n<table>\n<thead>\n<tr>\n<th>Type</th>\n<th>Maximum length</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>TINYTEXT</td>\n<td>255 (2 81) bytes</td>\n</tr>\n<tr>\n<td>TEXT</td>\n<td>65,535 (2161) bytes = 64 KiB</td>\n</tr>\n<tr>\n<td>MEDIUMTEXT</td>\n<td>16,777,215 (2241) bytes = 16 MiB</td>\n</tr>\n<tr>\n<td>LONGTEXT</td>\n<td>4,294,967,295 (2321) bytes =  4 GiB</td>\n</tr>\n</tbody>\n</table>\n<p>text65535MEDIUMTEXT</p>\n<p>Mysql charvarchartext</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ol>\n<li>charnvarcharnn(UTF8)mm*3</li>\n<li>charvarcharcharvaluenvarchar+1+1&lt;=n</li>\n<li>charvarcharn</li>\n<li>char255varchar65535text65535</li>\n<li>charvarchartext</li>\n<li>varchar1-3text</li>\n</ol>\n<table>\n<thead>\n<tr>\n<th>Value</th>\n<th>CHAR(4)</th>\n<th>Storage Required</th>\n<th>VARCHAR(4)</th>\n<th>Storage Required</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td></td>\n<td>    </td>\n<td>4 bytes</td>\n<td></td>\n<td>1 bytes</td>\n</tr>\n<tr>\n<td>ab</td>\n<td>ab  </td>\n<td>4 bytes</td>\n<td>ab</td>\n<td>3 bytes</td>\n</tr>\n<tr>\n<td>abcd</td>\n<td>abcd</td>\n<td>4 bytes</td>\n<td>abcd</td>\n<td>5 bytes</td>\n</tr>\n<tr>\n<td>abcdefgh</td>\n<td>abcd</td>\n<td>4 bytes</td>\n<td>abcd</td>\n<td>5 bytes</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li>char255</li>\n<li>varchar6553565532</li>\n<li>text6553565535</li>\n<li>255varchartext</li>\n</ol>\n","site":{"data":{}},"excerpt":"","more":"<p>dbmysqltexttext</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Caused by: com.mysql.jdbc.MysqlDataTruncation: Data truncation: Data too long for column 'xxx' at row 1</span><br></pre></td></tr></table></figure>\n<p> xxx text <code>65581</code>mysqltext</p>\n<table>\n<thead>\n<tr>\n<th>Type</th>\n<th>Maximum length</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>TINYTEXT</td>\n<td>255 (2 81) bytes</td>\n</tr>\n<tr>\n<td>TEXT</td>\n<td>65,535 (2161) bytes = 64 KiB</td>\n</tr>\n<tr>\n<td>MEDIUMTEXT</td>\n<td>16,777,215 (2241) bytes = 16 MiB</td>\n</tr>\n<tr>\n<td>LONGTEXT</td>\n<td>4,294,967,295 (2321) bytes =  4 GiB</td>\n</tr>\n</tbody>\n</table>\n<p>text65535MEDIUMTEXT</p>\n<p>Mysql charvarchartext</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ol>\n<li>charnvarcharnn(UTF8)mm*3</li>\n<li>charvarcharcharvaluenvarchar+1+1&lt;=n</li>\n<li>charvarcharn</li>\n<li>char255varchar65535text65535</li>\n<li>charvarchartext</li>\n<li>varchar1-3text</li>\n</ol>\n<table>\n<thead>\n<tr>\n<th>Value</th>\n<th>CHAR(4)</th>\n<th>Storage Required</th>\n<th>VARCHAR(4)</th>\n<th>Storage Required</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td></td>\n<td>    </td>\n<td>4 bytes</td>\n<td></td>\n<td>1 bytes</td>\n</tr>\n<tr>\n<td>ab</td>\n<td>ab  </td>\n<td>4 bytes</td>\n<td>ab</td>\n<td>3 bytes</td>\n</tr>\n<tr>\n<td>abcd</td>\n<td>abcd</td>\n<td>4 bytes</td>\n<td>abcd</td>\n<td>5 bytes</td>\n</tr>\n<tr>\n<td>abcdefgh</td>\n<td>abcd</td>\n<td>4 bytes</td>\n<td>abcd</td>\n<td>5 bytes</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li>char255</li>\n<li>varchar6553565532</li>\n<li>text6553565535</li>\n<li>255varchartext</li>\n</ol>\n"},{"layout":"post","title":"Mysql","description":null,"keywords":"mysql datetime ","date":"2017-09-01T16:00:00.000Z","_content":"\n\n\n### \nMysqldateTimeMybatisnew Date() **2016-12-23 16:41:55****2016-12-23 16:41:5_6_*,\n\n### \n1. codeReviewbug\n2. MybatisDEBUG \n![](/images/posts/20170902/14824834942593.jpg)\n![](/images/posts/20170902/14824835188662.jpg)\n3. \n![](/images/posts/20170902/14824828832109.jpg)\n\n    ```java\n    2016-12-23 16:43:26.960 [DEBUG]xxx.update [debug:145] ==>  Preparing: update xxx SET gmt_modified = now(), status = ?, collect_time = ? where id = ? \n    2016-12-23 16:43:26.964 [DEBUG][debug:145] ==> Parameters: SLEEPING(String), 2016-12-23 16:41:55.972(Timestamp), 9(Long)\n    ```\n4. mybatisdateDate\n\n### \n1. Mysql Server\n![](/images/posts/20170902/14826733264139.jpg)\n\n2. Datetime\n![](/images/posts/20170902/14826731196884.jpg)\n\n3. JDBCJDBC5.1.26MysqlServerServer5.6.4\ncom.mysql.jdbc.PreparedStatement#detectFractionalSecondsSupport:923L\n![](/images/posts/20170902/14826735377431.jpg)\n\n4. JDBCJDBC5.1.26\ncom.mysql.jdbc.PreparedStatement#setTimestampInternal\nuseLegacyDatetimeCode=falsenewSetTimestampInternal\n![](/images/posts/20170902/14826767849619.jpg)\nmysql5.6.16\n\n    useLegacyDatetimeCode=true\n![](/images/posts/20170902/14826767169568.jpg)\nuseLegacyDatetimeCode\n>Note that to get this scenario to work with MySQL (since it doesn't support per-value timezones), you need to configure your server (or session) to be in UTC, and tell the driver not to use the legacy date/time code by setting useLegacyDatetimeCode to \"false\". This will cause the driver to always convert to/from the server and client timezone consistently.\n\n5. \nMysql DATE, DATETIME, and TIMESTAMP http://dev.mysql.com/doc/refman/5.6/en/datetime.html\n\n    DATETIMETIMESTAMP\nMysql5.7.14\n![](/images/posts/20170902/14826747022343.jpg)\n102DATETIMETIMSTAMP\n6. \nMysqlMysqlmysql5.6.16(5.6.4)useLegacyDatetimeCode=falseserver\n\nSimpleDateFormatformatparse0\nMysql Server5.6.4\n\n### JavaDate\njava.util.Date  java.sql.Date \njava.util.Date SQL\njava.sql.Date  java.util.Date \njava.sql.Date SQL\n\n\n\n","source":"_posts/Mysql/2017-09-02-mysql-datetime-fsp.md","raw":"---\nlayout: post\ntitle: Mysql\ncategories: Mysql\ndescription:\nkeywords: mysql datetime \ndate: 2017-09-02\n---\n\n\n\n### \nMysqldateTimeMybatisnew Date() **2016-12-23 16:41:55****2016-12-23 16:41:5_6_*,\n\n### \n1. codeReviewbug\n2. MybatisDEBUG \n![](/images/posts/20170902/14824834942593.jpg)\n![](/images/posts/20170902/14824835188662.jpg)\n3. \n![](/images/posts/20170902/14824828832109.jpg)\n\n    ```java\n    2016-12-23 16:43:26.960 [DEBUG]xxx.update [debug:145] ==>  Preparing: update xxx SET gmt_modified = now(), status = ?, collect_time = ? where id = ? \n    2016-12-23 16:43:26.964 [DEBUG][debug:145] ==> Parameters: SLEEPING(String), 2016-12-23 16:41:55.972(Timestamp), 9(Long)\n    ```\n4. mybatisdateDate\n\n### \n1. Mysql Server\n![](/images/posts/20170902/14826733264139.jpg)\n\n2. Datetime\n![](/images/posts/20170902/14826731196884.jpg)\n\n3. JDBCJDBC5.1.26MysqlServerServer5.6.4\ncom.mysql.jdbc.PreparedStatement#detectFractionalSecondsSupport:923L\n![](/images/posts/20170902/14826735377431.jpg)\n\n4. JDBCJDBC5.1.26\ncom.mysql.jdbc.PreparedStatement#setTimestampInternal\nuseLegacyDatetimeCode=falsenewSetTimestampInternal\n![](/images/posts/20170902/14826767849619.jpg)\nmysql5.6.16\n\n    useLegacyDatetimeCode=true\n![](/images/posts/20170902/14826767169568.jpg)\nuseLegacyDatetimeCode\n>Note that to get this scenario to work with MySQL (since it doesn't support per-value timezones), you need to configure your server (or session) to be in UTC, and tell the driver not to use the legacy date/time code by setting useLegacyDatetimeCode to \"false\". This will cause the driver to always convert to/from the server and client timezone consistently.\n\n5. \nMysql DATE, DATETIME, and TIMESTAMP http://dev.mysql.com/doc/refman/5.6/en/datetime.html\n\n    DATETIMETIMESTAMP\nMysql5.7.14\n![](/images/posts/20170902/14826747022343.jpg)\n102DATETIMETIMSTAMP\n6. \nMysqlMysqlmysql5.6.16(5.6.4)useLegacyDatetimeCode=falseserver\n\nSimpleDateFormatformatparse0\nMysql Server5.6.4\n\n### JavaDate\njava.util.Date  java.sql.Date \njava.util.Date SQL\njava.sql.Date  java.util.Date \njava.sql.Date SQL\n\n\n\n","slug":"Mysql/2017-09-02-mysql-datetime-fsp","published":1,"updated":"2018-11-10T08:59:09.805Z","comments":1,"photos":[],"link":"","_id":"cjtohbk8r002s6f12acvc2p6t","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>MysqldateTimeMybatisnew Date() <strong>2016-12-23 16:41:55</strong>*<em>2016-12-23 16:41:5_6_</em>,</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>codeReviewbug</li>\n<li>MybatisDEBUG<br><img src=\"/images/posts/20170902/14824834942593.jpg\" alt=\"\"><br><img src=\"/images/posts/20170902/14824835188662.jpg\" alt=\"\"></li>\n<li><p><br><img src=\"/images/posts/20170902/14824828832109.jpg\" alt=\"\"></p>\n <figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">2016</span>-<span class=\"number\">12</span>-<span class=\"number\">23</span> <span class=\"number\">16</span>:<span class=\"number\">43</span>:<span class=\"number\">26.960</span> [DEBUG]xxx.update [debug:<span class=\"number\">145</span>] ==&gt;  Preparing: update xxx SET gmt_modified = now(), status = ?, collect_time = ? where id = ? </span><br><span class=\"line\"><span class=\"number\">2016</span>-<span class=\"number\">12</span>-<span class=\"number\">23</span> <span class=\"number\">16</span>:<span class=\"number\">43</span>:<span class=\"number\">26.964</span> [DEBUG][debug:<span class=\"number\">145</span>] ==&gt; Parameters: SLEEPING(String), <span class=\"number\">2016</span>-<span class=\"number\">12</span>-<span class=\"number\">23</span> <span class=\"number\">16</span>:<span class=\"number\">41</span>:<span class=\"number\">55.972</span>(Timestamp), <span class=\"number\">9</span>(Long)</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>mybatisdateDate</p>\n</li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li><p>Mysql Server<br><img src=\"/images/posts/20170902/14826733264139.jpg\" alt=\"\"></p>\n</li>\n<li><p>Datetime<br><img src=\"/images/posts/20170902/14826731196884.jpg\" alt=\"\"></p>\n</li>\n<li><p>JDBCJDBC5.1.26MysqlServerServer5.6.4<br>com.mysql.jdbc.PreparedStatement#detectFractionalSecondsSupport:923L<br><img src=\"/images/posts/20170902/14826735377431.jpg\" alt=\"\"></p>\n</li>\n<li><p>JDBCJDBC5.1.26<br>com.mysql.jdbc.PreparedStatement#setTimestampInternal<br>useLegacyDatetimeCode=falsenewSetTimestampInternal<br><img src=\"/images/posts/20170902/14826767849619.jpg\" alt=\"\"><br>mysql5.6.16</p>\n<p> useLegacyDatetimeCode=true<br><img src=\"/images/posts/20170902/14826767169568.jpg\" alt=\"\"><br>useLegacyDatetimeCode</p>\n<blockquote>\n<p>Note that to get this scenario to work with MySQL (since it doesnt support per-value timezones), you need to configure your server (or session) to be in UTC, and tell the driver not to use the legacy date/time code by setting useLegacyDatetimeCode to false. This will cause the driver to always convert to/from the server and client timezone consistently.</p>\n</blockquote>\n</li>\n<li><p><br>Mysql DATE, DATETIME, and TIMESTAMP <a href=\"http://dev.mysql.com/doc/refman/5.6/en/datetime.html\" target=\"_blank\" rel=\"noopener\">http://dev.mysql.com/doc/refman/5.6/en/datetime.html</a></p>\n<p> DATETIMETIMESTAMP<br>Mysql5.7.14<br><img src=\"/images/posts/20170902/14826747022343.jpg\" alt=\"\"><br>102DATETIMETIMSTAMP</p>\n</li>\n<li><br>MysqlMysqlmysql5.6.16(5.6.4)useLegacyDatetimeCode=falseserver<br><br>SimpleDateFormatformatparse0<br>Mysql Server5.6.4</li>\n</ol>\n<h3 id=\"JavaDate\"><a href=\"#JavaDate\" class=\"headerlink\" title=\"JavaDate\"></a>JavaDate</h3><p>java.util.Date  java.sql.Date <br>java.util.Date SQL<br>java.sql.Date  java.util.Date<br>java.sql.Date SQL</p>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>MysqldateTimeMybatisnew Date() <strong>2016-12-23 16:41:55</strong>*<em>2016-12-23 16:41:5_6_</em>,</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>codeReviewbug</li>\n<li>MybatisDEBUG<br><img src=\"/images/posts/20170902/14824834942593.jpg\" alt=\"\"><br><img src=\"/images/posts/20170902/14824835188662.jpg\" alt=\"\"></li>\n<li><p><br><img src=\"/images/posts/20170902/14824828832109.jpg\" alt=\"\"></p>\n <figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">2016</span>-<span class=\"number\">12</span>-<span class=\"number\">23</span> <span class=\"number\">16</span>:<span class=\"number\">43</span>:<span class=\"number\">26.960</span> [DEBUG]xxx.update [debug:<span class=\"number\">145</span>] ==&gt;  Preparing: update xxx SET gmt_modified = now(), status = ?, collect_time = ? where id = ? </span><br><span class=\"line\"><span class=\"number\">2016</span>-<span class=\"number\">12</span>-<span class=\"number\">23</span> <span class=\"number\">16</span>:<span class=\"number\">43</span>:<span class=\"number\">26.964</span> [DEBUG][debug:<span class=\"number\">145</span>] ==&gt; Parameters: SLEEPING(String), <span class=\"number\">2016</span>-<span class=\"number\">12</span>-<span class=\"number\">23</span> <span class=\"number\">16</span>:<span class=\"number\">41</span>:<span class=\"number\">55.972</span>(Timestamp), <span class=\"number\">9</span>(Long)</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>mybatisdateDate</p>\n</li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li><p>Mysql Server<br><img src=\"/images/posts/20170902/14826733264139.jpg\" alt=\"\"></p>\n</li>\n<li><p>Datetime<br><img src=\"/images/posts/20170902/14826731196884.jpg\" alt=\"\"></p>\n</li>\n<li><p>JDBCJDBC5.1.26MysqlServerServer5.6.4<br>com.mysql.jdbc.PreparedStatement#detectFractionalSecondsSupport:923L<br><img src=\"/images/posts/20170902/14826735377431.jpg\" alt=\"\"></p>\n</li>\n<li><p>JDBCJDBC5.1.26<br>com.mysql.jdbc.PreparedStatement#setTimestampInternal<br>useLegacyDatetimeCode=falsenewSetTimestampInternal<br><img src=\"/images/posts/20170902/14826767849619.jpg\" alt=\"\"><br>mysql5.6.16</p>\n<p> useLegacyDatetimeCode=true<br><img src=\"/images/posts/20170902/14826767169568.jpg\" alt=\"\"><br>useLegacyDatetimeCode</p>\n<blockquote>\n<p>Note that to get this scenario to work with MySQL (since it doesnt support per-value timezones), you need to configure your server (or session) to be in UTC, and tell the driver not to use the legacy date/time code by setting useLegacyDatetimeCode to false. This will cause the driver to always convert to/from the server and client timezone consistently.</p>\n</blockquote>\n</li>\n<li><p><br>Mysql DATE, DATETIME, and TIMESTAMP <a href=\"http://dev.mysql.com/doc/refman/5.6/en/datetime.html\" target=\"_blank\" rel=\"noopener\">http://dev.mysql.com/doc/refman/5.6/en/datetime.html</a></p>\n<p> DATETIMETIMESTAMP<br>Mysql5.7.14<br><img src=\"/images/posts/20170902/14826747022343.jpg\" alt=\"\"><br>102DATETIMETIMSTAMP</p>\n</li>\n<li><br>MysqlMysqlmysql5.6.16(5.6.4)useLegacyDatetimeCode=falseserver<br><br>SimpleDateFormatformatparse0<br>Mysql Server5.6.4</li>\n</ol>\n<h3 id=\"JavaDate\"><a href=\"#JavaDate\" class=\"headerlink\" title=\"JavaDate\"></a>JavaDate</h3><p>java.util.Date  java.sql.Date <br>java.util.Date SQL<br>java.sql.Date  java.util.Date<br>java.sql.Date SQL</p>\n"},{"layout":"post","title":"","description":null,"keywords":"auto-discovery ","date":"2018-03-13T16:00:00.000Z","_content":"\n>\n>https://patents.google.com/patent/US7912749B2/en\n\n\n#### \n\n\nDynatrace5\n\n#### \n1. \n    * \n2. \n3. \n4. \n5. \n    * \n6. \n\n\n\n \n\n#### \n\n\n\n\n\n >  >  > \n\n\n\n\n#### \n****\n\n#### \n\n\n* \n* \n* \n\n\n\n####  \nDynatrace\n\n\n#### \n[dynatrace](https://www.dynatrace.com/capabilities/application-topology-discovery/smartscape/)\n[amazon-application-discovery](https://docs.aws.amazon.com/application-discovery/latest/APIReference/discovery-api-queries.html)\n\n","source":"_posts/Paper/2018-03-14-infrastructure-auto-discovery.md","raw":"---\nlayout: post\ntitle: \ncategories: Paper\ndescription:\nkeywords: auto-discovery \ndate: 2018-03-14\n---\n\n>\n>https://patents.google.com/patent/US7912749B2/en\n\n\n#### \n\n\nDynatrace5\n\n#### \n1. \n    * \n2. \n3. \n4. \n5. \n    * \n6. \n\n\n\n \n\n#### \n\n\n\n\n\n >  >  > \n\n\n\n\n#### \n****\n\n#### \n\n\n* \n* \n* \n\n\n\n####  \nDynatrace\n\n\n#### \n[dynatrace](https://www.dynatrace.com/capabilities/application-topology-discovery/smartscape/)\n[amazon-application-discovery](https://docs.aws.amazon.com/application-discovery/latest/APIReference/discovery-api-queries.html)\n\n","slug":"Paper/2018-03-14-infrastructure-auto-discovery","published":1,"updated":"2018-11-10T08:59:09.805Z","comments":1,"photos":[],"link":"","_id":"cjtohbk8s002u6f12499p21yf","content":"<blockquote>\n<p><br><a href=\"https://patents.google.com/patent/US7912749B2/en\" target=\"_blank\" rel=\"noopener\">https://patents.google.com/patent/US7912749B2/en</a></p>\n</blockquote>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<p>Dynatrace5</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li><ul>\n<li></li>\n</ul>\n</li>\n<li></li>\n<li></li>\n<li></li>\n<li><ul>\n<li></li>\n</ul>\n</li>\n<li></li>\n</ol>\n<p></p>\n<p> </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<p></p>\n<p><br> &gt;  &gt;  &gt; </p>\n<p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><strong></strong></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>Dynatrace</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><a href=\"https://www.dynatrace.com/capabilities/application-topology-discovery/smartscape/\" target=\"_blank\" rel=\"noopener\">dynatrace</a><br><a href=\"https://docs.aws.amazon.com/application-discovery/latest/APIReference/discovery-api-queries.html\" target=\"_blank\" rel=\"noopener\">amazon-application-discovery</a></p>\n","site":{"data":{}},"excerpt":"","more":"<blockquote>\n<p><br><a href=\"https://patents.google.com/patent/US7912749B2/en\" target=\"_blank\" rel=\"noopener\">https://patents.google.com/patent/US7912749B2/en</a></p>\n</blockquote>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<p>Dynatrace5</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li><ul>\n<li></li>\n</ul>\n</li>\n<li></li>\n<li></li>\n<li></li>\n<li><ul>\n<li></li>\n</ul>\n</li>\n<li></li>\n</ol>\n<p></p>\n<p> </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<p></p>\n<p><br> &gt;  &gt;  &gt; </p>\n<p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><strong></strong></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>Dynatrace</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><a href=\"https://www.dynatrace.com/capabilities/application-topology-discovery/smartscape/\" target=\"_blank\" rel=\"noopener\">dynatrace</a><br><a href=\"https://docs.aws.amazon.com/application-discovery/latest/APIReference/discovery-api-queries.html\" target=\"_blank\" rel=\"noopener\">amazon-application-discovery</a></p>\n"},{"layout":"post","title":"ID","description":null,"keywords":"id-generator ID","date":"2016-02-25T16:00:00.000Z","_content":">ID\n\n#### ID\n\n\n#### \n\n\n#### UUID\nID\nuuid64\n#### \nIDID\n1000\nLRU Cache100Key\n#### \n39bit4bit7bit\n\n\nRedis+\nredis1000RedisRedisID\nredis\n#### \n\n\n\n","source":"_posts/Program/2016-02-26-distributed-system-id-generator.md","raw":"---\nlayout: post\ntitle: ID\ncategories: Program\ndescription:\nkeywords: id-generator ID\ndate: 2016-02-26\n---\n>ID\n\n#### ID\n\n\n#### \n\n\n#### UUID\nID\nuuid64\n#### \nIDID\n1000\nLRU Cache100Key\n#### \n39bit4bit7bit\n\n\nRedis+\nredis1000RedisRedisID\nredis\n#### \n\n\n\n","slug":"Program/2016-02-26-distributed-system-id-generator","published":1,"updated":"2018-11-10T08:59:09.805Z","comments":1,"photos":[],"link":"","_id":"cjtohbk8t002x6f12xsqjqui7","content":"<blockquote>\n<p>ID</p>\n</blockquote>\n<h4 id=\"ID\"><a href=\"#ID\" class=\"headerlink\" title=\"ID\"></a>ID</h4><p><br></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br></p>\n<h4 id=\"UUID\"><a href=\"#UUID\" class=\"headerlink\" title=\"UUID\"></a>UUID</h4><p>ID<br>uuid64</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>IDID<br>1000<br>LRU Cache100Key</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>39bit4bit7bit<br><br><br>Redis+<br>redis1000RedisRedisID<br>redis</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n","site":{"data":{}},"excerpt":"","more":"<blockquote>\n<p>ID</p>\n</blockquote>\n<h4 id=\"ID\"><a href=\"#ID\" class=\"headerlink\" title=\"ID\"></a>ID</h4><p><br></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br></p>\n<h4 id=\"UUID\"><a href=\"#UUID\" class=\"headerlink\" title=\"UUID\"></a>UUID</h4><p>ID<br>uuid64</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>IDID<br>1000<br>LRU Cache100Key</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>39bit4bit7bit<br><br><br>Redis+<br>redis1000RedisRedisID<br>redis</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n"},{"layout":"post","title":"/","description":null,"keywords":"Login Regist  ","date":"2016-05-08T16:00:00.000Z","_content":"\n\n\n#### \nMd5Md5DB\n\n#### \n\nToken(CrsfToken/UserToken)\n\n* UserTokenCrsfTokenAESCookieCookierequestCookieUserToken\n* CrsfToken[CRSF](https://zh.wikipedia.org/wiki/%E8%B7%A8%E7%AB%99%E8%AF%B7%E6%B1%82%E4%BC%AA%E9%80%A0)formcrsfTokenCrsfCrsfTokenlocalStorageCrsfTokenMd5CookieuserTokenAESCrsfTokenuserTokenLocalStorageCrsfToken,cookieTokenCrsfToken\n\nJSCrsfToken\n\n![](/images/posts/20160509/js-url-param-sign.png)\n\n\nRequestCookieuserToken\n\n![](/images/posts/20160509/user-token-cookie.png)\n\n\n#### \n+AESTokenTokenCrsfTokenlocalStorageCrsfTokenCRSFCrsfTokenCRSFWebCrsfTokenuserTokenHTTPSCrsfToken\n\nCookie\n\nAppCrsfTokenCookie\n#### /\n\n[](https://www.zhihu.com/question/22479139)12306\n\nCaptcha,\n\n![](/images/posts/20160509/fqht-regist.png)\n\n![](/images/posts/20160509/geetest-captcha.png)\n\nsessionIdsessionIdsessionId\n##### \n60sN\n##### \n60sRedis\n#### \nCookiefengqu.com  fengxiang.comCookieCookieDomainPathCookieCookieCookieuserTokenSSOCookieSSO\n\n[Web](http://coolshell.cn/articles/5353.html)\n\n","source":"_posts/Program/2016-05-09-user-login-and-regist.md","raw":"---\nlayout: post\ntitle: /\ncategories: Program\ndescription:\nkeywords: Login Regist  \ndate: 2016-05-09\n---\n\n\n\n#### \nMd5Md5DB\n\n#### \n\nToken(CrsfToken/UserToken)\n\n* UserTokenCrsfTokenAESCookieCookierequestCookieUserToken\n* CrsfToken[CRSF](https://zh.wikipedia.org/wiki/%E8%B7%A8%E7%AB%99%E8%AF%B7%E6%B1%82%E4%BC%AA%E9%80%A0)formcrsfTokenCrsfCrsfTokenlocalStorageCrsfTokenMd5CookieuserTokenAESCrsfTokenuserTokenLocalStorageCrsfToken,cookieTokenCrsfToken\n\nJSCrsfToken\n\n![](/images/posts/20160509/js-url-param-sign.png)\n\n\nRequestCookieuserToken\n\n![](/images/posts/20160509/user-token-cookie.png)\n\n\n#### \n+AESTokenTokenCrsfTokenlocalStorageCrsfTokenCRSFCrsfTokenCRSFWebCrsfTokenuserTokenHTTPSCrsfToken\n\nCookie\n\nAppCrsfTokenCookie\n#### /\n\n[](https://www.zhihu.com/question/22479139)12306\n\nCaptcha,\n\n![](/images/posts/20160509/fqht-regist.png)\n\n![](/images/posts/20160509/geetest-captcha.png)\n\nsessionIdsessionIdsessionId\n##### \n60sN\n##### \n60sRedis\n#### \nCookiefengqu.com  fengxiang.comCookieCookieDomainPathCookieCookieCookieuserTokenSSOCookieSSO\n\n[Web](http://coolshell.cn/articles/5353.html)\n\n","slug":"Program/2016-05-09-user-login-and-regist","published":1,"updated":"2018-11-10T08:59:09.805Z","comments":1,"photos":[],"link":"","_id":"cjtohbk8u002z6f12ua4swbiq","content":"<p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>Md5Md5DB</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br>Token(CrsfToken/UserToken)</p>\n<ul>\n<li>UserTokenCrsfTokenAESCookieCookierequestCookieUserToken</li>\n<li>CrsfToken<a href=\"https://zh.wikipedia.org/wiki/%E8%B7%A8%E7%AB%99%E8%AF%B7%E6%B1%82%E4%BC%AA%E9%80%A0\" target=\"_blank\" rel=\"noopener\">CRSF</a>formcrsfTokenCrsfCrsfTokenlocalStorageCrsfTokenMd5CookieuserTokenAESCrsfTokenuserTokenLocalStorageCrsfToken,cookieTokenCrsfToken</li>\n</ul>\n<p>JSCrsfToken</p>\n<p><img src=\"/images/posts/20160509/js-url-param-sign.png\" alt=\"\"></p>\n<p>RequestCookieuserToken</p>\n<p><img src=\"/images/posts/20160509/user-token-cookie.png\" alt=\"\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>+AESTokenTokenCrsfTokenlocalStorageCrsfTokenCRSFCrsfTokenCRSFWebCrsfTokenuserTokenHTTPSCrsfToken</p>\n<p>Cookie</p>\n<p>AppCrsfTokenCookie</p>\n<h4 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"/\"></a>/</h4><p><br><a href=\"https://www.zhihu.com/question/22479139\" target=\"_blank\" rel=\"noopener\"></a>12306</p>\n<p>Captcha,</p>\n<p><img src=\"/images/posts/20160509/fqht-regist.png\" alt=\"\"></p>\n<p><img src=\"/images/posts/20160509/geetest-captcha.png\" alt=\"\"></p>\n<p>sessionIdsessionIdsessionId</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>60sN</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>60sRedis</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>Cookiefengqu.com  fengxiang.comCookieCookieDomainPathCookieCookieCookieuserTokenSSOCookieSSO</p>\n<p><a href=\"http://coolshell.cn/articles/5353.html\" target=\"_blank\" rel=\"noopener\">Web</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>Md5Md5DB</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br>Token(CrsfToken/UserToken)</p>\n<ul>\n<li>UserTokenCrsfTokenAESCookieCookierequestCookieUserToken</li>\n<li>CrsfToken<a href=\"https://zh.wikipedia.org/wiki/%E8%B7%A8%E7%AB%99%E8%AF%B7%E6%B1%82%E4%BC%AA%E9%80%A0\" target=\"_blank\" rel=\"noopener\">CRSF</a>formcrsfTokenCrsfCrsfTokenlocalStorageCrsfTokenMd5CookieuserTokenAESCrsfTokenuserTokenLocalStorageCrsfToken,cookieTokenCrsfToken</li>\n</ul>\n<p>JSCrsfToken</p>\n<p><img src=\"/images/posts/20160509/js-url-param-sign.png\" alt=\"\"></p>\n<p>RequestCookieuserToken</p>\n<p><img src=\"/images/posts/20160509/user-token-cookie.png\" alt=\"\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>+AESTokenTokenCrsfTokenlocalStorageCrsfTokenCRSFCrsfTokenCRSFWebCrsfTokenuserTokenHTTPSCrsfToken</p>\n<p>Cookie</p>\n<p>AppCrsfTokenCookie</p>\n<h4 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"/\"></a>/</h4><p><br><a href=\"https://www.zhihu.com/question/22479139\" target=\"_blank\" rel=\"noopener\"></a>12306</p>\n<p>Captcha,</p>\n<p><img src=\"/images/posts/20160509/fqht-regist.png\" alt=\"\"></p>\n<p><img src=\"/images/posts/20160509/geetest-captcha.png\" alt=\"\"></p>\n<p>sessionIdsessionIdsessionId</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>60sN</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>60sRedis</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>Cookiefengqu.com  fengxiang.comCookieCookieDomainPathCookieCookieCookieuserTokenSSOCookieSSO</p>\n<p><a href=\"http://coolshell.cn/articles/5353.html\" target=\"_blank\" rel=\"noopener\">Web</a></p>\n"},{"layout":"post","title":"  ","description":null,"keywords":"switch product  ","date":"2016-07-04T16:00:00.000Z","_content":">\n\n#### \n* ;\n* ;\n#### \n* \n* \n* \n#### \n/http/dubbo//\n#### \nDNShttprpc\n#### \n\n#### \n\n\n#### \n* \n* \n#### \n1Diamond\n2\n3Nginxnginxnginx\n\nHTML6min6minDB\nNginx\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/65c75dcce27bf193d84787ddc1eda237.png)\n#### \n/\n\n\n\n\n#### \nhttp://jinnianshilongnian.iteye.com/blog/2306477\n\n","source":"_posts/Program/2016-07-05-product-high-use.md","raw":"---\nlayout: post\ntitle:   \ncategories: Program\ndescription:\nkeywords: switch product  \ndate: 2016-07-05\n---\n>\n\n#### \n* ;\n* ;\n#### \n* \n* \n* \n#### \n/http/dubbo//\n#### \nDNShttprpc\n#### \n\n#### \n\n\n#### \n* \n* \n#### \n1Diamond\n2\n3Nginxnginxnginx\n\nHTML6min6minDB\nNginx\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/65c75dcce27bf193d84787ddc1eda237.png)\n#### \n/\n\n\n\n\n#### \nhttp://jinnianshilongnian.iteye.com/blog/2306477\n\n","slug":"Program/2016-07-05-product-high-use","published":1,"updated":"2018-11-10T08:59:09.806Z","comments":1,"photos":[],"link":"","_id":"cjtohbk8v00326f1287vvbeyl","content":"<blockquote>\n<p></p>\n</blockquote>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>;</li>\n<li>;<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4></li>\n<li></li>\n<li></li>\n<li><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4>/http/dubbo//<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4>DNShttprpc<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4></li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li></li>\n<li><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4>1Diamond<br>2<br>3Nginxnginxnginx<br><br>HTML6min6minDB<br>Nginx<br><br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/65c75dcce27bf193d84787ddc1eda237.png\" alt=\"\"><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4>/<br><br></li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><a href=\"http://jinnianshilongnian.iteye.com/blog/2306477\" target=\"_blank\" rel=\"noopener\">http://jinnianshilongnian.iteye.com/blog/2306477</a></p>\n","site":{"data":{}},"excerpt":"","more":"<blockquote>\n<p></p>\n</blockquote>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>;</li>\n<li>;<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4></li>\n<li></li>\n<li></li>\n<li><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4>/http/dubbo//<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4>DNShttprpc<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4></li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li></li>\n<li><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4>1Diamond<br>2<br>3Nginxnginxnginx<br><br>HTML6min6minDB<br>Nginx<br><br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/65c75dcce27bf193d84787ddc1eda237.png\" alt=\"\"><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4>/<br><br></li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><a href=\"http://jinnianshilongnian.iteye.com/blog/2306477\" target=\"_blank\" rel=\"noopener\">http://jinnianshilongnian.iteye.com/blog/2306477</a></p>\n"},{"layout":"post","title":"","description":null,"keywords":"product puttag thread","date":"2016-08-06T16:00:00.000Z","_content":"### \n##### \n\n\n##### \nLock wait timeout exceeded; try restarting transaction\n##### \n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/a4ff50ec55e8ce0ba211af1e2e2104cc.png)\n##### \n20~30M\n##### \n* \n* \n\n### \n##### \n3000+\n##### \n200~500ms\n##### \n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/e0f982ff775609d974f4a48d05aed106.png)\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/14b993b3eb036b86df53b6d7825b3d74.png)\n##### \n\n##### \n* \n* \n* \n### \n##### \nCMS\n##### \nCMS\n##### \n* \n* \n* \n* N\n### Redis\n##### \n\n##### \n\n##### \n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/560998fab2c64721aa1bd9242cf8f045.png)\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/809d0ec48e7064af83c86d31449932ca.png)\n##### \n\n##### \n* \n* \n* \n### bug\n##### \nCMS\n##### \nCMS\n##### \n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/960fa291bbd98269ee39b2eae1f74b58.png)\nSQL\n##### \nSQLstart_timeend_time\n##### \n* \n* codeReview\n* bug\n* \n\n","source":"_posts/Program/2016-08-07-product-puttag-error.md","raw":"---\nlayout: post\ntitle: \ncategories: Program\ndescription:\nkeywords: product puttag thread\ndate: 2016-08-07\n---\n### \n##### \n\n\n##### \nLock wait timeout exceeded; try restarting transaction\n##### \n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/a4ff50ec55e8ce0ba211af1e2e2104cc.png)\n##### \n20~30M\n##### \n* \n* \n\n### \n##### \n3000+\n##### \n200~500ms\n##### \n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/e0f982ff775609d974f4a48d05aed106.png)\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/14b993b3eb036b86df53b6d7825b3d74.png)\n##### \n\n##### \n* \n* \n* \n### \n##### \nCMS\n##### \nCMS\n##### \n* \n* \n* \n* N\n### Redis\n##### \n\n##### \n\n##### \n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/560998fab2c64721aa1bd9242cf8f045.png)\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/809d0ec48e7064af83c86d31449932ca.png)\n##### \n\n##### \n* \n* \n* \n### bug\n##### \nCMS\n##### \nCMS\n##### \n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/960fa291bbd98269ee39b2eae1f74b58.png)\nSQL\n##### \nSQLstart_timeend_time\n##### \n* \n* codeReview\n* bug\n* \n\n","slug":"Program/2016-08-07-product-puttag-error","published":1,"updated":"2018-11-10T08:59:09.806Z","comments":1,"photos":[],"link":"","_id":"cjtohbk8x00346f12m9io884n","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>Lock wait timeout exceeded; try restarting transaction</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/a4ff50ec55e8ce0ba211af1e2e2104cc.png\" alt=\"\"></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>20~30M</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ul>\n<li></li>\n<li></li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h5 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h5><p>3000+</p>\n<h5 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h5><p>200~500ms</p>\n<h5 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h5><p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/e0f982ff775609d974f4a48d05aed106.png\" alt=\"\"><br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/14b993b3eb036b86df53b6d7825b3d74.png\" alt=\"\"></p>\n<h5 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h5><ul>\n<li></li>\n<li></li>\n<li><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h5 id=\"-2\"><a href=\"#-2\" class=\"headerlink\" title=\"\"></a></h5>CMS<h5 id=\"-2\"><a href=\"#-2\" class=\"headerlink\" title=\"\"></a></h5>CMS<h5 id=\"-2\"><a href=\"#-2\" class=\"headerlink\" title=\"\"></a></h5></li>\n<li></li>\n<li></li>\n<li></li>\n<li>N<h3 id=\"Redis\"><a href=\"#Redis\" class=\"headerlink\" title=\"Redis\"></a>Redis</h3><h5 id=\"-3\"><a href=\"#-3\" class=\"headerlink\" title=\"\"></a></h5><h5 id=\"-3\"><a href=\"#-3\" class=\"headerlink\" title=\"\"></a></h5><h5 id=\"-2\"><a href=\"#-2\" class=\"headerlink\" title=\"\"></a></h5><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/560998fab2c64721aa1bd9242cf8f045.png\" alt=\"\"><br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/809d0ec48e7064af83c86d31449932ca.png\" alt=\"\"><h5 id=\"-2\"><a href=\"#-2\" class=\"headerlink\" title=\"\"></a></h5><h5 id=\"-3\"><a href=\"#-3\" class=\"headerlink\" title=\"\"></a></h5></li>\n<li></li>\n<li></li>\n<li><h3 id=\"bug\"><a href=\"#bug\" class=\"headerlink\" title=\"bug\"></a>bug</h3><h5 id=\"-4\"><a href=\"#-4\" class=\"headerlink\" title=\"\"></a></h5>CMS<h5 id=\"-4\"><a href=\"#-4\" class=\"headerlink\" title=\"\"></a></h5>CMS<h5 id=\"-3\"><a href=\"#-3\" class=\"headerlink\" title=\"\"></a></h5><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/960fa291bbd98269ee39b2eae1f74b58.png\" alt=\"\"><br>SQL<h5 id=\"-3\"><a href=\"#-3\" class=\"headerlink\" title=\"\"></a></h5>SQLstart_timeend_time<h5 id=\"-4\"><a href=\"#-4\" class=\"headerlink\" title=\"\"></a></h5></li>\n<li></li>\n<li>codeReview</li>\n<li>bug</li>\n<li></li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>Lock wait timeout exceeded; try restarting transaction</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/a4ff50ec55e8ce0ba211af1e2e2104cc.png\" alt=\"\"></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>20~30M</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ul>\n<li></li>\n<li></li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h5 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h5><p>3000+</p>\n<h5 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h5><p>200~500ms</p>\n<h5 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h5><p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/e0f982ff775609d974f4a48d05aed106.png\" alt=\"\"><br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/14b993b3eb036b86df53b6d7825b3d74.png\" alt=\"\"></p>\n<h5 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h5><ul>\n<li></li>\n<li></li>\n<li><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h5 id=\"-2\"><a href=\"#-2\" class=\"headerlink\" title=\"\"></a></h5>CMS<h5 id=\"-2\"><a href=\"#-2\" class=\"headerlink\" title=\"\"></a></h5>CMS<h5 id=\"-2\"><a href=\"#-2\" class=\"headerlink\" title=\"\"></a></h5></li>\n<li></li>\n<li></li>\n<li></li>\n<li>N<h3 id=\"Redis\"><a href=\"#Redis\" class=\"headerlink\" title=\"Redis\"></a>Redis</h3><h5 id=\"-3\"><a href=\"#-3\" class=\"headerlink\" title=\"\"></a></h5><h5 id=\"-3\"><a href=\"#-3\" class=\"headerlink\" title=\"\"></a></h5><h5 id=\"-2\"><a href=\"#-2\" class=\"headerlink\" title=\"\"></a></h5><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/560998fab2c64721aa1bd9242cf8f045.png\" alt=\"\"><br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/809d0ec48e7064af83c86d31449932ca.png\" alt=\"\"><h5 id=\"-2\"><a href=\"#-2\" class=\"headerlink\" title=\"\"></a></h5><h5 id=\"-3\"><a href=\"#-3\" class=\"headerlink\" title=\"\"></a></h5></li>\n<li></li>\n<li></li>\n<li><h3 id=\"bug\"><a href=\"#bug\" class=\"headerlink\" title=\"bug\"></a>bug</h3><h5 id=\"-4\"><a href=\"#-4\" class=\"headerlink\" title=\"\"></a></h5>CMS<h5 id=\"-4\"><a href=\"#-4\" class=\"headerlink\" title=\"\"></a></h5>CMS<h5 id=\"-3\"><a href=\"#-3\" class=\"headerlink\" title=\"\"></a></h5><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/960fa291bbd98269ee39b2eae1f74b58.png\" alt=\"\"><br>SQL<h5 id=\"-3\"><a href=\"#-3\" class=\"headerlink\" title=\"\"></a></h5>SQLstart_timeend_time<h5 id=\"-4\"><a href=\"#-4\" class=\"headerlink\" title=\"\"></a></h5></li>\n<li></li>\n<li>codeReview</li>\n<li>bug</li>\n<li></li>\n</ul>\n"},{"layout":"post","title":"KeyCenter","description":null,"keywords":"keycenter","date":"2017-03-15T16:00:00.000Z","_content":"\nKenCenter\n\n### KeyCenter\n\n1\n2RSA\n3KeyCenter\n\n\n\n\n```java\n    String ciphertext/****/ = cryptograph.encrypt(\"\", \"\");\n    String decryptedStr/****/ = cryptograph.decrypt(\"\", \"\");\n```\n\n\n\n\n1KeyCenter\nKeyCenterKeyCenterroot key\n2\n\n\n### KeyCenter\nKeyCenterkeycenter\nKeyCenterKeyCenterKeyCenterKeyCenter\n\n\n### SSL-KeyCenterhttps\nHTTPSHTTPSSSLrandomHTTPSKeyCenterSSL-KeyCenterKeyCenter\n\nHTTPS\nAES256-SHA25680%ECDHE-AES256-SHA25640%\nkeycenterSSLSSL\n\nSSL-KeyCenterSubway\n\nsubway\n\n* KeyCenter,\n* KeyCenter\n* ()\n\n### SSL-KeyCenter\nKeyCenterKeyCenterHTTPSKeyCenter\n\n\nKeyCenter\n\nKeycenter\n1. KeycenterADNS\n2. IDCKeycenterVIPIDCAserver\n\nSSL-KeyCenterIDC\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/857f6dba0cf5e6e3a821eae46d1c0d86.png)\n\n\nSSL-KeyCenter\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/832d9f9b7e39289800160087996d8be0.png)\nIDC1KeyCenterIDC1KeyCenter\nKeyCenterApp\nVIPServer\n\n\n\nATA\n\n","source":"_posts/Program/2017-03-16-keycenter.md","raw":"---\nlayout: post\ntitle: KeyCenter\ncategories: Program\ndescription:\nkeywords: keycenter\ndate: 2017-03-16\n---\n\nKenCenter\n\n### KeyCenter\n\n1\n2RSA\n3KeyCenter\n\n\n\n\n```java\n    String ciphertext/****/ = cryptograph.encrypt(\"\", \"\");\n    String decryptedStr/****/ = cryptograph.decrypt(\"\", \"\");\n```\n\n\n\n\n1KeyCenter\nKeyCenterKeyCenterroot key\n2\n\n\n### KeyCenter\nKeyCenterkeycenter\nKeyCenterKeyCenterKeyCenterKeyCenter\n\n\n### SSL-KeyCenterhttps\nHTTPSHTTPSSSLrandomHTTPSKeyCenterSSL-KeyCenterKeyCenter\n\nHTTPS\nAES256-SHA25680%ECDHE-AES256-SHA25640%\nkeycenterSSLSSL\n\nSSL-KeyCenterSubway\n\nsubway\n\n* KeyCenter,\n* KeyCenter\n* ()\n\n### SSL-KeyCenter\nKeyCenterKeyCenterHTTPSKeyCenter\n\n\nKeyCenter\n\nKeycenter\n1. KeycenterADNS\n2. IDCKeycenterVIPIDCAserver\n\nSSL-KeyCenterIDC\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/857f6dba0cf5e6e3a821eae46d1c0d86.png)\n\n\nSSL-KeyCenter\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/832d9f9b7e39289800160087996d8be0.png)\nIDC1KeyCenterIDC1KeyCenter\nKeyCenterApp\nVIPServer\n\n\n\nATA\n\n","slug":"Program/2017-03-16-keycenter","published":1,"updated":"2018-11-10T08:59:09.806Z","comments":1,"photos":[],"link":"","_id":"cjtohbk8y00376f12af3c7wmb","content":"<p>KenCenter</p>\n<h3 id=\"KeyCenter\"><a href=\"#KeyCenter\" class=\"headerlink\" title=\"KeyCenter\"></a>KeyCenter</h3><p><br>1<br>2RSA<br>3KeyCenter</p>\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">String ciphertext<span class=\"comment\">/****/</span> = cryptograph.encrypt(<span class=\"string\">\"\"</span>, <span class=\"string\">\"\"</span>);</span><br><span class=\"line\">String decryptedStr<span class=\"comment\">/****/</span> = cryptograph.decrypt(<span class=\"string\">\"\"</span>, <span class=\"string\">\"\"</span>);</span><br></pre></td></tr></table></figure>\n<p></p>\n<p><br>1KeyCenter<br>KeyCenterKeyCenterroot key<br>2<br></p>\n<h3 id=\"KeyCenter\"><a href=\"#KeyCenter\" class=\"headerlink\" title=\"KeyCenter\"></a>KeyCenter</h3><p>KeyCenterkeycenter<br>KeyCenterKeyCenterKeyCenterKeyCenter</p>\n<h3 id=\"SSL-KeyCenterhttps\"><a href=\"#SSL-KeyCenterhttps\" class=\"headerlink\" title=\"SSL-KeyCenterhttps\"></a>SSL-KeyCenterhttps</h3><p>HTTPSHTTPSSSLrandomHTTPSKeyCenterSSL-KeyCenterKeyCenter</p>\n<p>HTTPS<br>AES256-SHA25680%ECDHE-AES256-SHA25640%<br>keycenterSSLSSL</p>\n<p>SSL-KeyCenterSubway</p>\n<p>subway</p>\n<ul>\n<li>KeyCenter,</li>\n<li>KeyCenter</li>\n<li>()</li>\n</ul>\n<h3 id=\"SSL-KeyCenter\"><a href=\"#SSL-KeyCenter\" class=\"headerlink\" title=\"SSL-KeyCenter\"></a>SSL-KeyCenter</h3><p>KeyCenterKeyCenterHTTPSKeyCenter</p>\n<p>KeyCenter</p>\n<p>Keycenter</p>\n<ol>\n<li>KeycenterADNS</li>\n<li>IDCKeycenterVIPIDCAserver</li>\n</ol>\n<p>SSL-KeyCenterIDC<br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/857f6dba0cf5e6e3a821eae46d1c0d86.png\" alt=\"\"></p>\n<p>SSL-KeyCenter<br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/832d9f9b7e39289800160087996d8be0.png\" alt=\"\"><br>IDC1KeyCenterIDC1KeyCenter<br>KeyCenterApp<br>VIPServer</p>\n<p>ATA</p>\n","site":{"data":{}},"excerpt":"","more":"<p>KenCenter</p>\n<h3 id=\"KeyCenter\"><a href=\"#KeyCenter\" class=\"headerlink\" title=\"KeyCenter\"></a>KeyCenter</h3><p><br>1<br>2RSA<br>3KeyCenter</p>\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">String ciphertext<span class=\"comment\">/****/</span> = cryptograph.encrypt(<span class=\"string\">\"\"</span>, <span class=\"string\">\"\"</span>);</span><br><span class=\"line\">String decryptedStr<span class=\"comment\">/****/</span> = cryptograph.decrypt(<span class=\"string\">\"\"</span>, <span class=\"string\">\"\"</span>);</span><br></pre></td></tr></table></figure>\n<p></p>\n<p><br>1KeyCenter<br>KeyCenterKeyCenterroot key<br>2<br></p>\n<h3 id=\"KeyCenter\"><a href=\"#KeyCenter\" class=\"headerlink\" title=\"KeyCenter\"></a>KeyCenter</h3><p>KeyCenterkeycenter<br>KeyCenterKeyCenterKeyCenterKeyCenter</p>\n<h3 id=\"SSL-KeyCenterhttps\"><a href=\"#SSL-KeyCenterhttps\" class=\"headerlink\" title=\"SSL-KeyCenterhttps\"></a>SSL-KeyCenterhttps</h3><p>HTTPSHTTPSSSLrandomHTTPSKeyCenterSSL-KeyCenterKeyCenter</p>\n<p>HTTPS<br>AES256-SHA25680%ECDHE-AES256-SHA25640%<br>keycenterSSLSSL</p>\n<p>SSL-KeyCenterSubway</p>\n<p>subway</p>\n<ul>\n<li>KeyCenter,</li>\n<li>KeyCenter</li>\n<li>()</li>\n</ul>\n<h3 id=\"SSL-KeyCenter\"><a href=\"#SSL-KeyCenter\" class=\"headerlink\" title=\"SSL-KeyCenter\"></a>SSL-KeyCenter</h3><p>KeyCenterKeyCenterHTTPSKeyCenter</p>\n<p>KeyCenter</p>\n<p>Keycenter</p>\n<ol>\n<li>KeycenterADNS</li>\n<li>IDCKeycenterVIPIDCAserver</li>\n</ol>\n<p>SSL-KeyCenterIDC<br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/857f6dba0cf5e6e3a821eae46d1c0d86.png\" alt=\"\"></p>\n<p>SSL-KeyCenter<br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/832d9f9b7e39289800160087996d8be0.png\" alt=\"\"><br>IDC1KeyCenterIDC1KeyCenter<br>KeyCenterApp<br>VIPServer</p>\n<p>ATA</p>\n"},{"layout":"post","title":"","description":null,"keywords":"design rule  ","date":"2017-12-06T16:00:00.000Z","_content":"\n\n## \n()\n\n\n(layer)/(tier)\n\n\n\nSLA\n\n\n\n\n\n## \n\n\n\n* \n* \n* \n*  ()\n* \n* \n* \n*  (Multi-tenancy)\n* \n* \n\n## \nSLA\n\n\n* -(OCP)\n* \n* \n* colocation\n* \n*  ()\n* \n* \n* \n\n## \n//\n\n\n* \n*  ()\n* \n* Failover\n* N+1N+x\n* \n* \n* \n\n## \n\n\n\n* \n* \n* \n* \n\n## \n\n\n\n* \n* \n* \n* \n* \n* \n* \n* mark up/mark down\n* \n* SLA\n\n\n","source":"_posts/Program/2017-12-07-architecture-design-rule.md","raw":"---\nlayout: post\ntitle: \ncategories: Program\ndescription:\nkeywords: design rule  \ndate: 2017-12-07\n---\n\n\n## \n()\n\n\n(layer)/(tier)\n\n\n\nSLA\n\n\n\n\n\n## \n\n\n\n* \n* \n* \n*  ()\n* \n* \n* \n*  (Multi-tenancy)\n* \n* \n\n## \nSLA\n\n\n* -(OCP)\n* \n* \n* colocation\n* \n*  ()\n* \n* \n* \n\n## \n//\n\n\n* \n*  ()\n* \n* Failover\n* N+1N+x\n* \n* \n* \n\n## \n\n\n\n* \n* \n* \n* \n\n## \n\n\n\n* \n* \n* \n* \n* \n* \n* \n* mark up/mark down\n* \n* SLA\n\n\n","slug":"Program/2017-12-07-architecture-design-rule","published":1,"updated":"2018-11-10T08:59:09.806Z","comments":1,"photos":[],"link":"","_id":"cjtohbk8z00396f12vue3xq0i","content":"<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>()</p>\n<p><br>(layer)/(tier)<br><br><br><br>SLA<br><br><br><br></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li> ()</li>\n<li></li>\n<li></li>\n<li></li>\n<li> (Multi-tenancy)</li>\n<li></li>\n<li></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>SLA<br></p>\n<ul>\n<li>-(OCP)</li>\n<li></li>\n<li></li>\n<li>colocation</li>\n<li></li>\n<li> ()</li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>//<br></p>\n<ul>\n<li></li>\n<li> ()</li>\n<li></li>\n<li>Failover</li>\n<li>N+1N+x</li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li>mark up/mark down</li>\n<li></li>\n<li>SLA</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>()</p>\n<p><br>(layer)/(tier)<br><br><br><br>SLA<br><br><br><br></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li> ()</li>\n<li></li>\n<li></li>\n<li></li>\n<li> (Multi-tenancy)</li>\n<li></li>\n<li></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>SLA<br></p>\n<ul>\n<li>-(OCP)</li>\n<li></li>\n<li></li>\n<li>colocation</li>\n<li></li>\n<li> ()</li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>//<br></p>\n<ul>\n<li></li>\n<li> ()</li>\n<li></li>\n<li>Failover</li>\n<li>N+1N+x</li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li>mark up/mark down</li>\n<li></li>\n<li>SLA</li>\n</ul>\n"},{"layout":"post","title":"DevOps","description":null,"keywords":"devops","date":"2017-12-23T16:00:00.000Z","_content":"\n## \n [DevOps Handbook](http://www.itrevolution.com/book/the-devops-handbook/) [](https://itrevolution.com/books/novel/)The Phoenix Project: A Novel About IT, DevOps, and Helping Your Business Win. DevOps \n\nLean IT Mike Orzen \n\n## \n DevOps \n\n###  \n![](https://gw.alipayobjects.com/zos/skylark/90fda8c1-ed1d-414d-bf7a-379e3fc7bd54/2018/png/46243fa7-bffa-4015-acd8-2597e974feee.png)\n\n \n\n\n\n\n\n\n\n* \n* \n*  DEVTESTPRODUCTION \n* \n* \n* \n\n### \n![](https://gw.alipayobjects.com/zos/skylark/f6cc08b5-b7e5-4162-92a3-0d0df213d902/2018/png/c8e97809-c293-4170-a84c-143789ea7faf.png)\n\n\n\n\n\n\n\n* \n* \n* \n*  bug \n* \n* \n### \n![](https://gw.alipayobjects.com/zos/skylark/dfea288e-e3e5-4f41-b1c0-998f7def0202/2018/png/096c5099-06da-403c-8329-3c88f8851fd9.png)\n\n\n\n\n\n\n\n Netfilx  Chaos monkey Netflix \n\n## \nDevOps\n\n> : https://es.slideshare.net/SonatypeCorp/devops-connect-josh-corman-and-gene-kim-discuss-devopssec\n\n> http://itrevolution.com/the-three-ways-principles-underpinning-devops/\n\n@duyidong\n\n","source":"_posts/Program/2017-12-24-devops-three-method.md","raw":"---\nlayout: post\ntitle: DevOps\ncategories: Program\ndescription:\nkeywords: devops\ndate: 2017-12-24\n---\n\n## \n [DevOps Handbook](http://www.itrevolution.com/book/the-devops-handbook/) [](https://itrevolution.com/books/novel/)The Phoenix Project: A Novel About IT, DevOps, and Helping Your Business Win. DevOps \n\nLean IT Mike Orzen \n\n## \n DevOps \n\n###  \n![](https://gw.alipayobjects.com/zos/skylark/90fda8c1-ed1d-414d-bf7a-379e3fc7bd54/2018/png/46243fa7-bffa-4015-acd8-2597e974feee.png)\n\n \n\n\n\n\n\n\n\n* \n* \n*  DEVTESTPRODUCTION \n* \n* \n* \n\n### \n![](https://gw.alipayobjects.com/zos/skylark/f6cc08b5-b7e5-4162-92a3-0d0df213d902/2018/png/c8e97809-c293-4170-a84c-143789ea7faf.png)\n\n\n\n\n\n\n\n* \n* \n* \n*  bug \n* \n* \n### \n![](https://gw.alipayobjects.com/zos/skylark/dfea288e-e3e5-4f41-b1c0-998f7def0202/2018/png/096c5099-06da-403c-8329-3c88f8851fd9.png)\n\n\n\n\n\n\n\n Netfilx  Chaos monkey Netflix \n\n## \nDevOps\n\n> : https://es.slideshare.net/SonatypeCorp/devops-connect-josh-corman-and-gene-kim-discuss-devopssec\n\n> http://itrevolution.com/the-three-ways-principles-underpinning-devops/\n\n@duyidong\n\n","slug":"Program/2017-12-24-devops-three-method","published":1,"updated":"2018-11-10T08:59:09.806Z","comments":1,"photos":[],"link":"","_id":"cjtohbk90003c6f12nptvw1a9","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <a href=\"http://www.itrevolution.com/book/the-devops-handbook/\" target=\"_blank\" rel=\"noopener\">DevOps Handbook</a> <a href=\"https://itrevolution.com/books/novel/\" target=\"_blank\" rel=\"noopener\"></a>The Phoenix Project: A Novel About IT, DevOps, and Helping Your Business Win. DevOps </p>\n<p>Lean IT Mike Orzen </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> DevOps </p>\n<h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h3><p><img src=\"https://gw.alipayobjects.com/zos/skylark/90fda8c1-ed1d-414d-bf7a-379e3fc7bd54/2018/png/46243fa7-bffa-4015-acd8-2597e974feee.png\" alt=\"\"></p>\n<p> </p>\n<p></p>\n<p></p>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li> DEVTESTPRODUCTION </li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"https://gw.alipayobjects.com/zos/skylark/f6cc08b5-b7e5-4162-92a3-0d0df213d902/2018/png/c8e97809-c293-4170-a84c-143789ea7faf.png\" alt=\"\"></p>\n<p></p>\n<p></p>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li> bug </li>\n<li></li>\n<li><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><img src=\"https://gw.alipayobjects.com/zos/skylark/dfea288e-e3e5-4f41-b1c0-998f7def0202/2018/png/096c5099-06da-403c-8329-3c88f8851fd9.png\" alt=\"\"></li>\n</ul>\n<p></p>\n<p></p>\n<p></p>\n<p> Netfilx  Chaos monkey Netflix </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>DevOps</p>\n<blockquote>\n<p>: <a href=\"https://es.slideshare.net/SonatypeCorp/devops-connect-josh-corman-and-gene-kim-discuss-devopssec\" target=\"_blank\" rel=\"noopener\">https://es.slideshare.net/SonatypeCorp/devops-connect-josh-corman-and-gene-kim-discuss-devopssec</a></p>\n</blockquote>\n<blockquote>\n<p><a href=\"http://itrevolution.com/the-three-ways-principles-underpinning-devops/\" target=\"_blank\" rel=\"noopener\">http://itrevolution.com/the-three-ways-principles-underpinning-devops/</a></p>\n</blockquote>\n<p>@duyidong</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <a href=\"http://www.itrevolution.com/book/the-devops-handbook/\" target=\"_blank\" rel=\"noopener\">DevOps Handbook</a> <a href=\"https://itrevolution.com/books/novel/\" target=\"_blank\" rel=\"noopener\"></a>The Phoenix Project: A Novel About IT, DevOps, and Helping Your Business Win. DevOps </p>\n<p>Lean IT Mike Orzen </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> DevOps </p>\n<h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h3><p><img src=\"https://gw.alipayobjects.com/zos/skylark/90fda8c1-ed1d-414d-bf7a-379e3fc7bd54/2018/png/46243fa7-bffa-4015-acd8-2597e974feee.png\" alt=\"\"></p>\n<p> </p>\n<p></p>\n<p></p>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li> DEVTESTPRODUCTION </li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"https://gw.alipayobjects.com/zos/skylark/f6cc08b5-b7e5-4162-92a3-0d0df213d902/2018/png/c8e97809-c293-4170-a84c-143789ea7faf.png\" alt=\"\"></p>\n<p></p>\n<p></p>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li> bug </li>\n<li></li>\n<li><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><img src=\"https://gw.alipayobjects.com/zos/skylark/dfea288e-e3e5-4f41-b1c0-998f7def0202/2018/png/096c5099-06da-403c-8329-3c88f8851fd9.png\" alt=\"\"></li>\n</ul>\n<p></p>\n<p></p>\n<p></p>\n<p> Netfilx  Chaos monkey Netflix </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>DevOps</p>\n<blockquote>\n<p>: <a href=\"https://es.slideshare.net/SonatypeCorp/devops-connect-josh-corman-and-gene-kim-discuss-devopssec\" target=\"_blank\" rel=\"noopener\">https://es.slideshare.net/SonatypeCorp/devops-connect-josh-corman-and-gene-kim-discuss-devopssec</a></p>\n</blockquote>\n<blockquote>\n<p><a href=\"http://itrevolution.com/the-three-ways-principles-underpinning-devops/\" target=\"_blank\" rel=\"noopener\">http://itrevolution.com/the-three-ways-principles-underpinning-devops/</a></p>\n</blockquote>\n<p>@duyidong</p>\n"},{"layout":"post","title":"","description":null,"keywords":"permission system  ","date":"2018-01-03T16:00:00.000Z","_content":" Web APIJava \n\n### \n Access Control\n\n### \n\n\n\n### \n* DAC&MAC\n    * DAC\n    * MAC\n* IBAC\n    * \n    * \n    * Javacookiesession\n* RBAC\n    * Role-Based Access Control\n    * \n    * RBACABAC\n    * 1992David F.Ferraiolo & D.Richard Kuhn\n    * https://csrc.nist.gov/projects/role-based-access-control\n    * -\n    * Spring SecurityApache ShiroAli ACL\n* ABAC\n    *  (Attribute Based Access Control)\n    * AWS\n    * \n        * https://csrc.nist.gov/projects/attribute-based-access-control\n        * https://link.springer.com/chapter/10.1007/978-3-319-25645-0_14\n        * http://profsandhu.com/dissert/xin_slides.pdf\n\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/068d3b155b6538ee6f4651d7febe19cd.png)\nRBAC\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/af745d65be9e6922518ff6402e805464.png)\n: \nBUCACLOpLog\n\n### Java\n* JAAS\n    * Authentication    AuthorizationAccounting\n    * JavaJava Authentication and Authorization ServiceJAAS\n    * LDAP\n    * \n* Spring Security\n* Apache Shiro\n\n### \n#### 1 JAAS \nJ2eeJavajaasLDAPejbldapldapldap28ldapSpring SecurityACLJAAS\n#### 2 (SSO)+\nSSO1. SSOSSO2.  SSOJAASRBAC\n#### 3 Session + \nSSOSessionsso-1 sso-2SessionSessionTair sessiontbsessionsession + cookiecookiecookie\n\n","source":"_posts/Program/2018-01-04-permission-system-degisn.md","raw":"---\nlayout: post\ntitle: \ncategories: Program\ndescription:\nkeywords: permission system  \ndate: 2018-01-04\n---\n Web APIJava \n\n### \n Access Control\n\n### \n\n\n\n### \n* DAC&MAC\n    * DAC\n    * MAC\n* IBAC\n    * \n    * \n    * Javacookiesession\n* RBAC\n    * Role-Based Access Control\n    * \n    * RBACABAC\n    * 1992David F.Ferraiolo & D.Richard Kuhn\n    * https://csrc.nist.gov/projects/role-based-access-control\n    * -\n    * Spring SecurityApache ShiroAli ACL\n* ABAC\n    *  (Attribute Based Access Control)\n    * AWS\n    * \n        * https://csrc.nist.gov/projects/attribute-based-access-control\n        * https://link.springer.com/chapter/10.1007/978-3-319-25645-0_14\n        * http://profsandhu.com/dissert/xin_slides.pdf\n\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/068d3b155b6538ee6f4651d7febe19cd.png)\nRBAC\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/af745d65be9e6922518ff6402e805464.png)\n: \nBUCACLOpLog\n\n### Java\n* JAAS\n    * Authentication    AuthorizationAccounting\n    * JavaJava Authentication and Authorization ServiceJAAS\n    * LDAP\n    * \n* Spring Security\n* Apache Shiro\n\n### \n#### 1 JAAS \nJ2eeJavajaasLDAPejbldapldapldap28ldapSpring SecurityACLJAAS\n#### 2 (SSO)+\nSSO1. SSOSSO2.  SSOJAASRBAC\n#### 3 Session + \nSSOSessionsso-1 sso-2SessionSessionTair sessiontbsessionsession + cookiecookiecookie\n\n","slug":"Program/2018-01-04-permission-system-degisn","published":1,"updated":"2018-11-10T08:59:09.807Z","comments":1,"photos":[],"link":"","_id":"cjtohbk91003e6f12v9j7phxb","content":"<p> Web APIJava </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> Access Control</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><br></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>DAC&amp;MAC<ul>\n<li>DAC</li>\n<li>MAC</li>\n</ul>\n</li>\n<li>IBAC<ul>\n<li></li>\n<li></li>\n<li>Javacookiesession</li>\n</ul>\n</li>\n<li>RBAC<ul>\n<li>Role-Based Access Control</li>\n<li></li>\n<li>RBACABAC</li>\n<li>1992David F.Ferraiolo &amp; D.Richard Kuhn</li>\n<li><a href=\"https://csrc.nist.gov/projects/role-based-access-control\" target=\"_blank\" rel=\"noopener\">https://csrc.nist.gov/projects/role-based-access-control</a></li>\n<li>-</li>\n<li>Spring SecurityApache ShiroAli ACL</li>\n</ul>\n</li>\n<li>ABAC<ul>\n<li> (Attribute Based Access Control)</li>\n<li>AWS</li>\n<li><ul>\n<li><a href=\"https://csrc.nist.gov/projects/attribute-based-access-control\" target=\"_blank\" rel=\"noopener\">https://csrc.nist.gov/projects/attribute-based-access-control</a></li>\n<li><a href=\"https://link.springer.com/chapter/10.1007/978-3-319-25645-0_14\" target=\"_blank\" rel=\"noopener\">https://link.springer.com/chapter/10.1007/978-3-319-25645-0_14</a></li>\n<li><a href=\"http://profsandhu.com/dissert/xin_slides.pdf\" target=\"_blank\" rel=\"noopener\">http://profsandhu.com/dissert/xin_slides.pdf</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/068d3b155b6538ee6f4651d7febe19cd.png\" alt=\"\"><br>RBAC<br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/af745d65be9e6922518ff6402e805464.png\" alt=\"\"><br>: <br>BUCACLOpLog</p>\n<h3 id=\"Java\"><a href=\"#Java\" class=\"headerlink\" title=\"Java\"></a>Java</h3><ul>\n<li>JAAS<ul>\n<li>Authentication    AuthorizationAccounting</li>\n<li>JavaJava Authentication and Authorization ServiceJAAS</li>\n<li>LDAP</li>\n<li></li>\n</ul>\n</li>\n<li>Spring Security</li>\n<li>Apache Shiro</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"1-JAAS-\"><a href=\"#1-JAAS-\" class=\"headerlink\" title=\"1 JAAS \"></a>1 JAAS </h4><p>J2eeJavajaasLDAPejbldapldapldap28ldapSpring SecurityACLJAAS</p>\n<h4 id=\"2--SSO-\"><a href=\"#2--SSO-\" class=\"headerlink\" title=\"2 (SSO)+\"></a>2 (SSO)+</h4><p>SSO1. SSOSSO2.  SSOJAASRBAC</p>\n<h4 id=\"3-Session-\"><a href=\"#3-Session-\" class=\"headerlink\" title=\"3 Session + \"></a>3 Session + </h4><p>SSOSessionsso-1 sso-2SessionSessionTair sessiontbsessionsession + cookiecookiecookie</p>\n","site":{"data":{}},"excerpt":"","more":"<p> Web APIJava </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> Access Control</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><br></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>DAC&amp;MAC<ul>\n<li>DAC</li>\n<li>MAC</li>\n</ul>\n</li>\n<li>IBAC<ul>\n<li></li>\n<li></li>\n<li>Javacookiesession</li>\n</ul>\n</li>\n<li>RBAC<ul>\n<li>Role-Based Access Control</li>\n<li></li>\n<li>RBACABAC</li>\n<li>1992David F.Ferraiolo &amp; D.Richard Kuhn</li>\n<li><a href=\"https://csrc.nist.gov/projects/role-based-access-control\" target=\"_blank\" rel=\"noopener\">https://csrc.nist.gov/projects/role-based-access-control</a></li>\n<li>-</li>\n<li>Spring SecurityApache ShiroAli ACL</li>\n</ul>\n</li>\n<li>ABAC<ul>\n<li> (Attribute Based Access Control)</li>\n<li>AWS</li>\n<li><ul>\n<li><a href=\"https://csrc.nist.gov/projects/attribute-based-access-control\" target=\"_blank\" rel=\"noopener\">https://csrc.nist.gov/projects/attribute-based-access-control</a></li>\n<li><a href=\"https://link.springer.com/chapter/10.1007/978-3-319-25645-0_14\" target=\"_blank\" rel=\"noopener\">https://link.springer.com/chapter/10.1007/978-3-319-25645-0_14</a></li>\n<li><a href=\"http://profsandhu.com/dissert/xin_slides.pdf\" target=\"_blank\" rel=\"noopener\">http://profsandhu.com/dissert/xin_slides.pdf</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/068d3b155b6538ee6f4651d7febe19cd.png\" alt=\"\"><br>RBAC<br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/af745d65be9e6922518ff6402e805464.png\" alt=\"\"><br>: <br>BUCACLOpLog</p>\n<h3 id=\"Java\"><a href=\"#Java\" class=\"headerlink\" title=\"Java\"></a>Java</h3><ul>\n<li>JAAS<ul>\n<li>Authentication    AuthorizationAccounting</li>\n<li>JavaJava Authentication and Authorization ServiceJAAS</li>\n<li>LDAP</li>\n<li></li>\n</ul>\n</li>\n<li>Spring Security</li>\n<li>Apache Shiro</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"1-JAAS-\"><a href=\"#1-JAAS-\" class=\"headerlink\" title=\"1 JAAS \"></a>1 JAAS </h4><p>J2eeJavajaasLDAPejbldapldapldap28ldapSpring SecurityACLJAAS</p>\n<h4 id=\"2--SSO-\"><a href=\"#2--SSO-\" class=\"headerlink\" title=\"2 (SSO)+\"></a>2 (SSO)+</h4><p>SSO1. SSOSSO2.  SSOJAASRBAC</p>\n<h4 id=\"3-Session-\"><a href=\"#3-Session-\" class=\"headerlink\" title=\"3 Session + \"></a>3 Session + </h4><p>SSOSessionsso-1 sso-2SessionSessionTair sessiontbsessionsession + cookiecookiecookie</p>\n"},{"layout":"post","title":"Spring  bean","description":null,"keywords":"spring,bean","date":"2016-05-09T16:00:00.000Z","_content":"\n**BeanFactory**IOC IOC;\n\n**BeanDefinition**\n\n## BeanFactory  FactoryBean\n\nBeanFactory  FactoryIoC BeanBeanFactory \n\nFactoryBean  beanbeanbean\n\nBeanFactory IoCApplicationContextIoC\n\n\nIoC:XmlBeanFactory\n\n1. IoBeanDefinition \n2. BeanFactory\n3. BeanDefinitionBeanFactory\n4. DefaultListableBeanFactory BeanFactory\n\nIoC  BeanDefinitionResouceResourceLoaderBeanDefinition.\n\n\n BeanDefinition \n BeanDefinition IoC\n IoC  (bean )\n\n![](/images/posts/20160510/bean-init-three-step.png)\n\n ApplicationContext  BeanFactory\n\n\nResource \n\nResourceLoader  Resource\n\n\n```java\n\nResourceLoader\n  |__ DefaultResourceLoader\n       .    |__  ServletContextResourceLoader/ServletContextResourceLoader/FileSystemResourceLoader\n       .         AbstractApplicationContext\n       .                  |__ AbstractRefreshableConfigApplicationContext\n       .                          |__  AbstractXmlApplicationContext\n       .                                     |__  XmlAplicationContext\n       .                                AbstractRefreshableWebApplicationContext\n       ResourcePatternResolver\n```\n\nCotext  refresh() bean\n\n\nBeanDefinition   bean\n\nBeanDefinitionReader Bean\n\n\n```java\n\nBeanDefinitionReader \n |__ AbstractBeanDefinitionReader\n      |__ PropertiesBeanDefinitionReader   \n           XmlBeanDefinitionReader\n```\n\n\n BeanFactory  ApplicationContext\n\n![](/images/posts/20160510/beanFactory-applicationContext-hex.png)\n\n ApplicationContext  BeanFactory ,\n\n\n\n1.       BeanFactory  bean  bean getBean()  containsBean()  ,beanApplicationContext  BeanFactory, ApplicationEventPublisher  MessageSource  ResourcePatternResolver  \n2.      AbstractBeanFactory  AbstractAutowireCapableBeanFactory AbstractBeanFactory  bean  ConfigurableBeanFactory AbstractAutowireCapableBeanFactory  AbstractBeanFactory  bean  bean  bean \n3.       ClassPathXmlApplicationContext  bean  bean DefaultListableBeanFactory   \n4.       ClassPathXmlApplicationContext DefaultListableBeanFactory \n\nBeanDefinition XML document document Spring bean XML Spring bean  Springbean  documentReader \n\n\n\n![](/images/posts/20160510/ioc-context-init.png)\n\nBeanDefinition \n\n\n IoC getBean()\n\nbean  BeanDefinition \n\n\n1. bean \n( getBean())getBean  DefaultListableBeanFactory  preInstantiateSingletons \n\n\n2. Bean \n bean  getBean \n\n\nGetBean \n\n1. \n2. \n3.  spring  AbstractAutowireCapableBeanFactory  createBean   DefaultListableBeanFactory  DefaultSingletonBeanRegistry  DefaultSingletonBeanRegistry  getSingleton AbstractAutowireCapableBeanFactory  createBean  Prototype  AbstractAutowireCapableBeanFactory  createBean \n\n\ndoCreateBean \n\n1.  BeanWrapper  \n2. beanDefinition.resolvedConstructorOrFactoryMethod \n3.  spring  BeanUtils  instantiateClass \n4. applyMergedBeanDefinitionPostProcessors\n5. populateBean(beanName, mbd, instanceWrapper); \n6. initializeBean(beanName, exposedObject, mbd); BeanNameAware  BeanClassLoaderAware  spring  InitializingBean  afterPropertySet \n\n","source":"_posts/Spring/2016-05-10-spring-bean-init.md","raw":"---\nlayout: post\ntitle: Spring  bean\ncategories: Spring\ndescription:\nkeywords: spring,bean\ndate: 2016-05-10\n---\n\n**BeanFactory**IOC IOC;\n\n**BeanDefinition**\n\n## BeanFactory  FactoryBean\n\nBeanFactory  FactoryIoC BeanBeanFactory \n\nFactoryBean  beanbeanbean\n\nBeanFactory IoCApplicationContextIoC\n\n\nIoC:XmlBeanFactory\n\n1. IoBeanDefinition \n2. BeanFactory\n3. BeanDefinitionBeanFactory\n4. DefaultListableBeanFactory BeanFactory\n\nIoC  BeanDefinitionResouceResourceLoaderBeanDefinition.\n\n\n BeanDefinition \n BeanDefinition IoC\n IoC  (bean )\n\n![](/images/posts/20160510/bean-init-three-step.png)\n\n ApplicationContext  BeanFactory\n\n\nResource \n\nResourceLoader  Resource\n\n\n```java\n\nResourceLoader\n  |__ DefaultResourceLoader\n       .    |__  ServletContextResourceLoader/ServletContextResourceLoader/FileSystemResourceLoader\n       .         AbstractApplicationContext\n       .                  |__ AbstractRefreshableConfigApplicationContext\n       .                          |__  AbstractXmlApplicationContext\n       .                                     |__  XmlAplicationContext\n       .                                AbstractRefreshableWebApplicationContext\n       ResourcePatternResolver\n```\n\nCotext  refresh() bean\n\n\nBeanDefinition   bean\n\nBeanDefinitionReader Bean\n\n\n```java\n\nBeanDefinitionReader \n |__ AbstractBeanDefinitionReader\n      |__ PropertiesBeanDefinitionReader   \n           XmlBeanDefinitionReader\n```\n\n\n BeanFactory  ApplicationContext\n\n![](/images/posts/20160510/beanFactory-applicationContext-hex.png)\n\n ApplicationContext  BeanFactory ,\n\n\n\n1.       BeanFactory  bean  bean getBean()  containsBean()  ,beanApplicationContext  BeanFactory, ApplicationEventPublisher  MessageSource  ResourcePatternResolver  \n2.      AbstractBeanFactory  AbstractAutowireCapableBeanFactory AbstractBeanFactory  bean  ConfigurableBeanFactory AbstractAutowireCapableBeanFactory  AbstractBeanFactory  bean  bean  bean \n3.       ClassPathXmlApplicationContext  bean  bean DefaultListableBeanFactory   \n4.       ClassPathXmlApplicationContext DefaultListableBeanFactory \n\nBeanDefinition XML document document Spring bean XML Spring bean  Springbean  documentReader \n\n\n\n![](/images/posts/20160510/ioc-context-init.png)\n\nBeanDefinition \n\n\n IoC getBean()\n\nbean  BeanDefinition \n\n\n1. bean \n( getBean())getBean  DefaultListableBeanFactory  preInstantiateSingletons \n\n\n2. Bean \n bean  getBean \n\n\nGetBean \n\n1. \n2. \n3.  spring  AbstractAutowireCapableBeanFactory  createBean   DefaultListableBeanFactory  DefaultSingletonBeanRegistry  DefaultSingletonBeanRegistry  getSingleton AbstractAutowireCapableBeanFactory  createBean  Prototype  AbstractAutowireCapableBeanFactory  createBean \n\n\ndoCreateBean \n\n1.  BeanWrapper  \n2. beanDefinition.resolvedConstructorOrFactoryMethod \n3.  spring  BeanUtils  instantiateClass \n4. applyMergedBeanDefinitionPostProcessors\n5. populateBean(beanName, mbd, instanceWrapper); \n6. initializeBean(beanName, exposedObject, mbd); BeanNameAware  BeanClassLoaderAware  spring  InitializingBean  afterPropertySet \n\n","slug":"Spring/2016-05-10-spring-bean-init","published":1,"updated":"2018-11-10T08:59:09.808Z","comments":1,"photos":[],"link":"","_id":"cjtohbk95003h6f12z02a4cp4","content":"<p><strong>BeanFactory</strong>IOC IOC;</p>\n<p><strong>BeanDefinition</strong></p>\n<h2 id=\"BeanFactory--FactoryBean\"><a href=\"#BeanFactory--FactoryBean\" class=\"headerlink\" title=\"BeanFactory  FactoryBean\"></a>BeanFactory  FactoryBean</h2><p>BeanFactory  FactoryIoC BeanBeanFactory </p>\n<p>FactoryBean  beanbeanbean</p>\n<p>BeanFactory IoCApplicationContextIoC</p>\n<p>IoC:XmlBeanFactory</p>\n<ol>\n<li>IoBeanDefinition </li>\n<li>BeanFactory</li>\n<li>BeanDefinitionBeanFactory</li>\n<li>DefaultListableBeanFactory BeanFactory</li>\n</ol>\n<p>IoC  BeanDefinitionResouceResourceLoaderBeanDefinition.<br></p>\n<p> BeanDefinition <br> BeanDefinition IoC<br> IoC  (bean )</p>\n<p><img src=\"/images/posts/20160510/bean-init-three-step.png\" alt=\"\"></p>\n<p> ApplicationContext  BeanFactory</p>\n<p>Resource </p>\n<p>ResourceLoader  Resource</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">ResourceLoader</span><br><span class=\"line\">  |__ DefaultResourceLoader</span><br><span class=\"line\">       .    |__  ServletContextResourceLoader/ServletContextResourceLoader/FileSystemResourceLoader</span><br><span class=\"line\">       .         AbstractApplicationContext</span><br><span class=\"line\">       .                  |__ AbstractRefreshableConfigApplicationContext</span><br><span class=\"line\">       .                          |__  AbstractXmlApplicationContext</span><br><span class=\"line\">       .                                     |__  XmlAplicationContext</span><br><span class=\"line\">       .                                AbstractRefreshableWebApplicationContext</span><br><span class=\"line\">       ResourcePatternResolver</span><br></pre></td></tr></table></figure>\n<p>Cotext  refresh() bean</p>\n<p>BeanDefinition   bean</p>\n<p>BeanDefinitionReader Bean</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">BeanDefinitionReader </span><br><span class=\"line\"> |__ AbstractBeanDefinitionReader</span><br><span class=\"line\">      |__ PropertiesBeanDefinitionReader   </span><br><span class=\"line\">           XmlBeanDefinitionReader</span><br></pre></td></tr></table></figure>\n<p> BeanFactory  ApplicationContext</p>\n<p><img src=\"/images/posts/20160510/beanFactory-applicationContext-hex.png\" alt=\"\"></p>\n<p> ApplicationContext  BeanFactory ,</p>\n<p></p>\n<ol>\n<li>BeanFactory  bean  bean getBean()  containsBean()  ,beanApplicationContext  BeanFactory, ApplicationEventPublisher  MessageSource  ResourcePatternResolver  </li>\n<li>AbstractBeanFactory  AbstractAutowireCapableBeanFactory AbstractBeanFactory  bean  ConfigurableBeanFactory AbstractAutowireCapableBeanFactory  AbstractBeanFactory  bean  bean  bean </li>\n<li>ClassPathXmlApplicationContext  bean  bean DefaultListableBeanFactory   </li>\n<li>ClassPathXmlApplicationContext DefaultListableBeanFactory </li>\n</ol>\n<p>BeanDefinition XML document document Spring bean XML Spring bean  Springbean  documentReader </p>\n<p></p>\n<p><img src=\"/images/posts/20160510/ioc-context-init.png\" alt=\"\"></p>\n<p>BeanDefinition </p>\n<p> IoC getBean()</p>\n<p>bean  BeanDefinition </p>\n<ol>\n<li>bean <br>( getBean())getBean  DefaultListableBeanFactory  preInstantiateSingletons </li>\n</ol>\n<ol start=\"2\">\n<li>Bean <br> bean  getBean </li>\n</ol>\n<p>GetBean </p>\n<ol>\n<li></li>\n<li></li>\n<li> spring  AbstractAutowireCapableBeanFactory  createBean   DefaultListableBeanFactory  DefaultSingletonBeanRegistry  DefaultSingletonBeanRegistry  getSingleton AbstractAutowireCapableBeanFactory  createBean  Prototype  AbstractAutowireCapableBeanFactory  createBean </li>\n</ol>\n<p>doCreateBean </p>\n<ol>\n<li> BeanWrapper  </li>\n<li>beanDefinition.resolvedConstructorOrFactoryMethod </li>\n<li> spring  BeanUtils  instantiateClass </li>\n<li>applyMergedBeanDefinitionPostProcessors</li>\n<li>populateBean(beanName, mbd, instanceWrapper); </li>\n<li>initializeBean(beanName, exposedObject, mbd); BeanNameAware  BeanClassLoaderAware  spring  InitializingBean  afterPropertySet </li>\n</ol>\n","site":{"data":{}},"excerpt":"","more":"<p><strong>BeanFactory</strong>IOC IOC;</p>\n<p><strong>BeanDefinition</strong></p>\n<h2 id=\"BeanFactory--FactoryBean\"><a href=\"#BeanFactory--FactoryBean\" class=\"headerlink\" title=\"BeanFactory  FactoryBean\"></a>BeanFactory  FactoryBean</h2><p>BeanFactory  FactoryIoC BeanBeanFactory </p>\n<p>FactoryBean  beanbeanbean</p>\n<p>BeanFactory IoCApplicationContextIoC</p>\n<p>IoC:XmlBeanFactory</p>\n<ol>\n<li>IoBeanDefinition </li>\n<li>BeanFactory</li>\n<li>BeanDefinitionBeanFactory</li>\n<li>DefaultListableBeanFactory BeanFactory</li>\n</ol>\n<p>IoC  BeanDefinitionResouceResourceLoaderBeanDefinition.<br></p>\n<p> BeanDefinition <br> BeanDefinition IoC<br> IoC  (bean )</p>\n<p><img src=\"/images/posts/20160510/bean-init-three-step.png\" alt=\"\"></p>\n<p> ApplicationContext  BeanFactory</p>\n<p>Resource </p>\n<p>ResourceLoader  Resource</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">ResourceLoader</span><br><span class=\"line\">  |__ DefaultResourceLoader</span><br><span class=\"line\">       .    |__  ServletContextResourceLoader/ServletContextResourceLoader/FileSystemResourceLoader</span><br><span class=\"line\">       .         AbstractApplicationContext</span><br><span class=\"line\">       .                  |__ AbstractRefreshableConfigApplicationContext</span><br><span class=\"line\">       .                          |__  AbstractXmlApplicationContext</span><br><span class=\"line\">       .                                     |__  XmlAplicationContext</span><br><span class=\"line\">       .                                AbstractRefreshableWebApplicationContext</span><br><span class=\"line\">       ResourcePatternResolver</span><br></pre></td></tr></table></figure>\n<p>Cotext  refresh() bean</p>\n<p>BeanDefinition   bean</p>\n<p>BeanDefinitionReader Bean</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">BeanDefinitionReader </span><br><span class=\"line\"> |__ AbstractBeanDefinitionReader</span><br><span class=\"line\">      |__ PropertiesBeanDefinitionReader   </span><br><span class=\"line\">           XmlBeanDefinitionReader</span><br></pre></td></tr></table></figure>\n<p> BeanFactory  ApplicationContext</p>\n<p><img src=\"/images/posts/20160510/beanFactory-applicationContext-hex.png\" alt=\"\"></p>\n<p> ApplicationContext  BeanFactory ,</p>\n<p></p>\n<ol>\n<li>BeanFactory  bean  bean getBean()  containsBean()  ,beanApplicationContext  BeanFactory, ApplicationEventPublisher  MessageSource  ResourcePatternResolver  </li>\n<li>AbstractBeanFactory  AbstractAutowireCapableBeanFactory AbstractBeanFactory  bean  ConfigurableBeanFactory AbstractAutowireCapableBeanFactory  AbstractBeanFactory  bean  bean  bean </li>\n<li>ClassPathXmlApplicationContext  bean  bean DefaultListableBeanFactory   </li>\n<li>ClassPathXmlApplicationContext DefaultListableBeanFactory </li>\n</ol>\n<p>BeanDefinition XML document document Spring bean XML Spring bean  Springbean  documentReader </p>\n<p></p>\n<p><img src=\"/images/posts/20160510/ioc-context-init.png\" alt=\"\"></p>\n<p>BeanDefinition </p>\n<p> IoC getBean()</p>\n<p>bean  BeanDefinition </p>\n<ol>\n<li>bean <br>( getBean())getBean  DefaultListableBeanFactory  preInstantiateSingletons </li>\n</ol>\n<ol start=\"2\">\n<li>Bean <br> bean  getBean </li>\n</ol>\n<p>GetBean </p>\n<ol>\n<li></li>\n<li></li>\n<li> spring  AbstractAutowireCapableBeanFactory  createBean   DefaultListableBeanFactory  DefaultSingletonBeanRegistry  DefaultSingletonBeanRegistry  getSingleton AbstractAutowireCapableBeanFactory  createBean  Prototype  AbstractAutowireCapableBeanFactory  createBean </li>\n</ol>\n<p>doCreateBean </p>\n<ol>\n<li> BeanWrapper  </li>\n<li>beanDefinition.resolvedConstructorOrFactoryMethod </li>\n<li> spring  BeanUtils  instantiateClass </li>\n<li>applyMergedBeanDefinitionPostProcessors</li>\n<li>populateBean(beanName, mbd, instanceWrapper); </li>\n<li>initializeBean(beanName, exposedObject, mbd); BeanNameAware  BeanClassLoaderAware  spring  InitializingBean  afterPropertySet </li>\n</ol>\n"},{"layout":"post","title":"","description":null,"keywords":"   ","date":"2012-12-31T16:00:00.000Z","_content":" 201224567\n\n### \n\n2011(51testing,ltesting,365testing),(Automan,itest),HadoopHbase 12 Time has been stole2012  ()4\n\n### \n\n56 211Dota- \n\n### \n\n\n\n456   \n\n### \n\n72793 10TAE TAE PM BugBug69DOTA1011WOW1LOL  ,Android Android   3\n\n\n\n","source":"_posts/Think/2013-01-01-2012-my-success-and-fail.md","raw":"---\nlayout: post\ntitle: \ncategories: Think\ndescription:\nkeywords:    \ndate: 2013-01-01\n---\n 201224567\n\n### \n\n2011(51testing,ltesting,365testing),(Automan,itest),HadoopHbase 12 Time has been stole2012  ()4\n\n### \n\n56 211Dota- \n\n### \n\n\n\n456   \n\n### \n\n72793 10TAE TAE PM BugBug69DOTA1011WOW1LOL  ,Android Android   3\n\n\n\n","slug":"Think/2013-01-01-2012-my-success-and-fail","published":1,"updated":"2019-03-25T14:59:18.682Z","comments":1,"photos":[],"link":"","_id":"cjtohbk96003j6f124lfskb5g","content":"<p> 201224567</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>2011(51testing,ltesting,365testing),(Automan,itest),HadoopHbase 12 Time has been stole2012  ()4</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>56 211Dota- </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p>456   </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>72793 10TAE TAE PM BugBug69DOTA1011WOW1LOL  ,Android Android   3</p>\n<p></p>\n","site":{"data":{}},"excerpt":"","more":"<p> 201224567</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>2011(51testing,ltesting,365testing),(Automan,itest),HadoopHbase 12 Time has been stole2012  ()4</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>56 211Dota- </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p>456   </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>72793 10TAE TAE PM BugBug69DOTA1011WOW1LOL  ,Android Android   3</p>\n<p></p>\n"},{"layout":"post","title":"","description":null,"keywords":"choise ","date":"2014-10-06T16:00:00.000Z","_content":">: : \n\n\n\n\n\nHeidi Roizen\n\n****\n\n\n\n>\n\n****\n\n","source":"_posts/Think/2014-10-07-learn-choise.md","raw":"---\nlayout: post\ntitle: \ncategories: Think\ndescription:\nkeywords: choise \ndate: 2014-10-07\n---\n>: : \n\n\n\n\n\nHeidi Roizen\n\n****\n\n\n\n>\n\n****\n\n","slug":"Think/2014-10-07-learn-choise","published":1,"updated":"2018-11-10T08:59:09.808Z","comments":1,"photos":[],"link":"","_id":"cjtohbk98003l6f12zaogh13p","content":"<blockquote>\n<p>: : </p>\n</blockquote>\n<p></p>\n<p></p>\n<p>Heidi Roizen</p>\n<p><strong></strong></p>\n<p></p>\n<blockquote>\n<p></p>\n</blockquote>\n<p><strong></strong></p>\n","site":{"data":{}},"excerpt":"","more":"<blockquote>\n<p>: : </p>\n</blockquote>\n<p></p>\n<p></p>\n<p>Heidi Roizen</p>\n<p><strong></strong></p>\n<p></p>\n<blockquote>\n<p></p>\n</blockquote>\n<p><strong></strong></p>\n"},{"layout":"post","title":"","description":null,"keywords":"annual-summary ","date":"2015-08-24T16:00:00.000Z","_content":"\n\n\n\n\n\n\n\n\nxxxy\n\n\n\nCEOCEO\n\n\n\n\n\n\n\n\n","source":"_posts/Think/2015-06-25-be-myself.md","raw":"---\nlayout: post\ntitle: \ncategories: Think\ndescription:\nkeywords: annual-summary \ndate: 2015-08-25\n---\n\n\n\n\n\n\n\n\n\nxxxy\n\n\n\nCEOCEO\n\n\n\n\n\n\n\n\n","slug":"Think/2015-06-25-be-myself","published":1,"updated":"2018-11-10T08:59:09.808Z","comments":1,"photos":[],"link":"","_id":"cjtohbk9a003o6f127zr0k7dz","content":"<p></p>\n<p></p>\n<p>xxxy</p>\n<p>CEOCEO</p>\n<p></p>\n","site":{"data":{}},"excerpt":"","more":"<p></p>\n<p></p>\n<p>xxxy</p>\n<p>CEOCEO</p>\n<p></p>\n"},{"layout":"post","title":"","description":null,"keywords":"annual-summary    ","date":"2016-01-02T16:00:00.000Z","_content":"\n2015\n\n####\n![](/images/posts/20160103/2015-fengqu-hard-work.jpg)\n7102~35\n\n\n\n****\n\n####&\n![](/images/posts/20160103/2015-jiehongzhao.jpg)\n2015524\n\n11\n\n7~8\n\n****2016GTD2\n\n####\n![](/images/posts/20160103/2015-fengqu-xiaowa.jpg)\n********Leader\n\n\n\n&\n\n****\n\n\n20162016\n\n\n2015\n\n\n2016\n\n\n","source":"_posts/Think/2016-01-03-2015-my-success-and-fail.md","raw":"---\nlayout: post\ntitle: \ncategories: Think\ndescription:\nkeywords: annual-summary    \ndate: 2016-01-03\n---\n\n2015\n\n####\n![](/images/posts/20160103/2015-fengqu-hard-work.jpg)\n7102~35\n\n\n\n****\n\n####&\n![](/images/posts/20160103/2015-jiehongzhao.jpg)\n2015524\n\n11\n\n7~8\n\n****2016GTD2\n\n####\n![](/images/posts/20160103/2015-fengqu-xiaowa.jpg)\n********Leader\n\n\n\n&\n\n****\n\n\n20162016\n\n\n2015\n\n\n2016\n\n\n","slug":"Think/2016-01-03-2015-my-success-and-fail","published":1,"updated":"2018-11-10T08:59:09.808Z","comments":1,"photos":[],"link":"","_id":"cjtohbk9b003q6f124rihijdo","content":"<p>2015</p>\n<p>####<br><img src=\"/images/posts/20160103/2015-fengqu-hard-work.jpg\" alt=\"\"><br>7102~35</p>\n<p></p>\n<p><strong></strong></p>\n<p>####&amp;<br><img src=\"/images/posts/20160103/2015-jiehongzhao.jpg\" alt=\"\"><br>2015524</p>\n<p>11</p>\n<p>7~8</p>\n<p><strong></strong>2016GTD2</p>\n<p>####<br><img src=\"/images/posts/20160103/2015-fengqu-xiaowa.jpg\" alt=\"\"><br><strong></strong><strong></strong>Leader</p>\n<p></p>\n<p>&amp;</p>\n<p><strong></strong></p>\n<p>20162016</p>\n<p>2015</p>\n<p>2016</p>\n","site":{"data":{}},"excerpt":"","more":"<p>2015</p>\n<p>####<br><img src=\"/images/posts/20160103/2015-fengqu-hard-work.jpg\" alt=\"\"><br>7102~35</p>\n<p></p>\n<p><strong></strong></p>\n<p>####&amp;<br><img src=\"/images/posts/20160103/2015-jiehongzhao.jpg\" alt=\"\"><br>2015524</p>\n<p>11</p>\n<p>7~8</p>\n<p><strong></strong>2016GTD2</p>\n<p>####<br><img src=\"/images/posts/20160103/2015-fengqu-xiaowa.jpg\" alt=\"\"><br><strong></strong><strong></strong>Leader</p>\n<p></p>\n<p>&amp;</p>\n<p><strong></strong></p>\n<p>20162016</p>\n<p>2015</p>\n<p>2016</p>\n"},{"layout":"post","title":"","description":null,"keywords":"think  ","date":"2016-04-16T16:00:00.000Z","_content":"\n\n\n  ****\n\n****\n\n  \n\n","source":"_posts/Think/2016-04-17-programmer-think-point.md","raw":"---\nlayout: post\ntitle: \ncategories: Think\ndescription:\nkeywords: think  \ndate: 2016-04-17\n---\n\n\n\n  ****\n\n****\n\n  \n\n","slug":"Think/2016-04-17-programmer-think-point","published":1,"updated":"2018-11-10T08:59:09.808Z","comments":1,"photos":[],"link":"","_id":"cjtohbk9d003t6f12cs1i8xc4","content":"<p></p>\n<p>  <strong></strong></p>\n<p><strong></strong></p>\n<p>  </p>\n","site":{"data":{}},"excerpt":"","more":"<p></p>\n<p>  <strong></strong></p>\n<p><strong></strong></p>\n<p>  </p>\n"},{"layout":"post","title":"","description":null,"keywords":"think   ","date":"2016-05-08T16:00:00.000Z","_content":"\n\n\n****\n\n\n\n****\n\n16\n\n**()**\n\n****\n\n****\n\n\n\n\n\n\n\n","source":"_posts/Think/2016-05-09-choice-is-important.md","raw":"---\nlayout: post\ntitle: \ncategories: Think\ndescription:\nkeywords: think   \ndate: 2016-05-09\n---\n\n\n\n****\n\n\n\n****\n\n16\n\n**()**\n\n****\n\n****\n\n\n\n\n\n\n\n","slug":"Think/2016-05-09-choice-is-important","published":1,"updated":"2018-11-10T08:59:09.808Z","comments":1,"photos":[],"link":"","_id":"cjtohbk9e003v6f12mlzs22iy","content":"<p></p>\n<p><strong></strong></p>\n<p></p>\n<p><strong></strong></p>\n<p>16</p>\n<p><strong>()</strong></p>\n<p><strong></strong></p>\n<p><strong></strong></p>\n<p></p>\n<p></p>\n","site":{"data":{}},"excerpt":"","more":"<p></p>\n<p><strong></strong></p>\n<p></p>\n<p><strong></strong></p>\n<p>16</p>\n<p><strong>()</strong></p>\n<p><strong></strong></p>\n<p><strong></strong></p>\n<p></p>\n<p></p>\n"},{"layout":"post","title":"","description":null,"keywords":"think ","date":"2016-05-14T16:00:00.000Z","_content":"\n3\n\n515\n\n\n\n\n 5  6 T\n\n\n 5  60  1   \n\n\n  8  60    x% \n\n\n 18 \n\n\n**** 8  10  20%-40%  5 \n\n\n\n\n","source":"_posts/Think/2016-05-15-hate-over-work.md","raw":"---\nlayout: post\ntitle: \ncategories: Think\ndescription:\nkeywords: think \ndate: 2016-05-15\n---\n\n3\n\n515\n\n\n\n\n 5  6 T\n\n\n 5  60  1   \n\n\n  8  60    x% \n\n\n 18 \n\n\n**** 8  10  20%-40%  5 \n\n\n\n\n","slug":"Think/2016-05-15-hate-over-work","published":1,"updated":"2018-11-10T08:59:09.809Z","comments":1,"photos":[],"link":"","_id":"cjtohbk9f003y6f120nbc1zct","content":"<p>3</p>\n<p>515</p>\n<p></p>\n<p> 5  6 T</p>\n<p> 5  60  1   </p>\n<p>  8  60    x% </p>\n<p> 18 </p>\n<p><strong></strong> 8  10  20%-40%  5 </p>\n<p></p>\n","site":{"data":{}},"excerpt":"","more":"<p>3</p>\n<p>515</p>\n<p></p>\n<p> 5  6 T</p>\n<p> 5  60  1   </p>\n<p>  8  60    x% </p>\n<p> 18 </p>\n<p><strong></strong> 8  10  20%-40%  5 </p>\n<p></p>\n"},{"layout":"post","title":"","description":null,"keywords":"think ","date":"2016-05-27T16:00:00.000Z","_content":"\n\n\n  NVIP\n\n#### \n  2011\n\n####  \nUber\n\n#### \n   CFOCEOCEO\n\n   \n\n\n","source":"_posts/Think/2016-05-28-weiwei-car-think.md","raw":"---\nlayout: post\ntitle: \ncategories: Think\ndescription:\nkeywords: think \ndate: 2016-05-28\n---\n\n\n\n  NVIP\n\n#### \n  2011\n\n####  \nUber\n\n#### \n   CFOCEOCEO\n\n   \n\n\n","slug":"Think/2016-05-28-weiwei-car-think","published":1,"updated":"2018-11-10T08:59:09.809Z","comments":1,"photos":[],"link":"","_id":"cjtohbk9g00406f129swpxspq","content":"<p></p>\n<p>  NVIP</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>  2011</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>Uber</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>   CFOCEOCEO</p>\n<p>   </p>\n","site":{"data":{}},"excerpt":"","more":"<p></p>\n<p>  NVIP</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>  2011</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>Uber</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>   CFOCEOCEO</p>\n<p>   </p>\n"},{"layout":"post","title":"","description":null,"keywords":"think  ","date":"2016-07-08T16:00:00.000Z","_content":"\n\n\n\n### \n\n### \n\n### \n\n\nERPOABIBI\n\n\n","source":"_posts/Think/2016-07-09-think-you-work.md","raw":"---\nlayout: post\ntitle: \ncategories: Think\ndescription:\nkeywords: think  \ndate: 2016-07-09\n---\n\n\n\n\n### \n\n### \n\n### \n\n\nERPOABIBI\n\n\n","slug":"Think/2016-07-09-think-you-work","published":1,"updated":"2018-11-10T08:59:09.809Z","comments":1,"photos":[],"link":"","_id":"cjtohbk9i00436f12rxknxb3i","content":"<p><br></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p>ERPOABIBI</p>\n","site":{"data":{}},"excerpt":"","more":"<p><br></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p>ERPOABIBI</p>\n"},{"layout":"post","title":"","description":null,"keywords":"think ","date":"2016-08-13T16:00:00.000Z","_content":"30702000BAT8020089090\n\n\n\n  2013-2014PPT2240%580%20%590%e500Cash OutAll in3~520162~3\n\n\n\n8913BUAN\n\n","source":"_posts/Think/2016-08-14-our-generation-time.md","raw":"---\nlayout: post\ntitle: \ncategories: Think\ndescription:\nkeywords: think \ndate: 2016-08-14\n---\n30702000BAT8020089090\n\n\n\n  2013-2014PPT2240%580%20%590%e500Cash OutAll in3~520162~3\n\n\n\n8913BUAN\n\n","slug":"Think/2016-08-14-our-generation-time","published":1,"updated":"2018-11-10T08:59:09.809Z","comments":1,"photos":[],"link":"","_id":"cjtohbk9i00456f124s5zpjx7","content":"<p>30702000BAT8020089090</p>\n<p>  2013-2014PPT2240%580%20%590%e500Cash OutAll in3~520162~3</p>\n<p>8913BUAN</p>\n","site":{"data":{}},"excerpt":"","more":"<p>30702000BAT8020089090</p>\n<p>  2013-2014PPT2240%580%20%590%e500Cash OutAll in3~520162~3</p>\n<p>8913BUAN</p>\n"},{"layout":"post","title":"","description":null,"keywords":"think  ","date":"2016-08-18T16:00:00.000Z","_content":"\n2016819657\n\n\n\n\n\n....., N\n\n****\n\n \n\n","source":"_posts/Think/2016-08-19-leave-entrepreneurship.md","raw":"---\nlayout: post\ntitle: \ncategories: Think\ndescription:\nkeywords: think  \ndate: 2016-08-19\n---\n\n2016819657\n\n\n\n\n\n....., N\n\n****\n\n \n\n","slug":"Think/2016-08-19-leave-entrepreneurship","published":1,"updated":"2018-11-10T08:59:09.809Z","comments":1,"photos":[],"link":"","_id":"cjtohbk9k00486f12wy1ztgdt","content":"<p>2016819657</p>\n<p></p>\n<p>.., N</p>\n<p><strong></strong></p>\n<p> </p>\n","site":{"data":{}},"excerpt":"","more":"<p>2016819657</p>\n<p></p>\n<p>.., N</p>\n<p><strong></strong></p>\n<p> </p>\n"},{"layout":"post","title":"","description":null,"keywords":"life  ","date":"2017-01-01T16:00:00.000Z","_content":"\n>\n\n\n\n\n### \n\n2016\n\n\n\n\n\n#### \n\n \n\n  \n\n\n\n####  \n\n \n\n 80%\n\n","source":"_posts/Think/2017-01-02-good-life.md","raw":"---\nlayout: post\ntitle: \ncategories: Think\ndescription:\nkeywords: life  \ndate: 2017-01-02\n---\n\n>\n\n\n\n\n### \n\n2016\n\n\n\n\n\n#### \n\n \n\n  \n\n\n\n####  \n\n \n\n 80%\n\n","slug":"Think/2017-01-02-good-life","published":1,"updated":"2018-11-10T08:59:09.809Z","comments":1,"photos":[],"link":"","_id":"cjtohbk9l00496f12wdwakjoz","content":"<blockquote>\n<p></p>\n</blockquote>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>2016</p>\n<p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p> </p>\n<p>  </p>\n<h4 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h4><p> </p>\n<p> 80%</p>\n","site":{"data":{}},"excerpt":"","more":"<blockquote>\n<p></p>\n</blockquote>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>2016</p>\n<p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p> </p>\n<p>  </p>\n<h4 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h4><p> </p>\n<p> 80%</p>\n"},{"layout":"post","title":"","description":null,"keywords":" ","date":"2017-09-11T16:00:00.000Z","_content":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n92\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ngoogledubbo\n\n\n\n1. \n2. \n3. \n\n\n\n1. \n2. \n3. \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nreview\n\n\n\n\n\n\n\n\n\n","source":"_posts/Think/2017-09-12-person-grouth.md","raw":"---\nlayout: post\ntitle: \ncategories: Think\ndescription:\nkeywords:  \ndate: 2017-09-12\n---\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n92\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ngoogledubbo\n\n\n\n1. \n2. \n3. \n\n\n\n1. \n2. \n3. \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nreview\n\n\n\n\n\n\n\n\n\n","slug":"Think/2017-09-12-person-grouth","published":1,"updated":"2018-11-10T08:59:09.810Z","comments":1,"photos":[],"link":"","_id":"cjtohbk9m004c6f12byv1r8vi","content":"<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>92</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>googledubbo</p>\n<p></p>\n<ol>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n<p></p>\n<ol>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p> </p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>review</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n","site":{"data":{}},"excerpt":"","more":"<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>92</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>googledubbo</p>\n<p></p>\n<ol>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n<p></p>\n<ol>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p> </p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>review</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n"},{"layout":"post","title":"","description":"","keywords":"study   ","item":1,"auto":true,"loop":true,"speed":5000,"pauseOnHover":true,"keyPress":true,"autoWidth":true,"adaptiveHeight":true,"verticalHeight":500,"date":"2017-11-23T16:00:00.000Z","_content":"\n* ![](/slides/how-to-study/01.jpg)\n* ![](/slides/how-to-study/02.jpg)\n* ![](/slides/how-to-study/03.jpg)\n* ![](/slides/how-to-study/04.jpg)\n* ![](/slides/how-to-study/05.jpg)\n* ![](/slides/how-to-study/06.jpg)\n* ![](/slides/how-to-study/07.jpg)\n* ![](/slides/how-to-study/08.jpg)\n* ![](/slides/how-to-study/09.jpg)\n* ![](/slides/how-to-study/10.jpg)\n* ![](/slides/how-to-study/11.jpg)\n* ![](/slides/how-to-study/12.jpg)\n* ![](/slides/how-to-study/13.jpg)\n* ![](/slides/how-to-study/14.jpg)\n* ![](/slides/how-to-study/15.jpg)\n* ![](/slides/how-to-study/16.jpg)\n* ![](/slides/how-to-study/17.jpg)\n* ![](/slides/how-to-study/18.jpg)\n* ![](/slides/how-to-study/19.jpg)\n* ![](/slides/how-to-study/20.jpg)\n\n\n","source":"_posts/Think/2017-11-24-how-to-study.md","raw":"---\nlayout: post\ntitle: \ncategories: Think\ndescription: \nkeywords: study    \nitem: 1\nauto: true\nloop: true\nspeed: 5000\npauseOnHover: true\nkeyPress: true\nautoWidth: true\nadaptiveHeight: true\nverticalHeight: 500\ndate: 2017-11-24\n---\n\n* ![](/slides/how-to-study/01.jpg)\n* ![](/slides/how-to-study/02.jpg)\n* ![](/slides/how-to-study/03.jpg)\n* ![](/slides/how-to-study/04.jpg)\n* ![](/slides/how-to-study/05.jpg)\n* ![](/slides/how-to-study/06.jpg)\n* ![](/slides/how-to-study/07.jpg)\n* ![](/slides/how-to-study/08.jpg)\n* ![](/slides/how-to-study/09.jpg)\n* ![](/slides/how-to-study/10.jpg)\n* ![](/slides/how-to-study/11.jpg)\n* ![](/slides/how-to-study/12.jpg)\n* ![](/slides/how-to-study/13.jpg)\n* ![](/slides/how-to-study/14.jpg)\n* ![](/slides/how-to-study/15.jpg)\n* ![](/slides/how-to-study/16.jpg)\n* ![](/slides/how-to-study/17.jpg)\n* ![](/slides/how-to-study/18.jpg)\n* ![](/slides/how-to-study/19.jpg)\n* ![](/slides/how-to-study/20.jpg)\n\n\n","slug":"Think/2017-11-24-how-to-study","published":1,"updated":"2018-11-10T08:59:09.810Z","comments":1,"photos":[],"link":"","_id":"cjtohbk9n004d6f126m1romlr","content":"<ul>\n<li><img src=\"/slides/how-to-study/01.jpg\" alt=\"\"></li>\n<li><img src=\"/slides/how-to-study/02.jpg\" alt=\"\"></li>\n<li><img src=\"/slides/how-to-study/03.jpg\" alt=\"\"></li>\n<li><img src=\"/slides/how-to-study/04.jpg\" alt=\"\"></li>\n<li><img src=\"/slides/how-to-study/05.jpg\" alt=\"\"></li>\n<li><img src=\"/slides/how-to-study/06.jpg\" alt=\"\"></li>\n<li><img src=\"/slides/how-to-study/07.jpg\" alt=\"\"></li>\n<li><img src=\"/slides/how-to-study/08.jpg\" alt=\"\"></li>\n<li><img src=\"/slides/how-to-study/09.jpg\" alt=\"\"></li>\n<li><img src=\"/slides/how-to-study/10.jpg\" alt=\"\"></li>\n<li><img src=\"/slides/how-to-study/11.jpg\" alt=\"\"></li>\n<li><img src=\"/slides/how-to-study/12.jpg\" alt=\"\"></li>\n<li><img src=\"/slides/how-to-study/13.jpg\" alt=\"\"></li>\n<li><img src=\"/slides/how-to-study/14.jpg\" alt=\"\"></li>\n<li><img src=\"/slides/how-to-study/15.jpg\" alt=\"\"></li>\n<li><img src=\"/slides/how-to-study/16.jpg\" alt=\"\"></li>\n<li><img src=\"/slides/how-to-study/17.jpg\" alt=\"\"></li>\n<li><img src=\"/slides/how-to-study/18.jpg\" alt=\"\"></li>\n<li><img src=\"/slides/how-to-study/19.jpg\" alt=\"\"></li>\n<li><img src=\"/slides/how-to-study/20.jpg\" alt=\"\"></li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<ul>\n<li><img src=\"/slides/how-to-study/01.jpg\" alt=\"\"></li>\n<li><img src=\"/slides/how-to-study/02.jpg\" alt=\"\"></li>\n<li><img src=\"/slides/how-to-study/03.jpg\" alt=\"\"></li>\n<li><img src=\"/slides/how-to-study/04.jpg\" alt=\"\"></li>\n<li><img src=\"/slides/how-to-study/05.jpg\" alt=\"\"></li>\n<li><img src=\"/slides/how-to-study/06.jpg\" alt=\"\"></li>\n<li><img src=\"/slides/how-to-study/07.jpg\" alt=\"\"></li>\n<li><img src=\"/slides/how-to-study/08.jpg\" alt=\"\"></li>\n<li><img src=\"/slides/how-to-study/09.jpg\" alt=\"\"></li>\n<li><img src=\"/slides/how-to-study/10.jpg\" alt=\"\"></li>\n<li><img src=\"/slides/how-to-study/11.jpg\" alt=\"\"></li>\n<li><img src=\"/slides/how-to-study/12.jpg\" alt=\"\"></li>\n<li><img src=\"/slides/how-to-study/13.jpg\" alt=\"\"></li>\n<li><img src=\"/slides/how-to-study/14.jpg\" alt=\"\"></li>\n<li><img src=\"/slides/how-to-study/15.jpg\" alt=\"\"></li>\n<li><img src=\"/slides/how-to-study/16.jpg\" alt=\"\"></li>\n<li><img src=\"/slides/how-to-study/17.jpg\" alt=\"\"></li>\n<li><img src=\"/slides/how-to-study/18.jpg\" alt=\"\"></li>\n<li><img src=\"/slides/how-to-study/19.jpg\" alt=\"\"></li>\n<li><img src=\"/slides/how-to-study/20.jpg\" alt=\"\"></li>\n</ul>\n"},{"layout":"post","title":"","description":null,"keywords":" ","date":"2018-10-05T16:00:00.000Z","_content":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n****\n\n\n\n\n","source":"_posts/Think/2018-10-06-marriage-quarrel.md","raw":"---\nlayout: post\ntitle: \ncategories: Think\ndescription:\nkeywords:  \ndate: 2018-10-06\n---\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n****\n\n\n\n\n","slug":"Think/2018-10-06-marriage-quarrel","published":1,"updated":"2018-11-10T08:59:09.811Z","comments":1,"photos":[],"link":"","_id":"cjtohbk9o004g6f12h3mjh997","content":"<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p><strong></strong></p>\n<p></p>\n","site":{"data":{}},"excerpt":"","more":"<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p><strong></strong></p>\n<p></p>\n"},{"layout":"post","title":"GIT","description":null,"keywords":"git ","date":"2017-02-26T16:00:00.000Z","_content":"GITGIT\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/df535a2370b095ec8a75ab25d972ad80.png)\n\n### Git stash \ncommitgit stash\n\ngit stash stash\n\n##### \n\n```shell\ngit stash \n```\n\n##### \n\n```shell\ngit stash save \"commit info\"\n```\n\n##### \n\n```shell\ngit stash list\n```\n\n\n\n##### \n\n* \n\n```shell\ngit stash pop\n```\nstashstash\n\n* \n\n```shell\ngit stash apply stash@{0}\n```\nstashstash@{n} `git stash list`git stash apply stash@{0} `apply`\n\n##### \n\n```shell\ngit stash drop stash@{0}\n```\n`git stash drop`drop \n\n\n##### stash\n\n```shell\ngit stash branch branch-name\n```\n\n","source":"_posts/Tool/2017-02-27-git-repo.md","raw":"---\nlayout: post\ntitle: GIT\ncategories: Tool\ndescription:\nkeywords: git \ndate: 2017-02-27\n---\nGITGIT\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/df535a2370b095ec8a75ab25d972ad80.png)\n\n### Git stash \ncommitgit stash\n\ngit stash stash\n\n##### \n\n```shell\ngit stash \n```\n\n##### \n\n```shell\ngit stash save \"commit info\"\n```\n\n##### \n\n```shell\ngit stash list\n```\n\n\n\n##### \n\n* \n\n```shell\ngit stash pop\n```\nstashstash\n\n* \n\n```shell\ngit stash apply stash@{0}\n```\nstashstash@{n} `git stash list`git stash apply stash@{0} `apply`\n\n##### \n\n```shell\ngit stash drop stash@{0}\n```\n`git stash drop`drop \n\n\n##### stash\n\n```shell\ngit stash branch branch-name\n```\n\n","slug":"Tool/2017-02-27-git-repo","published":1,"updated":"2018-11-10T08:59:09.811Z","comments":1,"photos":[],"link":"","_id":"cjtohbk9o004h6f12r8dsqfdx","content":"<p>GITGIT</p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/df535a2370b095ec8a75ab25d972ad80.png\" alt=\"\"></p>\n<h3 id=\"Git-stash-\"><a href=\"#Git-stash-\" class=\"headerlink\" title=\"Git stash \"></a>Git stash </h3><p>commitgit stash</p>\n<p>git stash stash</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git stash</span><br></pre></td></tr></table></figure>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git stash save \"commit info\"</span><br></pre></td></tr></table></figure>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git stash list</span><br></pre></td></tr></table></figure>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ul>\n<li></li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git stash pop</span><br></pre></td></tr></table></figure>\n<p>stashstash</p>\n<ul>\n<li></li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git stash apply stash@&#123;0&#125;</span><br></pre></td></tr></table></figure>\n<p>stashstash@{n} <code>git stash list</code>git stash apply stash@{0} <code>apply</code></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git stash drop stash@&#123;0&#125;</span><br></pre></td></tr></table></figure>\n<p><code>git stash drop</code>drop </p>\n<h5 id=\"stash\"><a href=\"#stash\" class=\"headerlink\" title=\"stash\"></a>stash</h5><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git stash branch branch-name</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<p>GITGIT</p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/df535a2370b095ec8a75ab25d972ad80.png\" alt=\"\"></p>\n<h3 id=\"Git-stash-\"><a href=\"#Git-stash-\" class=\"headerlink\" title=\"Git stash \"></a>Git stash </h3><p>commitgit stash</p>\n<p>git stash stash</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git stash</span><br></pre></td></tr></table></figure>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git stash save \"commit info\"</span><br></pre></td></tr></table></figure>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git stash list</span><br></pre></td></tr></table></figure>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ul>\n<li></li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git stash pop</span><br></pre></td></tr></table></figure>\n<p>stashstash</p>\n<ul>\n<li></li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git stash apply stash@&#123;0&#125;</span><br></pre></td></tr></table></figure>\n<p>stashstash@{n} <code>git stash list</code>git stash apply stash@{0} <code>apply</code></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git stash drop stash@&#123;0&#125;</span><br></pre></td></tr></table></figure>\n<p><code>git stash drop</code>drop </p>\n<h5 id=\"stash\"><a href=\"#stash\" class=\"headerlink\" title=\"stash\"></a>stash</h5><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git stash branch branch-name</span><br></pre></td></tr></table></figure>\n"},{"layout":"post","title":"Github Pages Build Blog","description":null,"keywords":"github.pages","date":"2017-05-17T16:00:00.000Z","_content":"githubprojectName.github.io ,projectNamegithub\n\n### \n\nruby\n\n```shell\ngem sources --remove https://ruby.taobao.org/\n```\n\ngem:\n\n```shell\nsudo gem update --system\n```\n\nruby 2.0 ruby \n\n```shell\n ruby -v \n```\n\nruby  rvm\n2.1.4\n\n```shell\nrvm install 2.0.0 \n```\n\nruby 2.0.0 \n\n```shell\nrvm use 2.0.0 --default\n```\n\nruby1.9.x\n\n```shell\nrvm  remove  1.9.x\n```\n\nruby\n\n\n#### jekyll\n\nserver\n\n```shell\ngem install -n /usr/local/bin/ jekyll\n```\n\n jekyll :\n\n```\njekyll serve --safe --watch\n```\n\n#### bundlejekyll\n\nbundle\n\n```shell\ngem install -n /usr/local/bin/ bundle\n```\n\nGemfile \n\n```shell\nsource 'https://rubygems.org'gem 'github-pages' , group::jekyll_plugins\n```\n\n\n\n```shell\nbundle install\nbundle update\n```\n\n\n jekyll :\n\n```shell\nbundle exec jekyll serve\n```\n\n\n\n```shell\njekyll 3.4.3 | Error:  Address already in use - bind(2)\n```\n\n\n\n```shell\nsudo lsof -wni tcp:4000 | awk '{print $2}'|xargs kill -9\n```\n\n### \n http://jekyllthemes.org/ Clone\n\n_config.yml \n\n### \n1. CNAME\n2. githubsettingGithub Pages ,Custom domain\n3. CNAME xxx.github.io;\n\n### \n\n\n```shell\nGitHub Metadata: No GitHub API authentication could be found\n```\nGithubAPIhttps://github.com/settings/profile  `Person access tokens` , public_repotoken\n`~.bash_profile`\n\n```shell\nexport JEKYLL_GITHUB_TOKEN='xxxxx'\n```\nstart.sh\n\n```shell\nsource ~/.bash_profile\nexport JEKYLL_GITHUB_TOKEN=$JEKYLL_GITHUB_TOKEN\nnohup bundle exec jekyll serve > nohup.out  2>&1 &\n```\n\nlocalhost:4000\n\n\n\n\nhttps://help.github.com/articles/setting-up-your-github-pages-site-locally-with-jekyll/\n\n","source":"_posts/Tool/2017-05-18-github-io-blog.md","raw":"---\nlayout: post\ntitle: Github Pages Build Blog\ncategories: Tool\ndescription:\nkeywords: github.pages\ndate: 2017-05-18\n---\ngithubprojectName.github.io ,projectNamegithub\n\n### \n\nruby\n\n```shell\ngem sources --remove https://ruby.taobao.org/\n```\n\ngem:\n\n```shell\nsudo gem update --system\n```\n\nruby 2.0 ruby \n\n```shell\n ruby -v \n```\n\nruby  rvm\n2.1.4\n\n```shell\nrvm install 2.0.0 \n```\n\nruby 2.0.0 \n\n```shell\nrvm use 2.0.0 --default\n```\n\nruby1.9.x\n\n```shell\nrvm  remove  1.9.x\n```\n\nruby\n\n\n#### jekyll\n\nserver\n\n```shell\ngem install -n /usr/local/bin/ jekyll\n```\n\n jekyll :\n\n```\njekyll serve --safe --watch\n```\n\n#### bundlejekyll\n\nbundle\n\n```shell\ngem install -n /usr/local/bin/ bundle\n```\n\nGemfile \n\n```shell\nsource 'https://rubygems.org'gem 'github-pages' , group::jekyll_plugins\n```\n\n\n\n```shell\nbundle install\nbundle update\n```\n\n\n jekyll :\n\n```shell\nbundle exec jekyll serve\n```\n\n\n\n```shell\njekyll 3.4.3 | Error:  Address already in use - bind(2)\n```\n\n\n\n```shell\nsudo lsof -wni tcp:4000 | awk '{print $2}'|xargs kill -9\n```\n\n### \n http://jekyllthemes.org/ Clone\n\n_config.yml \n\n### \n1. CNAME\n2. githubsettingGithub Pages ,Custom domain\n3. CNAME xxx.github.io;\n\n### \n\n\n```shell\nGitHub Metadata: No GitHub API authentication could be found\n```\nGithubAPIhttps://github.com/settings/profile  `Person access tokens` , public_repotoken\n`~.bash_profile`\n\n```shell\nexport JEKYLL_GITHUB_TOKEN='xxxxx'\n```\nstart.sh\n\n```shell\nsource ~/.bash_profile\nexport JEKYLL_GITHUB_TOKEN=$JEKYLL_GITHUB_TOKEN\nnohup bundle exec jekyll serve > nohup.out  2>&1 &\n```\n\nlocalhost:4000\n\n\n\n\nhttps://help.github.com/articles/setting-up-your-github-pages-site-locally-with-jekyll/\n\n","slug":"Tool/2017-05-18-github-io-blog","published":1,"updated":"2018-11-10T08:59:09.812Z","comments":1,"photos":[],"link":"","_id":"cjtohbk9q004k6f12kx3hoew0","content":"<p>githubprojectName.github.io ,projectNamegithub</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>ruby</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gem sources --remove https://ruby.taobao.org/</span><br></pre></td></tr></table></figure>\n<p>gem:</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo gem update --system</span><br></pre></td></tr></table></figure>\n<p>ruby 2.0 ruby </p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ruby -v</span><br></pre></td></tr></table></figure>\n<p>ruby  rvm<br>2.1.4</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rvm install 2.0.0</span><br></pre></td></tr></table></figure>\n<p>ruby 2.0.0 </p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rvm use 2.0.0 --default</span><br></pre></td></tr></table></figure>\n<p>ruby1.9.x</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rvm  remove  1.9.x</span><br></pre></td></tr></table></figure>\n<p>ruby</p>\n<h4 id=\"jekyll\"><a href=\"#jekyll\" class=\"headerlink\" title=\"jekyll\"></a>jekyll</h4><p>server</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gem install -n /usr/local/bin/ jekyll</span><br></pre></td></tr></table></figure>\n<p> jekyll :</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">jekyll serve --safe --watch</span><br></pre></td></tr></table></figure>\n<h4 id=\"bundlejekyll\"><a href=\"#bundlejekyll\" class=\"headerlink\" title=\"bundlejekyll\"></a>bundlejekyll</h4><p>bundle</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gem install -n /usr/local/bin/ bundle</span><br></pre></td></tr></table></figure>\n<p>Gemfile </p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">source 'https://rubygems.org'gem 'github-pages' , group::jekyll_plugins</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bundle install</span><br><span class=\"line\">bundle update</span><br></pre></td></tr></table></figure>\n<p> jekyll :</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bundle exec jekyll serve</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">jekyll 3.4.3 | Error:  Address already in use - bind(2)</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo lsof -wni tcp:4000 | awk '&#123;print $2&#125;'|xargs kill -9</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <a href=\"http://jekyllthemes.org/\" target=\"_blank\" rel=\"noopener\">http://jekyllthemes.org/</a> Clone</p>\n<p>_config.yml </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>CNAME</li>\n<li>githubsettingGithub Pages ,Custom domain</li>\n<li>CNAME xxx.github.io;</li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GitHub Metadata: No GitHub API authentication could be found</span><br></pre></td></tr></table></figure>\n<p>GithubAPI<a href=\"https://github.com/settings/profile\" target=\"_blank\" rel=\"noopener\">https://github.com/settings/profile</a>  <code>Person access tokens</code> , public_repotoken<br><code>~.bash_profile</code></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">export JEKYLL_GITHUB_TOKEN='xxxxx'</span><br></pre></td></tr></table></figure>\n<p>start.sh</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">source ~/.bash_profile</span><br><span class=\"line\">export JEKYLL_GITHUB_TOKEN=$JEKYLL_GITHUB_TOKEN</span><br><span class=\"line\">nohup bundle exec jekyll serve &gt; nohup.out  2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure>\n<p>localhost:4000</p>\n<p><a href=\"https://help.github.com/articles/setting-up-your-github-pages-site-locally-with-jekyll/\" target=\"_blank\" rel=\"noopener\">https://help.github.com/articles/setting-up-your-github-pages-site-locally-with-jekyll/</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p>githubprojectName.github.io ,projectNamegithub</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>ruby</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gem sources --remove https://ruby.taobao.org/</span><br></pre></td></tr></table></figure>\n<p>gem:</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo gem update --system</span><br></pre></td></tr></table></figure>\n<p>ruby 2.0 ruby </p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ruby -v</span><br></pre></td></tr></table></figure>\n<p>ruby  rvm<br>2.1.4</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rvm install 2.0.0</span><br></pre></td></tr></table></figure>\n<p>ruby 2.0.0 </p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rvm use 2.0.0 --default</span><br></pre></td></tr></table></figure>\n<p>ruby1.9.x</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rvm  remove  1.9.x</span><br></pre></td></tr></table></figure>\n<p>ruby</p>\n<h4 id=\"jekyll\"><a href=\"#jekyll\" class=\"headerlink\" title=\"jekyll\"></a>jekyll</h4><p>server</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gem install -n /usr/local/bin/ jekyll</span><br></pre></td></tr></table></figure>\n<p> jekyll :</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">jekyll serve --safe --watch</span><br></pre></td></tr></table></figure>\n<h4 id=\"bundlejekyll\"><a href=\"#bundlejekyll\" class=\"headerlink\" title=\"bundlejekyll\"></a>bundlejekyll</h4><p>bundle</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gem install -n /usr/local/bin/ bundle</span><br></pre></td></tr></table></figure>\n<p>Gemfile </p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">source 'https://rubygems.org'gem 'github-pages' , group::jekyll_plugins</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bundle install</span><br><span class=\"line\">bundle update</span><br></pre></td></tr></table></figure>\n<p> jekyll :</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bundle exec jekyll serve</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">jekyll 3.4.3 | Error:  Address already in use - bind(2)</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo lsof -wni tcp:4000 | awk '&#123;print $2&#125;'|xargs kill -9</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <a href=\"http://jekyllthemes.org/\" target=\"_blank\" rel=\"noopener\">http://jekyllthemes.org/</a> Clone</p>\n<p>_config.yml </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>CNAME</li>\n<li>githubsettingGithub Pages ,Custom domain</li>\n<li>CNAME xxx.github.io;</li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GitHub Metadata: No GitHub API authentication could be found</span><br></pre></td></tr></table></figure>\n<p>GithubAPI<a href=\"https://github.com/settings/profile\" target=\"_blank\" rel=\"noopener\">https://github.com/settings/profile</a>  <code>Person access tokens</code> , public_repotoken<br><code>~.bash_profile</code></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">export JEKYLL_GITHUB_TOKEN='xxxxx'</span><br></pre></td></tr></table></figure>\n<p>start.sh</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">source ~/.bash_profile</span><br><span class=\"line\">export JEKYLL_GITHUB_TOKEN=$JEKYLL_GITHUB_TOKEN</span><br><span class=\"line\">nohup bundle exec jekyll serve &gt; nohup.out  2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure>\n<p>localhost:4000</p>\n<p><a href=\"https://help.github.com/articles/setting-up-your-github-pages-site-locally-with-jekyll/\" target=\"_blank\" rel=\"noopener\">https://help.github.com/articles/setting-up-your-github-pages-site-locally-with-jekyll/</a></p>\n"},{"layout":"post","title":"","description":null,"keywords":"lvs ","date":"2017-02-09T16:00:00.000Z","_content":"SLBVIPLVSVIPServer\n\n### \npingpopcorn.alibaba-inc.com \n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/5d19975274487378d0e0b530291bc113.png)\n\nIP140.205.247.101PSPIP\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/a63dcc1b6533ff65bb654691b131f754.png)\n\nLVSIPLVSIPDNS\n\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/6e39897cb238e853df6c99b472475257.png)\n\n### \n#### DNS\nASLBDNS** DNS** Local DNS  DNS DNS   Local DNS Local DNS  IP  IP\n** DNS**  DNS   A ( 1:1:1) 3  IP IPA\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/fb53a3139a7c9713e7a9a64fa8b5f2cb.png)\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/3372b24d510db1616b4e3aa1a7c2cdfb.png)\n\n\nDNSDNSTTL(TTLDNS),TTLDNSLVSF5Nginx\n\n#### LVS\nLVS\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/192ecd3642a05c104ea3b74d753a9995.png)\n\n\n[LVS](http://www.linuxvirtualserver.org/)LVSLVSReal ServerheartbeatLVSKeepAlivedLVSReal Server DNSLVSLVSRealServerLVSDNS\nLVSstand by LVSLVSReal ServerIPReal ServerVirtual IPVirtual ServerLVS + Real ServerVirtual Server\nVirtual IP IPVirtual IP LVSLVSLVSNAT/DR/TUNNEL VLAN \n LVS LVS FULLNAT LVS-RealServer  VLAN \nAli-LVS  https://github.com/alibaba/LVS\nIPIPhttp://xiaobaoqiu.github.io/blog/2015/04/02/xu-ni-iphe-ippiao-yi/\n#### Ali-LVS\nAli-LVS\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/6bd1e2736ac37fae3e88f44cfb71b0ad.png)\nLVSLVSLVS-****LVSOSPF1VIPVirtual IPLVSECMPLVSLVSECMPhashIP+\n\n#### 47\nLVSSLB7HTTPTengineTengine7\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/e25b2a68a163516cdb54481dcd4c136d.png)\nSLBVIPSLBLVSSLB4TCPUDPLVSSLBReal Server\nSLB7HTTPLVSTengineTengineSLBReal Server\n\n\nLVS[LVS](http://www.atatech.org/articles/48739) [LVS](http://www.atatech.org/articles/48571)  [SLB](http://www.atatech.org/articles/50329)\n\n#### \nLVSTengineHSFRPCHTTPHSFConfigServerConfigServerHTTPVIPServerVIPServerDNSVIPServerVIPServerHTTPVIPServerVIPServer\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/2e9d70180eda8b4bb88b13c27ee33cd4.png)\n\n\n\n\nhttps://xue.alibaba-inc.com/trs/doc/learningDocDetail.htm?spm=a1z2e.8101737.list.8.aRav7f&docUid=770f4104-0d89-4a5f-8237-f112c61fb006\nhttp://www.atatech.org/articles/50329\n\n\n\n\n\n","source":"_posts/Middleware/2017-02-10-lsv-change-road.md","raw":"---\nlayout: post\ntitle: \ncategories: Middleware\ndescription:\nkeywords: lvs \ndate: 2017-02-10\n---\nSLBVIPLVSVIPServer\n\n### \npingpopcorn.alibaba-inc.com \n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/5d19975274487378d0e0b530291bc113.png)\n\nIP140.205.247.101PSPIP\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/a63dcc1b6533ff65bb654691b131f754.png)\n\nLVSIPLVSIPDNS\n\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/6e39897cb238e853df6c99b472475257.png)\n\n### \n#### DNS\nASLBDNS** DNS** Local DNS  DNS DNS   Local DNS Local DNS  IP  IP\n** DNS**  DNS   A ( 1:1:1) 3  IP IPA\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/fb53a3139a7c9713e7a9a64fa8b5f2cb.png)\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/3372b24d510db1616b4e3aa1a7c2cdfb.png)\n\n\nDNSDNSTTL(TTLDNS),TTLDNSLVSF5Nginx\n\n#### LVS\nLVS\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/192ecd3642a05c104ea3b74d753a9995.png)\n\n\n[LVS](http://www.linuxvirtualserver.org/)LVSLVSReal ServerheartbeatLVSKeepAlivedLVSReal Server DNSLVSLVSRealServerLVSDNS\nLVSstand by LVSLVSReal ServerIPReal ServerVirtual IPVirtual ServerLVS + Real ServerVirtual Server\nVirtual IP IPVirtual IP LVSLVSLVSNAT/DR/TUNNEL VLAN \n LVS LVS FULLNAT LVS-RealServer  VLAN \nAli-LVS  https://github.com/alibaba/LVS\nIPIPhttp://xiaobaoqiu.github.io/blog/2015/04/02/xu-ni-iphe-ippiao-yi/\n#### Ali-LVS\nAli-LVS\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/6bd1e2736ac37fae3e88f44cfb71b0ad.png)\nLVSLVSLVS-****LVSOSPF1VIPVirtual IPLVSECMPLVSLVSECMPhashIP+\n\n#### 47\nLVSSLB7HTTPTengineTengine7\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/e25b2a68a163516cdb54481dcd4c136d.png)\nSLBVIPSLBLVSSLB4TCPUDPLVSSLBReal Server\nSLB7HTTPLVSTengineTengineSLBReal Server\n\n\nLVS[LVS](http://www.atatech.org/articles/48739) [LVS](http://www.atatech.org/articles/48571)  [SLB](http://www.atatech.org/articles/50329)\n\n#### \nLVSTengineHSFRPCHTTPHSFConfigServerConfigServerHTTPVIPServerVIPServerDNSVIPServerVIPServerHTTPVIPServerVIPServer\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/2e9d70180eda8b4bb88b13c27ee33cd4.png)\n\n\n\n\nhttps://xue.alibaba-inc.com/trs/doc/learningDocDetail.htm?spm=a1z2e.8101737.list.8.aRav7f&docUid=770f4104-0d89-4a5f-8237-f112c61fb006\nhttp://www.atatech.org/articles/50329\n\n\n\n\n\n","slug":"Middleware/2017-02-10-lsv-change-road","published":1,"updated":"2018-11-10T08:59:09.804Z","comments":1,"photos":[],"link":"","_id":"cjtohbkal005l6f12u9hjkd49","content":"<p>SLBVIPLVSVIPServer</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>pingpopcorn.alibaba-inc.com<br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/5d19975274487378d0e0b530291bc113.png\" alt=\"\"></p>\n<p>IP140.205.247.101PSPIP<br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/a63dcc1b6533ff65bb654691b131f754.png\" alt=\"\"></p>\n<p>LVSIPLVSIPDNS</p>\n<p><br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/6e39897cb238e853df6c99b472475257.png\" alt=\"\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"DNS\"><a href=\"#DNS\" class=\"headerlink\" title=\"DNS\"></a>DNS</h4><p>ASLBDNS<strong> DNS</strong> Local DNS  DNS DNS   Local DNS Local DNS  IP  IP<br><strong> DNS</strong>  DNS   A ( 1:1:1) 3  IP IPA<br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/fb53a3139a7c9713e7a9a64fa8b5f2cb.png\" alt=\"\"><br><br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/3372b24d510db1616b4e3aa1a7c2cdfb.png\" alt=\"\"></p>\n<p>DNSDNSTTL(TTLDNS),TTLDNSLVSF5Nginx</p>\n<h4 id=\"LVS\"><a href=\"#LVS\" class=\"headerlink\" title=\"LVS\"></a>LVS</h4><p>LVS<br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/192ecd3642a05c104ea3b74d753a9995.png\" alt=\"\"></p>\n<p><a href=\"http://www.linuxvirtualserver.org/\" target=\"_blank\" rel=\"noopener\">LVS</a>LVSLVSReal ServerheartbeatLVSKeepAlivedLVSReal Server DNSLVSLVSRealServerLVSDNS<br>LVSstand by LVSLVSReal ServerIPReal ServerVirtual IPVirtual ServerLVS + Real ServerVirtual Server<br>Virtual IP IPVirtual IP LVSLVSLVSNAT/DR/TUNNEL VLAN <br> LVS LVS FULLNAT LVS-RealServer  VLAN <br>Ali-LVS  <a href=\"https://github.com/alibaba/LVS\" target=\"_blank\" rel=\"noopener\">https://github.com/alibaba/LVS</a><br>IPIP<a href=\"http://xiaobaoqiu.github.io/blog/2015/04/02/xu-ni-iphe-ippiao-yi/\" target=\"_blank\" rel=\"noopener\">http://xiaobaoqiu.github.io/blog/2015/04/02/xu-ni-iphe-ippiao-yi/</a></p>\n<h4 id=\"Ali-LVS\"><a href=\"#Ali-LVS\" class=\"headerlink\" title=\"Ali-LVS\"></a>Ali-LVS</h4><p>Ali-LVS<br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/6bd1e2736ac37fae3e88f44cfb71b0ad.png\" alt=\"\"><br>LVSLVSLVS-<strong></strong>LVSOSPF1VIPVirtual IPLVSECMPLVSLVSECMPhashIP+</p>\n<h4 id=\"47\"><a href=\"#47\" class=\"headerlink\" title=\"47\"></a>47</h4><p>LVSSLB7HTTPTengineTengine7<br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/e25b2a68a163516cdb54481dcd4c136d.png\" alt=\"\"><br>SLBVIPSLBLVSSLB4TCPUDPLVSSLBReal Server<br>SLB7HTTPLVSTengineTengineSLBReal Server</p>\n<p>LVS<a href=\"http://www.atatech.org/articles/48739\" target=\"_blank\" rel=\"noopener\">LVS</a> <a href=\"http://www.atatech.org/articles/48571\" target=\"_blank\" rel=\"noopener\">LVS</a>  <a href=\"http://www.atatech.org/articles/50329\" target=\"_blank\" rel=\"noopener\">SLB</a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>LVSTengineHSFRPCHTTPHSFConfigServerConfigServerHTTPVIPServerVIPServerDNSVIPServerVIPServerHTTPVIPServerVIPServer<br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/2e9d70180eda8b4bb88b13c27ee33cd4.png\" alt=\"\"></p>\n<p></p>\n<p><a href=\"https://xue.alibaba-inc.com/trs/doc/learningDocDetail.htm?spm=a1z2e.8101737.list.8.aRav7f&amp;docUid=770f4104-0d89-4a5f-8237-f112c61fb006\" target=\"_blank\" rel=\"noopener\">https://xue.alibaba-inc.com/trs/doc/learningDocDetail.htm?spm=a1z2e.8101737.list.8.aRav7f&amp;docUid=770f4104-0d89-4a5f-8237-f112c61fb006</a><br><a href=\"http://www.atatech.org/articles/50329\" target=\"_blank\" rel=\"noopener\">http://www.atatech.org/articles/50329</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p>SLBVIPLVSVIPServer</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>pingpopcorn.alibaba-inc.com<br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/5d19975274487378d0e0b530291bc113.png\" alt=\"\"></p>\n<p>IP140.205.247.101PSPIP<br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/a63dcc1b6533ff65bb654691b131f754.png\" alt=\"\"></p>\n<p>LVSIPLVSIPDNS</p>\n<p><br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/6e39897cb238e853df6c99b472475257.png\" alt=\"\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"DNS\"><a href=\"#DNS\" class=\"headerlink\" title=\"DNS\"></a>DNS</h4><p>ASLBDNS<strong> DNS</strong> Local DNS  DNS DNS   Local DNS Local DNS  IP  IP<br><strong> DNS</strong>  DNS   A ( 1:1:1) 3  IP IPA<br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/fb53a3139a7c9713e7a9a64fa8b5f2cb.png\" alt=\"\"><br><br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/3372b24d510db1616b4e3aa1a7c2cdfb.png\" alt=\"\"></p>\n<p>DNSDNSTTL(TTLDNS),TTLDNSLVSF5Nginx</p>\n<h4 id=\"LVS\"><a href=\"#LVS\" class=\"headerlink\" title=\"LVS\"></a>LVS</h4><p>LVS<br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/192ecd3642a05c104ea3b74d753a9995.png\" alt=\"\"></p>\n<p><a href=\"http://www.linuxvirtualserver.org/\" target=\"_blank\" rel=\"noopener\">LVS</a>LVSLVSReal ServerheartbeatLVSKeepAlivedLVSReal Server DNSLVSLVSRealServerLVSDNS<br>LVSstand by LVSLVSReal ServerIPReal ServerVirtual IPVirtual ServerLVS + Real ServerVirtual Server<br>Virtual IP IPVirtual IP LVSLVSLVSNAT/DR/TUNNEL VLAN <br> LVS LVS FULLNAT LVS-RealServer  VLAN <br>Ali-LVS  <a href=\"https://github.com/alibaba/LVS\" target=\"_blank\" rel=\"noopener\">https://github.com/alibaba/LVS</a><br>IPIP<a href=\"http://xiaobaoqiu.github.io/blog/2015/04/02/xu-ni-iphe-ippiao-yi/\" target=\"_blank\" rel=\"noopener\">http://xiaobaoqiu.github.io/blog/2015/04/02/xu-ni-iphe-ippiao-yi/</a></p>\n<h4 id=\"Ali-LVS\"><a href=\"#Ali-LVS\" class=\"headerlink\" title=\"Ali-LVS\"></a>Ali-LVS</h4><p>Ali-LVS<br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/6bd1e2736ac37fae3e88f44cfb71b0ad.png\" alt=\"\"><br>LVSLVSLVS-<strong></strong>LVSOSPF1VIPVirtual IPLVSECMPLVSLVSECMPhashIP+</p>\n<h4 id=\"47\"><a href=\"#47\" class=\"headerlink\" title=\"47\"></a>47</h4><p>LVSSLB7HTTPTengineTengine7<br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/e25b2a68a163516cdb54481dcd4c136d.png\" alt=\"\"><br>SLBVIPSLBLVSSLB4TCPUDPLVSSLBReal Server<br>SLB7HTTPLVSTengineTengineSLBReal Server</p>\n<p>LVS<a href=\"http://www.atatech.org/articles/48739\" target=\"_blank\" rel=\"noopener\">LVS</a> <a href=\"http://www.atatech.org/articles/48571\" target=\"_blank\" rel=\"noopener\">LVS</a>  <a href=\"http://www.atatech.org/articles/50329\" target=\"_blank\" rel=\"noopener\">SLB</a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>LVSTengineHSFRPCHTTPHSFConfigServerConfigServerHTTPVIPServerVIPServerDNSVIPServerVIPServerHTTPVIPServerVIPServer<br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/2e9d70180eda8b4bb88b13c27ee33cd4.png\" alt=\"\"></p>\n<p></p>\n<p><a href=\"https://xue.alibaba-inc.com/trs/doc/learningDocDetail.htm?spm=a1z2e.8101737.list.8.aRav7f&amp;docUid=770f4104-0d89-4a5f-8237-f112c61fb006\" target=\"_blank\" rel=\"noopener\">https://xue.alibaba-inc.com/trs/doc/learningDocDetail.htm?spm=a1z2e.8101737.list.8.aRav7f&amp;docUid=770f4104-0d89-4a5f-8237-f112c61fb006</a><br><a href=\"http://www.atatech.org/articles/50329\" target=\"_blank\" rel=\"noopener\">http://www.atatech.org/articles/50329</a></p>\n"},{"title":"","date":"2018-11-22T08:32:28.000Z","_content":"\n<a name=\"g230wm\"></a>\n### \n<!--more-->\n\n\n![](https://cdn.nlark.com/yuque/0/2018/png/104361/1542956362235-c47820c3-d1a6-4470-8be3-343ed710ceb7.png#width=638)<br />_Daniel Woods _\n\n\n* \n\n\n\n* \n\n\n()\n* \n\n\nMTTR\n\n<a name=\"x8wvqr\"></a>\n### \nPPT****\n\nAPMAPM<br />![](https://cdn.nlark.com/yuque/0/2018/png/104361/1542964309773-458512d9-ae12-464b-a562-33df8342ac54.png#width=747)<br />****\n* \n\n* \n\n* \n\n* \n\n\n****\n\n<a name=\"sak3aa\"></a>\n### \n-AHAS Agent\n\n<a name=\"ow5ucr\"></a>\n#### \n************\n\n\n1. \n\n1. \n\n1.  \n\n\nredismysqlCloud Native<br />20mysqlredisTomcat21\n\n![](https://cdn.nlark.com/yuque/0/2018/png/104361/1542958237398-de68d1b7-ef29-46b7-879b-41cb37b3c8a5.png#width=747)<br />    nginxredisMysqlAHAS\n\n![](https://cdn.nlark.com/yuque/0/2018/png/104361/1542958281395-8bb05ff4-0958-474d-8f04-546cbf8a0456.png#width=747)<br />\n\n![](https://cdn.nlark.com/yuque/0/2018/png/104361/1542963012342-42798fda-e169-4f2a-aaa8-481b1ff6d98b.png#width=747)<br />()\n<a name=\"xwhcne\"></a>\n#### \n\n\n<a name=\"cvcnys\"></a>\n#### \n[](https://www.aliyun.com/product/ahas)<br />![](https://cdn.nlark.com/yuque/0/2018/png/104361/1542960362139-534dd303-c1b7-493a-8685-ac502e356028.png#width=747)\n\n<a name=\"l3b8al\"></a>\n#### \n\n\n<a name=\"mtfgyk\"></a>\n### \n****mysqlredismq)[](https://www.aliyun.com/product/ahas)Java Application [](https://www.aliyun.com/product/ahas)Sentinel\n\n\n![](https://cdn.nlark.com/yuque/0/2018/gif/104361/1542969119301-c0372346-6922-4537-a611-1e772bee351f.gif#width=747)<br />AHAS<br />\n<br />![](https://cdn.nlark.com/yuque/0/2018/gif/104361/1542971799291-1e0987da-79c4-4e2d-b9d3-4e847a9c82eb.gif#width=747)<br /><br />AHAS\n\n[https://www.aliyun.com/product/ahas](https://www.aliyun.com/product/ahas)\n\n\n\n\n","source":"_posts/HighAvailability/2018-11-22-architectural-visualization.md","raw":"---\ntitle: \ndate: 2018-11-22 16:32:28 +0800\ntags: [, , AHAS]\ncategories: \n---\n\n<a name=\"g230wm\"></a>\n### \n<!--more-->\n\n\n![](https://cdn.nlark.com/yuque/0/2018/png/104361/1542956362235-c47820c3-d1a6-4470-8be3-343ed710ceb7.png#width=638)<br />_Daniel Woods _\n\n\n* \n\n\n\n* \n\n\n()\n* \n\n\nMTTR\n\n<a name=\"x8wvqr\"></a>\n### \nPPT****\n\nAPMAPM<br />![](https://cdn.nlark.com/yuque/0/2018/png/104361/1542964309773-458512d9-ae12-464b-a562-33df8342ac54.png#width=747)<br />****\n* \n\n* \n\n* \n\n* \n\n\n****\n\n<a name=\"sak3aa\"></a>\n### \n-AHAS Agent\n\n<a name=\"ow5ucr\"></a>\n#### \n************\n\n\n1. \n\n1. \n\n1.  \n\n\nredismysqlCloud Native<br />20mysqlredisTomcat21\n\n![](https://cdn.nlark.com/yuque/0/2018/png/104361/1542958237398-de68d1b7-ef29-46b7-879b-41cb37b3c8a5.png#width=747)<br />    nginxredisMysqlAHAS\n\n![](https://cdn.nlark.com/yuque/0/2018/png/104361/1542958281395-8bb05ff4-0958-474d-8f04-546cbf8a0456.png#width=747)<br />\n\n![](https://cdn.nlark.com/yuque/0/2018/png/104361/1542963012342-42798fda-e169-4f2a-aaa8-481b1ff6d98b.png#width=747)<br />()\n<a name=\"xwhcne\"></a>\n#### \n\n\n<a name=\"cvcnys\"></a>\n#### \n[](https://www.aliyun.com/product/ahas)<br />![](https://cdn.nlark.com/yuque/0/2018/png/104361/1542960362139-534dd303-c1b7-493a-8685-ac502e356028.png#width=747)\n\n<a name=\"l3b8al\"></a>\n#### \n\n\n<a name=\"mtfgyk\"></a>\n### \n****mysqlredismq)[](https://www.aliyun.com/product/ahas)Java Application [](https://www.aliyun.com/product/ahas)Sentinel\n\n\n![](https://cdn.nlark.com/yuque/0/2018/gif/104361/1542969119301-c0372346-6922-4537-a611-1e772bee351f.gif#width=747)<br />AHAS<br />\n<br />![](https://cdn.nlark.com/yuque/0/2018/gif/104361/1542971799291-1e0987da-79c4-4e2d-b9d3-4e847a9c82eb.gif#width=747)<br /><br />AHAS\n\n[https://www.aliyun.com/product/ahas](https://www.aliyun.com/product/ahas)\n\n\n\n\n","slug":"HighAvailability/2018-11-22-architectural-visualization","published":1,"updated":"2019-03-25T14:46:47.405Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjtohbkam005n6f12kq3fipxf","content":"<p><a name=\"g230wm\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><a id=\"more\"></a></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2018/png/104361/1542956362235-c47820c3-d1a6-4470-8be3-343ed710ceb7.png#width=638\" alt=\"\"><br><em>Daniel Woods </em></p>\n<p></p>\n<ul>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n</ul>\n<p>()</p>\n<ul>\n<li></li>\n</ul>\n<p>MTTR</p>\n<p><a name=\"x8wvqr\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>PPT<strong></strong></p>\n<p>APMAPM<br><img src=\"https://cdn.nlark.com/yuque/0/2018/png/104361/1542964309773-458512d9-ae12-464b-a562-33df8342ac54.png#width=747\" alt=\"\"><br><strong></strong></p>\n<ul>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n</ul>\n<p><strong></strong></p>\n<p><a name=\"sak3aa\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>-AHAS Agent</p>\n<p><a name=\"ow5ucr\"></a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><strong></strong><strong></strong><strong></strong></p>\n<p></p>\n<ol>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p> </p>\n</li>\n</ol>\n<p>redismysqlCloud Native<br>20mysqlredisTomcat21</p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2018/png/104361/1542958237398-de68d1b7-ef29-46b7-879b-41cb37b3c8a5.png#width=747\" alt=\"\"><br>      nginxredisMysqlAHAS</p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2018/png/104361/1542958281395-8bb05ff4-0958-474d-8f04-546cbf8a0456.png#width=747\" alt=\"\"><br></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2018/png/104361/1542963012342-42798fda-e169-4f2a-aaa8-481b1ff6d98b.png#width=747\" alt=\"\"><br>()<br><a name=\"xwhcne\"></a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<p><a name=\"cvcnys\"></a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><a href=\"https://www.aliyun.com/product/ahas\" target=\"_blank\" rel=\"noopener\"></a><br><img src=\"https://cdn.nlark.com/yuque/0/2018/png/104361/1542960362139-534dd303-c1b7-493a-8685-ac502e356028.png#width=747\" alt=\"\"></p>\n<p><a name=\"l3b8al\"></a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<p><a name=\"mtfgyk\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><strong></strong>mysqlredismq)<a href=\"https://www.aliyun.com/product/ahas\" target=\"_blank\" rel=\"noopener\"></a>Java Application <a href=\"https://www.aliyun.com/product/ahas\" target=\"_blank\" rel=\"noopener\"></a>Sentinel</p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2018/gif/104361/1542969119301-c0372346-6922-4537-a611-1e772bee351f.gif#width=747\" alt=\"\"><br>AHAS<br><br><br><img src=\"https://cdn.nlark.com/yuque/0/2018/gif/104361/1542971799291-1e0987da-79c4-4e2d-b9d3-4e847a9c82eb.gif#width=747\" alt=\"\"><br><br>AHAS</p>\n<p><a href=\"https://www.aliyun.com/product/ahas\" target=\"_blank\" rel=\"noopener\">https://www.aliyun.com/product/ahas</a></p>\n","site":{"data":{}},"excerpt":"<p><a name=\"g230wm\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>","more":"</p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2018/png/104361/1542956362235-c47820c3-d1a6-4470-8be3-343ed710ceb7.png#width=638\" alt=\"\"><br><em>Daniel Woods </em></p>\n<p></p>\n<ul>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n</ul>\n<p>()</p>\n<ul>\n<li></li>\n</ul>\n<p>MTTR</p>\n<p><a name=\"x8wvqr\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>PPT<strong></strong></p>\n<p>APMAPM<br><img src=\"https://cdn.nlark.com/yuque/0/2018/png/104361/1542964309773-458512d9-ae12-464b-a562-33df8342ac54.png#width=747\" alt=\"\"><br><strong></strong></p>\n<ul>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n</ul>\n<p><strong></strong></p>\n<p><a name=\"sak3aa\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>-AHAS Agent</p>\n<p><a name=\"ow5ucr\"></a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><strong></strong><strong></strong><strong></strong></p>\n<p></p>\n<ol>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p> </p>\n</li>\n</ol>\n<p>redismysqlCloud Native<br>20mysqlredisTomcat21</p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2018/png/104361/1542958237398-de68d1b7-ef29-46b7-879b-41cb37b3c8a5.png#width=747\" alt=\"\"><br>      nginxredisMysqlAHAS</p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2018/png/104361/1542958281395-8bb05ff4-0958-474d-8f04-546cbf8a0456.png#width=747\" alt=\"\"><br></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2018/png/104361/1542963012342-42798fda-e169-4f2a-aaa8-481b1ff6d98b.png#width=747\" alt=\"\"><br>()<br><a name=\"xwhcne\"></a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<p><a name=\"cvcnys\"></a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><a href=\"https://www.aliyun.com/product/ahas\" target=\"_blank\" rel=\"noopener\"></a><br><img src=\"https://cdn.nlark.com/yuque/0/2018/png/104361/1542960362139-534dd303-c1b7-493a-8685-ac502e356028.png#width=747\" alt=\"\"></p>\n<p><a name=\"l3b8al\"></a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<p><a name=\"mtfgyk\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><strong></strong>mysqlredismq)<a href=\"https://www.aliyun.com/product/ahas\" target=\"_blank\" rel=\"noopener\"></a>Java Application <a href=\"https://www.aliyun.com/product/ahas\" target=\"_blank\" rel=\"noopener\"></a>Sentinel</p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2018/gif/104361/1542969119301-c0372346-6922-4537-a611-1e772bee351f.gif#width=747\" alt=\"\"><br>AHAS<br><br><br><img src=\"https://cdn.nlark.com/yuque/0/2018/gif/104361/1542971799291-1e0987da-79c4-4e2d-b9d3-4e847a9c82eb.gif#width=747\" alt=\"\"><br><br>AHAS</p>\n<p><a href=\"https://www.aliyun.com/product/ahas\" target=\"_blank\" rel=\"noopener\">https://www.aliyun.com/product/ahas</a></p>"},{"layout":"post","title":"Java  ","description":null,"keywords":"init ","date":"2013-03-03T16:00:00.000Z","_content":"   [Java](http://www.cnblogs.com/o-andy-o/archive/2012/04/11/2442109.html)   [Java](http://blog.csdn.net/shimiso/article/details/8595564)\n\n#### JAVA\n\n\n\n>>:\n\n\n```java\npublic class InitialOrderTest {\n    // \n    public static String staticField = \"\";\n    // \n    public String field = \"\";   \n\n    // \n    static {\n        System.out.println(staticField);\n        System.out.println(\"\");\n    }\n    // \n    {\n        System.out.println(field);\n        System.out.println(\"\");\n    }\n    // \n    public InitialOrderTest() {\n        System.out.println(\"\");\n    }\n    public static void main(String[] args) {\n        new InitialOrderTest();\n    }\n}\n```\n\n\n```java\npublic class InitialOrderTest { \n\n// \npublic static String staticField = \"\";\n// \npublic String field = \"\";\n// \nstatic {\nSystem.out.println(staticField);\nSystem.out.println(\"\");\n}\n// \n{\nSystem.out.println(field);\nSystem.out.println(\"\");\n}\n// \npublic InitialOrderTest() {\nSystem.out.println(\"\");\n}\n```\n\n\n\n\n```java\n\n\n\n\n\n```\n\n\n\n\n```java\nclass Parent {\n    // \n    public static String p_StaticField = \"--\";\n    // \n    public String p_Field = \"--\";\n    // \n    static {\n        System.out.println(p_StaticField);\n        System.out.println(\"--\");\n    }   \n\n    // \n    {\n        System.out.println(p_Field);\n        System.out.println(\"--\");\n    }   \n\n    // \n    public Parent() {\n        System.out.println(\"--\");\n    }\n}   \n\npublic class SubClass extends Parent {\n    // \n    public static String s_StaticField = \"--\";\n    // \n    public String s_Field = \"--\";\n    // \n    static {\n        System.out.println(s_StaticField);\n        System.out.println(\"--\");\n    }\n    // \n    {\n        System.out.println(s_Field);\n        System.out.println(\"--\");\n    }\n    // \n    public SubClass() {\n        System.out.println(\"--\");\n    }\n    // \n    public static void main(String[] args) {\n        new SubClass();\n    }\n}\n```\n\n\n\n\n```java\n--\n--\n--\n--\n--\n--\n--\n--\n--\n--\n```\n\n\n\n\n\n\n\n#### Java\nBaseDerivedwhenAmISetpreProcess()\n\n\n```java\npublic class Base{\n    Base() {\n        preProcess();\n    }\n    void preProcess() {}\n}\n```\n\n\n```java\npublic class Derived extends Base\n{\n    public String whenAmISet = \"set when declared\";\n    @Override void preProcess()\n    {\n        whenAmISet = \"set in preProcess()\";\n    }\n}\n```\n\nwhenAmISet \n\n\n```java\npublic class Main {\n    public static void main(String[] args)\n    {\n        Derived d = new Derived();\n        System.out.println( d.whenAmISet );\n    }\n}\n```\n\n\n\nset in preProcess()Derived Basesuper()BasepreProcess() DerivedDerivedoverrideDerived.preProcess()whenAmISet set in preProcess()\n\nset when declared Base preProcess() preProcessBase.preProcess()JavaBug\n\n\n\n1. Derived \n2. Derived \n3. Base \n4. Base preProcess()\n5. Derived preProcess whenAmISet  set in preProcess()\n6. Derived \n7. Derived \n\n6Derived  preProcess() Java**Java**\n\n\n\n1. \n2. \n3. super()Java super() \n4. \n5. preProcessoverride\n6. preProcess()Java\n7. \n\n   [Java](http://www.cnblogs.com/o-andy-o/archive/2012/04/11/2442109.html)    [Java](http://blog.csdn.net/shimiso/article/details/8595564)  \n\n","source":"_posts/Java/2013-03-04-java-init.md","raw":"---\nlayout: post\ntitle: Java  \ncategories: Java\ndescription:\nkeywords: init \ndate: 2013-03-04\n---\n   [Java](http://www.cnblogs.com/o-andy-o/archive/2012/04/11/2442109.html)   [Java](http://blog.csdn.net/shimiso/article/details/8595564)\n\n#### JAVA\n\n\n\n>>:\n\n\n```java\npublic class InitialOrderTest {\n    // \n    public static String staticField = \"\";\n    // \n    public String field = \"\";   \n\n    // \n    static {\n        System.out.println(staticField);\n        System.out.println(\"\");\n    }\n    // \n    {\n        System.out.println(field);\n        System.out.println(\"\");\n    }\n    // \n    public InitialOrderTest() {\n        System.out.println(\"\");\n    }\n    public static void main(String[] args) {\n        new InitialOrderTest();\n    }\n}\n```\n\n\n```java\npublic class InitialOrderTest { \n\n// \npublic static String staticField = \"\";\n// \npublic String field = \"\";\n// \nstatic {\nSystem.out.println(staticField);\nSystem.out.println(\"\");\n}\n// \n{\nSystem.out.println(field);\nSystem.out.println(\"\");\n}\n// \npublic InitialOrderTest() {\nSystem.out.println(\"\");\n}\n```\n\n\n\n\n```java\n\n\n\n\n\n```\n\n\n\n\n```java\nclass Parent {\n    // \n    public static String p_StaticField = \"--\";\n    // \n    public String p_Field = \"--\";\n    // \n    static {\n        System.out.println(p_StaticField);\n        System.out.println(\"--\");\n    }   \n\n    // \n    {\n        System.out.println(p_Field);\n        System.out.println(\"--\");\n    }   \n\n    // \n    public Parent() {\n        System.out.println(\"--\");\n    }\n}   \n\npublic class SubClass extends Parent {\n    // \n    public static String s_StaticField = \"--\";\n    // \n    public String s_Field = \"--\";\n    // \n    static {\n        System.out.println(s_StaticField);\n        System.out.println(\"--\");\n    }\n    // \n    {\n        System.out.println(s_Field);\n        System.out.println(\"--\");\n    }\n    // \n    public SubClass() {\n        System.out.println(\"--\");\n    }\n    // \n    public static void main(String[] args) {\n        new SubClass();\n    }\n}\n```\n\n\n\n\n```java\n--\n--\n--\n--\n--\n--\n--\n--\n--\n--\n```\n\n\n\n\n\n\n\n#### Java\nBaseDerivedwhenAmISetpreProcess()\n\n\n```java\npublic class Base{\n    Base() {\n        preProcess();\n    }\n    void preProcess() {}\n}\n```\n\n\n```java\npublic class Derived extends Base\n{\n    public String whenAmISet = \"set when declared\";\n    @Override void preProcess()\n    {\n        whenAmISet = \"set in preProcess()\";\n    }\n}\n```\n\nwhenAmISet \n\n\n```java\npublic class Main {\n    public static void main(String[] args)\n    {\n        Derived d = new Derived();\n        System.out.println( d.whenAmISet );\n    }\n}\n```\n\n\n\nset in preProcess()Derived Basesuper()BasepreProcess() DerivedDerivedoverrideDerived.preProcess()whenAmISet set in preProcess()\n\nset when declared Base preProcess() preProcessBase.preProcess()JavaBug\n\n\n\n1. Derived \n2. Derived \n3. Base \n4. Base preProcess()\n5. Derived preProcess whenAmISet  set in preProcess()\n6. Derived \n7. Derived \n\n6Derived  preProcess() Java**Java**\n\n\n\n1. \n2. \n3. super()Java super() \n4. \n5. preProcessoverride\n6. preProcess()Java\n7. \n\n   [Java](http://www.cnblogs.com/o-andy-o/archive/2012/04/11/2442109.html)    [Java](http://blog.csdn.net/shimiso/article/details/8595564)  \n\n","slug":"Java/2013-03-04-java-init","published":1,"updated":"2018-11-10T08:59:09.796Z","comments":1,"photos":[],"link":"","_id":"cjtohbkao005o6f127x6oz3rw","content":"<p>   <a href=\"http://www.cnblogs.com/o-andy-o/archive/2012/04/11/2442109.html\" target=\"_blank\" rel=\"noopener\">Java</a>   <a href=\"http://blog.csdn.net/shimiso/article/details/8595564\" target=\"_blank\" rel=\"noopener\">Java</a></p>\n<h4 id=\"JAVA\"><a href=\"#JAVA\" class=\"headerlink\" title=\"JAVA\"></a>JAVA</h4><p></p>\n<p>&gt;&gt;:</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">InitialOrderTest</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> String staticField = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String field = <span class=\"string\">\"\"</span>;   </span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">static</span> &#123;</span><br><span class=\"line\">        System.out.println(staticField);</span><br><span class=\"line\">        System.out.println(<span class=\"string\">\"\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        System.out.println(field);</span><br><span class=\"line\">        System.out.println(<span class=\"string\">\"\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">InitialOrderTest</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">\"\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">new</span> InitialOrderTest();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">InitialOrderTest</span> </span>&#123; </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> String staticField = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">public</span> String field = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">static</span> &#123;</span><br><span class=\"line\">System.out.println(staticField);</span><br><span class=\"line\">System.out.println(<span class=\"string\">\"\"</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">System.out.println(field);</span><br><span class=\"line\">System.out.println(<span class=\"string\">\"\"</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">InitialOrderTest</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">System.out.println(<span class=\"string\">\"\"</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Parent</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> String p_StaticField = <span class=\"string\">\"--\"</span>;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String p_Field = <span class=\"string\">\"--\"</span>;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">static</span> &#123;</span><br><span class=\"line\">        System.out.println(p_StaticField);</span><br><span class=\"line\">        System.out.println(<span class=\"string\">\"--\"</span>);</span><br><span class=\"line\">    &#125;   </span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        System.out.println(p_Field);</span><br><span class=\"line\">        System.out.println(<span class=\"string\">\"--\"</span>);</span><br><span class=\"line\">    &#125;   </span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Parent</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">\"--\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;   </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">SubClass</span> <span class=\"keyword\">extends</span> <span class=\"title\">Parent</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> String s_StaticField = <span class=\"string\">\"--\"</span>;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String s_Field = <span class=\"string\">\"--\"</span>;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">static</span> &#123;</span><br><span class=\"line\">        System.out.println(s_StaticField);</span><br><span class=\"line\">        System.out.println(<span class=\"string\">\"--\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        System.out.println(s_Field);</span><br><span class=\"line\">        System.out.println(<span class=\"string\">\"--\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">SubClass</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">\"--\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">new</span> SubClass();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">--</span><br><span class=\"line\">--</span><br><span class=\"line\">--</span><br><span class=\"line\">--</span><br><span class=\"line\">--</span><br><span class=\"line\">--</span><br><span class=\"line\">--</span><br><span class=\"line\">--</span><br><span class=\"line\">--</span><br><span class=\"line\">--</span><br></pre></td></tr></table></figure>\n<p></p>\n<p></p>\n<p></p>\n<h4 id=\"Java\"><a href=\"#Java\" class=\"headerlink\" title=\"Java\"></a>Java</h4><p>BaseDerivedwhenAmISetpreProcess()</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Base</span></span>&#123;</span><br><span class=\"line\">    Base() &#123;</span><br><span class=\"line\">        preProcess();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">preProcess</span><span class=\"params\">()</span> </span>&#123;&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Derived</span> <span class=\"keyword\">extends</span> <span class=\"title\">Base</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> String whenAmISet = <span class=\"string\">\"set when declared\"</span>;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span> <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">preProcess</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        whenAmISet = <span class=\"string\">\"set in preProcess()\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>whenAmISet </p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Main</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        Derived d = <span class=\"keyword\">new</span> Derived();</span><br><span class=\"line\">        System.out.println( d.whenAmISet );</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p>set in preProcess()Derived Basesuper()BasepreProcess() DerivedDerivedoverrideDerived.preProcess()whenAmISet set in preProcess()</p>\n<p>set when declared Base preProcess() preProcessBase.preProcess()JavaBug</p>\n<p></p>\n<ol>\n<li>Derived </li>\n<li>Derived </li>\n<li>Base </li>\n<li>Base preProcess()</li>\n<li>Derived preProcess whenAmISet  set in preProcess()</li>\n<li>Derived </li>\n<li>Derived </li>\n</ol>\n<p>6Derived  preProcess() Java<strong>Java</strong></p>\n<p></p>\n<ol>\n<li></li>\n<li></li>\n<li>super()Java super() </li>\n<li></li>\n<li>preProcessoverride</li>\n<li>preProcess()Java</li>\n<li></li>\n</ol>\n<p>   <a href=\"http://www.cnblogs.com/o-andy-o/archive/2012/04/11/2442109.html\" target=\"_blank\" rel=\"noopener\">Java</a>    <a href=\"http://blog.csdn.net/shimiso/article/details/8595564\" target=\"_blank\" rel=\"noopener\">Java</a>  </p>\n","site":{"data":{}},"excerpt":"","more":"<p>   <a href=\"http://www.cnblogs.com/o-andy-o/archive/2012/04/11/2442109.html\" target=\"_blank\" rel=\"noopener\">Java</a>   <a href=\"http://blog.csdn.net/shimiso/article/details/8595564\" target=\"_blank\" rel=\"noopener\">Java</a></p>\n<h4 id=\"JAVA\"><a href=\"#JAVA\" class=\"headerlink\" title=\"JAVA\"></a>JAVA</h4><p></p>\n<p>&gt;&gt;:</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">InitialOrderTest</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> String staticField = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String field = <span class=\"string\">\"\"</span>;   </span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">static</span> &#123;</span><br><span class=\"line\">        System.out.println(staticField);</span><br><span class=\"line\">        System.out.println(<span class=\"string\">\"\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        System.out.println(field);</span><br><span class=\"line\">        System.out.println(<span class=\"string\">\"\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">InitialOrderTest</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">\"\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">new</span> InitialOrderTest();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">InitialOrderTest</span> </span>&#123; </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> String staticField = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">public</span> String field = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">static</span> &#123;</span><br><span class=\"line\">System.out.println(staticField);</span><br><span class=\"line\">System.out.println(<span class=\"string\">\"\"</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">System.out.println(field);</span><br><span class=\"line\">System.out.println(<span class=\"string\">\"\"</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">InitialOrderTest</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">System.out.println(<span class=\"string\">\"\"</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Parent</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> String p_StaticField = <span class=\"string\">\"--\"</span>;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String p_Field = <span class=\"string\">\"--\"</span>;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">static</span> &#123;</span><br><span class=\"line\">        System.out.println(p_StaticField);</span><br><span class=\"line\">        System.out.println(<span class=\"string\">\"--\"</span>);</span><br><span class=\"line\">    &#125;   </span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        System.out.println(p_Field);</span><br><span class=\"line\">        System.out.println(<span class=\"string\">\"--\"</span>);</span><br><span class=\"line\">    &#125;   </span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Parent</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">\"--\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;   </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">SubClass</span> <span class=\"keyword\">extends</span> <span class=\"title\">Parent</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> String s_StaticField = <span class=\"string\">\"--\"</span>;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String s_Field = <span class=\"string\">\"--\"</span>;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">static</span> &#123;</span><br><span class=\"line\">        System.out.println(s_StaticField);</span><br><span class=\"line\">        System.out.println(<span class=\"string\">\"--\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        System.out.println(s_Field);</span><br><span class=\"line\">        System.out.println(<span class=\"string\">\"--\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">SubClass</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">\"--\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">new</span> SubClass();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">--</span><br><span class=\"line\">--</span><br><span class=\"line\">--</span><br><span class=\"line\">--</span><br><span class=\"line\">--</span><br><span class=\"line\">--</span><br><span class=\"line\">--</span><br><span class=\"line\">--</span><br><span class=\"line\">--</span><br><span class=\"line\">--</span><br></pre></td></tr></table></figure>\n<p></p>\n<p></p>\n<p></p>\n<h4 id=\"Java\"><a href=\"#Java\" class=\"headerlink\" title=\"Java\"></a>Java</h4><p>BaseDerivedwhenAmISetpreProcess()</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Base</span></span>&#123;</span><br><span class=\"line\">    Base() &#123;</span><br><span class=\"line\">        preProcess();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">preProcess</span><span class=\"params\">()</span> </span>&#123;&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Derived</span> <span class=\"keyword\">extends</span> <span class=\"title\">Base</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> String whenAmISet = <span class=\"string\">\"set when declared\"</span>;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span> <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">preProcess</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        whenAmISet = <span class=\"string\">\"set in preProcess()\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>whenAmISet </p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Main</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        Derived d = <span class=\"keyword\">new</span> Derived();</span><br><span class=\"line\">        System.out.println( d.whenAmISet );</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p>set in preProcess()Derived Basesuper()BasepreProcess() DerivedDerivedoverrideDerived.preProcess()whenAmISet set in preProcess()</p>\n<p>set when declared Base preProcess() preProcessBase.preProcess()JavaBug</p>\n<p></p>\n<ol>\n<li>Derived </li>\n<li>Derived </li>\n<li>Base </li>\n<li>Base preProcess()</li>\n<li>Derived preProcess whenAmISet  set in preProcess()</li>\n<li>Derived </li>\n<li>Derived </li>\n</ol>\n<p>6Derived  preProcess() Java<strong>Java</strong></p>\n<p></p>\n<ol>\n<li></li>\n<li></li>\n<li>super()Java super() </li>\n<li></li>\n<li>preProcessoverride</li>\n<li>preProcess()Java</li>\n<li></li>\n</ol>\n<p>   <a href=\"http://www.cnblogs.com/o-andy-o/archive/2012/04/11/2442109.html\" target=\"_blank\" rel=\"noopener\">Java</a>    <a href=\"http://blog.csdn.net/shimiso/article/details/8595564\" target=\"_blank\" rel=\"noopener\">Java</a>  </p>\n"},{"layout":"post","title":"Java  ","description":null,"keywords":"classload init  ","date":"2013-03-04T16:00:00.000Z","_content":"## \n\n#### \n java.lang.Class \n packagename.A Class  CL1  CL2  java.lang.Class  <CL1, packagename.A>  <CL2, packagename.A> \n\n#### Java\n Bootstrap Loader  BL  C++  Java  Java  java.lang.ClassLoader  BL  parent  java.lang.ClassLoader SystemClassLoader(SystemClassLoader)\n\nJava \n\n\n```java\n                                            ---------------\n                                           | Bootstrap     |\n                                           | Class Loader  |  null\n                                             ---------------\n                                                   \n                                            -----parent----\n                                           | Extension     |\n                             ----------   | Class Loader  |\n                             |              ---------------\n                             |                     \n                  -----parent----           ------parent-----\n                 |    URL        |         |  AppClassLoader|\n                 |   Class Loader|         | Class Loader   |\n                  ---------------           -----------------\n                                                   \n                                             ------parent-----\n                                           |      System        |\n                                           | Class Loader     |\n                                             -----------------\n                              ----------------------|-------------------------\n                                 ------parent----            -----parent-----\n                                 |   User-def    |          |    User-def    |\n                                 | Class Loader  |          | Class Loader   |\n                                 -----------------           -----------------\n```\n\nJava2\n\n##### 1. \nAppClassLoaderExtClassLoader ExtClassLoader(Super)Bootstrap LoaderBootstrap Loadersun.boot.class.pathcacheparentself .Java Java\n\n  getParent  ExtClassLoader  getParent nullparentparentC++bootstrap class loaderclassloadergetParent()Initiating class loaderdefining class loader\n\n##### 2. \n\n\n#####  \nAppletjava.lang.StringString java.lang.StringBootstrapString\n\n\n\n\n* \n* \n* \n\n###### \n java.lang.Class \n###### \n          java\n          Java\n          \n###### \n \n\n ,\n\n1. main\n2. \n3. \n4. \n5. new\n6. Javaassert\n\n##### \n\n  \n\n  java.lang.Class\nClass Class  Java  defineClass Class ClassClassJava(JVM)ClassJVM.classClass Java booleanbytecharshortintlongfloat  double void  Class   Class  Class classclassClass\n\n \n\n## \n    [](http://www.hh010.com/developer/html/41-2/2739.htm)\n\n****\n\n\n ()\n\n****\n\n(class)\nnew AAsuper();\nsuper();\nsuper();2object\n\n\n   A  a = new A();\n\nJavaJava\n\n#####  \n\n\n\n\n##### \n[Java](http://www.importnew.com/1305.html)\n\n##### \n\n\n  [Java](http://grzrt.iteye.com/blog/1754904)  Java \n\n\n```java\n Parent p1 = new Parent();\n Parent c1 = new Chield();\n```\n\n p1c1 Parentnew\nJava\n privatestaticfinal\n\n","source":"_posts/Java/2013-03-05-java-class-load.md","raw":"---\nlayout: post\ntitle: Java  \ncategories: Java\ndescription:\nkeywords: classload init  \ndate: 2013-03-05\n---\n## \n\n#### \n java.lang.Class \n packagename.A Class  CL1  CL2  java.lang.Class  <CL1, packagename.A>  <CL2, packagename.A> \n\n#### Java\n Bootstrap Loader  BL  C++  Java  Java  java.lang.ClassLoader  BL  parent  java.lang.ClassLoader SystemClassLoader(SystemClassLoader)\n\nJava \n\n\n```java\n                                            ---------------\n                                           | Bootstrap     |\n                                           | Class Loader  |  null\n                                             ---------------\n                                                   \n                                            -----parent----\n                                           | Extension     |\n                             ----------   | Class Loader  |\n                             |              ---------------\n                             |                     \n                  -----parent----           ------parent-----\n                 |    URL        |         |  AppClassLoader|\n                 |   Class Loader|         | Class Loader   |\n                  ---------------           -----------------\n                                                   \n                                             ------parent-----\n                                           |      System        |\n                                           | Class Loader     |\n                                             -----------------\n                              ----------------------|-------------------------\n                                 ------parent----            -----parent-----\n                                 |   User-def    |          |    User-def    |\n                                 | Class Loader  |          | Class Loader   |\n                                 -----------------           -----------------\n```\n\nJava2\n\n##### 1. \nAppClassLoaderExtClassLoader ExtClassLoader(Super)Bootstrap LoaderBootstrap Loadersun.boot.class.pathcacheparentself .Java Java\n\n  getParent  ExtClassLoader  getParent nullparentparentC++bootstrap class loaderclassloadergetParent()Initiating class loaderdefining class loader\n\n##### 2. \n\n\n#####  \nAppletjava.lang.StringString java.lang.StringBootstrapString\n\n\n\n\n* \n* \n* \n\n###### \n java.lang.Class \n###### \n          java\n          Java\n          \n###### \n \n\n ,\n\n1. main\n2. \n3. \n4. \n5. new\n6. Javaassert\n\n##### \n\n  \n\n  java.lang.Class\nClass Class  Java  defineClass Class ClassClassJava(JVM)ClassJVM.classClass Java booleanbytecharshortintlongfloat  double void  Class   Class  Class classclassClass\n\n \n\n## \n    [](http://www.hh010.com/developer/html/41-2/2739.htm)\n\n****\n\n\n ()\n\n****\n\n(class)\nnew AAsuper();\nsuper();\nsuper();2object\n\n\n   A  a = new A();\n\nJavaJava\n\n#####  \n\n\n\n\n##### \n[Java](http://www.importnew.com/1305.html)\n\n##### \n\n\n  [Java](http://grzrt.iteye.com/blog/1754904)  Java \n\n\n```java\n Parent p1 = new Parent();\n Parent c1 = new Chield();\n```\n\n p1c1 Parentnew\nJava\n privatestaticfinal\n\n","slug":"Java/2013-03-05-java-class-load","published":1,"updated":"2018-11-10T08:59:09.796Z","comments":1,"photos":[],"link":"","_id":"cjtohbkap005r6f12kbz0bdnt","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p> java.lang.Class <br> packagename.A Class  CL1  CL2  java.lang.Class  &lt;CL1, packagename.A&gt;  &lt;CL2, packagename.A&gt; </p>\n<h4 id=\"Java\"><a href=\"#Java\" class=\"headerlink\" title=\"Java\"></a>Java</h4><p> Bootstrap Loader  BL  C++  Java  Java  java.lang.ClassLoader  BL  parent  java.lang.ClassLoader SystemClassLoader(SystemClassLoader)</p>\n<p>Java </p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">                           ---------------</span><br><span class=\"line\">                          | Bootstrap     |</span><br><span class=\"line\">                          | Class Loader  |  <span class=\"keyword\">null</span></span><br><span class=\"line\">                            ---------------</span><br><span class=\"line\">                                  </span><br><span class=\"line\">                           -----parent----</span><br><span class=\"line\">                          | Extension     |</span><br><span class=\"line\">            ----------   | Class Loader  |</span><br><span class=\"line\">            |              ---------------</span><br><span class=\"line\">            |                     </span><br><span class=\"line\"> -----parent----           ------parent-----</span><br><span class=\"line\">|    URL        |         |  AppClassLoader|</span><br><span class=\"line\">|   Class Loader|         | Class Loader   |</span><br><span class=\"line\"> ---------------           -----------------</span><br><span class=\"line\">                                  </span><br><span class=\"line\">                            ------parent-----</span><br><span class=\"line\">                          |      System        |</span><br><span class=\"line\">                          | Class Loader     |</span><br><span class=\"line\">                            -----------------</span><br><span class=\"line\">             ----------------------|-------------------------</span><br><span class=\"line\">                ------parent----            -----parent-----</span><br><span class=\"line\">                |   User-def    |          |    User-def    |</span><br><span class=\"line\">                | Class Loader  |          | Class Loader   |</span><br><span class=\"line\">                -----------------           -----------------</span><br></pre></td></tr></table></figure>\n<p>Java2</p>\n<h5 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"1. \"></a>1. </h5><p>AppClassLoaderExtClassLoader ExtClassLoader(Super)Bootstrap LoaderBootstrap Loadersun.boot.class.pathcacheparentself .Java Java</p>\n<p>  getParent  ExtClassLoader  getParent nullparentparentC++bootstrap class loaderclassloadergetParent()Initiating class loaderdefining class loader</p>\n<h5 id=\"2-\"><a href=\"#2-\" class=\"headerlink\" title=\"2. \"></a>2. </h5><p></p>\n<h5 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h5><p>Appletjava.lang.StringString java.lang.StringBootstrapString</p>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p> java.lang.Class </p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><pre><code>java\nJava\n\n</code></pre><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p> </p>\n<p> ,</p>\n<ol>\n<li>main</li>\n<li></li>\n<li></li>\n<li></li>\n<li>new</li>\n<li>Javaassert</li>\n</ol>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>  </p>\n<p>  java.lang.Class<br>Class Class  Java  defineClass Class ClassClassJava(JVM)ClassJVM.classClass Java booleanbytecharshortintlongfloat  double void  Class   Class  Class classclassClass</p>\n<p> </p>\n<h2 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h2><p>    <a href=\"http://www.hh010.com/developer/html/41-2/2739.htm\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p><strong></strong></p>\n<p><br> ()</p>\n<p><strong></strong></p>\n<p>(class)<br>new AAsuper();<br>super();<br>super();2object<br></p>\n<p>   A  a = new A();</p>\n<p>JavaJava</p>\n<h5 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><a href=\"http://www.importnew.com/1305.html\" target=\"_blank\" rel=\"noopener\">Java</a></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<p>  <a href=\"http://grzrt.iteye.com/blog/1754904\" target=\"_blank\" rel=\"noopener\">Java</a>  Java </p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Parent p1 = <span class=\"keyword\">new</span> Parent();</span><br><span class=\"line\">Parent c1 = <span class=\"keyword\">new</span> Chield();</span><br></pre></td></tr></table></figure>\n<p> p1c1 Parentnew<br>Java<br> privatestaticfinal</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p> java.lang.Class <br> packagename.A Class  CL1  CL2  java.lang.Class  &lt;CL1, packagename.A&gt;  &lt;CL2, packagename.A&gt; </p>\n<h4 id=\"Java\"><a href=\"#Java\" class=\"headerlink\" title=\"Java\"></a>Java</h4><p> Bootstrap Loader  BL  C++  Java  Java  java.lang.ClassLoader  BL  parent  java.lang.ClassLoader SystemClassLoader(SystemClassLoader)</p>\n<p>Java </p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">                           ---------------</span><br><span class=\"line\">                          | Bootstrap     |</span><br><span class=\"line\">                          | Class Loader  |  <span class=\"keyword\">null</span></span><br><span class=\"line\">                            ---------------</span><br><span class=\"line\">                                  </span><br><span class=\"line\">                           -----parent----</span><br><span class=\"line\">                          | Extension     |</span><br><span class=\"line\">            ----------   | Class Loader  |</span><br><span class=\"line\">            |              ---------------</span><br><span class=\"line\">            |                     </span><br><span class=\"line\"> -----parent----           ------parent-----</span><br><span class=\"line\">|    URL        |         |  AppClassLoader|</span><br><span class=\"line\">|   Class Loader|         | Class Loader   |</span><br><span class=\"line\"> ---------------           -----------------</span><br><span class=\"line\">                                  </span><br><span class=\"line\">                            ------parent-----</span><br><span class=\"line\">                          |      System        |</span><br><span class=\"line\">                          | Class Loader     |</span><br><span class=\"line\">                            -----------------</span><br><span class=\"line\">             ----------------------|-------------------------</span><br><span class=\"line\">                ------parent----            -----parent-----</span><br><span class=\"line\">                |   User-def    |          |    User-def    |</span><br><span class=\"line\">                | Class Loader  |          | Class Loader   |</span><br><span class=\"line\">                -----------------           -----------------</span><br></pre></td></tr></table></figure>\n<p>Java2</p>\n<h5 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"1. \"></a>1. </h5><p>AppClassLoaderExtClassLoader ExtClassLoader(Super)Bootstrap LoaderBootstrap Loadersun.boot.class.pathcacheparentself .Java Java</p>\n<p>  getParent  ExtClassLoader  getParent nullparentparentC++bootstrap class loaderclassloadergetParent()Initiating class loaderdefining class loader</p>\n<h5 id=\"2-\"><a href=\"#2-\" class=\"headerlink\" title=\"2. \"></a>2. </h5><p></p>\n<h5 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h5><p>Appletjava.lang.StringString java.lang.StringBootstrapString</p>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p> java.lang.Class </p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><pre><code>java\nJava\n\n</code></pre><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p> </p>\n<p> ,</p>\n<ol>\n<li>main</li>\n<li></li>\n<li></li>\n<li></li>\n<li>new</li>\n<li>Javaassert</li>\n</ol>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>  </p>\n<p>  java.lang.Class<br>Class Class  Java  defineClass Class ClassClassJava(JVM)ClassJVM.classClass Java booleanbytecharshortintlongfloat  double void  Class   Class  Class classclassClass</p>\n<p> </p>\n<h2 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h2><p>    <a href=\"http://www.hh010.com/developer/html/41-2/2739.htm\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p><strong></strong></p>\n<p><br> ()</p>\n<p><strong></strong></p>\n<p>(class)<br>new AAsuper();<br>super();<br>super();2object<br></p>\n<p>   A  a = new A();</p>\n<p>JavaJava</p>\n<h5 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><a href=\"http://www.importnew.com/1305.html\" target=\"_blank\" rel=\"noopener\">Java</a></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<p>  <a href=\"http://grzrt.iteye.com/blog/1754904\" target=\"_blank\" rel=\"noopener\">Java</a>  Java </p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Parent p1 = <span class=\"keyword\">new</span> Parent();</span><br><span class=\"line\">Parent c1 = <span class=\"keyword\">new</span> Chield();</span><br></pre></td></tr></table></figure>\n<p> p1c1 Parentnew<br>Java<br> privatestaticfinal</p>\n"},{"layout":"post","title":"Java  ","description":null,"keywords":"collection ","date":"2013-04-27T16:00:00.000Z","_content":"Java Collection  Map ;\n\n#### Set : \n\nHashSet: equalshashCode\nTreeSetcaparable ComparatorTreeSet\nLinkedHashSet\n\n#### List\n\nLinkedList (queue)stackdequeLinkedList\nArrayList .ArrayList50%,\nVectorArrayListVectorArrayListVector\n\n#### Map:  key-value\n\nHashtablenullkeyvaluevaluekeykeyequalshashCodeHashtableKH()H(K)\nHashMap:null key value\nWeakHashMapHashMapkeykeykeyGC\nIdentityHashMap HashMap\n\n\n### \n\n1.  List LinkedListArrayList\n2.  \n3. keyequals  hashcode \n4. ListArrayListArrayListLinkedList\n5. HashSet  ,Hashtable   HashMap\n6. ListListremove\n\n### \n#### ArrayList\n****  int   size\n\n****10addensureCapacity1.5.\n\n****ensureCapacity\n\n#### LinkedList\n**:**(LinkedList)\n\n**Entry**elementpreviousnextLinkedList\n\n\n```java\nheader.next = header.previous = header\n```\n\n#### HashSet \n****HashSetHashMapaddhashMapputhashmapkeyhashSetvaluePRESENT\n\n\n```java\nprivate static final Object PRESENT = new Object();\n```\n\n hashMapkeykeySetSet\n\n#### HashMap \n**:**   Entry[] table\n\n**Entry**KeyvalueEntry next hash int\n\nput\n\nkeynullnulltable[0]keynullEntryvaluekeyhashcodehash i  i keyvalue   i  EntryEntry[]mapiHashMapmapsizeEntry[]\n\nget\n\nkeynullnulltable[0]keynullEntrynullkeyhashcodehashi   i keynull\n\n#### Hashtable\n****  Entry[] table\nHashTableHashMap.\nHashtableputkeynullNullPointerException\nHashtablesynchronized.\n\n#### ConcurrentHashMap\n****SegmentEntry\n\nConcurrentHashMapconcurrentLevelSegmentkey-value16\n\n#### WeakHashMap\n****EntryWeakReferenceKeyputgetexpungeStaleEntries()key\n\nWeakHashMapGCHashMapGC\n\n### \n1. Comparator & Comparable\n  Comparator  Comparable \nCamparablesort\nComparator\n2. Collectionsstatic\n    *     Collections.singletonListCollections.singletonMapCollections.singleton\n    * CheckedcheckedCollectioncheckedListcheckedMapcheckedSetcheckedSortedMapcheckedSortedSet\n    * \n    * fillfrequencyindexOfSubListlastIndexOfSubListmaxminreplaceAll\n    * reverseshufflesortswaprotate\n3. hashCode()\nhashCode() Object hashCodeequalstruehashCodeStringhashCodeStringhashCodehashCodehashSethashMapkeyhashMap\n\n","source":"_posts/Java/2013-04-28-java-collection.md","raw":"---\nlayout: post\ntitle: Java  \ncategories: Java\ndescription:\nkeywords: collection \ndate: 2013-04-28\n---\nJava Collection  Map ;\n\n#### Set : \n\nHashSet: equalshashCode\nTreeSetcaparable ComparatorTreeSet\nLinkedHashSet\n\n#### List\n\nLinkedList (queue)stackdequeLinkedList\nArrayList .ArrayList50%,\nVectorArrayListVectorArrayListVector\n\n#### Map:  key-value\n\nHashtablenullkeyvaluevaluekeykeyequalshashCodeHashtableKH()H(K)\nHashMap:null key value\nWeakHashMapHashMapkeykeykeyGC\nIdentityHashMap HashMap\n\n\n### \n\n1.  List LinkedListArrayList\n2.  \n3. keyequals  hashcode \n4. ListArrayListArrayListLinkedList\n5. HashSet  ,Hashtable   HashMap\n6. ListListremove\n\n### \n#### ArrayList\n****  int   size\n\n****10addensureCapacity1.5.\n\n****ensureCapacity\n\n#### LinkedList\n**:**(LinkedList)\n\n**Entry**elementpreviousnextLinkedList\n\n\n```java\nheader.next = header.previous = header\n```\n\n#### HashSet \n****HashSetHashMapaddhashMapputhashmapkeyhashSetvaluePRESENT\n\n\n```java\nprivate static final Object PRESENT = new Object();\n```\n\n hashMapkeykeySetSet\n\n#### HashMap \n**:**   Entry[] table\n\n**Entry**KeyvalueEntry next hash int\n\nput\n\nkeynullnulltable[0]keynullEntryvaluekeyhashcodehash i  i keyvalue   i  EntryEntry[]mapiHashMapmapsizeEntry[]\n\nget\n\nkeynullnulltable[0]keynullEntrynullkeyhashcodehashi   i keynull\n\n#### Hashtable\n****  Entry[] table\nHashTableHashMap.\nHashtableputkeynullNullPointerException\nHashtablesynchronized.\n\n#### ConcurrentHashMap\n****SegmentEntry\n\nConcurrentHashMapconcurrentLevelSegmentkey-value16\n\n#### WeakHashMap\n****EntryWeakReferenceKeyputgetexpungeStaleEntries()key\n\nWeakHashMapGCHashMapGC\n\n### \n1. Comparator & Comparable\n  Comparator  Comparable \nCamparablesort\nComparator\n2. Collectionsstatic\n    *     Collections.singletonListCollections.singletonMapCollections.singleton\n    * CheckedcheckedCollectioncheckedListcheckedMapcheckedSetcheckedSortedMapcheckedSortedSet\n    * \n    * fillfrequencyindexOfSubListlastIndexOfSubListmaxminreplaceAll\n    * reverseshufflesortswaprotate\n3. hashCode()\nhashCode() Object hashCodeequalstruehashCodeStringhashCodeStringhashCodehashCodehashSethashMapkeyhashMap\n\n","slug":"Java/2013-04-28-java-collection","published":1,"updated":"2018-11-10T08:59:09.796Z","comments":1,"photos":[],"link":"","_id":"cjtohbkaq005t6f12mfunsfws","content":"<p>Java Collection  Map ;</p>\n<h4 id=\"Set-\"><a href=\"#Set-\" class=\"headerlink\" title=\"Set : \"></a>Set : </h4><p>HashSet: equalshashCode<br>TreeSetcaparable ComparatorTreeSet<br>LinkedHashSet</p>\n<h4 id=\"List\"><a href=\"#List\" class=\"headerlink\" title=\"List\"></a>List</h4><p>LinkedList (queue)stackdequeLinkedList<br>ArrayList .ArrayList50%,<br>VectorArrayListVectorArrayListVector</p>\n<h4 id=\"Map-key-value\"><a href=\"#Map-key-value\" class=\"headerlink\" title=\"Map:  key-value\"></a>Map:  key-value</h4><p>HashtablenullkeyvaluevaluekeykeyequalshashCodeHashtableKH()H(K)<br>HashMap:null key value<br>WeakHashMapHashMapkeykeykeyGC<br>IdentityHashMap HashMap</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li> List LinkedListArrayList</li>\n<li> </li>\n<li>keyequals  hashcode </li>\n<li>ListArrayListArrayListLinkedList</li>\n<li>HashSet  ,Hashtable   HashMap</li>\n<li>ListListremove</li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"ArrayList\"><a href=\"#ArrayList\" class=\"headerlink\" title=\"ArrayList\"></a>ArrayList</h4><p><strong></strong>  int   size</p>\n<p><strong></strong>10addensureCapacity1.5.</p>\n<p><strong></strong>ensureCapacity</p>\n<h4 id=\"LinkedList\"><a href=\"#LinkedList\" class=\"headerlink\" title=\"LinkedList\"></a>LinkedList</h4><p><strong>:</strong>(LinkedList)</p>\n<p><strong>Entry</strong>elementpreviousnextLinkedList</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">header.next = header.previous = header</span><br></pre></td></tr></table></figure>\n<h4 id=\"HashSet\"><a href=\"#HashSet\" class=\"headerlink\" title=\"HashSet\"></a>HashSet</h4><p><strong></strong>HashSetHashMapaddhashMapputhashmapkeyhashSetvaluePRESENT</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> Object PRESENT = <span class=\"keyword\">new</span> Object();</span><br></pre></td></tr></table></figure>\n<p> hashMapkeykeySetSet</p>\n<h4 id=\"HashMap\"><a href=\"#HashMap\" class=\"headerlink\" title=\"HashMap\"></a>HashMap</h4><p><strong>:</strong>   Entry[] table</p>\n<p><strong>Entry</strong>KeyvalueEntry next hash int</p>\n<p>put</p>\n<p>keynullnulltable[0]keynullEntryvaluekeyhashcodehash i  i keyvalue   i  EntryEntry[]mapiHashMapmapsizeEntry[]</p>\n<p>get</p>\n<p>keynullnulltable[0]keynullEntrynullkeyhashcodehashi   i keynull</p>\n<h4 id=\"Hashtable\"><a href=\"#Hashtable\" class=\"headerlink\" title=\"Hashtable\"></a>Hashtable</h4><p><strong></strong>  Entry[] table<br>HashTableHashMap.<br>HashtableputkeynullNullPointerException<br>Hashtablesynchronized.</p>\n<h4 id=\"ConcurrentHashMap\"><a href=\"#ConcurrentHashMap\" class=\"headerlink\" title=\"ConcurrentHashMap\"></a>ConcurrentHashMap</h4><p><strong></strong>SegmentEntry</p>\n<p>ConcurrentHashMapconcurrentLevelSegmentkey-value16</p>\n<h4 id=\"WeakHashMap\"><a href=\"#WeakHashMap\" class=\"headerlink\" title=\"WeakHashMap\"></a>WeakHashMap</h4><p><strong></strong>EntryWeakReferenceKeyputgetexpungeStaleEntries()key</p>\n<p>WeakHashMapGCHashMapGC</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>Comparator &amp; Comparable<br> Comparator  Comparable <br>Camparablesort<br>Comparator</li>\n<li>Collectionsstatic<ul>\n<li>    Collections.singletonListCollections.singletonMapCollections.singleton</li>\n<li>CheckedcheckedCollectioncheckedListcheckedMapcheckedSetcheckedSortedMapcheckedSortedSet</li>\n<li></li>\n<li>fillfrequencyindexOfSubListlastIndexOfSubListmaxminreplaceAll</li>\n<li>reverseshufflesortswaprotate</li>\n</ul>\n</li>\n<li>hashCode()<br>hashCode() Object hashCodeequalstruehashCodeStringhashCodeStringhashCodehashCodehashSethashMapkeyhashMap</li>\n</ol>\n","site":{"data":{}},"excerpt":"","more":"<p>Java Collection  Map ;</p>\n<h4 id=\"Set-\"><a href=\"#Set-\" class=\"headerlink\" title=\"Set : \"></a>Set : </h4><p>HashSet: equalshashCode<br>TreeSetcaparable ComparatorTreeSet<br>LinkedHashSet</p>\n<h4 id=\"List\"><a href=\"#List\" class=\"headerlink\" title=\"List\"></a>List</h4><p>LinkedList (queue)stackdequeLinkedList<br>ArrayList .ArrayList50%,<br>VectorArrayListVectorArrayListVector</p>\n<h4 id=\"Map-key-value\"><a href=\"#Map-key-value\" class=\"headerlink\" title=\"Map:  key-value\"></a>Map:  key-value</h4><p>HashtablenullkeyvaluevaluekeykeyequalshashCodeHashtableKH()H(K)<br>HashMap:null key value<br>WeakHashMapHashMapkeykeykeyGC<br>IdentityHashMap HashMap</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li> List LinkedListArrayList</li>\n<li> </li>\n<li>keyequals  hashcode </li>\n<li>ListArrayListArrayListLinkedList</li>\n<li>HashSet  ,Hashtable   HashMap</li>\n<li>ListListremove</li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"ArrayList\"><a href=\"#ArrayList\" class=\"headerlink\" title=\"ArrayList\"></a>ArrayList</h4><p><strong></strong>  int   size</p>\n<p><strong></strong>10addensureCapacity1.5.</p>\n<p><strong></strong>ensureCapacity</p>\n<h4 id=\"LinkedList\"><a href=\"#LinkedList\" class=\"headerlink\" title=\"LinkedList\"></a>LinkedList</h4><p><strong>:</strong>(LinkedList)</p>\n<p><strong>Entry</strong>elementpreviousnextLinkedList</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">header.next = header.previous = header</span><br></pre></td></tr></table></figure>\n<h4 id=\"HashSet\"><a href=\"#HashSet\" class=\"headerlink\" title=\"HashSet\"></a>HashSet</h4><p><strong></strong>HashSetHashMapaddhashMapputhashmapkeyhashSetvaluePRESENT</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> Object PRESENT = <span class=\"keyword\">new</span> Object();</span><br></pre></td></tr></table></figure>\n<p> hashMapkeykeySetSet</p>\n<h4 id=\"HashMap\"><a href=\"#HashMap\" class=\"headerlink\" title=\"HashMap\"></a>HashMap</h4><p><strong>:</strong>   Entry[] table</p>\n<p><strong>Entry</strong>KeyvalueEntry next hash int</p>\n<p>put</p>\n<p>keynullnulltable[0]keynullEntryvaluekeyhashcodehash i  i keyvalue   i  EntryEntry[]mapiHashMapmapsizeEntry[]</p>\n<p>get</p>\n<p>keynullnulltable[0]keynullEntrynullkeyhashcodehashi   i keynull</p>\n<h4 id=\"Hashtable\"><a href=\"#Hashtable\" class=\"headerlink\" title=\"Hashtable\"></a>Hashtable</h4><p><strong></strong>  Entry[] table<br>HashTableHashMap.<br>HashtableputkeynullNullPointerException<br>Hashtablesynchronized.</p>\n<h4 id=\"ConcurrentHashMap\"><a href=\"#ConcurrentHashMap\" class=\"headerlink\" title=\"ConcurrentHashMap\"></a>ConcurrentHashMap</h4><p><strong></strong>SegmentEntry</p>\n<p>ConcurrentHashMapconcurrentLevelSegmentkey-value16</p>\n<h4 id=\"WeakHashMap\"><a href=\"#WeakHashMap\" class=\"headerlink\" title=\"WeakHashMap\"></a>WeakHashMap</h4><p><strong></strong>EntryWeakReferenceKeyputgetexpungeStaleEntries()key</p>\n<p>WeakHashMapGCHashMapGC</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>Comparator &amp; Comparable<br> Comparator  Comparable <br>Camparablesort<br>Comparator</li>\n<li>Collectionsstatic<ul>\n<li>    Collections.singletonListCollections.singletonMapCollections.singleton</li>\n<li>CheckedcheckedCollectioncheckedListcheckedMapcheckedSetcheckedSortedMapcheckedSortedSet</li>\n<li></li>\n<li>fillfrequencyindexOfSubListlastIndexOfSubListmaxminreplaceAll</li>\n<li>reverseshufflesortswaprotate</li>\n</ul>\n</li>\n<li>hashCode()<br>hashCode() Object hashCodeequalstruehashCodeStringhashCodeStringhashCodehashCodehashSethashMapkeyhashMap</li>\n</ol>\n"},{"layout":"post","title":"Java  ","description":null,"keywords":"serialize deserialize  ","date":"2013-04-28T16:00:00.000Z","_content":"#### \nJavaJavaJava\n#### Java\nJavaJavaJVMJVMJVMJava\n\nJava\nRMIJavaAPIAPI\n\n#### Java\n Java  Java \n\n Java \n Java \n\n##### \n1. \n2. \n\n Serializable  Externalizable  Externalizable  Serializable Externalizable Serializable  \n\n##### \n1. \n2.  writeObject() \n##### \n1. \n2.  readObject() \n\n\n\n```java\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.ObjectInputStream;\nimport java.io.ObjectOutputStream;\nimport java.io.Serializable;\nimport java.util.Date;\n\npublic class ObjectSaver {\n    public static void main(String[] args) throws Exception {\n        ObjectOutputStream out = new ObjectOutputStream\n            (new FileOutputStream(\"D:\"\"objectFile.obj\"));\n        // \n        Customer customer = new Customer(\"  \", 24);\n        out.writeObject(\"  !\");\n        out.writeObject(new Date());\n        out.writeObject(customer);\n        out.writeInt(123); // \n        out.close();\n        // \n        ObjectInputStream in = new ObjectInputStream\n            (new FileInputStream(\"D:\"\"objectFile.obj\"));\n        System.out.println(\"obj1=\" + (String)in.readObject());\n        System.out.println(\"obj2=\" + (Date)in.readObject());\n        Customer obj3 = (Customer)in.readObject();\n        System.out.println(\"obj3=\" + obj3);\n        int obj4 = in.readInt();\n        System.out.println(\"obj4=\" + obj4);\n        in.close();\n    }\n}\n\nclass Customer implements Serializable {\n    private String name;\n    private int age;\n\n    public Customer(String name, int age) {\n        this.name = name;\n        this.age = age;\n    }\n\n    public String toString() {\n        return \"name=\" + name + \", age=\" + age;\n    }\n}\n```\n\n\n\n\n```\nobj1=  !\nobj2=Sat Sep 15 22:02:21 CST 2007\nobj3=name=  , age=24\nobj4=123\n```\n\n\n\n\n#####  Serializable \nObjectOutputStream  Serializable ObjectOutputStream  transient  transient \n\n ObjectOutputStream \n\n1.  classpath  ClassNotFoundException \n2. \n writeObject()  readObject() \n\n\n```java\nprivate void writeObject(java.io.ObjectOutputStream out) throws IOException\nprivate void readObject(java.io.ObjectInputStream in) throws IOException, ClassNotFoundException;\n```\n\n ObjectOutputStream  Customer  writeObject()  writeObjectt() ObjectOutputStream  defaultWriteObject()  defaultReadObject() \n\n\n\n\n\n\n\n transient \n\n#####  Externalizable \n\nExternalizable  Serializable Externalizable \n\nExternalizable \n\n\n```java\npublic void writeExternal(ObjectOutput out) throws IOException\npublic void readExternal(ObjectInput in) throws IOException , ClassNotFoundException\n```\n\n\n\n Externalizable \n\n private  protected \n java.io.InvalidException: no valid constructor \n\n##### \n Serializable \nprivate static final long serialVersionUID;\n serialVersionUID  Java   serialVersionUID \n\n serialVersionUID  Java  Java serialVersionUID  serialVersionUID serialVersionUID  serialVersionUID \n\n##### \n1.  serialVersionUID \n2.  serialVersionUID \n\n##### transient\n###### \n1. \n2. \nserializablereadResolve\n\nSerializableSerializableSerializable\n\n### \n\n* Serializable\n* Serializable\n* Serializable\n* \n* serialVersionUID\n* Serializablestatic\nthis\n* ListMapSerializablejava.io.NotSerializableException\n\n\n","source":"_posts/Java/2013-04-29-java-seriailze-and-un.md","raw":"---\nlayout: post\ntitle: Java  \ncategories: Java\ndescription:\nkeywords: serialize deserialize  \ndate: 2013-04-29\n---\n#### \nJavaJavaJava\n#### Java\nJavaJavaJVMJVMJVMJava\n\nJava\nRMIJavaAPIAPI\n\n#### Java\n Java  Java \n\n Java \n Java \n\n##### \n1. \n2. \n\n Serializable  Externalizable  Externalizable  Serializable Externalizable Serializable  \n\n##### \n1. \n2.  writeObject() \n##### \n1. \n2.  readObject() \n\n\n\n```java\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.ObjectInputStream;\nimport java.io.ObjectOutputStream;\nimport java.io.Serializable;\nimport java.util.Date;\n\npublic class ObjectSaver {\n    public static void main(String[] args) throws Exception {\n        ObjectOutputStream out = new ObjectOutputStream\n            (new FileOutputStream(\"D:\"\"objectFile.obj\"));\n        // \n        Customer customer = new Customer(\"  \", 24);\n        out.writeObject(\"  !\");\n        out.writeObject(new Date());\n        out.writeObject(customer);\n        out.writeInt(123); // \n        out.close();\n        // \n        ObjectInputStream in = new ObjectInputStream\n            (new FileInputStream(\"D:\"\"objectFile.obj\"));\n        System.out.println(\"obj1=\" + (String)in.readObject());\n        System.out.println(\"obj2=\" + (Date)in.readObject());\n        Customer obj3 = (Customer)in.readObject();\n        System.out.println(\"obj3=\" + obj3);\n        int obj4 = in.readInt();\n        System.out.println(\"obj4=\" + obj4);\n        in.close();\n    }\n}\n\nclass Customer implements Serializable {\n    private String name;\n    private int age;\n\n    public Customer(String name, int age) {\n        this.name = name;\n        this.age = age;\n    }\n\n    public String toString() {\n        return \"name=\" + name + \", age=\" + age;\n    }\n}\n```\n\n\n\n\n```\nobj1=  !\nobj2=Sat Sep 15 22:02:21 CST 2007\nobj3=name=  , age=24\nobj4=123\n```\n\n\n\n\n#####  Serializable \nObjectOutputStream  Serializable ObjectOutputStream  transient  transient \n\n ObjectOutputStream \n\n1.  classpath  ClassNotFoundException \n2. \n writeObject()  readObject() \n\n\n```java\nprivate void writeObject(java.io.ObjectOutputStream out) throws IOException\nprivate void readObject(java.io.ObjectInputStream in) throws IOException, ClassNotFoundException;\n```\n\n ObjectOutputStream  Customer  writeObject()  writeObjectt() ObjectOutputStream  defaultWriteObject()  defaultReadObject() \n\n\n\n\n\n\n\n transient \n\n#####  Externalizable \n\nExternalizable  Serializable Externalizable \n\nExternalizable \n\n\n```java\npublic void writeExternal(ObjectOutput out) throws IOException\npublic void readExternal(ObjectInput in) throws IOException , ClassNotFoundException\n```\n\n\n\n Externalizable \n\n private  protected \n java.io.InvalidException: no valid constructor \n\n##### \n Serializable \nprivate static final long serialVersionUID;\n serialVersionUID  Java   serialVersionUID \n\n serialVersionUID  Java  Java serialVersionUID  serialVersionUID serialVersionUID  serialVersionUID \n\n##### \n1.  serialVersionUID \n2.  serialVersionUID \n\n##### transient\n###### \n1. \n2. \nserializablereadResolve\n\nSerializableSerializableSerializable\n\n### \n\n* Serializable\n* Serializable\n* Serializable\n* \n* serialVersionUID\n* Serializablestatic\nthis\n* ListMapSerializablejava.io.NotSerializableException\n\n\n","slug":"Java/2013-04-29-java-seriailze-and-un","published":1,"updated":"2018-11-10T08:59:09.797Z","comments":1,"photos":[],"link":"","_id":"cjtohbkaq005u6f12dzrl8t0a","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>JavaJavaJava</p>\n<h4 id=\"Java\"><a href=\"#Java\" class=\"headerlink\" title=\"Java\"></a>Java</h4><p>JavaJavaJVMJVMJVMJava<br><br>Java<br>RMIJavaAPIAPI\n</p>\n<h4 id=\"Java\"><a href=\"#Java\" class=\"headerlink\" title=\"Java\"></a>Java</h4><p> Java  Java </p>\n<p> Java <br> Java </p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ol>\n<li></li>\n<li></li>\n</ol>\n<p> Serializable  Externalizable  Externalizable  Serializable Externalizable Serializable  </p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ol>\n<li></li>\n<li> writeObject() <h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5></li>\n<li></li>\n<li> readObject() <br></li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.io.FileInputStream;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.FileOutputStream;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.ObjectInputStream;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.ObjectOutputStream;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.Serializable;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.Date;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ObjectSaver</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> <span class=\"keyword\">throws</span> Exception </span>&#123;</span><br><span class=\"line\">        ObjectOutputStream out = <span class=\"keyword\">new</span> ObjectOutputStream</span><br><span class=\"line\">            (<span class=\"keyword\">new</span> FileOutputStream(<span class=\"string\">\"D:\"</span><span class=\"string\">\"objectFile.obj\"</span>));</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        Customer customer = <span class=\"keyword\">new</span> Customer(<span class=\"string\">\"  \"</span>, <span class=\"number\">24</span>);</span><br><span class=\"line\">        out.writeObject(<span class=\"string\">\"  !\"</span>);</span><br><span class=\"line\">        out.writeObject(<span class=\"keyword\">new</span> Date());</span><br><span class=\"line\">        out.writeObject(customer);</span><br><span class=\"line\">        out.writeInt(<span class=\"number\">123</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">        out.close();</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        ObjectInputStream in = <span class=\"keyword\">new</span> ObjectInputStream</span><br><span class=\"line\">            (<span class=\"keyword\">new</span> FileInputStream(<span class=\"string\">\"D:\"</span><span class=\"string\">\"objectFile.obj\"</span>));</span><br><span class=\"line\">        System.out.println(<span class=\"string\">\"obj1=\"</span> + (String)in.readObject());</span><br><span class=\"line\">        System.out.println(<span class=\"string\">\"obj2=\"</span> + (Date)in.readObject());</span><br><span class=\"line\">        Customer obj3 = (Customer)in.readObject();</span><br><span class=\"line\">        System.out.println(<span class=\"string\">\"obj3=\"</span> + obj3);</span><br><span class=\"line\">        <span class=\"keyword\">int</span> obj4 = in.readInt();</span><br><span class=\"line\">        System.out.println(<span class=\"string\">\"obj4=\"</span> + obj4);</span><br><span class=\"line\">        in.close();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Customer</span> <span class=\"keyword\">implements</span> <span class=\"title\">Serializable</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String name;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> age;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Customer</span><span class=\"params\">(String name, <span class=\"keyword\">int</span> age)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.name = name;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.age = age;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">toString</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"name=\"</span> + name + <span class=\"string\">\", age=\"</span> + age;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">obj1=  !</span><br><span class=\"line\">obj2=Sat Sep 15 22:02:21 CST 2007</span><br><span class=\"line\">obj3=name=  , age=24</span><br><span class=\"line\">obj4=123</span><br></pre></td></tr></table></figure>\n<p></p>\n<h5 id=\"-Serializable-\"><a href=\"#-Serializable-\" class=\"headerlink\" title=\" Serializable \"></a> Serializable </h5><p>ObjectOutputStream  Serializable ObjectOutputStream  transient  transient </p>\n<p> ObjectOutputStream </p>\n<ol>\n<li> classpath  ClassNotFoundException </li>\n<li><br> writeObject()  readObject() </li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">writeObject</span><span class=\"params\">(java.io.ObjectOutputStream out)</span> <span class=\"keyword\">throws</span> IOException</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">readObject</span><span class=\"params\">(java.io.ObjectInputStream in)</span> <span class=\"keyword\">throws</span> IOException, ClassNotFoundException</span>;</span><br></pre></td></tr></table></figure>\n<p> ObjectOutputStream  Customer  writeObject()  writeObjectt() ObjectOutputStream  defaultWriteObject()  defaultReadObject() </p>\n<p></p>\n<p></p>\n<p></p>\n<p> transient </p>\n<h5 id=\"-Externalizable-\"><a href=\"#-Externalizable-\" class=\"headerlink\" title=\" Externalizable \"></a> Externalizable </h5><p>Externalizable  Serializable Externalizable </p>\n<p>Externalizable </p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">writeExternal</span><span class=\"params\">(ObjectOutput out)</span> <span class=\"keyword\">throws</span> IOException</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">readExternal</span><span class=\"params\">(ObjectInput in)</span> <span class=\"keyword\">throws</span> IOException , ClassNotFoundException</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<p> Externalizable </p>\n<p> private  protected <br> java.io.InvalidException: no valid constructor </p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p> Serializable <br>private static final long serialVersionUID;<br> serialVersionUID  Java   serialVersionUID </p>\n<p> serialVersionUID  Java  Java serialVersionUID  serialVersionUID serialVersionUID  serialVersionUID </p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ol>\n<li> serialVersionUID </li>\n<li> serialVersionUID </li>\n</ol>\n<h5 id=\"transient\"><a href=\"#transient\" class=\"headerlink\" title=\"transient\"></a>transient</h5><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ol>\n<li></li>\n<li><br>serializablereadResolve</li>\n</ol>\n<p>SerializableSerializableSerializable</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>Serializable</li>\n<li>Serializable</li>\n<li>Serializable</li>\n<li></li>\n<li>serialVersionUID</li>\n<li>Serializablestatic<br>this</li>\n<li>ListMapSerializablejava.io.NotSerializableException</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>JavaJavaJava</p>\n<h4 id=\"Java\"><a href=\"#Java\" class=\"headerlink\" title=\"Java\"></a>Java</h4><p>JavaJavaJVMJVMJVMJava<br><br>Java<br>RMIJavaAPIAPI\n</p>\n<h4 id=\"Java\"><a href=\"#Java\" class=\"headerlink\" title=\"Java\"></a>Java</h4><p> Java  Java </p>\n<p> Java <br> Java </p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ol>\n<li></li>\n<li></li>\n</ol>\n<p> Serializable  Externalizable  Externalizable  Serializable Externalizable Serializable  </p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ol>\n<li></li>\n<li> writeObject() <h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5></li>\n<li></li>\n<li> readObject() <br></li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.io.FileInputStream;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.FileOutputStream;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.ObjectInputStream;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.ObjectOutputStream;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.Serializable;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.Date;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ObjectSaver</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> <span class=\"keyword\">throws</span> Exception </span>&#123;</span><br><span class=\"line\">        ObjectOutputStream out = <span class=\"keyword\">new</span> ObjectOutputStream</span><br><span class=\"line\">            (<span class=\"keyword\">new</span> FileOutputStream(<span class=\"string\">\"D:\"</span><span class=\"string\">\"objectFile.obj\"</span>));</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        Customer customer = <span class=\"keyword\">new</span> Customer(<span class=\"string\">\"  \"</span>, <span class=\"number\">24</span>);</span><br><span class=\"line\">        out.writeObject(<span class=\"string\">\"  !\"</span>);</span><br><span class=\"line\">        out.writeObject(<span class=\"keyword\">new</span> Date());</span><br><span class=\"line\">        out.writeObject(customer);</span><br><span class=\"line\">        out.writeInt(<span class=\"number\">123</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">        out.close();</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        ObjectInputStream in = <span class=\"keyword\">new</span> ObjectInputStream</span><br><span class=\"line\">            (<span class=\"keyword\">new</span> FileInputStream(<span class=\"string\">\"D:\"</span><span class=\"string\">\"objectFile.obj\"</span>));</span><br><span class=\"line\">        System.out.println(<span class=\"string\">\"obj1=\"</span> + (String)in.readObject());</span><br><span class=\"line\">        System.out.println(<span class=\"string\">\"obj2=\"</span> + (Date)in.readObject());</span><br><span class=\"line\">        Customer obj3 = (Customer)in.readObject();</span><br><span class=\"line\">        System.out.println(<span class=\"string\">\"obj3=\"</span> + obj3);</span><br><span class=\"line\">        <span class=\"keyword\">int</span> obj4 = in.readInt();</span><br><span class=\"line\">        System.out.println(<span class=\"string\">\"obj4=\"</span> + obj4);</span><br><span class=\"line\">        in.close();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Customer</span> <span class=\"keyword\">implements</span> <span class=\"title\">Serializable</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String name;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> age;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Customer</span><span class=\"params\">(String name, <span class=\"keyword\">int</span> age)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.name = name;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.age = age;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">toString</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"name=\"</span> + name + <span class=\"string\">\", age=\"</span> + age;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">obj1=  !</span><br><span class=\"line\">obj2=Sat Sep 15 22:02:21 CST 2007</span><br><span class=\"line\">obj3=name=  , age=24</span><br><span class=\"line\">obj4=123</span><br></pre></td></tr></table></figure>\n<p></p>\n<h5 id=\"-Serializable-\"><a href=\"#-Serializable-\" class=\"headerlink\" title=\" Serializable \"></a> Serializable </h5><p>ObjectOutputStream  Serializable ObjectOutputStream  transient  transient </p>\n<p> ObjectOutputStream </p>\n<ol>\n<li> classpath  ClassNotFoundException </li>\n<li><br> writeObject()  readObject() </li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">writeObject</span><span class=\"params\">(java.io.ObjectOutputStream out)</span> <span class=\"keyword\">throws</span> IOException</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">readObject</span><span class=\"params\">(java.io.ObjectInputStream in)</span> <span class=\"keyword\">throws</span> IOException, ClassNotFoundException</span>;</span><br></pre></td></tr></table></figure>\n<p> ObjectOutputStream  Customer  writeObject()  writeObjectt() ObjectOutputStream  defaultWriteObject()  defaultReadObject() </p>\n<p></p>\n<p></p>\n<p></p>\n<p> transient </p>\n<h5 id=\"-Externalizable-\"><a href=\"#-Externalizable-\" class=\"headerlink\" title=\" Externalizable \"></a> Externalizable </h5><p>Externalizable  Serializable Externalizable </p>\n<p>Externalizable </p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">writeExternal</span><span class=\"params\">(ObjectOutput out)</span> <span class=\"keyword\">throws</span> IOException</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">readExternal</span><span class=\"params\">(ObjectInput in)</span> <span class=\"keyword\">throws</span> IOException , ClassNotFoundException</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<p> Externalizable </p>\n<p> private  protected <br> java.io.InvalidException: no valid constructor </p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p> Serializable <br>private static final long serialVersionUID;<br> serialVersionUID  Java   serialVersionUID </p>\n<p> serialVersionUID  Java  Java serialVersionUID  serialVersionUID serialVersionUID  serialVersionUID </p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ol>\n<li> serialVersionUID </li>\n<li> serialVersionUID </li>\n</ol>\n<h5 id=\"transient\"><a href=\"#transient\" class=\"headerlink\" title=\"transient\"></a>transient</h5><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ol>\n<li></li>\n<li><br>serializablereadResolve</li>\n</ol>\n<p>SerializableSerializableSerializable</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>Serializable</li>\n<li>Serializable</li>\n<li>Serializable</li>\n<li></li>\n<li>serialVersionUID</li>\n<li>Serializablestatic<br>this</li>\n<li>ListMapSerializablejava.io.NotSerializableException</li>\n</ul>\n"},{"layout":"post","title":"HTTPHttpClient","description":null,"keywords":"httpclient","date":"2013-07-03T16:00:00.000Z","_content":"\n#### HttpClient \n\nHttpClient  Apache Jakarta Common  HTTP  HTTP \n\n#### HttpClient \n\n HTTP GET,POST,PUT,HEAD \n\n HTTPS \n\nHttpClient\n\n#### HttpClient \n##### Get\n\n HttpClient  6 \n\n1.  HttpClient \n2.  GetMethod GetMethod \n3.  execute  method \n4.  response\n5. \n6. \n\nDemo \n\n\n```java\n //HttpClient\n  HttpClient httpClient = new HttpClient();\n  //GET\n  GetMethod getMethod = new GetMethod(\"http://www.ibm.com\");\n  //\n  getMethod.getParams().setParameter(HttpMethodParams.RETRY_HANDLER,\n    new DefaultHttpMethodRetryHandler());\n  try {\n   //getMethod\n   int statusCode = httpClient.executeMethod(getMethod);\n   if (statusCode != HttpStatus.SC_OK) {\n    System.err.println(\"Method failed: \"\n      + getMethod.getStatusLine());\n   }\n   //\n   byte[] responseBody = getMethod.getResponseBody();\n   //\n   System.out.println(new String(responseBody));\n  } catch (HttpException e) {\n   //\n   System.out.println(\"Please check your provided http address!\");\n   e.printStackTrace();\n  } catch (IOException e) {\n   //\n   e.printStackTrace();\n  } finally {\n   //\n   getMethod.releaseConnection();\n  }\n }\n```\n\n\n\n1. HttpClientHttpMethodRetryHandlerhttpClientsetParameterdemoIOException3\n2. GetMethodsetFollowRedirects(false)\n3. executeMethod\n4. getResponseBody(byte)getResponseBodyAsString(String)getResponseBodyAsStream()\n5. getResponseBodyAsStringResponseheaderhtmlmethodgetResponseCharSet()httpResponebody`<meta http-equiv=Content-Type content=text/html; charset=GBK/><?xml version=1.0 encoding=GBK?>`header\n6. \n\n\n```java\nmethod.releaseConnection();\n```\n\n##### Post\nPostMethodGetMethod\n\n\n\n* POSTPUT\n\nProxy(host)\nurlhosthttpClient\n\n\n```java\n HttpClient httpclient = new HttpClient();\n            // HTTPIP\n            httpclient.getHostConfiguration().setProxy(hostIp, hostIpPort);\n```\nHttps\nHttpClientSSLHttpClientHttps\n\nhttpskeystoreHttpClient\n\n1[HTTPS](http://www.ibm.com/developerworks/cn/opensource/os-httpclient/#N10060)\n\n2\n\n1. socket factorySecureProtocolSocketFactory\n2.  TrustAnyTrustManager implements X509TrustManager\n3. Protocol socket factory Protocol\n\n\n```java\nProtocol myhttps = new Protocol(\"https\", new MySecureProtocolSocketFactory(), 443);\n        Protocol.registerProtocol(\"https\", myhttps);\n```\n\n\nCookie\n\nstatecookiehttpclient.getState().getCookies();\n\n\n```java\n    CookieSpec cookiespec = CookiePolicy.getDefaultSpec();\n            cookies = cookiespec.match(\"login.daily.taobao.net\", hostIpPort, \"/\", false,\n                    httpClient.getState().getCookies());\n```\n\nCookieSpeccookiecookiespec.matchcookie\n\nstatecookie:\n\n\n```java\nhttpclient.getParams().setCookiePolicy(CookiePolicy.RFC_2109);//RFC_2109cookie\nHttpState initialState = new HttpState();\nCookie cookie=new Cookie();\ncookie.setDomain(\"www.balblabla.com\");\ncookie.setPath(\"/\");\ncookie.setName(\"\");\ncookie.setValue(\"\");\ninitialState.addCookie(cookie);\nhttpclient.setState(initialState);\n```\n\ncookieRFC 2109RFC 2965best-matchmeta()\n\ncookie\n\n\n```java\n postMethod.setRequestHeader(\"Cookie\", cookieToString(cookies));\n```\nhttpClientcookiehttpclientcookie\n\nHTTP\nhttpclientHttpMethodMultipartPostMethod\n\n\n```java\n      ArrayList<Part> partArray = new ArrayList<Part>();\n            for (int i = 0; i < params.size(); i++) {\n                if (params.get(i) instanceof FileNameValuePair) {\n                    partArray.add(new FilePart(params.get(i).getName(), ((FileNameValuePair) params.get(i)).getFile()));\n                } else {\n                    postMethod.addParameter(params.get(i).getName(), params.get(i).getValue());\n                }\n            }\n            Part[] parts = new Part[partArray.size()];\n            for (int i = 0; i < partArray.size(); i++) {\n                parts[i] = partArray.get(i);\n            }\n            postMethod.setRequestEntity(new MultipartRequestEntity(parts, postMethod.getParams()));\n\n            int statusCode = httpclient.executeMethod(postMethod);\n```\n\nHTTP\n\n\n```java\npublic static String LoginDailyToGetPageWithHost(String nick, String psw, String scopeString, String url, List<NameValuePair> params, String hostIp, Integer hostIpPort) throws IOException {\n        Protocol myhttps = new Protocol(\"https\", new MySecureProtocolSocketFactory(), 443);\n        Protocol.registerProtocol(\"https\", myhttps);\n        HttpClient httpClient = new HttpClient();\n        Cookie[] cookies;\n        LOGIN_URL = LOGIN_URL + \"?redirectURL=\" + url;\n        PostMethod postMethod = new PostMethod(LOGIN_URL);\n        postMethod.getParams().setParameter(HttpMethodParams.HTTP_CONTENT_CHARSET, \"GBK\");\n        List<org.apache.commons.httpclient.NameValuePair> nameValues = new ArrayList<org.apache.commons.httpclient.NameValuePair>();\n        nameValues.add(new org.apache.commons.httpclient.NameValuePair(\"TPL_username\", nick));\n        nameValues.add(new org.apache.commons.httpclient.NameValuePair(\"TPL_password\", psw));\n        nameValues.add(new org.apache.commons.httpclient.NameValuePair(\"action\", \"Authenticator\"));\n        /** httpclient post,fuck */\n//        nameValues.add(new org.apache.commons.httpclient.NameValuePair(\"TPL_redirect_url\", url));\n        nameValues.add(new org.apache.commons.httpclient.NameValuePair(\"from\", \"tb\"));\n        nameValues.add(new org.apache.commons.httpclient.NameValuePair(\"event_submit_do_login\", \"anything\"));\n        nameValues.add(new org.apache.commons.httpclient.NameValuePair(\"TPL_checkcode\", \"8888\"));\n        nameValues.add(new org.apache.commons.httpclient.NameValuePair(\"loginType\", \"3\"));\n\n        postMethod.setRequestBody(nameValues.toArray(new org.apache.commons.httpclient.NameValuePair[nameValues.size()]));\n        try {\n            int status = httpClient.executeMethod(postMethod);\n            System.out.println(status);\n            CookieSpec cookiespec = CookiePolicy.getDefaultSpec();\n            cookies = cookiespec.match(\"login.daily.taobao.net\", hostIpPort, \"/\", false,\n                    httpClient.getState().getCookies());\n        } catch (Exception e) {\n            System.out.println(\"Exception: \" + e.toString());\n            return null;\n        } finally {\n            postMethod.releaseConnection();\n        }\n\n        int postresult = -1;\n        if (scopeString != null) {\n            url = url + \"&\" + scopeString;\n        }\n        try {\n            URI uri = new URI(url);\n            postMethod.setURI(uri);\n            // cookie  302i.daily.taobao.net\n            postMethod.setRequestHeader(\"Cookie\", cookieToString(cookies));\n            // HTTPIP\n            httpClient.getHostConfiguration().setProxy(hostIp, hostIpPort);\n            if (params != null) {\n                for (int i = 0; i < params.size(); i++) {\n                    postMethod.addParameter(params.get(i).getName(), params.get(i).getValue());\n                }\n            }\n            postresult = httpClient.executeMethod(postMethod);\n        } catch (Exception e) {\n            System.out.println(\"Exception: \" + e.toString());\n        } finally {\n            postMethod.releaseConnection();\n        }\n\n        return postresult + postMethod.getResponseBodyAsString();\n    }\n\n    public static String cookieToString(Cookie[] cookie){\n        StringBuffer cookieBuf = new StringBuffer(256);\n        for(Cookie tmpCookie:cookie){\n            cookieBuf.append(tmpCookie).append(\";\");\n        }\n        return cookieBuf.toString();\n    }\n```\n\nMySecureProtocolSocketFactory \n\n\n```java\npublic class MySecureProtocolSocketFactory implements SecureProtocolSocketFactory {\n\n    private SSLContext sslcontext = null;\n    private SSLContext createSSLContext() {\n        SSLContext sslcontext=null;\n        try {\n            sslcontext = SSLContext.getInstance(\"SSL\");\n            sslcontext.init(null, new TrustManager[]{new TrustAnyTrustManager()}, new java.security.SecureRandom());\n        } catch (NoSuchAlgorithmException e) {\n            e.printStackTrace();\n        } catch (KeyManagementException e) {\n            e.printStackTrace();\n        }\n        return sslcontext;\n    }\n    private SSLContext getSSLContext() {\n        if (this.sslcontext == null) {\n            this.sslcontext = createSSLContext();\n        }\n        return this.sslcontext;\n    }\n    public Socket createSocket(Socket socket, String host, int port, boolean autoClose)\n            throws IOException, UnknownHostException {\n        return getSSLContext().getSocketFactory().createSocket(\n                socket,\n                host,\n                port,\n                autoClose);\n    }\n    public Socket createSocket(String host, int port) throws IOException,\n            UnknownHostException {\n        return getSSLContext().getSocketFactory().createSocket(\n                host,\n                port);\n    }\n\n    public Socket createSocket(String host, int port, InetAddress clientHost, int clientPort)\n            throws IOException, UnknownHostException {\n    \treturn getSSLContext().getSocketFactory().createSocket(host, port, clientHost, clientPort);\n    }\n    public Socket createSocket(String host, int port, InetAddress localAddress,\n            int localPort, HttpConnectionParams params) throws IOException,\n            UnknownHostException, ConnectTimeoutException {\n        if (params == null) {\n            throw new IllegalArgumentException(\"Parameters may not be null\");\n        }\n        int timeout = params.getConnectionTimeout();\n        SocketFactory socketfactory = getSSLContext().getSocketFactory();\n        if (timeout == 0) {\n            return socketfactory.createSocket(host, port, localAddress, localPort);\n        } else {\n            Socket socket = socketfactory.createSocket();\n            SocketAddress localaddr = new InetSocketAddress(localAddress, localPort);\n            SocketAddress remoteaddr = new InetSocketAddress(host, port);\n            socket.bind(localaddr);\n            socket.connect(remoteaddr, timeout);\n            return socket;\n        }\n    }\n    //\n    class TrustAnyTrustManager implements X509TrustManager {\n        public void checkClientTrusted(X509Certificate[] chain, String authType) throws CertificateException {\n        }\n        public void checkServerTrusted(X509Certificate[] chain, String authType) throws CertificateException {\n        }\n        public X509Certificate[] getAcceptedIssuers() {\n            return new X509Certificate[]{};\n        }\n    }\n}\n```\n\nHttpClient \n\n1.    200 responebody = null \n executeMethod  getMethod.getResponseBodyAsString() null\n executeMethod    if (getresult == HttpStatus.SC_OK)  \n  \n\n2. url:http://,\n3. new HttpGet(url)  java.net.URISyntaxException \nurl &StringURI%0xXXStringURLURLURI.\n\n\n\n\n```java\nURL url = new URL(strUrl);\nURI  uri = new URI(url.getProtocol(),null, url.getHost(),url.getPort(), url.getPath(), url.getQuery(), null);\nHttpClient client    = new DefaultHttpClient();\nHttpGet httpget = new HttpGet(uri);\n```\n http://queryString:\n\n\n```java\n String url = \"http://**.**.com/user/deployPackInfoDetail.htm\";\n        String queryString = \"buildPackageId=\"+ buildPackageId;\n        GetMethod getMethod = new GetMethod(url);\n        getMethod.setQueryString(queryString);\n```\n\n\n","source":"_posts/Java/2013-07-04-httpclient.md","raw":"---\nlayout: post\ntitle: HTTPHttpClient\ncategories: Java\ndescription:\nkeywords: httpclient\ndate: 2013-07-04\n---\n\n#### HttpClient \n\nHttpClient  Apache Jakarta Common  HTTP  HTTP \n\n#### HttpClient \n\n HTTP GET,POST,PUT,HEAD \n\n HTTPS \n\nHttpClient\n\n#### HttpClient \n##### Get\n\n HttpClient  6 \n\n1.  HttpClient \n2.  GetMethod GetMethod \n3.  execute  method \n4.  response\n5. \n6. \n\nDemo \n\n\n```java\n //HttpClient\n  HttpClient httpClient = new HttpClient();\n  //GET\n  GetMethod getMethod = new GetMethod(\"http://www.ibm.com\");\n  //\n  getMethod.getParams().setParameter(HttpMethodParams.RETRY_HANDLER,\n    new DefaultHttpMethodRetryHandler());\n  try {\n   //getMethod\n   int statusCode = httpClient.executeMethod(getMethod);\n   if (statusCode != HttpStatus.SC_OK) {\n    System.err.println(\"Method failed: \"\n      + getMethod.getStatusLine());\n   }\n   //\n   byte[] responseBody = getMethod.getResponseBody();\n   //\n   System.out.println(new String(responseBody));\n  } catch (HttpException e) {\n   //\n   System.out.println(\"Please check your provided http address!\");\n   e.printStackTrace();\n  } catch (IOException e) {\n   //\n   e.printStackTrace();\n  } finally {\n   //\n   getMethod.releaseConnection();\n  }\n }\n```\n\n\n\n1. HttpClientHttpMethodRetryHandlerhttpClientsetParameterdemoIOException3\n2. GetMethodsetFollowRedirects(false)\n3. executeMethod\n4. getResponseBody(byte)getResponseBodyAsString(String)getResponseBodyAsStream()\n5. getResponseBodyAsStringResponseheaderhtmlmethodgetResponseCharSet()httpResponebody`<meta http-equiv=Content-Type content=text/html; charset=GBK/><?xml version=1.0 encoding=GBK?>`header\n6. \n\n\n```java\nmethod.releaseConnection();\n```\n\n##### Post\nPostMethodGetMethod\n\n\n\n* POSTPUT\n\nProxy(host)\nurlhosthttpClient\n\n\n```java\n HttpClient httpclient = new HttpClient();\n            // HTTPIP\n            httpclient.getHostConfiguration().setProxy(hostIp, hostIpPort);\n```\nHttps\nHttpClientSSLHttpClientHttps\n\nhttpskeystoreHttpClient\n\n1[HTTPS](http://www.ibm.com/developerworks/cn/opensource/os-httpclient/#N10060)\n\n2\n\n1. socket factorySecureProtocolSocketFactory\n2.  TrustAnyTrustManager implements X509TrustManager\n3. Protocol socket factory Protocol\n\n\n```java\nProtocol myhttps = new Protocol(\"https\", new MySecureProtocolSocketFactory(), 443);\n        Protocol.registerProtocol(\"https\", myhttps);\n```\n\n\nCookie\n\nstatecookiehttpclient.getState().getCookies();\n\n\n```java\n    CookieSpec cookiespec = CookiePolicy.getDefaultSpec();\n            cookies = cookiespec.match(\"login.daily.taobao.net\", hostIpPort, \"/\", false,\n                    httpClient.getState().getCookies());\n```\n\nCookieSpeccookiecookiespec.matchcookie\n\nstatecookie:\n\n\n```java\nhttpclient.getParams().setCookiePolicy(CookiePolicy.RFC_2109);//RFC_2109cookie\nHttpState initialState = new HttpState();\nCookie cookie=new Cookie();\ncookie.setDomain(\"www.balblabla.com\");\ncookie.setPath(\"/\");\ncookie.setName(\"\");\ncookie.setValue(\"\");\ninitialState.addCookie(cookie);\nhttpclient.setState(initialState);\n```\n\ncookieRFC 2109RFC 2965best-matchmeta()\n\ncookie\n\n\n```java\n postMethod.setRequestHeader(\"Cookie\", cookieToString(cookies));\n```\nhttpClientcookiehttpclientcookie\n\nHTTP\nhttpclientHttpMethodMultipartPostMethod\n\n\n```java\n      ArrayList<Part> partArray = new ArrayList<Part>();\n            for (int i = 0; i < params.size(); i++) {\n                if (params.get(i) instanceof FileNameValuePair) {\n                    partArray.add(new FilePart(params.get(i).getName(), ((FileNameValuePair) params.get(i)).getFile()));\n                } else {\n                    postMethod.addParameter(params.get(i).getName(), params.get(i).getValue());\n                }\n            }\n            Part[] parts = new Part[partArray.size()];\n            for (int i = 0; i < partArray.size(); i++) {\n                parts[i] = partArray.get(i);\n            }\n            postMethod.setRequestEntity(new MultipartRequestEntity(parts, postMethod.getParams()));\n\n            int statusCode = httpclient.executeMethod(postMethod);\n```\n\nHTTP\n\n\n```java\npublic static String LoginDailyToGetPageWithHost(String nick, String psw, String scopeString, String url, List<NameValuePair> params, String hostIp, Integer hostIpPort) throws IOException {\n        Protocol myhttps = new Protocol(\"https\", new MySecureProtocolSocketFactory(), 443);\n        Protocol.registerProtocol(\"https\", myhttps);\n        HttpClient httpClient = new HttpClient();\n        Cookie[] cookies;\n        LOGIN_URL = LOGIN_URL + \"?redirectURL=\" + url;\n        PostMethod postMethod = new PostMethod(LOGIN_URL);\n        postMethod.getParams().setParameter(HttpMethodParams.HTTP_CONTENT_CHARSET, \"GBK\");\n        List<org.apache.commons.httpclient.NameValuePair> nameValues = new ArrayList<org.apache.commons.httpclient.NameValuePair>();\n        nameValues.add(new org.apache.commons.httpclient.NameValuePair(\"TPL_username\", nick));\n        nameValues.add(new org.apache.commons.httpclient.NameValuePair(\"TPL_password\", psw));\n        nameValues.add(new org.apache.commons.httpclient.NameValuePair(\"action\", \"Authenticator\"));\n        /** httpclient post,fuck */\n//        nameValues.add(new org.apache.commons.httpclient.NameValuePair(\"TPL_redirect_url\", url));\n        nameValues.add(new org.apache.commons.httpclient.NameValuePair(\"from\", \"tb\"));\n        nameValues.add(new org.apache.commons.httpclient.NameValuePair(\"event_submit_do_login\", \"anything\"));\n        nameValues.add(new org.apache.commons.httpclient.NameValuePair(\"TPL_checkcode\", \"8888\"));\n        nameValues.add(new org.apache.commons.httpclient.NameValuePair(\"loginType\", \"3\"));\n\n        postMethod.setRequestBody(nameValues.toArray(new org.apache.commons.httpclient.NameValuePair[nameValues.size()]));\n        try {\n            int status = httpClient.executeMethod(postMethod);\n            System.out.println(status);\n            CookieSpec cookiespec = CookiePolicy.getDefaultSpec();\n            cookies = cookiespec.match(\"login.daily.taobao.net\", hostIpPort, \"/\", false,\n                    httpClient.getState().getCookies());\n        } catch (Exception e) {\n            System.out.println(\"Exception: \" + e.toString());\n            return null;\n        } finally {\n            postMethod.releaseConnection();\n        }\n\n        int postresult = -1;\n        if (scopeString != null) {\n            url = url + \"&\" + scopeString;\n        }\n        try {\n            URI uri = new URI(url);\n            postMethod.setURI(uri);\n            // cookie  302i.daily.taobao.net\n            postMethod.setRequestHeader(\"Cookie\", cookieToString(cookies));\n            // HTTPIP\n            httpClient.getHostConfiguration().setProxy(hostIp, hostIpPort);\n            if (params != null) {\n                for (int i = 0; i < params.size(); i++) {\n                    postMethod.addParameter(params.get(i).getName(), params.get(i).getValue());\n                }\n            }\n            postresult = httpClient.executeMethod(postMethod);\n        } catch (Exception e) {\n            System.out.println(\"Exception: \" + e.toString());\n        } finally {\n            postMethod.releaseConnection();\n        }\n\n        return postresult + postMethod.getResponseBodyAsString();\n    }\n\n    public static String cookieToString(Cookie[] cookie){\n        StringBuffer cookieBuf = new StringBuffer(256);\n        for(Cookie tmpCookie:cookie){\n            cookieBuf.append(tmpCookie).append(\";\");\n        }\n        return cookieBuf.toString();\n    }\n```\n\nMySecureProtocolSocketFactory \n\n\n```java\npublic class MySecureProtocolSocketFactory implements SecureProtocolSocketFactory {\n\n    private SSLContext sslcontext = null;\n    private SSLContext createSSLContext() {\n        SSLContext sslcontext=null;\n        try {\n            sslcontext = SSLContext.getInstance(\"SSL\");\n            sslcontext.init(null, new TrustManager[]{new TrustAnyTrustManager()}, new java.security.SecureRandom());\n        } catch (NoSuchAlgorithmException e) {\n            e.printStackTrace();\n        } catch (KeyManagementException e) {\n            e.printStackTrace();\n        }\n        return sslcontext;\n    }\n    private SSLContext getSSLContext() {\n        if (this.sslcontext == null) {\n            this.sslcontext = createSSLContext();\n        }\n        return this.sslcontext;\n    }\n    public Socket createSocket(Socket socket, String host, int port, boolean autoClose)\n            throws IOException, UnknownHostException {\n        return getSSLContext().getSocketFactory().createSocket(\n                socket,\n                host,\n                port,\n                autoClose);\n    }\n    public Socket createSocket(String host, int port) throws IOException,\n            UnknownHostException {\n        return getSSLContext().getSocketFactory().createSocket(\n                host,\n                port);\n    }\n\n    public Socket createSocket(String host, int port, InetAddress clientHost, int clientPort)\n            throws IOException, UnknownHostException {\n    \treturn getSSLContext().getSocketFactory().createSocket(host, port, clientHost, clientPort);\n    }\n    public Socket createSocket(String host, int port, InetAddress localAddress,\n            int localPort, HttpConnectionParams params) throws IOException,\n            UnknownHostException, ConnectTimeoutException {\n        if (params == null) {\n            throw new IllegalArgumentException(\"Parameters may not be null\");\n        }\n        int timeout = params.getConnectionTimeout();\n        SocketFactory socketfactory = getSSLContext().getSocketFactory();\n        if (timeout == 0) {\n            return socketfactory.createSocket(host, port, localAddress, localPort);\n        } else {\n            Socket socket = socketfactory.createSocket();\n            SocketAddress localaddr = new InetSocketAddress(localAddress, localPort);\n            SocketAddress remoteaddr = new InetSocketAddress(host, port);\n            socket.bind(localaddr);\n            socket.connect(remoteaddr, timeout);\n            return socket;\n        }\n    }\n    //\n    class TrustAnyTrustManager implements X509TrustManager {\n        public void checkClientTrusted(X509Certificate[] chain, String authType) throws CertificateException {\n        }\n        public void checkServerTrusted(X509Certificate[] chain, String authType) throws CertificateException {\n        }\n        public X509Certificate[] getAcceptedIssuers() {\n            return new X509Certificate[]{};\n        }\n    }\n}\n```\n\nHttpClient \n\n1.    200 responebody = null \n executeMethod  getMethod.getResponseBodyAsString() null\n executeMethod    if (getresult == HttpStatus.SC_OK)  \n  \n\n2. url:http://,\n3. new HttpGet(url)  java.net.URISyntaxException \nurl &StringURI%0xXXStringURLURLURI.\n\n\n\n\n```java\nURL url = new URL(strUrl);\nURI  uri = new URI(url.getProtocol(),null, url.getHost(),url.getPort(), url.getPath(), url.getQuery(), null);\nHttpClient client    = new DefaultHttpClient();\nHttpGet httpget = new HttpGet(uri);\n```\n http://queryString:\n\n\n```java\n String url = \"http://**.**.com/user/deployPackInfoDetail.htm\";\n        String queryString = \"buildPackageId=\"+ buildPackageId;\n        GetMethod getMethod = new GetMethod(url);\n        getMethod.setQueryString(queryString);\n```\n\n\n","slug":"Java/2013-07-04-httpclient","published":1,"updated":"2018-11-10T08:59:09.797Z","comments":1,"photos":[],"link":"","_id":"cjtohbkar005x6f12331zmemm","content":"<h4 id=\"HttpClient-\"><a href=\"#HttpClient-\" class=\"headerlink\" title=\"HttpClient \"></a>HttpClient </h4><p>HttpClient  Apache Jakarta Common  HTTP  HTTP </p>\n<h4 id=\"HttpClient-\"><a href=\"#HttpClient-\" class=\"headerlink\" title=\"HttpClient \"></a>HttpClient </h4><p> HTTP GET,POST,PUT,HEAD <br><br> HTTPS <br><br>HttpClient</p>\n<h4 id=\"HttpClient-\"><a href=\"#HttpClient-\" class=\"headerlink\" title=\"HttpClient \"></a>HttpClient </h4><h5 id=\"Get\"><a href=\"#Get\" class=\"headerlink\" title=\"Get\"></a>Get</h5><p> HttpClient  6 </p>\n<ol>\n<li> HttpClient </li>\n<li> GetMethod GetMethod </li>\n<li> execute  method </li>\n<li> response</li>\n<li></li>\n<li></li>\n</ol>\n<p>Demo </p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//HttpClient</span></span><br><span class=\"line\"> HttpClient httpClient = <span class=\"keyword\">new</span> HttpClient();</span><br><span class=\"line\"> <span class=\"comment\">//GET</span></span><br><span class=\"line\"> GetMethod getMethod = <span class=\"keyword\">new</span> GetMethod(<span class=\"string\">\"http://www.ibm.com\"</span>);</span><br><span class=\"line\"> <span class=\"comment\">//</span></span><br><span class=\"line\"> getMethod.getParams().setParameter(HttpMethodParams.RETRY_HANDLER,</span><br><span class=\"line\">   <span class=\"keyword\">new</span> DefaultHttpMethodRetryHandler());</span><br><span class=\"line\"> <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">//getMethod</span></span><br><span class=\"line\">  <span class=\"keyword\">int</span> statusCode = httpClient.executeMethod(getMethod);</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (statusCode != HttpStatus.SC_OK) &#123;</span><br><span class=\"line\">   System.err.println(<span class=\"string\">\"Method failed: \"</span></span><br><span class=\"line\">     + getMethod.getStatusLine());</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//</span></span><br><span class=\"line\">  <span class=\"keyword\">byte</span>[] responseBody = getMethod.getResponseBody();</span><br><span class=\"line\">  <span class=\"comment\">//</span></span><br><span class=\"line\">  System.out.println(<span class=\"keyword\">new</span> String(responseBody));</span><br><span class=\"line\"> &#125; <span class=\"keyword\">catch</span> (HttpException e) &#123;</span><br><span class=\"line\">  <span class=\"comment\">//</span></span><br><span class=\"line\">  System.out.println(<span class=\"string\">\"Please check your provided http address!\"</span>);</span><br><span class=\"line\">  e.printStackTrace();</span><br><span class=\"line\"> &#125; <span class=\"keyword\">catch</span> (IOException e) &#123;</span><br><span class=\"line\">  <span class=\"comment\">//</span></span><br><span class=\"line\">  e.printStackTrace();</span><br><span class=\"line\"> &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">//</span></span><br><span class=\"line\">  getMethod.releaseConnection();</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li>HttpClientHttpMethodRetryHandlerhttpClientsetParameterdemoIOException3</li>\n<li>GetMethodsetFollowRedirects(false)</li>\n<li>executeMethod</li>\n<li>getResponseBody(byte)getResponseBodyAsString(String)getResponseBodyAsStream()</li>\n<li>getResponseBodyAsStringResponseheaderhtmlmethodgetResponseCharSet()httpResponebody<code>&lt;meta http-equiv=Content-Type content=text/html; charset=GBK/&gt;&lt;?xml version=1.0 encoding=GBK?&gt;</code>header</li>\n<li></li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">method.releaseConnection();</span><br></pre></td></tr></table></figure>\n<h5 id=\"Post\"><a href=\"#Post\" class=\"headerlink\" title=\"Post\"></a>Post</h5><p>PostMethodGetMethod</p>\n<p></p>\n<ul>\n<li>POSTPUT</li>\n</ul>\n<p>Proxy(host)<br>urlhosthttpClient</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">HttpClient httpclient = <span class=\"keyword\">new</span> HttpClient();</span><br><span class=\"line\">           <span class=\"comment\">// HTTPIP</span></span><br><span class=\"line\">           httpclient.getHostConfiguration().setProxy(hostIp, hostIpPort);</span><br></pre></td></tr></table></figure>\n<p>Https<br>HttpClientSSLHttpClientHttps</p>\n<p>httpskeystoreHttpClient</p>\n<p>1<a href=\"http://www.ibm.com/developerworks/cn/opensource/os-httpclient/#N10060\" target=\"_blank\" rel=\"noopener\">HTTPS</a></p>\n<p>2</p>\n<ol>\n<li>socket factorySecureProtocolSocketFactory</li>\n<li> TrustAnyTrustManager implements X509TrustManager</li>\n<li>Protocol socket factory Protocol</li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Protocol myhttps = <span class=\"keyword\">new</span> Protocol(<span class=\"string\">\"https\"</span>, <span class=\"keyword\">new</span> MySecureProtocolSocketFactory(), <span class=\"number\">443</span>);</span><br><span class=\"line\">        Protocol.registerProtocol(<span class=\"string\">\"https\"</span>, myhttps);</span><br></pre></td></tr></table></figure>\n<p>Cookie</p>\n<p>statecookiehttpclient.getState().getCookies();</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CookieSpec cookiespec = CookiePolicy.getDefaultSpec();</span><br><span class=\"line\">        cookies = cookiespec.match(<span class=\"string\">\"login.daily.taobao.net\"</span>, hostIpPort, <span class=\"string\">\"/\"</span>, <span class=\"keyword\">false</span>,</span><br><span class=\"line\">                httpClient.getState().getCookies());</span><br></pre></td></tr></table></figure>\n<p>CookieSpeccookiecookiespec.matchcookie</p>\n<p>statecookie:</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">httpclient.getParams().setCookiePolicy(CookiePolicy.RFC_2109);<span class=\"comment\">//RFC_2109cookie</span></span><br><span class=\"line\">HttpState initialState = <span class=\"keyword\">new</span> HttpState();</span><br><span class=\"line\">Cookie cookie=<span class=\"keyword\">new</span> Cookie();</span><br><span class=\"line\">cookie.setDomain(<span class=\"string\">\"www.balblabla.com\"</span>);</span><br><span class=\"line\">cookie.setPath(<span class=\"string\">\"/\"</span>);</span><br><span class=\"line\">cookie.setName(<span class=\"string\">\"\"</span>);</span><br><span class=\"line\">cookie.setValue(<span class=\"string\">\"\"</span>);</span><br><span class=\"line\">initialState.addCookie(cookie);</span><br><span class=\"line\">httpclient.setState(initialState);</span><br></pre></td></tr></table></figure>\n<p>cookieRFC 2109RFC 2965best-matchmeta()</p>\n<p>cookie</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">postMethod.setRequestHeader(<span class=\"string\">\"Cookie\"</span>, cookieToString(cookies));</span><br></pre></td></tr></table></figure>\n<p>httpClientcookiehttpclientcookie</p>\n<p>HTTP<br>httpclientHttpMethodMultipartPostMethod</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ArrayList&lt;Part&gt; partArray = <span class=\"keyword\">new</span> ArrayList&lt;Part&gt;();</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; params.size(); i++) &#123;</span><br><span class=\"line\">          <span class=\"keyword\">if</span> (params.get(i) <span class=\"keyword\">instanceof</span> FileNameValuePair) &#123;</span><br><span class=\"line\">              partArray.add(<span class=\"keyword\">new</span> FilePart(params.get(i).getName(), ((FileNameValuePair) params.get(i)).getFile()));</span><br><span class=\"line\">          &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">              postMethod.addParameter(params.get(i).getName(), params.get(i).getValue());</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      Part[] parts = <span class=\"keyword\">new</span> Part[partArray.size()];</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; partArray.size(); i++) &#123;</span><br><span class=\"line\">          parts[i] = partArray.get(i);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      postMethod.setRequestEntity(<span class=\"keyword\">new</span> MultipartRequestEntity(parts, postMethod.getParams()));</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">int</span> statusCode = httpclient.executeMethod(postMethod);</span><br></pre></td></tr></table></figure>\n<p>HTTP</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> String <span class=\"title\">LoginDailyToGetPageWithHost</span><span class=\"params\">(String nick, String psw, String scopeString, String url, List&lt;NameValuePair&gt; params, String hostIp, Integer hostIpPort)</span> <span class=\"keyword\">throws</span> IOException </span>&#123;</span><br><span class=\"line\">        Protocol myhttps = <span class=\"keyword\">new</span> Protocol(<span class=\"string\">\"https\"</span>, <span class=\"keyword\">new</span> MySecureProtocolSocketFactory(), <span class=\"number\">443</span>);</span><br><span class=\"line\">        Protocol.registerProtocol(<span class=\"string\">\"https\"</span>, myhttps);</span><br><span class=\"line\">        HttpClient httpClient = <span class=\"keyword\">new</span> HttpClient();</span><br><span class=\"line\">        Cookie[] cookies;</span><br><span class=\"line\">        LOGIN_URL = LOGIN_URL + <span class=\"string\">\"?redirectURL=\"</span> + url;</span><br><span class=\"line\">        PostMethod postMethod = <span class=\"keyword\">new</span> PostMethod(LOGIN_URL);</span><br><span class=\"line\">        postMethod.getParams().setParameter(HttpMethodParams.HTTP_CONTENT_CHARSET, <span class=\"string\">\"GBK\"</span>);</span><br><span class=\"line\">        List&lt;org.apache.commons.httpclient.NameValuePair&gt; nameValues = <span class=\"keyword\">new</span> ArrayList&lt;org.apache.commons.httpclient.NameValuePair&gt;();</span><br><span class=\"line\">        nameValues.add(<span class=\"keyword\">new</span> org.apache.commons.httpclient.NameValuePair(<span class=\"string\">\"TPL_username\"</span>, nick));</span><br><span class=\"line\">        nameValues.add(<span class=\"keyword\">new</span> org.apache.commons.httpclient.NameValuePair(<span class=\"string\">\"TPL_password\"</span>, psw));</span><br><span class=\"line\">        nameValues.add(<span class=\"keyword\">new</span> org.apache.commons.httpclient.NameValuePair(<span class=\"string\">\"action\"</span>, <span class=\"string\">\"Authenticator\"</span>));</span><br><span class=\"line\">        <span class=\"comment\">/** httpclient post,fuck */</span></span><br><span class=\"line\"><span class=\"comment\">//        nameValues.add(new org.apache.commons.httpclient.NameValuePair(\"TPL_redirect_url\", url));</span></span><br><span class=\"line\">        nameValues.add(<span class=\"keyword\">new</span> org.apache.commons.httpclient.NameValuePair(<span class=\"string\">\"from\"</span>, <span class=\"string\">\"tb\"</span>));</span><br><span class=\"line\">        nameValues.add(<span class=\"keyword\">new</span> org.apache.commons.httpclient.NameValuePair(<span class=\"string\">\"event_submit_do_login\"</span>, <span class=\"string\">\"anything\"</span>));</span><br><span class=\"line\">        nameValues.add(<span class=\"keyword\">new</span> org.apache.commons.httpclient.NameValuePair(<span class=\"string\">\"TPL_checkcode\"</span>, <span class=\"string\">\"8888\"</span>));</span><br><span class=\"line\">        nameValues.add(<span class=\"keyword\">new</span> org.apache.commons.httpclient.NameValuePair(<span class=\"string\">\"loginType\"</span>, <span class=\"string\">\"3\"</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">        postMethod.setRequestBody(nameValues.toArray(<span class=\"keyword\">new</span> org.apache.commons.httpclient.NameValuePair[nameValues.size()]));</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">int</span> status = httpClient.executeMethod(postMethod);</span><br><span class=\"line\">            System.out.println(status);</span><br><span class=\"line\">            CookieSpec cookiespec = CookiePolicy.getDefaultSpec();</span><br><span class=\"line\">            cookies = cookiespec.match(<span class=\"string\">\"login.daily.taobao.net\"</span>, hostIpPort, <span class=\"string\">\"/\"</span>, <span class=\"keyword\">false</span>,</span><br><span class=\"line\">                    httpClient.getState().getCookies());</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">\"Exception: \"</span> + e.toString());</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">            postMethod.releaseConnection();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">int</span> postresult = -<span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (scopeString != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            url = url + <span class=\"string\">\"&amp;\"</span> + scopeString;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            URI uri = <span class=\"keyword\">new</span> URI(url);</span><br><span class=\"line\">            postMethod.setURI(uri);</span><br><span class=\"line\">            <span class=\"comment\">// cookie  302i.daily.taobao.net</span></span><br><span class=\"line\">            postMethod.setRequestHeader(<span class=\"string\">\"Cookie\"</span>, cookieToString(cookies));</span><br><span class=\"line\">            <span class=\"comment\">// HTTPIP</span></span><br><span class=\"line\">            httpClient.getHostConfiguration().setProxy(hostIp, hostIpPort);</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (params != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; params.size(); i++) &#123;</span><br><span class=\"line\">                    postMethod.addParameter(params.get(i).getName(), params.get(i).getValue());</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            postresult = httpClient.executeMethod(postMethod);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">\"Exception: \"</span> + e.toString());</span><br><span class=\"line\">        &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">            postMethod.releaseConnection();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> postresult + postMethod.getResponseBodyAsString();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> String <span class=\"title\">cookieToString</span><span class=\"params\">(Cookie[] cookie)</span></span>&#123;</span><br><span class=\"line\">        StringBuffer cookieBuf = <span class=\"keyword\">new</span> StringBuffer(<span class=\"number\">256</span>);</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(Cookie tmpCookie:cookie)&#123;</span><br><span class=\"line\">            cookieBuf.append(tmpCookie).append(<span class=\"string\">\";\"</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> cookieBuf.toString();</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<p>MySecureProtocolSocketFactory </p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MySecureProtocolSocketFactory</span> <span class=\"keyword\">implements</span> <span class=\"title\">SecureProtocolSocketFactory</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> SSLContext sslcontext = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> SSLContext <span class=\"title\">createSSLContext</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        SSLContext sslcontext=<span class=\"keyword\">null</span>;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            sslcontext = SSLContext.getInstance(<span class=\"string\">\"SSL\"</span>);</span><br><span class=\"line\">            sslcontext.init(<span class=\"keyword\">null</span>, <span class=\"keyword\">new</span> TrustManager[]&#123;<span class=\"keyword\">new</span> TrustAnyTrustManager()&#125;, <span class=\"keyword\">new</span> java.security.SecureRandom());</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (NoSuchAlgorithmException e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (KeyManagementException e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> sslcontext;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> SSLContext <span class=\"title\">getSSLContext</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.sslcontext == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">this</span>.sslcontext = createSSLContext();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.sslcontext;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> Socket <span class=\"title\">createSocket</span><span class=\"params\">(Socket socket, String host, <span class=\"keyword\">int</span> port, <span class=\"keyword\">boolean</span> autoClose)</span></span></span><br><span class=\"line\"><span class=\"function\">            <span class=\"keyword\">throws</span> IOException, UnknownHostException </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> getSSLContext().getSocketFactory().createSocket(</span><br><span class=\"line\">                socket,</span><br><span class=\"line\">                host,</span><br><span class=\"line\">                port,</span><br><span class=\"line\">                autoClose);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> Socket <span class=\"title\">createSocket</span><span class=\"params\">(String host, <span class=\"keyword\">int</span> port)</span> <span class=\"keyword\">throws</span> IOException,</span></span><br><span class=\"line\"><span class=\"function\">            UnknownHostException </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> getSSLContext().getSocketFactory().createSocket(</span><br><span class=\"line\">                host,</span><br><span class=\"line\">                port);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> Socket <span class=\"title\">createSocket</span><span class=\"params\">(String host, <span class=\"keyword\">int</span> port, InetAddress clientHost, <span class=\"keyword\">int</span> clientPort)</span></span></span><br><span class=\"line\"><span class=\"function\">            <span class=\"keyword\">throws</span> IOException, UnknownHostException </span>&#123;</span><br><span class=\"line\">    \t<span class=\"keyword\">return</span> getSSLContext().getSocketFactory().createSocket(host, port, clientHost, clientPort);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> Socket <span class=\"title\">createSocket</span><span class=\"params\">(String host, <span class=\"keyword\">int</span> port, InetAddress localAddress,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">            <span class=\"keyword\">int</span> localPort, HttpConnectionParams params)</span> <span class=\"keyword\">throws</span> IOException,</span></span><br><span class=\"line\"><span class=\"function\">            UnknownHostException, ConnectTimeoutException </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (params == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> IllegalArgumentException(<span class=\"string\">\"Parameters may not be null\"</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> timeout = params.getConnectionTimeout();</span><br><span class=\"line\">        SocketFactory socketfactory = getSSLContext().getSocketFactory();</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (timeout == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> socketfactory.createSocket(host, port, localAddress, localPort);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            Socket socket = socketfactory.createSocket();</span><br><span class=\"line\">            SocketAddress localaddr = <span class=\"keyword\">new</span> InetSocketAddress(localAddress, localPort);</span><br><span class=\"line\">            SocketAddress remoteaddr = <span class=\"keyword\">new</span> InetSocketAddress(host, port);</span><br><span class=\"line\">            socket.bind(localaddr);</span><br><span class=\"line\">            socket.connect(remoteaddr, timeout);</span><br><span class=\"line\">            <span class=\"keyword\">return</span> socket;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">TrustAnyTrustManager</span> <span class=\"keyword\">implements</span> <span class=\"title\">X509TrustManager</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">checkClientTrusted</span><span class=\"params\">(X509Certificate[] chain, String authType)</span> <span class=\"keyword\">throws</span> CertificateException </span>&#123;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">checkServerTrusted</span><span class=\"params\">(X509Certificate[] chain, String authType)</span> <span class=\"keyword\">throws</span> CertificateException </span>&#123;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">public</span> X509Certificate[] getAcceptedIssuers() &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> X509Certificate[]&#123;&#125;;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>HttpClient </p>\n<ol>\n<li><p>   200 responebody = null <br> executeMethod  getMethod.getResponseBodyAsString() null<br> executeMethod    if (getresult == HttpStatus.SC_OK)  <br>  </p>\n</li>\n<li><p>url:http://,</p>\n</li>\n<li>new HttpGet(url)  java.net.URISyntaxException <br>url &amp;StringURI%0xXXStringURLURLURI.</li>\n</ol>\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">URL url = <span class=\"keyword\">new</span> URL(strUrl);</span><br><span class=\"line\">URI  uri = <span class=\"keyword\">new</span> URI(url.getProtocol(),<span class=\"keyword\">null</span>, url.getHost(),url.getPort(), url.getPath(), url.getQuery(), <span class=\"keyword\">null</span>);</span><br><span class=\"line\">HttpClient client    = <span class=\"keyword\">new</span> DefaultHttpClient();</span><br><span class=\"line\">HttpGet httpget = <span class=\"keyword\">new</span> HttpGet(uri);</span><br></pre></td></tr></table></figure>\n<p> http://queryString:</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">String url = <span class=\"string\">\"http://**.**.com/user/deployPackInfoDetail.htm\"</span>;</span><br><span class=\"line\">       String queryString = <span class=\"string\">\"buildPackageId=\"</span>+ buildPackageId;</span><br><span class=\"line\">       GetMethod getMethod = <span class=\"keyword\">new</span> GetMethod(url);</span><br><span class=\"line\">       getMethod.setQueryString(queryString);</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"HttpClient-\"><a href=\"#HttpClient-\" class=\"headerlink\" title=\"HttpClient \"></a>HttpClient </h4><p>HttpClient  Apache Jakarta Common  HTTP  HTTP </p>\n<h4 id=\"HttpClient-\"><a href=\"#HttpClient-\" class=\"headerlink\" title=\"HttpClient \"></a>HttpClient </h4><p> HTTP GET,POST,PUT,HEAD <br><br> HTTPS <br><br>HttpClient</p>\n<h4 id=\"HttpClient-\"><a href=\"#HttpClient-\" class=\"headerlink\" title=\"HttpClient \"></a>HttpClient </h4><h5 id=\"Get\"><a href=\"#Get\" class=\"headerlink\" title=\"Get\"></a>Get</h5><p> HttpClient  6 </p>\n<ol>\n<li> HttpClient </li>\n<li> GetMethod GetMethod </li>\n<li> execute  method </li>\n<li> response</li>\n<li></li>\n<li></li>\n</ol>\n<p>Demo </p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//HttpClient</span></span><br><span class=\"line\"> HttpClient httpClient = <span class=\"keyword\">new</span> HttpClient();</span><br><span class=\"line\"> <span class=\"comment\">//GET</span></span><br><span class=\"line\"> GetMethod getMethod = <span class=\"keyword\">new</span> GetMethod(<span class=\"string\">\"http://www.ibm.com\"</span>);</span><br><span class=\"line\"> <span class=\"comment\">//</span></span><br><span class=\"line\"> getMethod.getParams().setParameter(HttpMethodParams.RETRY_HANDLER,</span><br><span class=\"line\">   <span class=\"keyword\">new</span> DefaultHttpMethodRetryHandler());</span><br><span class=\"line\"> <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">//getMethod</span></span><br><span class=\"line\">  <span class=\"keyword\">int</span> statusCode = httpClient.executeMethod(getMethod);</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (statusCode != HttpStatus.SC_OK) &#123;</span><br><span class=\"line\">   System.err.println(<span class=\"string\">\"Method failed: \"</span></span><br><span class=\"line\">     + getMethod.getStatusLine());</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//</span></span><br><span class=\"line\">  <span class=\"keyword\">byte</span>[] responseBody = getMethod.getResponseBody();</span><br><span class=\"line\">  <span class=\"comment\">//</span></span><br><span class=\"line\">  System.out.println(<span class=\"keyword\">new</span> String(responseBody));</span><br><span class=\"line\"> &#125; <span class=\"keyword\">catch</span> (HttpException e) &#123;</span><br><span class=\"line\">  <span class=\"comment\">//</span></span><br><span class=\"line\">  System.out.println(<span class=\"string\">\"Please check your provided http address!\"</span>);</span><br><span class=\"line\">  e.printStackTrace();</span><br><span class=\"line\"> &#125; <span class=\"keyword\">catch</span> (IOException e) &#123;</span><br><span class=\"line\">  <span class=\"comment\">//</span></span><br><span class=\"line\">  e.printStackTrace();</span><br><span class=\"line\"> &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">//</span></span><br><span class=\"line\">  getMethod.releaseConnection();</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li>HttpClientHttpMethodRetryHandlerhttpClientsetParameterdemoIOException3</li>\n<li>GetMethodsetFollowRedirects(false)</li>\n<li>executeMethod</li>\n<li>getResponseBody(byte)getResponseBodyAsString(String)getResponseBodyAsStream()</li>\n<li>getResponseBodyAsStringResponseheaderhtmlmethodgetResponseCharSet()httpResponebody<code>&lt;meta http-equiv=Content-Type content=text/html; charset=GBK/&gt;&lt;?xml version=1.0 encoding=GBK?&gt;</code>header</li>\n<li></li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">method.releaseConnection();</span><br></pre></td></tr></table></figure>\n<h5 id=\"Post\"><a href=\"#Post\" class=\"headerlink\" title=\"Post\"></a>Post</h5><p>PostMethodGetMethod</p>\n<p></p>\n<ul>\n<li>POSTPUT</li>\n</ul>\n<p>Proxy(host)<br>urlhosthttpClient</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">HttpClient httpclient = <span class=\"keyword\">new</span> HttpClient();</span><br><span class=\"line\">           <span class=\"comment\">// HTTPIP</span></span><br><span class=\"line\">           httpclient.getHostConfiguration().setProxy(hostIp, hostIpPort);</span><br></pre></td></tr></table></figure>\n<p>Https<br>HttpClientSSLHttpClientHttps</p>\n<p>httpskeystoreHttpClient</p>\n<p>1<a href=\"http://www.ibm.com/developerworks/cn/opensource/os-httpclient/#N10060\" target=\"_blank\" rel=\"noopener\">HTTPS</a></p>\n<p>2</p>\n<ol>\n<li>socket factorySecureProtocolSocketFactory</li>\n<li> TrustAnyTrustManager implements X509TrustManager</li>\n<li>Protocol socket factory Protocol</li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Protocol myhttps = <span class=\"keyword\">new</span> Protocol(<span class=\"string\">\"https\"</span>, <span class=\"keyword\">new</span> MySecureProtocolSocketFactory(), <span class=\"number\">443</span>);</span><br><span class=\"line\">        Protocol.registerProtocol(<span class=\"string\">\"https\"</span>, myhttps);</span><br></pre></td></tr></table></figure>\n<p>Cookie</p>\n<p>statecookiehttpclient.getState().getCookies();</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CookieSpec cookiespec = CookiePolicy.getDefaultSpec();</span><br><span class=\"line\">        cookies = cookiespec.match(<span class=\"string\">\"login.daily.taobao.net\"</span>, hostIpPort, <span class=\"string\">\"/\"</span>, <span class=\"keyword\">false</span>,</span><br><span class=\"line\">                httpClient.getState().getCookies());</span><br></pre></td></tr></table></figure>\n<p>CookieSpeccookiecookiespec.matchcookie</p>\n<p>statecookie:</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">httpclient.getParams().setCookiePolicy(CookiePolicy.RFC_2109);<span class=\"comment\">//RFC_2109cookie</span></span><br><span class=\"line\">HttpState initialState = <span class=\"keyword\">new</span> HttpState();</span><br><span class=\"line\">Cookie cookie=<span class=\"keyword\">new</span> Cookie();</span><br><span class=\"line\">cookie.setDomain(<span class=\"string\">\"www.balblabla.com\"</span>);</span><br><span class=\"line\">cookie.setPath(<span class=\"string\">\"/\"</span>);</span><br><span class=\"line\">cookie.setName(<span class=\"string\">\"\"</span>);</span><br><span class=\"line\">cookie.setValue(<span class=\"string\">\"\"</span>);</span><br><span class=\"line\">initialState.addCookie(cookie);</span><br><span class=\"line\">httpclient.setState(initialState);</span><br></pre></td></tr></table></figure>\n<p>cookieRFC 2109RFC 2965best-matchmeta()</p>\n<p>cookie</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">postMethod.setRequestHeader(<span class=\"string\">\"Cookie\"</span>, cookieToString(cookies));</span><br></pre></td></tr></table></figure>\n<p>httpClientcookiehttpclientcookie</p>\n<p>HTTP<br>httpclientHttpMethodMultipartPostMethod</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ArrayList&lt;Part&gt; partArray = <span class=\"keyword\">new</span> ArrayList&lt;Part&gt;();</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; params.size(); i++) &#123;</span><br><span class=\"line\">          <span class=\"keyword\">if</span> (params.get(i) <span class=\"keyword\">instanceof</span> FileNameValuePair) &#123;</span><br><span class=\"line\">              partArray.add(<span class=\"keyword\">new</span> FilePart(params.get(i).getName(), ((FileNameValuePair) params.get(i)).getFile()));</span><br><span class=\"line\">          &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">              postMethod.addParameter(params.get(i).getName(), params.get(i).getValue());</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      Part[] parts = <span class=\"keyword\">new</span> Part[partArray.size()];</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; partArray.size(); i++) &#123;</span><br><span class=\"line\">          parts[i] = partArray.get(i);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      postMethod.setRequestEntity(<span class=\"keyword\">new</span> MultipartRequestEntity(parts, postMethod.getParams()));</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">int</span> statusCode = httpclient.executeMethod(postMethod);</span><br></pre></td></tr></table></figure>\n<p>HTTP</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> String <span class=\"title\">LoginDailyToGetPageWithHost</span><span class=\"params\">(String nick, String psw, String scopeString, String url, List&lt;NameValuePair&gt; params, String hostIp, Integer hostIpPort)</span> <span class=\"keyword\">throws</span> IOException </span>&#123;</span><br><span class=\"line\">        Protocol myhttps = <span class=\"keyword\">new</span> Protocol(<span class=\"string\">\"https\"</span>, <span class=\"keyword\">new</span> MySecureProtocolSocketFactory(), <span class=\"number\">443</span>);</span><br><span class=\"line\">        Protocol.registerProtocol(<span class=\"string\">\"https\"</span>, myhttps);</span><br><span class=\"line\">        HttpClient httpClient = <span class=\"keyword\">new</span> HttpClient();</span><br><span class=\"line\">        Cookie[] cookies;</span><br><span class=\"line\">        LOGIN_URL = LOGIN_URL + <span class=\"string\">\"?redirectURL=\"</span> + url;</span><br><span class=\"line\">        PostMethod postMethod = <span class=\"keyword\">new</span> PostMethod(LOGIN_URL);</span><br><span class=\"line\">        postMethod.getParams().setParameter(HttpMethodParams.HTTP_CONTENT_CHARSET, <span class=\"string\">\"GBK\"</span>);</span><br><span class=\"line\">        List&lt;org.apache.commons.httpclient.NameValuePair&gt; nameValues = <span class=\"keyword\">new</span> ArrayList&lt;org.apache.commons.httpclient.NameValuePair&gt;();</span><br><span class=\"line\">        nameValues.add(<span class=\"keyword\">new</span> org.apache.commons.httpclient.NameValuePair(<span class=\"string\">\"TPL_username\"</span>, nick));</span><br><span class=\"line\">        nameValues.add(<span class=\"keyword\">new</span> org.apache.commons.httpclient.NameValuePair(<span class=\"string\">\"TPL_password\"</span>, psw));</span><br><span class=\"line\">        nameValues.add(<span class=\"keyword\">new</span> org.apache.commons.httpclient.NameValuePair(<span class=\"string\">\"action\"</span>, <span class=\"string\">\"Authenticator\"</span>));</span><br><span class=\"line\">        <span class=\"comment\">/** httpclient post,fuck */</span></span><br><span class=\"line\"><span class=\"comment\">//        nameValues.add(new org.apache.commons.httpclient.NameValuePair(\"TPL_redirect_url\", url));</span></span><br><span class=\"line\">        nameValues.add(<span class=\"keyword\">new</span> org.apache.commons.httpclient.NameValuePair(<span class=\"string\">\"from\"</span>, <span class=\"string\">\"tb\"</span>));</span><br><span class=\"line\">        nameValues.add(<span class=\"keyword\">new</span> org.apache.commons.httpclient.NameValuePair(<span class=\"string\">\"event_submit_do_login\"</span>, <span class=\"string\">\"anything\"</span>));</span><br><span class=\"line\">        nameValues.add(<span class=\"keyword\">new</span> org.apache.commons.httpclient.NameValuePair(<span class=\"string\">\"TPL_checkcode\"</span>, <span class=\"string\">\"8888\"</span>));</span><br><span class=\"line\">        nameValues.add(<span class=\"keyword\">new</span> org.apache.commons.httpclient.NameValuePair(<span class=\"string\">\"loginType\"</span>, <span class=\"string\">\"3\"</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">        postMethod.setRequestBody(nameValues.toArray(<span class=\"keyword\">new</span> org.apache.commons.httpclient.NameValuePair[nameValues.size()]));</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">int</span> status = httpClient.executeMethod(postMethod);</span><br><span class=\"line\">            System.out.println(status);</span><br><span class=\"line\">            CookieSpec cookiespec = CookiePolicy.getDefaultSpec();</span><br><span class=\"line\">            cookies = cookiespec.match(<span class=\"string\">\"login.daily.taobao.net\"</span>, hostIpPort, <span class=\"string\">\"/\"</span>, <span class=\"keyword\">false</span>,</span><br><span class=\"line\">                    httpClient.getState().getCookies());</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">\"Exception: \"</span> + e.toString());</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">            postMethod.releaseConnection();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">int</span> postresult = -<span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (scopeString != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            url = url + <span class=\"string\">\"&amp;\"</span> + scopeString;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            URI uri = <span class=\"keyword\">new</span> URI(url);</span><br><span class=\"line\">            postMethod.setURI(uri);</span><br><span class=\"line\">            <span class=\"comment\">// cookie  302i.daily.taobao.net</span></span><br><span class=\"line\">            postMethod.setRequestHeader(<span class=\"string\">\"Cookie\"</span>, cookieToString(cookies));</span><br><span class=\"line\">            <span class=\"comment\">// HTTPIP</span></span><br><span class=\"line\">            httpClient.getHostConfiguration().setProxy(hostIp, hostIpPort);</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (params != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; params.size(); i++) &#123;</span><br><span class=\"line\">                    postMethod.addParameter(params.get(i).getName(), params.get(i).getValue());</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            postresult = httpClient.executeMethod(postMethod);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">\"Exception: \"</span> + e.toString());</span><br><span class=\"line\">        &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">            postMethod.releaseConnection();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> postresult + postMethod.getResponseBodyAsString();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> String <span class=\"title\">cookieToString</span><span class=\"params\">(Cookie[] cookie)</span></span>&#123;</span><br><span class=\"line\">        StringBuffer cookieBuf = <span class=\"keyword\">new</span> StringBuffer(<span class=\"number\">256</span>);</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(Cookie tmpCookie:cookie)&#123;</span><br><span class=\"line\">            cookieBuf.append(tmpCookie).append(<span class=\"string\">\";\"</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> cookieBuf.toString();</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<p>MySecureProtocolSocketFactory </p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MySecureProtocolSocketFactory</span> <span class=\"keyword\">implements</span> <span class=\"title\">SecureProtocolSocketFactory</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> SSLContext sslcontext = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> SSLContext <span class=\"title\">createSSLContext</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        SSLContext sslcontext=<span class=\"keyword\">null</span>;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            sslcontext = SSLContext.getInstance(<span class=\"string\">\"SSL\"</span>);</span><br><span class=\"line\">            sslcontext.init(<span class=\"keyword\">null</span>, <span class=\"keyword\">new</span> TrustManager[]&#123;<span class=\"keyword\">new</span> TrustAnyTrustManager()&#125;, <span class=\"keyword\">new</span> java.security.SecureRandom());</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (NoSuchAlgorithmException e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (KeyManagementException e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> sslcontext;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> SSLContext <span class=\"title\">getSSLContext</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.sslcontext == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">this</span>.sslcontext = createSSLContext();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.sslcontext;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> Socket <span class=\"title\">createSocket</span><span class=\"params\">(Socket socket, String host, <span class=\"keyword\">int</span> port, <span class=\"keyword\">boolean</span> autoClose)</span></span></span><br><span class=\"line\"><span class=\"function\">            <span class=\"keyword\">throws</span> IOException, UnknownHostException </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> getSSLContext().getSocketFactory().createSocket(</span><br><span class=\"line\">                socket,</span><br><span class=\"line\">                host,</span><br><span class=\"line\">                port,</span><br><span class=\"line\">                autoClose);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> Socket <span class=\"title\">createSocket</span><span class=\"params\">(String host, <span class=\"keyword\">int</span> port)</span> <span class=\"keyword\">throws</span> IOException,</span></span><br><span class=\"line\"><span class=\"function\">            UnknownHostException </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> getSSLContext().getSocketFactory().createSocket(</span><br><span class=\"line\">                host,</span><br><span class=\"line\">                port);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> Socket <span class=\"title\">createSocket</span><span class=\"params\">(String host, <span class=\"keyword\">int</span> port, InetAddress clientHost, <span class=\"keyword\">int</span> clientPort)</span></span></span><br><span class=\"line\"><span class=\"function\">            <span class=\"keyword\">throws</span> IOException, UnknownHostException </span>&#123;</span><br><span class=\"line\">    \t<span class=\"keyword\">return</span> getSSLContext().getSocketFactory().createSocket(host, port, clientHost, clientPort);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> Socket <span class=\"title\">createSocket</span><span class=\"params\">(String host, <span class=\"keyword\">int</span> port, InetAddress localAddress,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">            <span class=\"keyword\">int</span> localPort, HttpConnectionParams params)</span> <span class=\"keyword\">throws</span> IOException,</span></span><br><span class=\"line\"><span class=\"function\">            UnknownHostException, ConnectTimeoutException </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (params == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> IllegalArgumentException(<span class=\"string\">\"Parameters may not be null\"</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> timeout = params.getConnectionTimeout();</span><br><span class=\"line\">        SocketFactory socketfactory = getSSLContext().getSocketFactory();</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (timeout == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> socketfactory.createSocket(host, port, localAddress, localPort);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            Socket socket = socketfactory.createSocket();</span><br><span class=\"line\">            SocketAddress localaddr = <span class=\"keyword\">new</span> InetSocketAddress(localAddress, localPort);</span><br><span class=\"line\">            SocketAddress remoteaddr = <span class=\"keyword\">new</span> InetSocketAddress(host, port);</span><br><span class=\"line\">            socket.bind(localaddr);</span><br><span class=\"line\">            socket.connect(remoteaddr, timeout);</span><br><span class=\"line\">            <span class=\"keyword\">return</span> socket;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">TrustAnyTrustManager</span> <span class=\"keyword\">implements</span> <span class=\"title\">X509TrustManager</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">checkClientTrusted</span><span class=\"params\">(X509Certificate[] chain, String authType)</span> <span class=\"keyword\">throws</span> CertificateException </span>&#123;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">checkServerTrusted</span><span class=\"params\">(X509Certificate[] chain, String authType)</span> <span class=\"keyword\">throws</span> CertificateException </span>&#123;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">public</span> X509Certificate[] getAcceptedIssuers() &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> X509Certificate[]&#123;&#125;;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>HttpClient </p>\n<ol>\n<li><p>   200 responebody = null <br> executeMethod  getMethod.getResponseBodyAsString() null<br> executeMethod    if (getresult == HttpStatus.SC_OK)  <br>  </p>\n</li>\n<li><p>url:http://,</p>\n</li>\n<li>new HttpGet(url)  java.net.URISyntaxException <br>url &amp;StringURI%0xXXStringURLURLURI.</li>\n</ol>\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">URL url = <span class=\"keyword\">new</span> URL(strUrl);</span><br><span class=\"line\">URI  uri = <span class=\"keyword\">new</span> URI(url.getProtocol(),<span class=\"keyword\">null</span>, url.getHost(),url.getPort(), url.getPath(), url.getQuery(), <span class=\"keyword\">null</span>);</span><br><span class=\"line\">HttpClient client    = <span class=\"keyword\">new</span> DefaultHttpClient();</span><br><span class=\"line\">HttpGet httpget = <span class=\"keyword\">new</span> HttpGet(uri);</span><br></pre></td></tr></table></figure>\n<p> http://queryString:</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">String url = <span class=\"string\">\"http://**.**.com/user/deployPackInfoDetail.htm\"</span>;</span><br><span class=\"line\">       String queryString = <span class=\"string\">\"buildPackageId=\"</span>+ buildPackageId;</span><br><span class=\"line\">       GetMethod getMethod = <span class=\"keyword\">new</span> GetMethod(url);</span><br><span class=\"line\">       getMethod.setQueryString(queryString);</span><br></pre></td></tr></table></figure>\n"},{"layout":"post","title":"Java","description":null,"keywords":"serializable  ","date":"2016-03-08T16:00:00.000Z","_content":"\nJava  'Java  '\n\n****\n\nJava\n\n\n\n\n```java\npublic class SerializableTest implements Serializable {\n    private int father;\n    private static final long serialVersionUID = 1937803012639770720L;\n    private class ObjectSaver  extends  SerializableTest implements Serializable{\n        private static final long serialVersionUID = -1460368089309853877L;\n        public String name;\n        public int old;\n        public ObjectSaver(String name, int old) {\n            super.father = 1;\n            this.name = name;\n            this.old = old;\n        }\n    }\n}\n```\n\nJunit\n\n\n```java\n@Test\npublic void testWriteObject() throws Exception{\n    ObjectOutputStream objectOutputStream = new ObjectOutputStream(new FileOutputStream(\"/Users/xinyuan/tmp/ObjectSaver.obj\"));\n    objectOutputStream.writeObject(\"\");\n    objectOutputStream.writeObject(new Date());\n    objectOutputStream.writeObject(new ObjectSaver(\"\",30));\n    objectOutputStream.close();\n}\n```\n\nstringsObjectSaver.obj \n\n\n```java\njava.util.Datehj\nScxsr\n7com.java.demo.serializable.SerializableTest$ObjectSaver\noldL\nnamet\nLjava/lang/String;L\nthis$0t\n-Lcom/java/demo/serializable/SerializableTest;xr\n+com.java.demo.serializable.SerializableTest\nfatherxp\n```\n\n\n\n\n```java\naced 0005 7400 09e4 b8a5 e698 8ee6 988e\n7372 000e 6a61 7661 2e75 7469 6c2e 4461\n7465 686a 8101 4b59 7419 0300 0078 7077\n0800 0001 5356 b659 b778 7372 0037 636f\n6d2e 6a61 7661 2e64 656d 6f2e 7365 7269\n616c 697a 6162 6c65 2e53 6572 6961 6c69\n7a61 626c 6554 6573 7424 4f62 6a65 6374\n5361 7665 72eb bbba f5cb 5ec7 4b02 0003\n4900 036f 6c64 4c00 046e 616d 6574 0012\n4c6a 6176 612f 6c61 6e67 2f53 7472 696e\n673b 4c00 0674 6869 7324 3074 002d 4c63\n6f6d 2f6a 6176 612f 6465 6d6f 2f73 6572\n6961 6c69 7a61 626c 652f 5365 7269 616c\n697a 6162 6c65 5465 7374 3b78 7200 2b63\n6f6d 2e6a 6176 612e 6465 6d6f 2e73 6572\n6961 6c69 7a61 626c 652e 5365 7269 616c\n697a 6162 6c65 5465 7374 1ae4 7592 b513\n4860 0200 0149 0006 6661 7468 6572 7870\n0000 0001 0000 001e 7400 09e6 b58b e8af\n95e7 b1bb 7371 007e 0006 0000 0000\n```\n\n##### \n\n**aced** STREAM_MAGIC \n\n**0005**  STREAM_VERSION \n\nObjectStreamConstants\nObjectOutputStream.writeStreamHeader()\n\n\n```java\nprotected void writeStreamHeader() throws IOException {\nbout.writeShort(STREAM_MAGIC);\nbout.writeShort(STREAM_VERSION);\n}\n```\n\n##### \n\n```java\nobjectOutputStream.writeObject()\n```\n\n1. 74  TC_STRING\n2. 00 09 String9\n3. e4 b8a5 e698 8ee6 988e String\n\n\n```java\nobjectOutputStream.writeObject(new Date())\n```\n\n1. 7372 TC_OBJECT  TC_CLASSDESC\n2. 000e  14\n3. 6a61 7661 2e75 7469 6c2e 4461 7465 java.util.Date\n4. 686a 8101 4b59 7419  uidIDlong8\n5. 03 java.io.ObjectStreamConstants#SC_*\n6. 0000 Date\n7. 78 TC_ENDBLOCKDATA 0\n8. 70 \n9. 77  TC_BLOCKDATA\n10. 08 8\n11. 00 0001 5356 b659 b7 new Date()long8\n12. 78 TC_ENDBLOCKDATA \n\n\n```java\nobjectOutputStream.writeObject(new ObjectSaver(,30))\n```\n\n1. 7372 0037 TC_OBJECT  TC_CLASSDESC 55\n2. 636f\n         6d2e 6a61 7661 2e64 656d 6f2e 7365 7269\n         616c 697a 6162 6c65 2e53 6572 6961 6c69\n         7a61 626c 6554 6573 7424 4f62 6a65 6374\n         5361 7665 72\n         com.java.demo.serializable.SerializableTest$ObjectSaver\n3. eb bbba f5cb 5ec7 4b ObjectSaverIDlong8 -1460368089309853877Luid\n4. 02 02SC_SERIALIZABLESerializable\n5. 0003  3 this\n6. 49 497373ASC I oldint\n7. 00 03 3\n8. 6f 6c64  old\n9. 4c 4c7676ASC LnameString\n10. 00 04 4,name\n11. 6e 616d 65  name\n12. 74 TC_STRING\n13. 0012 18\n14. 4c6a 6176 612f 6c61 6e67 2f53 7472 696e\n           673b\n            Ljava/lang/String;  \n15. 4c 4c7676ASC L\n16. 00 06 6\n17. 74 6869 7324 30   this$0\n18. 74 TC_STRING\n19. 002d 45\n20. 4c63\n           6f6d 2f6a 6176 612f 6465 6d6f 2f73 6572\n           6961 6c69 7a61 626c 652f 5365 7269 616c\n           697a 6162 6c65 5465 7374 3b\n           Lcom/java/demo/serializable/SerializableTest;\n21. 78  TC_ENDBLOCKDATA\n22. `ObjectSaverSerializableTest`\n23. 72 TC_CLASSDESC\n24. 002b 43\n25. 63\n           6f6d 2e6a 6176 612e 6465 6d6f 2e73 6572\n           6961 6c69 7a61 626c 652e 5365 7269 616c\n           697a 6162 6c65 5465 7374\n           com.java.demo.serializable.SerializableTest\n26. 1ae4 7592 b513 4860  ObjectSaverIDlong8 -1937803012639770720L\n27.  02 02SC_SERIALIZABLESerializable\n28. 00 01 1\n29. 49 497373ASC I oldint\n30. 0006 6\n31. 6661 7468 6572 father\n32. 7870 TC_ENDBLOCKDATA \n\n##### \n\n\n1. 0000 0001 1father1\n2. 0000 001e 30old30\n3. 74 TC_STRING\n4. 0009 9\n5. e6b5 8be8 af95 e7b1 bb \n6. 73 71  TC_OBJECT  TC_REFERENCE\n7. 007e 0006 0000 0000\n\n####  Java\n* \n* N\n* 7372OBJECTCLASSDESC8uid\n* javajavajava\n\n","source":"_posts/Java/2016-03-09-byte-code-java-serailze.md","raw":"---\nlayout: post\ntitle: Java\ncategories: Java\ndescription:\nkeywords: serializable   \ndate: 2016-03-09\n---\n\nJava  'Java  '\n\n****\n\nJava\n\n\n\n\n```java\npublic class SerializableTest implements Serializable {\n    private int father;\n    private static final long serialVersionUID = 1937803012639770720L;\n    private class ObjectSaver  extends  SerializableTest implements Serializable{\n        private static final long serialVersionUID = -1460368089309853877L;\n        public String name;\n        public int old;\n        public ObjectSaver(String name, int old) {\n            super.father = 1;\n            this.name = name;\n            this.old = old;\n        }\n    }\n}\n```\n\nJunit\n\n\n```java\n@Test\npublic void testWriteObject() throws Exception{\n    ObjectOutputStream objectOutputStream = new ObjectOutputStream(new FileOutputStream(\"/Users/xinyuan/tmp/ObjectSaver.obj\"));\n    objectOutputStream.writeObject(\"\");\n    objectOutputStream.writeObject(new Date());\n    objectOutputStream.writeObject(new ObjectSaver(\"\",30));\n    objectOutputStream.close();\n}\n```\n\nstringsObjectSaver.obj \n\n\n```java\njava.util.Datehj\nScxsr\n7com.java.demo.serializable.SerializableTest$ObjectSaver\noldL\nnamet\nLjava/lang/String;L\nthis$0t\n-Lcom/java/demo/serializable/SerializableTest;xr\n+com.java.demo.serializable.SerializableTest\nfatherxp\n```\n\n\n\n\n```java\naced 0005 7400 09e4 b8a5 e698 8ee6 988e\n7372 000e 6a61 7661 2e75 7469 6c2e 4461\n7465 686a 8101 4b59 7419 0300 0078 7077\n0800 0001 5356 b659 b778 7372 0037 636f\n6d2e 6a61 7661 2e64 656d 6f2e 7365 7269\n616c 697a 6162 6c65 2e53 6572 6961 6c69\n7a61 626c 6554 6573 7424 4f62 6a65 6374\n5361 7665 72eb bbba f5cb 5ec7 4b02 0003\n4900 036f 6c64 4c00 046e 616d 6574 0012\n4c6a 6176 612f 6c61 6e67 2f53 7472 696e\n673b 4c00 0674 6869 7324 3074 002d 4c63\n6f6d 2f6a 6176 612f 6465 6d6f 2f73 6572\n6961 6c69 7a61 626c 652f 5365 7269 616c\n697a 6162 6c65 5465 7374 3b78 7200 2b63\n6f6d 2e6a 6176 612e 6465 6d6f 2e73 6572\n6961 6c69 7a61 626c 652e 5365 7269 616c\n697a 6162 6c65 5465 7374 1ae4 7592 b513\n4860 0200 0149 0006 6661 7468 6572 7870\n0000 0001 0000 001e 7400 09e6 b58b e8af\n95e7 b1bb 7371 007e 0006 0000 0000\n```\n\n##### \n\n**aced** STREAM_MAGIC \n\n**0005**  STREAM_VERSION \n\nObjectStreamConstants\nObjectOutputStream.writeStreamHeader()\n\n\n```java\nprotected void writeStreamHeader() throws IOException {\nbout.writeShort(STREAM_MAGIC);\nbout.writeShort(STREAM_VERSION);\n}\n```\n\n##### \n\n```java\nobjectOutputStream.writeObject()\n```\n\n1. 74  TC_STRING\n2. 00 09 String9\n3. e4 b8a5 e698 8ee6 988e String\n\n\n```java\nobjectOutputStream.writeObject(new Date())\n```\n\n1. 7372 TC_OBJECT  TC_CLASSDESC\n2. 000e  14\n3. 6a61 7661 2e75 7469 6c2e 4461 7465 java.util.Date\n4. 686a 8101 4b59 7419  uidIDlong8\n5. 03 java.io.ObjectStreamConstants#SC_*\n6. 0000 Date\n7. 78 TC_ENDBLOCKDATA 0\n8. 70 \n9. 77  TC_BLOCKDATA\n10. 08 8\n11. 00 0001 5356 b659 b7 new Date()long8\n12. 78 TC_ENDBLOCKDATA \n\n\n```java\nobjectOutputStream.writeObject(new ObjectSaver(,30))\n```\n\n1. 7372 0037 TC_OBJECT  TC_CLASSDESC 55\n2. 636f\n         6d2e 6a61 7661 2e64 656d 6f2e 7365 7269\n         616c 697a 6162 6c65 2e53 6572 6961 6c69\n         7a61 626c 6554 6573 7424 4f62 6a65 6374\n         5361 7665 72\n         com.java.demo.serializable.SerializableTest$ObjectSaver\n3. eb bbba f5cb 5ec7 4b ObjectSaverIDlong8 -1460368089309853877Luid\n4. 02 02SC_SERIALIZABLESerializable\n5. 0003  3 this\n6. 49 497373ASC I oldint\n7. 00 03 3\n8. 6f 6c64  old\n9. 4c 4c7676ASC LnameString\n10. 00 04 4,name\n11. 6e 616d 65  name\n12. 74 TC_STRING\n13. 0012 18\n14. 4c6a 6176 612f 6c61 6e67 2f53 7472 696e\n           673b\n            Ljava/lang/String;  \n15. 4c 4c7676ASC L\n16. 00 06 6\n17. 74 6869 7324 30   this$0\n18. 74 TC_STRING\n19. 002d 45\n20. 4c63\n           6f6d 2f6a 6176 612f 6465 6d6f 2f73 6572\n           6961 6c69 7a61 626c 652f 5365 7269 616c\n           697a 6162 6c65 5465 7374 3b\n           Lcom/java/demo/serializable/SerializableTest;\n21. 78  TC_ENDBLOCKDATA\n22. `ObjectSaverSerializableTest`\n23. 72 TC_CLASSDESC\n24. 002b 43\n25. 63\n           6f6d 2e6a 6176 612e 6465 6d6f 2e73 6572\n           6961 6c69 7a61 626c 652e 5365 7269 616c\n           697a 6162 6c65 5465 7374\n           com.java.demo.serializable.SerializableTest\n26. 1ae4 7592 b513 4860  ObjectSaverIDlong8 -1937803012639770720L\n27.  02 02SC_SERIALIZABLESerializable\n28. 00 01 1\n29. 49 497373ASC I oldint\n30. 0006 6\n31. 6661 7468 6572 father\n32. 7870 TC_ENDBLOCKDATA \n\n##### \n\n\n1. 0000 0001 1father1\n2. 0000 001e 30old30\n3. 74 TC_STRING\n4. 0009 9\n5. e6b5 8be8 af95 e7b1 bb \n6. 73 71  TC_OBJECT  TC_REFERENCE\n7. 007e 0006 0000 0000\n\n####  Java\n* \n* N\n* 7372OBJECTCLASSDESC8uid\n* javajavajava\n\n","slug":"Java/2016-03-09-byte-code-java-serailze","published":1,"updated":"2018-11-10T08:59:09.798Z","comments":1,"photos":[],"link":"","_id":"cjtohbkaw005z6f12mkmyovmq","content":"<p>Java  Java  </p>\n<p><strong></strong></p>\n<p>Java</p>\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">SerializableTest</span> <span class=\"keyword\">implements</span> <span class=\"title\">Serializable</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> father;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"keyword\">long</span> serialVersionUID = <span class=\"number\">1937803012639770720L</span>;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ObjectSaver</span>  <span class=\"keyword\">extends</span>  <span class=\"title\">SerializableTest</span> <span class=\"keyword\">implements</span> <span class=\"title\">Serializable</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"keyword\">long</span> serialVersionUID = -<span class=\"number\">1460368089309853877L</span>;</span><br><span class=\"line\">        <span class=\"keyword\">public</span> String name;</span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"keyword\">int</span> old;</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">ObjectSaver</span><span class=\"params\">(String name, <span class=\"keyword\">int</span> old)</span> </span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">super</span>.father = <span class=\"number\">1</span>;</span><br><span class=\"line\">            <span class=\"keyword\">this</span>.name = name;</span><br><span class=\"line\">            <span class=\"keyword\">this</span>.old = old;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>Junit</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Test</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">testWriteObject</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> Exception</span>&#123;</span><br><span class=\"line\">    ObjectOutputStream objectOutputStream = <span class=\"keyword\">new</span> ObjectOutputStream(<span class=\"keyword\">new</span> FileOutputStream(<span class=\"string\">\"/Users/xinyuan/tmp/ObjectSaver.obj\"</span>));</span><br><span class=\"line\">    objectOutputStream.writeObject(<span class=\"string\">\"\"</span>);</span><br><span class=\"line\">    objectOutputStream.writeObject(<span class=\"keyword\">new</span> Date());</span><br><span class=\"line\">    objectOutputStream.writeObject(<span class=\"keyword\">new</span> ObjectSaver(<span class=\"string\">\"\"</span>,<span class=\"number\">30</span>));</span><br><span class=\"line\">    objectOutputStream.close();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>stringsObjectSaver.obj </p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">java.util.Datehj</span><br><span class=\"line\">Scxsr</span><br><span class=\"line\"><span class=\"number\">7</span>com.java.demo.serializable.SerializableTest$ObjectSaver</span><br><span class=\"line\">oldL</span><br><span class=\"line\">namet</span><br><span class=\"line\">Ljava/lang/String;L</span><br><span class=\"line\"><span class=\"keyword\">this</span>$<span class=\"number\">0</span>t</span><br><span class=\"line\">-Lcom/java/demo/serializable/SerializableTest;xr</span><br><span class=\"line\">+com.java.demo.serializable.SerializableTest</span><br><span class=\"line\">fatherxp</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">aced <span class=\"number\">0005</span> <span class=\"number\">7400</span> <span class=\"number\">09e4</span> b8a5 e698 <span class=\"number\">8</span>ee6 <span class=\"number\">988</span>e</span><br><span class=\"line\"><span class=\"number\">7372</span> <span class=\"number\">000</span>e <span class=\"number\">6</span>a61 <span class=\"number\">7661</span> <span class=\"number\">2e75</span> <span class=\"number\">7469</span> <span class=\"number\">6</span>c2e <span class=\"number\">4461</span></span><br><span class=\"line\"><span class=\"number\">7465</span> <span class=\"number\">686</span>a <span class=\"number\">8101</span> <span class=\"number\">4</span>b59 <span class=\"number\">7419</span> <span class=\"number\">0300</span> <span class=\"number\">0078</span> <span class=\"number\">7077</span></span><br><span class=\"line\"><span class=\"number\">0800</span> <span class=\"number\">0001</span> <span class=\"number\">5356</span> b659 b778 <span class=\"number\">7372</span> <span class=\"number\">0037</span> <span class=\"number\">636f</span></span><br><span class=\"line\"><span class=\"number\">6</span>d2e <span class=\"number\">6</span>a61 <span class=\"number\">7661</span> <span class=\"number\">2e64</span> <span class=\"number\">656</span>d <span class=\"number\">6f</span>2e <span class=\"number\">7365</span> <span class=\"number\">7269</span></span><br><span class=\"line\"><span class=\"number\">616</span>c <span class=\"number\">697</span>a <span class=\"number\">6162</span> <span class=\"number\">6</span>c65 <span class=\"number\">2e53</span> <span class=\"number\">6572</span> <span class=\"number\">6961</span> <span class=\"number\">6</span>c69</span><br><span class=\"line\"><span class=\"number\">7</span>a61 <span class=\"number\">626</span>c <span class=\"number\">6554</span> <span class=\"number\">6573</span> <span class=\"number\">7424</span> <span class=\"number\">4f</span>62 <span class=\"number\">6</span>a65 <span class=\"number\">6374</span></span><br><span class=\"line\"><span class=\"number\">5361</span> <span class=\"number\">7665</span> <span class=\"number\">72</span>eb bbba f5cb <span class=\"number\">5</span>ec7 <span class=\"number\">4</span>b02 <span class=\"number\">0003</span></span><br><span class=\"line\"><span class=\"number\">4900</span> <span class=\"number\">036f</span> <span class=\"number\">6</span>c64 <span class=\"number\">4</span>c00 <span class=\"number\">046</span>e <span class=\"number\">616</span>d <span class=\"number\">6574</span> <span class=\"number\">0012</span></span><br><span class=\"line\"><span class=\"number\">4</span>c6a <span class=\"number\">6176</span> <span class=\"number\">612f</span> <span class=\"number\">6</span>c61 <span class=\"number\">6e67</span> <span class=\"number\">2f</span>53 <span class=\"number\">7472</span> <span class=\"number\">696</span>e</span><br><span class=\"line\"><span class=\"number\">673</span>b <span class=\"number\">4</span>c00 <span class=\"number\">0674</span> <span class=\"number\">6869</span> <span class=\"number\">7324</span> <span class=\"number\">3074</span> <span class=\"number\">002</span>d <span class=\"number\">4</span>c63</span><br><span class=\"line\"><span class=\"number\">6f</span>6d <span class=\"number\">2f</span>6a <span class=\"number\">6176</span> <span class=\"number\">612f</span> <span class=\"number\">6465</span> <span class=\"number\">6</span>d6f <span class=\"number\">2f</span>73 <span class=\"number\">6572</span></span><br><span class=\"line\"><span class=\"number\">6961</span> <span class=\"number\">6</span>c69 <span class=\"number\">7</span>a61 <span class=\"number\">626</span>c <span class=\"number\">652f</span> <span class=\"number\">5365</span> <span class=\"number\">7269</span> <span class=\"number\">616</span>c</span><br><span class=\"line\"><span class=\"number\">697</span>a <span class=\"number\">6162</span> <span class=\"number\">6</span>c65 <span class=\"number\">5465</span> <span class=\"number\">7374</span> <span class=\"number\">3</span>b78 <span class=\"number\">7200</span> <span class=\"number\">2</span>b63</span><br><span class=\"line\"><span class=\"number\">6f</span>6d <span class=\"number\">2e6</span>a <span class=\"number\">6176</span> <span class=\"number\">612</span>e <span class=\"number\">6465</span> <span class=\"number\">6</span>d6f <span class=\"number\">2e73</span> <span class=\"number\">6572</span></span><br><span class=\"line\"><span class=\"number\">6961</span> <span class=\"number\">6</span>c69 <span class=\"number\">7</span>a61 <span class=\"number\">626</span>c <span class=\"number\">652</span>e <span class=\"number\">5365</span> <span class=\"number\">7269</span> <span class=\"number\">616</span>c</span><br><span class=\"line\"><span class=\"number\">697</span>a <span class=\"number\">6162</span> <span class=\"number\">6</span>c65 <span class=\"number\">5465</span> <span class=\"number\">7374</span> <span class=\"number\">1</span>ae4 <span class=\"number\">7592</span> b513</span><br><span class=\"line\"><span class=\"number\">4860</span> <span class=\"number\">0200</span> <span class=\"number\">0149</span> <span class=\"number\">0006</span> <span class=\"number\">6661</span> <span class=\"number\">7468</span> <span class=\"number\">6572</span> <span class=\"number\">7870</span></span><br><span class=\"line\"><span class=\"number\">0000</span> <span class=\"number\">0001</span> <span class=\"number\">0000</span> <span class=\"number\">001</span>e <span class=\"number\">7400</span> <span class=\"number\">09e6</span> b58b e8af</span><br><span class=\"line\"><span class=\"number\">95e7</span> b1bb <span class=\"number\">7371</span> <span class=\"number\">007</span>e <span class=\"number\">0006</span> <span class=\"number\">0000</span> <span class=\"number\">0000</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><strong>aced</strong> STREAM_MAGIC </p>\n<p><strong>0005</strong>  STREAM_VERSION </p>\n<p>ObjectStreamConstants<br>ObjectOutputStream.writeStreamHeader()</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">writeStreamHeader</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> IOException </span>&#123;</span><br><span class=\"line\">bout.writeShort(STREAM_MAGIC);</span><br><span class=\"line\">bout.writeShort(STREAM_VERSION);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">objectOutputStream.writeObject()</span><br></pre></td></tr></table></figure>\n<ol>\n<li>74  TC_STRING</li>\n<li>00 09 String9</li>\n<li>e4 b8a5 e698 8ee6 988e String</li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">objectOutputStream.writeObject(<span class=\"keyword\">new</span> Date())</span><br></pre></td></tr></table></figure>\n<ol>\n<li>7372 TC_OBJECT  TC_CLASSDESC</li>\n<li>000e  14</li>\n<li>6a61 7661 2e75 7469 6c2e 4461 7465 java.util.Date</li>\n<li>686a 8101 4b59 7419  uidIDlong8</li>\n<li>03 java.io.ObjectStreamConstants#SC_*</li>\n<li>0000 Date</li>\n<li>78 TC_ENDBLOCKDATA 0</li>\n<li>70 </li>\n<li>77  TC_BLOCKDATA</li>\n<li>08 8</li>\n<li>00 0001 5356 b659 b7 new Date()long8</li>\n<li>78 TC_ENDBLOCKDATA </li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">objectOutputStream.writeObject(<span class=\"keyword\">new</span> ObjectSaver(,<span class=\"number\">30</span>))</span><br></pre></td></tr></table></figure>\n<ol>\n<li>7372 0037 TC_OBJECT  TC_CLASSDESC 55</li>\n<li>636f<br>      6d2e 6a61 7661 2e64 656d 6f2e 7365 7269<br>      616c 697a 6162 6c65 2e53 6572 6961 6c69<br>      7a61 626c 6554 6573 7424 4f62 6a65 6374<br>      5361 7665 72<br>      com.java.demo.serializable.SerializableTest$ObjectSaver</li>\n<li>eb bbba f5cb 5ec7 4b ObjectSaverIDlong8 -1460368089309853877Luid</li>\n<li>02 02SC_SERIALIZABLESerializable</li>\n<li>0003  3 this</li>\n<li>49 497373ASC I oldint</li>\n<li>00 03 3</li>\n<li>6f 6c64  old</li>\n<li>4c 4c7676ASC LnameString</li>\n<li>00 04 4,name</li>\n<li>6e 616d 65  name</li>\n<li>74 TC_STRING</li>\n<li>0012 18</li>\n<li>4c6a 6176 612f 6c61 6e67 2f53 7472 696e<br>       673b<br>        Ljava/lang/String;  </li>\n<li>4c 4c7676ASC L</li>\n<li>00 06 6</li>\n<li>74 6869 7324 30   this$0</li>\n<li>74 TC_STRING</li>\n<li>002d 45</li>\n<li>4c63<br>       6f6d 2f6a 6176 612f 6465 6d6f 2f73 6572<br>       6961 6c69 7a61 626c 652f 5365 7269 616c<br>       697a 6162 6c65 5465 7374 3b<br>       Lcom/java/demo/serializable/SerializableTest;</li>\n<li>78  TC_ENDBLOCKDATA</li>\n<li><code>ObjectSaverSerializableTest</code></li>\n<li>72 TC_CLASSDESC</li>\n<li>002b 43</li>\n<li>63<br>       6f6d 2e6a 6176 612e 6465 6d6f 2e73 6572<br>       6961 6c69 7a61 626c 652e 5365 7269 616c<br>       697a 6162 6c65 5465 7374<br>       com.java.demo.serializable.SerializableTest</li>\n<li>1ae4 7592 b513 4860  ObjectSaverIDlong8 -1937803012639770720L</li>\n<li>02 02SC_SERIALIZABLESerializable</li>\n<li>00 01 1</li>\n<li>49 497373ASC I oldint</li>\n<li>0006 6</li>\n<li>6661 7468 6572 father</li>\n<li>7870 TC_ENDBLOCKDATA </li>\n</ol>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<ol>\n<li>0000 0001 1father1</li>\n<li>0000 001e 30old30</li>\n<li>74 TC_STRING</li>\n<li>0009 9</li>\n<li>e6b5 8be8 af95 e7b1 bb </li>\n<li>73 71  TC_OBJECT  TC_REFERENCE</li>\n<li>007e 0006 0000 0000</li>\n</ol>\n<h4 id=\"-Java\"><a href=\"#-Java\" class=\"headerlink\" title=\" Java\"></a> Java</h4><ul>\n<li></li>\n<li>N</li>\n<li>7372OBJECTCLASSDESC8uid</li>\n<li>javajavajava</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<p>Java  Java  </p>\n<p><strong></strong></p>\n<p>Java</p>\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">SerializableTest</span> <span class=\"keyword\">implements</span> <span class=\"title\">Serializable</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> father;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"keyword\">long</span> serialVersionUID = <span class=\"number\">1937803012639770720L</span>;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ObjectSaver</span>  <span class=\"keyword\">extends</span>  <span class=\"title\">SerializableTest</span> <span class=\"keyword\">implements</span> <span class=\"title\">Serializable</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"keyword\">long</span> serialVersionUID = -<span class=\"number\">1460368089309853877L</span>;</span><br><span class=\"line\">        <span class=\"keyword\">public</span> String name;</span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"keyword\">int</span> old;</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">ObjectSaver</span><span class=\"params\">(String name, <span class=\"keyword\">int</span> old)</span> </span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">super</span>.father = <span class=\"number\">1</span>;</span><br><span class=\"line\">            <span class=\"keyword\">this</span>.name = name;</span><br><span class=\"line\">            <span class=\"keyword\">this</span>.old = old;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>Junit</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Test</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">testWriteObject</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> Exception</span>&#123;</span><br><span class=\"line\">    ObjectOutputStream objectOutputStream = <span class=\"keyword\">new</span> ObjectOutputStream(<span class=\"keyword\">new</span> FileOutputStream(<span class=\"string\">\"/Users/xinyuan/tmp/ObjectSaver.obj\"</span>));</span><br><span class=\"line\">    objectOutputStream.writeObject(<span class=\"string\">\"\"</span>);</span><br><span class=\"line\">    objectOutputStream.writeObject(<span class=\"keyword\">new</span> Date());</span><br><span class=\"line\">    objectOutputStream.writeObject(<span class=\"keyword\">new</span> ObjectSaver(<span class=\"string\">\"\"</span>,<span class=\"number\">30</span>));</span><br><span class=\"line\">    objectOutputStream.close();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>stringsObjectSaver.obj </p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">java.util.Datehj</span><br><span class=\"line\">Scxsr</span><br><span class=\"line\"><span class=\"number\">7</span>com.java.demo.serializable.SerializableTest$ObjectSaver</span><br><span class=\"line\">oldL</span><br><span class=\"line\">namet</span><br><span class=\"line\">Ljava/lang/String;L</span><br><span class=\"line\"><span class=\"keyword\">this</span>$<span class=\"number\">0</span>t</span><br><span class=\"line\">-Lcom/java/demo/serializable/SerializableTest;xr</span><br><span class=\"line\">+com.java.demo.serializable.SerializableTest</span><br><span class=\"line\">fatherxp</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">aced <span class=\"number\">0005</span> <span class=\"number\">7400</span> <span class=\"number\">09e4</span> b8a5 e698 <span class=\"number\">8</span>ee6 <span class=\"number\">988</span>e</span><br><span class=\"line\"><span class=\"number\">7372</span> <span class=\"number\">000</span>e <span class=\"number\">6</span>a61 <span class=\"number\">7661</span> <span class=\"number\">2e75</span> <span class=\"number\">7469</span> <span class=\"number\">6</span>c2e <span class=\"number\">4461</span></span><br><span class=\"line\"><span class=\"number\">7465</span> <span class=\"number\">686</span>a <span class=\"number\">8101</span> <span class=\"number\">4</span>b59 <span class=\"number\">7419</span> <span class=\"number\">0300</span> <span class=\"number\">0078</span> <span class=\"number\">7077</span></span><br><span class=\"line\"><span class=\"number\">0800</span> <span class=\"number\">0001</span> <span class=\"number\">5356</span> b659 b778 <span class=\"number\">7372</span> <span class=\"number\">0037</span> <span class=\"number\">636f</span></span><br><span class=\"line\"><span class=\"number\">6</span>d2e <span class=\"number\">6</span>a61 <span class=\"number\">7661</span> <span class=\"number\">2e64</span> <span class=\"number\">656</span>d <span class=\"number\">6f</span>2e <span class=\"number\">7365</span> <span class=\"number\">7269</span></span><br><span class=\"line\"><span class=\"number\">616</span>c <span class=\"number\">697</span>a <span class=\"number\">6162</span> <span class=\"number\">6</span>c65 <span class=\"number\">2e53</span> <span class=\"number\">6572</span> <span class=\"number\">6961</span> <span class=\"number\">6</span>c69</span><br><span class=\"line\"><span class=\"number\">7</span>a61 <span class=\"number\">626</span>c <span class=\"number\">6554</span> <span class=\"number\">6573</span> <span class=\"number\">7424</span> <span class=\"number\">4f</span>62 <span class=\"number\">6</span>a65 <span class=\"number\">6374</span></span><br><span class=\"line\"><span class=\"number\">5361</span> <span class=\"number\">7665</span> <span class=\"number\">72</span>eb bbba f5cb <span class=\"number\">5</span>ec7 <span class=\"number\">4</span>b02 <span class=\"number\">0003</span></span><br><span class=\"line\"><span class=\"number\">4900</span> <span class=\"number\">036f</span> <span class=\"number\">6</span>c64 <span class=\"number\">4</span>c00 <span class=\"number\">046</span>e <span class=\"number\">616</span>d <span class=\"number\">6574</span> <span class=\"number\">0012</span></span><br><span class=\"line\"><span class=\"number\">4</span>c6a <span class=\"number\">6176</span> <span class=\"number\">612f</span> <span class=\"number\">6</span>c61 <span class=\"number\">6e67</span> <span class=\"number\">2f</span>53 <span class=\"number\">7472</span> <span class=\"number\">696</span>e</span><br><span class=\"line\"><span class=\"number\">673</span>b <span class=\"number\">4</span>c00 <span class=\"number\">0674</span> <span class=\"number\">6869</span> <span class=\"number\">7324</span> <span class=\"number\">3074</span> <span class=\"number\">002</span>d <span class=\"number\">4</span>c63</span><br><span class=\"line\"><span class=\"number\">6f</span>6d <span class=\"number\">2f</span>6a <span class=\"number\">6176</span> <span class=\"number\">612f</span> <span class=\"number\">6465</span> <span class=\"number\">6</span>d6f <span class=\"number\">2f</span>73 <span class=\"number\">6572</span></span><br><span class=\"line\"><span class=\"number\">6961</span> <span class=\"number\">6</span>c69 <span class=\"number\">7</span>a61 <span class=\"number\">626</span>c <span class=\"number\">652f</span> <span class=\"number\">5365</span> <span class=\"number\">7269</span> <span class=\"number\">616</span>c</span><br><span class=\"line\"><span class=\"number\">697</span>a <span class=\"number\">6162</span> <span class=\"number\">6</span>c65 <span class=\"number\">5465</span> <span class=\"number\">7374</span> <span class=\"number\">3</span>b78 <span class=\"number\">7200</span> <span class=\"number\">2</span>b63</span><br><span class=\"line\"><span class=\"number\">6f</span>6d <span class=\"number\">2e6</span>a <span class=\"number\">6176</span> <span class=\"number\">612</span>e <span class=\"number\">6465</span> <span class=\"number\">6</span>d6f <span class=\"number\">2e73</span> <span class=\"number\">6572</span></span><br><span class=\"line\"><span class=\"number\">6961</span> <span class=\"number\">6</span>c69 <span class=\"number\">7</span>a61 <span class=\"number\">626</span>c <span class=\"number\">652</span>e <span class=\"number\">5365</span> <span class=\"number\">7269</span> <span class=\"number\">616</span>c</span><br><span class=\"line\"><span class=\"number\">697</span>a <span class=\"number\">6162</span> <span class=\"number\">6</span>c65 <span class=\"number\">5465</span> <span class=\"number\">7374</span> <span class=\"number\">1</span>ae4 <span class=\"number\">7592</span> b513</span><br><span class=\"line\"><span class=\"number\">4860</span> <span class=\"number\">0200</span> <span class=\"number\">0149</span> <span class=\"number\">0006</span> <span class=\"number\">6661</span> <span class=\"number\">7468</span> <span class=\"number\">6572</span> <span class=\"number\">7870</span></span><br><span class=\"line\"><span class=\"number\">0000</span> <span class=\"number\">0001</span> <span class=\"number\">0000</span> <span class=\"number\">001</span>e <span class=\"number\">7400</span> <span class=\"number\">09e6</span> b58b e8af</span><br><span class=\"line\"><span class=\"number\">95e7</span> b1bb <span class=\"number\">7371</span> <span class=\"number\">007</span>e <span class=\"number\">0006</span> <span class=\"number\">0000</span> <span class=\"number\">0000</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><strong>aced</strong> STREAM_MAGIC </p>\n<p><strong>0005</strong>  STREAM_VERSION </p>\n<p>ObjectStreamConstants<br>ObjectOutputStream.writeStreamHeader()</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">writeStreamHeader</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> IOException </span>&#123;</span><br><span class=\"line\">bout.writeShort(STREAM_MAGIC);</span><br><span class=\"line\">bout.writeShort(STREAM_VERSION);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">objectOutputStream.writeObject()</span><br></pre></td></tr></table></figure>\n<ol>\n<li>74  TC_STRING</li>\n<li>00 09 String9</li>\n<li>e4 b8a5 e698 8ee6 988e String</li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">objectOutputStream.writeObject(<span class=\"keyword\">new</span> Date())</span><br></pre></td></tr></table></figure>\n<ol>\n<li>7372 TC_OBJECT  TC_CLASSDESC</li>\n<li>000e  14</li>\n<li>6a61 7661 2e75 7469 6c2e 4461 7465 java.util.Date</li>\n<li>686a 8101 4b59 7419  uidIDlong8</li>\n<li>03 java.io.ObjectStreamConstants#SC_*</li>\n<li>0000 Date</li>\n<li>78 TC_ENDBLOCKDATA 0</li>\n<li>70 </li>\n<li>77  TC_BLOCKDATA</li>\n<li>08 8</li>\n<li>00 0001 5356 b659 b7 new Date()long8</li>\n<li>78 TC_ENDBLOCKDATA </li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">objectOutputStream.writeObject(<span class=\"keyword\">new</span> ObjectSaver(,<span class=\"number\">30</span>))</span><br></pre></td></tr></table></figure>\n<ol>\n<li>7372 0037 TC_OBJECT  TC_CLASSDESC 55</li>\n<li>636f<br>      6d2e 6a61 7661 2e64 656d 6f2e 7365 7269<br>      616c 697a 6162 6c65 2e53 6572 6961 6c69<br>      7a61 626c 6554 6573 7424 4f62 6a65 6374<br>      5361 7665 72<br>      com.java.demo.serializable.SerializableTest$ObjectSaver</li>\n<li>eb bbba f5cb 5ec7 4b ObjectSaverIDlong8 -1460368089309853877Luid</li>\n<li>02 02SC_SERIALIZABLESerializable</li>\n<li>0003  3 this</li>\n<li>49 497373ASC I oldint</li>\n<li>00 03 3</li>\n<li>6f 6c64  old</li>\n<li>4c 4c7676ASC LnameString</li>\n<li>00 04 4,name</li>\n<li>6e 616d 65  name</li>\n<li>74 TC_STRING</li>\n<li>0012 18</li>\n<li>4c6a 6176 612f 6c61 6e67 2f53 7472 696e<br>       673b<br>        Ljava/lang/String;  </li>\n<li>4c 4c7676ASC L</li>\n<li>00 06 6</li>\n<li>74 6869 7324 30   this$0</li>\n<li>74 TC_STRING</li>\n<li>002d 45</li>\n<li>4c63<br>       6f6d 2f6a 6176 612f 6465 6d6f 2f73 6572<br>       6961 6c69 7a61 626c 652f 5365 7269 616c<br>       697a 6162 6c65 5465 7374 3b<br>       Lcom/java/demo/serializable/SerializableTest;</li>\n<li>78  TC_ENDBLOCKDATA</li>\n<li><code>ObjectSaverSerializableTest</code></li>\n<li>72 TC_CLASSDESC</li>\n<li>002b 43</li>\n<li>63<br>       6f6d 2e6a 6176 612e 6465 6d6f 2e73 6572<br>       6961 6c69 7a61 626c 652e 5365 7269 616c<br>       697a 6162 6c65 5465 7374<br>       com.java.demo.serializable.SerializableTest</li>\n<li>1ae4 7592 b513 4860  ObjectSaverIDlong8 -1937803012639770720L</li>\n<li>02 02SC_SERIALIZABLESerializable</li>\n<li>00 01 1</li>\n<li>49 497373ASC I oldint</li>\n<li>0006 6</li>\n<li>6661 7468 6572 father</li>\n<li>7870 TC_ENDBLOCKDATA </li>\n</ol>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<ol>\n<li>0000 0001 1father1</li>\n<li>0000 001e 30old30</li>\n<li>74 TC_STRING</li>\n<li>0009 9</li>\n<li>e6b5 8be8 af95 e7b1 bb </li>\n<li>73 71  TC_OBJECT  TC_REFERENCE</li>\n<li>007e 0006 0000 0000</li>\n</ol>\n<h4 id=\"-Java\"><a href=\"#-Java\" class=\"headerlink\" title=\" Java\"></a> Java</h4><ul>\n<li></li>\n<li>N</li>\n<li>7372OBJECTCLASSDESC8uid</li>\n<li>javajavajava</li>\n</ul>\n"},{"layout":"post","title":"Linux phantomJs install course","description":null,"keywords":"phantomJS","date":"2017-09-20T16:00:00.000Z","_content":"\n> \n> HTMLHTMLheadlessphantomJSHeadless ChromephantomJS\n\n#### \n5uglibc2.5 PhantomJSLinux 64-bitGLIBCXX_3.4.9  GLIBC_2.7/GLIBC_2.9/GLIBC_2.10\n![](/images/posts/20170921/15059814992587.jpg)\n\n\n\n```shell\nstrings /lib64/libc.so.6 |grep GLIBC\nstrings /usr/lib64/libstdc++.so.6 |grep GLIBCXX\n```\n\n![](/images/posts/20170921/15059815133485.jpg)\n\nGLIBCXX_3.4.9  GLIBC_2.7\n\n\n\n### phantoomjs\n#### 1. node\n```java\nsudo wget  http://xxxxx/node-v6.11.2-linux-x64.tar.xz\nsudo xz -d node-v6.11.2-linux-x64.tar.xz\nsudo tar xvf node-v6.11.2-linux-x64.tar\n\nsudo ln -s /home/admin/phantomjs/node-v6.11.2-linux-x64/bin/node /usr/local/bin/node\nsudo ln -s /home/admin/phantomjs/node-v6.11.2-linux-x64/bin/npm /usr/local/bin/npm\n\nsudo vi /etc/profile\nPATH=$PATH:/home/admin/phantomjs/node-v6.11.2-linux-x64/bin\n\nnode -v\n```\n\n\n#### 2. npm\n```shell\ncurl -vvvL https://npmjs.com/install.sh >/dev/null\n```\n\n#### 3. phantomJS\n```shell\nsudo wget http://xxxx/phantomjs-2.1.1-linux-x86_64.tar.bz2\nsudo tar -jxvf phantomjs-2.1.1-linux-x86_64.tar.bz2\nsudo ln -s /home/admin/phantomjs/phantomjs-2.1.1-linux-x86_64/bin/phantomjs /usr/local/bin/phantomjs\n\nphantomjs --version\n```\n![](/images/posts/20170921/15059819937015.jpg)\n7u\n\n### GCC\nGlibcGCCGCC4.1.2glibc2.10gcc>=4.3.3\n\n```shell\ncd  /home/admin/gcc/gcc-build\nsudo yum install libstdc++-devel.i686\nsudo yum install  libstdc++-devel.x86_64\nsudo ../gcc-4.8.2/configure --prefix=/usr/local/gcc-4.8.2  --with-gmp=/usr/local/gmp-6.0.0 --with-mpfr=/usr/local/mpfr-3.1.2 --with-mpc=/usr/local/mpc-1.0.1  --with-java-home=/opt/taobao/java --disable-multilib  --disable-shared --enable-threads=posix --disable-checking  --enable-languages=all  --enable-static --enable-shared=libstdc++,libgcc_eh\n```\n\n\n\n```shell\nsudo ../gcc-4.8.2/configure --prefix=/usr/local/gcc-4.8.2 --enable-threads=posix  --with-gmp=/usr/local/gmp-6.0.0 --with-mpfr=/usr/local/mpfr-3.1.2 --with-mpc=/usr/local/mpc-1.0.1  --mandir=/usr/share/man --infodir=/usr/share/info --enable-shared --disable-multilib --enable-checking=release --with-system-zlib --enable-__cxa_atexit --disable-libunwind-exceptions --enable-libgcj-multifile --enable-languages=c,c++,objc,obj-c++,java --disable-dssi --disable-plugin --with-java-home=/opt/taobao/java/jre --with-cpu=generic\n\nsudo make\nsudo make install \n\n#\nsudo vi /etc/profile\nexport PATH=$PATH:/usr/local/gcc-4.8.2\nsource /etc/profile\n\nsudo rm /usr/bin/gcc    //  \nsudo ln -s /usr/local/gcc-4.8.2/bin/gcc /usr/bin/gcc // \n```\n\nGCC\n```shell\n$gcc -v\nUsing built-in specs.\nCOLLECT_GCC=gcc\nCOLLECT_LTO_WRAPPER=/usr/local/gcc-4.8.2/libexec/gcc/x86_64-unknown-linux-gnu/4.8.2/lto-wrapper\nTarget: x86_64-unknown-linux-gnu\nConfigured with: ../gcc-4.8.2/configure --prefix=/usr/local/gcc-4.8.2 --with-gmp=/usr/local/gmp-6.0.0 --with-mpfr=/usr/local/mpfr-3.1.2 --with-mpc=/usr/local/mpc-1.0.1 --with-java-home=/opt/taobao/java --disable-multilib --disable-shared --enable-threads=posix --disable-checking --enable-static --enable-shared=libstdc++\nThread model: posix\ngcc version 4.8.2 (GCC)\n```\n\n##### 1\n\n```shell\nconfigure: error: cannot compute suffix of object files: cannot compile See `config.log' for more details\n```\nconfig.log\n\n```shell\n/home/admin/gcc/gcc-build/./gcc/cc1: error while loading shared libraries: libmpc.so.3: cannot open shared object file: No such file or directory\n```\n&ldconfig\n\n##### 2\n\n```shell\n/usr/local/include/gnu/stubs.h:7:27: fatal error: gnu/stubs-32.h: No such file or directory\ncompilation terminated.\n```\n\nyum list available glibc-devel\nsudo yum install glibc-devel\nsudo yum install libstdc++-devel.i686\n\n##### 3\n\n```shell\n/usr/lib/gcc/x86_64-redhat-linux/4.1.2/../../../../include/c++/4.1.2/iosfwd:44:28: error: bits/c++config.h: No such file or directory\n/usr/lib/gcc/x86_64-redhat-linux/4.1.2/../../../../include/c++/4.1.2/iosfwd:45:29: error: bits/c++locale.h: No such file or directory\n/usr/lib/gcc/x86_64-redhat-linux/4.1.2/../../../../include/c++/4.1.2/iosfwd:46:25: error: bits/c++io.h: No such file or directory\n```\n\n\n```shell\nsudo yum install  libstdc++-devel.x86_64\n```\n\n##### 4\n\n```shell\nlib/libgmp.so: could not read symbols: File in wrong format collect2: error: ld returned 1 exit status\n/home/admin/gcc/gcc-build/x86_64-unknown-linux-gnu/32/libjava/classpath/native/jni/java-math'\n```\n\n\n\n```shell\nsudo ../gcc-4.8.2/configure --prefix=/usr/local/gcc-4.8.2 --enable-threads=posix --disable-checking --with-gmp=/usr/local/gmp-6.0.0 --with-mpfr=/usr/local/mpfr-3.1.2 --with-mpc=/usr/local/mpc-1.0.1 --enable-shared --enable-languages=all  --enable-libgomp --enable-lto --enable-tls --with-fpmath=sse --disable-multilib --build=x86_64-redhat-linux    --with-java-home=/opt/taobao/java\n```\n\n##### 5\n\n```shell\nError: unrecognized symbol type \"gnu_unique_object\"\n```\n configure gnu_unique_object \n\n##### 6\n\n```shell\nconfigure: error: libXtst not found, required by java.awt.Robot\n```\n\n configure java.awt \n\n##### 7\nlibtool: compile: not configured to build any kind of library\n\nsudo ../gcc-4.8.2/configure --prefix=/usr/local/gcc-4.8.2  --with-gmp=/usr/local/gmp-6.0.0 --with-mpfr=/usr/local/mpfr-3.1.2 --with-mpc=/usr/local/mpc-1.0.1  --with-java-home=/opt/taobao/java --disable-multilib --disable-shared --enable-threads=posix --disable-checking  --enable-languages=all  --enable-static --enable-shared=libstdc++,libgcc_eh\n\n##### 8\ncc1plus: error: unrecognized command line option \"-Wno-narrowing\"\n\n\n##### 9\n/usr/include/string.h:550:18: error: unknown type name __locale_t\n\n\n##### 10\n/usr/lib64/libstdc++.so.6: undefined symbol: _ZNSt7num_getIcSt19istreambuf_iteratorIcSt11char_traitsIcEEE2idE, version GLIBCXX_3.4\n\n\n### GlibC\nGlibc\n\n```shell\nstrings /lib64/libc.so.6 |grep GLIBC\n```\n\nglibc\n\n```shell\nsudo mkdir glic\ncd glic\nsudo wget http://ftp.gnu.org/pub/gnu/glibc/glibc-2.7.tar.gz\nsudo wget http://ftp.gnu.org/pub/gnu/glibc/glibc-2.9.tar.gz\n//sudo wget http://ftp.gnu.org/pub/gnu/glibc/glibc-2.10.1.tar.gz\nsudo wget http://ftp.gnu.org/pub/gnu/glibc/glibc-2.14.tar.gz\n\nsudo tar zxvf glibc-2.7.tar.gz\nsudo tar zxvf glibc-2.9.tar.gz\nsudo tar zxvf glibc-2.10.1.tar.gz\nsudo tar zxvf glibc-2.14.tar.gz\n\nsudo mkdir glibc-build-2.7\nsudo mkdir glibc-build-2.9\nsudo mkdir glibc-build-2.10.1\nsudo mkdir glibc-build-2.14\n\ncd glibc-build-2.7\n\nsudo ../glibc-2.7/configure\n```\n\n\nconfigure: error: no acceptable C compiler found in $PATH\ngcc(rpm -qa |grep gcc  4.1.2glibc2.10gcc>=4.3.3)\n\n\n\n\n```shell\n*** On GNU/Linux systems the GNU C Library should not be installed into\n*** /usr/local since this might make your system totally unusable.\n*** We strongly advise to use a different prefix.  For details read the FAQ.\n```\n\nINSTALL\n\n> `configure' takes many options, but the only one that is usually\n> mandatory is `--prefix'.  This option tells `configure' where you want\n> glibc installed.  This defaults to `/usr/local', but the normal setting\n> to install as the standard system library is `--prefix=/usr' for\n> GNU/linux systems and `--prefix=' (an empty prefix) for GNU/Hurd\n> systems.\n\n:\n\n\n```shell\n--prefix=PREFIX\n```\n\n /usr/local\nLinux /lib  /usr  --prefix=/usr  /lib  /usr/lib PREFIX\n\n\n```shell\nsudo ../glibc-2.7/configure --prefix=/usr --disable-multi-arch\nsudo ../glibc-2.9/configure --prefix=/usr --disable-multi-arch\nsudo ../glibc-2.14/configure --prefix=/usr --disable-multi-arch\n```\n\n\nbuildglibc\n\n```shell\nsudo ../glibc-2.7/configure --prefix=/usr --disable-multi-arch\nsudo ../glibc-2.9/configure --prefix=/usr --disable-multi-arch\nsudo ../glibc-2.10.1/configure --prefix=/usr --disable-multi-arch\n```\n\nbuild( glibc-build-xx )\n\n```shell\nsudo make all && make install\n```\n\nsudo make install\n\n```shell\nmake[2]: *** No rule to make target `/home/admin/glibc-build/dlfcn/libdl.so.2', needed by `/home/admin/glibc-build/elf/sprof'.  Stop.\nmake[2]: Leaving directory `/home/admin/glibc-2.7/elf'\nmake[1]: *** [elf/subdir_install] Error 2\nmake[1]: Leaving directory `/home/admin/glibc-2.7'\nmake: *** [install] Error 2\n```\n\n(make all  make install);\n\n\n\n\n```shell\nYour new glibc installation seems to be ok.\nmake[1]: Leaving directory `/home/admin/glibc-2.7'\n```\n\n\n##### 1\n\n```shell\n/lib/modules/2.6.32-220.23.2.ali927.el5.x86_64/build/include/linux/swab.h:6:22: fatal error: asm/swab.h: No such file or directory\n #include <asm/swab.h>\n```\n\n\n\n\n```shell\nsudo touch /lib/modules/2.6.32-220.23.2.ali927.el5.x86_64/build/include/asm-x86/swab.h\n```\n\nhttps://bbs.archlinux.org/viewtopic.php?id=70488\n\n##### 2\nconfigure: error: assembler too old, .cfi_personality support missing\ngooglegcc\n\n##### 3\n\n```shell\n/usr/bin/ld: cannot find -lgcc_eh\n```\n\n glibcgcc_eh--enable-sharedgcc--disable-sharedshared\ngcc_ehsudo gcc -lgcc_eh --verbose\n\n\n\n```shell\nsudo find / -name libgcc.a\nsudo cp libgcc.a libgcc_eh.a\n```\n\n\nhttp://www.linuxfromscratch.org/clfs/view/clfs-2.0/arm/cross-tools/glibc.html\nhttps://gcc.gnu.org/ml/gcc-patches/2005-02/msg00532.html\nhttp://lists.linuxfromscratch.org/pipermail/lfs-support/2012-December/044174.html\n\n##### 4\n\n```shell\n Can't open configuration file /usr/etc/ld.so.conf: No such file or directory\n```\n\n\nhttp://www.math.ias.edu/~tarzadon/pages/posts/install-opam-on-springdalerhelcentossl-5.x-111.php\n\n\n##### 5\n\n```shell\n/build/include/linux/capability.h:73: error: expected specifier-qualifier-list before __le32\n```\n\n\n\nhttps://github.com/spotify/linux/blob/master/include/linux/capability.h\nsudo yum install openssl-devel gnutls-devel libcap-devel\n\nstrings /lib64/libc.so.6 |grep GLIBC\n\n\n### GLIBCXX\nstrings /usr/lib64/libstdc++.so.6 |grep GLIBCXX\nls -l /usr/lib64/libstdc++.so.6\nlrwxrwxrwx 1 root root 18 Aug 14  2015 /usr/lib64/libstdc++.so.6 -> libstdc++.so.6.0.8\n\ngcc\n\n\n```shell\nsudo wget http://xxx/libstdc%2B%2B.so.6.0.13\nsudo cp libstdc++.so.6.0.13 /usr/lib\nsudo cp libstdc++.so.6.0.13 /usr/lib64\n\ncd /usr/lib\nsudo ln -sf libstdc++.so.6.0.13  libstdc++.so.6\n\ncd /usr/lib64\nsudo ln -sf libstdc++.so.6.0.13  libstdc++.so.6\n```\n\n\n\n\n```shell\nstrings /usr/lib64/libstdc++.so.6 |grep GLIBCXX\n```\n\n\n\n\n### MACphantomJS\n\n\n\n```shell\nvi .bash_profile\nexport PATH=$PATH:/Users/xinyuan/soft/phantomjs-2.5.0-beta-macos/bin\nsource  .bash_profile\n```\n\nwebp\n\n```shell\nruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\" < /dev/null 2> /dev/null\nbrew install webp\n```\n\n\n\n```shell\nln -s  /usr/local/opt/webp/lib/libwebp.7.dylib /usr/local/opt/webp/lib/libwebp.6.dylib\n```\n\n\n\n```shell\nphantomjs -v\n2.5.0-development\n```\n\n### \nOSlinux5ugcc4.1.2glibcglibxxgmpmpfrmpcphantomjsJSmakeinstall 30phantomjs  dockerlinux\n\n### \nhttp://blog.csdn.net/tsaiyong_ahnselina/article/details/21552485\nhttp://siliconcali.com/2012/10/glibcxx_3-4-9-not-found-in-red-hatfedoracentos-linux/\nhttp://blog.csdn.net/tengdazhang770960436/article/details/41348035\nhttp://www.cnblogs.com/LitLeo/p/3534196.html\nhttp://blog.csdn.net/wtfmonking/article/details/17577925\nhttp://www.cnblogs.com/coolulu/p/4124803.html\n\n\n\n","source":"_posts/Java/2017-09-21-phantomjs-install.md","raw":"---\nlayout: post\ntitle: Linux phantomJs install course\ncategories: Java\ndescription:\nkeywords: phantomJS\ndate: 2017-09-21\n---\n\n> \n> HTMLHTMLheadlessphantomJSHeadless ChromephantomJS\n\n#### \n5uglibc2.5 PhantomJSLinux 64-bitGLIBCXX_3.4.9  GLIBC_2.7/GLIBC_2.9/GLIBC_2.10\n![](/images/posts/20170921/15059814992587.jpg)\n\n\n\n```shell\nstrings /lib64/libc.so.6 |grep GLIBC\nstrings /usr/lib64/libstdc++.so.6 |grep GLIBCXX\n```\n\n![](/images/posts/20170921/15059815133485.jpg)\n\nGLIBCXX_3.4.9  GLIBC_2.7\n\n\n\n### phantoomjs\n#### 1. node\n```java\nsudo wget  http://xxxxx/node-v6.11.2-linux-x64.tar.xz\nsudo xz -d node-v6.11.2-linux-x64.tar.xz\nsudo tar xvf node-v6.11.2-linux-x64.tar\n\nsudo ln -s /home/admin/phantomjs/node-v6.11.2-linux-x64/bin/node /usr/local/bin/node\nsudo ln -s /home/admin/phantomjs/node-v6.11.2-linux-x64/bin/npm /usr/local/bin/npm\n\nsudo vi /etc/profile\nPATH=$PATH:/home/admin/phantomjs/node-v6.11.2-linux-x64/bin\n\nnode -v\n```\n\n\n#### 2. npm\n```shell\ncurl -vvvL https://npmjs.com/install.sh >/dev/null\n```\n\n#### 3. phantomJS\n```shell\nsudo wget http://xxxx/phantomjs-2.1.1-linux-x86_64.tar.bz2\nsudo tar -jxvf phantomjs-2.1.1-linux-x86_64.tar.bz2\nsudo ln -s /home/admin/phantomjs/phantomjs-2.1.1-linux-x86_64/bin/phantomjs /usr/local/bin/phantomjs\n\nphantomjs --version\n```\n![](/images/posts/20170921/15059819937015.jpg)\n7u\n\n### GCC\nGlibcGCCGCC4.1.2glibc2.10gcc>=4.3.3\n\n```shell\ncd  /home/admin/gcc/gcc-build\nsudo yum install libstdc++-devel.i686\nsudo yum install  libstdc++-devel.x86_64\nsudo ../gcc-4.8.2/configure --prefix=/usr/local/gcc-4.8.2  --with-gmp=/usr/local/gmp-6.0.0 --with-mpfr=/usr/local/mpfr-3.1.2 --with-mpc=/usr/local/mpc-1.0.1  --with-java-home=/opt/taobao/java --disable-multilib  --disable-shared --enable-threads=posix --disable-checking  --enable-languages=all  --enable-static --enable-shared=libstdc++,libgcc_eh\n```\n\n\n\n```shell\nsudo ../gcc-4.8.2/configure --prefix=/usr/local/gcc-4.8.2 --enable-threads=posix  --with-gmp=/usr/local/gmp-6.0.0 --with-mpfr=/usr/local/mpfr-3.1.2 --with-mpc=/usr/local/mpc-1.0.1  --mandir=/usr/share/man --infodir=/usr/share/info --enable-shared --disable-multilib --enable-checking=release --with-system-zlib --enable-__cxa_atexit --disable-libunwind-exceptions --enable-libgcj-multifile --enable-languages=c,c++,objc,obj-c++,java --disable-dssi --disable-plugin --with-java-home=/opt/taobao/java/jre --with-cpu=generic\n\nsudo make\nsudo make install \n\n#\nsudo vi /etc/profile\nexport PATH=$PATH:/usr/local/gcc-4.8.2\nsource /etc/profile\n\nsudo rm /usr/bin/gcc    //  \nsudo ln -s /usr/local/gcc-4.8.2/bin/gcc /usr/bin/gcc // \n```\n\nGCC\n```shell\n$gcc -v\nUsing built-in specs.\nCOLLECT_GCC=gcc\nCOLLECT_LTO_WRAPPER=/usr/local/gcc-4.8.2/libexec/gcc/x86_64-unknown-linux-gnu/4.8.2/lto-wrapper\nTarget: x86_64-unknown-linux-gnu\nConfigured with: ../gcc-4.8.2/configure --prefix=/usr/local/gcc-4.8.2 --with-gmp=/usr/local/gmp-6.0.0 --with-mpfr=/usr/local/mpfr-3.1.2 --with-mpc=/usr/local/mpc-1.0.1 --with-java-home=/opt/taobao/java --disable-multilib --disable-shared --enable-threads=posix --disable-checking --enable-static --enable-shared=libstdc++\nThread model: posix\ngcc version 4.8.2 (GCC)\n```\n\n##### 1\n\n```shell\nconfigure: error: cannot compute suffix of object files: cannot compile See `config.log' for more details\n```\nconfig.log\n\n```shell\n/home/admin/gcc/gcc-build/./gcc/cc1: error while loading shared libraries: libmpc.so.3: cannot open shared object file: No such file or directory\n```\n&ldconfig\n\n##### 2\n\n```shell\n/usr/local/include/gnu/stubs.h:7:27: fatal error: gnu/stubs-32.h: No such file or directory\ncompilation terminated.\n```\n\nyum list available glibc-devel\nsudo yum install glibc-devel\nsudo yum install libstdc++-devel.i686\n\n##### 3\n\n```shell\n/usr/lib/gcc/x86_64-redhat-linux/4.1.2/../../../../include/c++/4.1.2/iosfwd:44:28: error: bits/c++config.h: No such file or directory\n/usr/lib/gcc/x86_64-redhat-linux/4.1.2/../../../../include/c++/4.1.2/iosfwd:45:29: error: bits/c++locale.h: No such file or directory\n/usr/lib/gcc/x86_64-redhat-linux/4.1.2/../../../../include/c++/4.1.2/iosfwd:46:25: error: bits/c++io.h: No such file or directory\n```\n\n\n```shell\nsudo yum install  libstdc++-devel.x86_64\n```\n\n##### 4\n\n```shell\nlib/libgmp.so: could not read symbols: File in wrong format collect2: error: ld returned 1 exit status\n/home/admin/gcc/gcc-build/x86_64-unknown-linux-gnu/32/libjava/classpath/native/jni/java-math'\n```\n\n\n\n```shell\nsudo ../gcc-4.8.2/configure --prefix=/usr/local/gcc-4.8.2 --enable-threads=posix --disable-checking --with-gmp=/usr/local/gmp-6.0.0 --with-mpfr=/usr/local/mpfr-3.1.2 --with-mpc=/usr/local/mpc-1.0.1 --enable-shared --enable-languages=all  --enable-libgomp --enable-lto --enable-tls --with-fpmath=sse --disable-multilib --build=x86_64-redhat-linux    --with-java-home=/opt/taobao/java\n```\n\n##### 5\n\n```shell\nError: unrecognized symbol type \"gnu_unique_object\"\n```\n configure gnu_unique_object \n\n##### 6\n\n```shell\nconfigure: error: libXtst not found, required by java.awt.Robot\n```\n\n configure java.awt \n\n##### 7\nlibtool: compile: not configured to build any kind of library\n\nsudo ../gcc-4.8.2/configure --prefix=/usr/local/gcc-4.8.2  --with-gmp=/usr/local/gmp-6.0.0 --with-mpfr=/usr/local/mpfr-3.1.2 --with-mpc=/usr/local/mpc-1.0.1  --with-java-home=/opt/taobao/java --disable-multilib --disable-shared --enable-threads=posix --disable-checking  --enable-languages=all  --enable-static --enable-shared=libstdc++,libgcc_eh\n\n##### 8\ncc1plus: error: unrecognized command line option \"-Wno-narrowing\"\n\n\n##### 9\n/usr/include/string.h:550:18: error: unknown type name __locale_t\n\n\n##### 10\n/usr/lib64/libstdc++.so.6: undefined symbol: _ZNSt7num_getIcSt19istreambuf_iteratorIcSt11char_traitsIcEEE2idE, version GLIBCXX_3.4\n\n\n### GlibC\nGlibc\n\n```shell\nstrings /lib64/libc.so.6 |grep GLIBC\n```\n\nglibc\n\n```shell\nsudo mkdir glic\ncd glic\nsudo wget http://ftp.gnu.org/pub/gnu/glibc/glibc-2.7.tar.gz\nsudo wget http://ftp.gnu.org/pub/gnu/glibc/glibc-2.9.tar.gz\n//sudo wget http://ftp.gnu.org/pub/gnu/glibc/glibc-2.10.1.tar.gz\nsudo wget http://ftp.gnu.org/pub/gnu/glibc/glibc-2.14.tar.gz\n\nsudo tar zxvf glibc-2.7.tar.gz\nsudo tar zxvf glibc-2.9.tar.gz\nsudo tar zxvf glibc-2.10.1.tar.gz\nsudo tar zxvf glibc-2.14.tar.gz\n\nsudo mkdir glibc-build-2.7\nsudo mkdir glibc-build-2.9\nsudo mkdir glibc-build-2.10.1\nsudo mkdir glibc-build-2.14\n\ncd glibc-build-2.7\n\nsudo ../glibc-2.7/configure\n```\n\n\nconfigure: error: no acceptable C compiler found in $PATH\ngcc(rpm -qa |grep gcc  4.1.2glibc2.10gcc>=4.3.3)\n\n\n\n\n```shell\n*** On GNU/Linux systems the GNU C Library should not be installed into\n*** /usr/local since this might make your system totally unusable.\n*** We strongly advise to use a different prefix.  For details read the FAQ.\n```\n\nINSTALL\n\n> `configure' takes many options, but the only one that is usually\n> mandatory is `--prefix'.  This option tells `configure' where you want\n> glibc installed.  This defaults to `/usr/local', but the normal setting\n> to install as the standard system library is `--prefix=/usr' for\n> GNU/linux systems and `--prefix=' (an empty prefix) for GNU/Hurd\n> systems.\n\n:\n\n\n```shell\n--prefix=PREFIX\n```\n\n /usr/local\nLinux /lib  /usr  --prefix=/usr  /lib  /usr/lib PREFIX\n\n\n```shell\nsudo ../glibc-2.7/configure --prefix=/usr --disable-multi-arch\nsudo ../glibc-2.9/configure --prefix=/usr --disable-multi-arch\nsudo ../glibc-2.14/configure --prefix=/usr --disable-multi-arch\n```\n\n\nbuildglibc\n\n```shell\nsudo ../glibc-2.7/configure --prefix=/usr --disable-multi-arch\nsudo ../glibc-2.9/configure --prefix=/usr --disable-multi-arch\nsudo ../glibc-2.10.1/configure --prefix=/usr --disable-multi-arch\n```\n\nbuild( glibc-build-xx )\n\n```shell\nsudo make all && make install\n```\n\nsudo make install\n\n```shell\nmake[2]: *** No rule to make target `/home/admin/glibc-build/dlfcn/libdl.so.2', needed by `/home/admin/glibc-build/elf/sprof'.  Stop.\nmake[2]: Leaving directory `/home/admin/glibc-2.7/elf'\nmake[1]: *** [elf/subdir_install] Error 2\nmake[1]: Leaving directory `/home/admin/glibc-2.7'\nmake: *** [install] Error 2\n```\n\n(make all  make install);\n\n\n\n\n```shell\nYour new glibc installation seems to be ok.\nmake[1]: Leaving directory `/home/admin/glibc-2.7'\n```\n\n\n##### 1\n\n```shell\n/lib/modules/2.6.32-220.23.2.ali927.el5.x86_64/build/include/linux/swab.h:6:22: fatal error: asm/swab.h: No such file or directory\n #include <asm/swab.h>\n```\n\n\n\n\n```shell\nsudo touch /lib/modules/2.6.32-220.23.2.ali927.el5.x86_64/build/include/asm-x86/swab.h\n```\n\nhttps://bbs.archlinux.org/viewtopic.php?id=70488\n\n##### 2\nconfigure: error: assembler too old, .cfi_personality support missing\ngooglegcc\n\n##### 3\n\n```shell\n/usr/bin/ld: cannot find -lgcc_eh\n```\n\n glibcgcc_eh--enable-sharedgcc--disable-sharedshared\ngcc_ehsudo gcc -lgcc_eh --verbose\n\n\n\n```shell\nsudo find / -name libgcc.a\nsudo cp libgcc.a libgcc_eh.a\n```\n\n\nhttp://www.linuxfromscratch.org/clfs/view/clfs-2.0/arm/cross-tools/glibc.html\nhttps://gcc.gnu.org/ml/gcc-patches/2005-02/msg00532.html\nhttp://lists.linuxfromscratch.org/pipermail/lfs-support/2012-December/044174.html\n\n##### 4\n\n```shell\n Can't open configuration file /usr/etc/ld.so.conf: No such file or directory\n```\n\n\nhttp://www.math.ias.edu/~tarzadon/pages/posts/install-opam-on-springdalerhelcentossl-5.x-111.php\n\n\n##### 5\n\n```shell\n/build/include/linux/capability.h:73: error: expected specifier-qualifier-list before __le32\n```\n\n\n\nhttps://github.com/spotify/linux/blob/master/include/linux/capability.h\nsudo yum install openssl-devel gnutls-devel libcap-devel\n\nstrings /lib64/libc.so.6 |grep GLIBC\n\n\n### GLIBCXX\nstrings /usr/lib64/libstdc++.so.6 |grep GLIBCXX\nls -l /usr/lib64/libstdc++.so.6\nlrwxrwxrwx 1 root root 18 Aug 14  2015 /usr/lib64/libstdc++.so.6 -> libstdc++.so.6.0.8\n\ngcc\n\n\n```shell\nsudo wget http://xxx/libstdc%2B%2B.so.6.0.13\nsudo cp libstdc++.so.6.0.13 /usr/lib\nsudo cp libstdc++.so.6.0.13 /usr/lib64\n\ncd /usr/lib\nsudo ln -sf libstdc++.so.6.0.13  libstdc++.so.6\n\ncd /usr/lib64\nsudo ln -sf libstdc++.so.6.0.13  libstdc++.so.6\n```\n\n\n\n\n```shell\nstrings /usr/lib64/libstdc++.so.6 |grep GLIBCXX\n```\n\n\n\n\n### MACphantomJS\n\n\n\n```shell\nvi .bash_profile\nexport PATH=$PATH:/Users/xinyuan/soft/phantomjs-2.5.0-beta-macos/bin\nsource  .bash_profile\n```\n\nwebp\n\n```shell\nruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\" < /dev/null 2> /dev/null\nbrew install webp\n```\n\n\n\n```shell\nln -s  /usr/local/opt/webp/lib/libwebp.7.dylib /usr/local/opt/webp/lib/libwebp.6.dylib\n```\n\n\n\n```shell\nphantomjs -v\n2.5.0-development\n```\n\n### \nOSlinux5ugcc4.1.2glibcglibxxgmpmpfrmpcphantomjsJSmakeinstall 30phantomjs  dockerlinux\n\n### \nhttp://blog.csdn.net/tsaiyong_ahnselina/article/details/21552485\nhttp://siliconcali.com/2012/10/glibcxx_3-4-9-not-found-in-red-hatfedoracentos-linux/\nhttp://blog.csdn.net/tengdazhang770960436/article/details/41348035\nhttp://www.cnblogs.com/LitLeo/p/3534196.html\nhttp://blog.csdn.net/wtfmonking/article/details/17577925\nhttp://www.cnblogs.com/coolulu/p/4124803.html\n\n\n\n","slug":"Java/2017-09-21-phantomjs-install","published":1,"updated":"2018-11-10T08:59:09.802Z","comments":1,"photos":[],"link":"","_id":"cjtohbkax00626f12tisnnkzk","content":"<blockquote>\n<p><br>HTMLHTMLheadlessphantomJSHeadless ChromephantomJS</p>\n</blockquote>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>5uglibc2.5 PhantomJSLinux 64-bitGLIBCXX_3.4.9  GLIBC_2.7/GLIBC_2.9/GLIBC_2.10<br><img src=\"/images/posts/20170921/15059814992587.jpg\" alt=\"\"></p>\n<p></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">strings /lib64/libc.so.6 |grep GLIBC</span><br><span class=\"line\">strings /usr/lib64/libstdc++.so.6 |grep GLIBCXX</span><br></pre></td></tr></table></figure>\n<p><img src=\"/images/posts/20170921/15059815133485.jpg\" alt=\"\"></p>\n<p>GLIBCXX_3.4.9  GLIBC_2.7</p>\n<h3 id=\"phantoomjs\"><a href=\"#phantoomjs\" class=\"headerlink\" title=\"phantoomjs\"></a>phantoomjs</h3><h4 id=\"1-node\"><a href=\"#1-node\" class=\"headerlink\" title=\"1. node\"></a>1. node</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo wget  http:<span class=\"comment\">//xxxxx/node-v6.11.2-linux-x64.tar.xz</span></span><br><span class=\"line\">sudo xz -d node-v6.11.2-linux-x64.tar.xz</span><br><span class=\"line\">sudo tar xvf node-v6.11.2-linux-x64.tar</span><br><span class=\"line\"></span><br><span class=\"line\">sudo ln -s /home/admin/phantomjs/node-v6.11.2-linux-x64/bin/node /usr/local/bin/node</span><br><span class=\"line\">sudo ln -s /home/admin/phantomjs/node-v6.11.2-linux-x64/bin/npm /usr/local/bin/npm</span><br><span class=\"line\"></span><br><span class=\"line\">sudo vi /etc/profile</span><br><span class=\"line\">PATH=$PATH:/home/admin/phantomjs/node-v6.11.2-linux-x64/bin</span><br><span class=\"line\"></span><br><span class=\"line\">node -v</span><br></pre></td></tr></table></figure>\n<h4 id=\"2-npm\"><a href=\"#2-npm\" class=\"headerlink\" title=\"2. npm\"></a>2. npm</h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -vvvL https://npmjs.com/install.sh &gt;/dev/null</span><br></pre></td></tr></table></figure>\n<h4 id=\"3-phantomJS\"><a href=\"#3-phantomJS\" class=\"headerlink\" title=\"3. phantomJS\"></a>3. phantomJS</h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo wget http://xxxx/phantomjs-2.1.1-linux-x86_64.tar.bz2</span><br><span class=\"line\">sudo tar -jxvf phantomjs-2.1.1-linux-x86_64.tar.bz2</span><br><span class=\"line\">sudo ln -s /home/admin/phantomjs/phantomjs-2.1.1-linux-x86_64/bin/phantomjs /usr/local/bin/phantomjs</span><br><span class=\"line\"></span><br><span class=\"line\">phantomjs --version</span><br></pre></td></tr></table></figure>\n<p><img src=\"/images/posts/20170921/15059819937015.jpg\" alt=\"\"><br>7u</p>\n<h3 id=\"GCC\"><a href=\"#GCC\" class=\"headerlink\" title=\"GCC\"></a>GCC</h3><p>GlibcGCCGCC4.1.2glibc2.10gcc&gt;=4.3.3</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd  /home/admin/gcc/gcc-build</span><br><span class=\"line\">sudo yum install libstdc++-devel.i686</span><br><span class=\"line\">sudo yum install  libstdc++-devel.x86_64</span><br><span class=\"line\">sudo ../gcc-4.8.2/configure --prefix=/usr/local/gcc-4.8.2  --with-gmp=/usr/local/gmp-6.0.0 --with-mpfr=/usr/local/mpfr-3.1.2 --with-mpc=/usr/local/mpc-1.0.1  --with-java-home=/opt/taobao/java --disable-multilib  --disable-shared --enable-threads=posix --disable-checking  --enable-languages=all  --enable-static --enable-shared=libstdc++,libgcc_eh</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo ../gcc-4.8.2/configure --prefix=/usr/local/gcc-4.8.2 --enable-threads=posix  --with-gmp=/usr/local/gmp-6.0.0 --with-mpfr=/usr/local/mpfr-3.1.2 --with-mpc=/usr/local/mpc-1.0.1  --mandir=/usr/share/man --infodir=/usr/share/info --enable-shared --disable-multilib --enable-checking=release --with-system-zlib --enable-__cxa_atexit --disable-libunwind-exceptions --enable-libgcj-multifile --enable-languages=c,c++,objc,obj-c++,java --disable-dssi --disable-plugin --with-java-home=/opt/taobao/java/jre --with-cpu=generic</span><br><span class=\"line\"></span><br><span class=\"line\">sudo make</span><br><span class=\"line\">sudo make install </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span></span><br><span class=\"line\">sudo vi /etc/profile</span><br><span class=\"line\">export PATH=$PATH:/usr/local/gcc-4.8.2</span><br><span class=\"line\">source /etc/profile</span><br><span class=\"line\"></span><br><span class=\"line\">sudo rm /usr/bin/gcc    //  </span><br><span class=\"line\">sudo ln -s /usr/local/gcc-4.8.2/bin/gcc /usr/bin/gcc //</span><br></pre></td></tr></table></figure>\n<p>GCC<br><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">$</span>gcc -v</span><br><span class=\"line\">Using built-in specs.</span><br><span class=\"line\">COLLECT_GCC=gcc</span><br><span class=\"line\">COLLECT_LTO_WRAPPER=/usr/local/gcc-4.8.2/libexec/gcc/x86_64-unknown-linux-gnu/4.8.2/lto-wrapper</span><br><span class=\"line\">Target: x86_64-unknown-linux-gnu</span><br><span class=\"line\">Configured with: ../gcc-4.8.2/configure --prefix=/usr/local/gcc-4.8.2 --with-gmp=/usr/local/gmp-6.0.0 --with-mpfr=/usr/local/mpfr-3.1.2 --with-mpc=/usr/local/mpc-1.0.1 --with-java-home=/opt/taobao/java --disable-multilib --disable-shared --enable-threads=posix --disable-checking --enable-static --enable-shared=libstdc++</span><br><span class=\"line\">Thread model: posix</span><br><span class=\"line\">gcc version 4.8.2 (GCC)</span><br></pre></td></tr></table></figure></p>\n<h5 id=\"1\"><a href=\"#1\" class=\"headerlink\" title=\"1\"></a>1</h5><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">configure: error: cannot compute suffix of object files: cannot compile See `config.log' for more details</span><br></pre></td></tr></table></figure>\n<p>config.log</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/home/admin/gcc/gcc-build/./gcc/cc1: error while loading shared libraries: libmpc.so.3: cannot open shared object file: No such file or directory</span><br></pre></td></tr></table></figure>\n<p>&amp;ldconfig</p>\n<h5 id=\"2\"><a href=\"#2\" class=\"headerlink\" title=\"2\"></a>2</h5><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/usr/local/include/gnu/stubs.h:7:27: fatal error: gnu/stubs-32.h: No such file or directory</span><br><span class=\"line\">compilation terminated.</span><br></pre></td></tr></table></figure>\n<p><br>yum list available glibc-devel<br>sudo yum install glibc-devel<br>sudo yum install libstdc++-devel.i686</p>\n<h5 id=\"3\"><a href=\"#3\" class=\"headerlink\" title=\"3\"></a>3</h5><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/usr/lib/gcc/x86_64-redhat-linux/4.1.2/../../../../include/c++/4.1.2/iosfwd:44:28: error: bits/c++config.h: No such file or directory</span><br><span class=\"line\">/usr/lib/gcc/x86_64-redhat-linux/4.1.2/../../../../include/c++/4.1.2/iosfwd:45:29: error: bits/c++locale.h: No such file or directory</span><br><span class=\"line\">/usr/lib/gcc/x86_64-redhat-linux/4.1.2/../../../../include/c++/4.1.2/iosfwd:46:25: error: bits/c++io.h: No such file or directory</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo yum install  libstdc++-devel.x86_64</span><br></pre></td></tr></table></figure>\n<h5 id=\"4\"><a href=\"#4\" class=\"headerlink\" title=\"4\"></a>4</h5><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">lib/libgmp.so: could not read symbols: File in wrong format collect2: error: ld returned 1 exit status</span><br><span class=\"line\">/home/admin/gcc/gcc-build/x86_64-unknown-linux-gnu/32/libjava/classpath/native/jni/java-math'</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo ../gcc-4.8.2/configure --prefix=/usr/local/gcc-4.8.2 --enable-threads=posix --disable-checking --with-gmp=/usr/local/gmp-6.0.0 --with-mpfr=/usr/local/mpfr-3.1.2 --with-mpc=/usr/local/mpc-1.0.1 --enable-shared --enable-languages=all  --enable-libgomp --enable-lto --enable-tls --with-fpmath=sse --disable-multilib --build=x86_64-redhat-linux    --with-java-home=/opt/taobao/java</span><br></pre></td></tr></table></figure>\n<h5 id=\"5\"><a href=\"#5\" class=\"headerlink\" title=\"5\"></a>5</h5><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Error: unrecognized symbol type \"gnu_unique_object\"</span><br></pre></td></tr></table></figure>\n<p> configure gnu_unique_object </p>\n<h5 id=\"6\"><a href=\"#6\" class=\"headerlink\" title=\"6\"></a>6</h5><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">configure: error: libXtst not found, required by java.awt.Robot</span><br></pre></td></tr></table></figure>\n<p> configure java.awt </p>\n<h5 id=\"7\"><a href=\"#7\" class=\"headerlink\" title=\"7\"></a>7</h5><p>libtool: compile: not configured to build any kind of library<br><br>sudo ../gcc-4.8.2/configure prefix=/usr/local/gcc-4.8.2  with-gmp=/usr/local/gmp-6.0.0 with-mpfr=/usr/local/mpfr-3.1.2 with-mpc=/usr/local/mpc-1.0.1  with-java-home=/opt/taobao/java disable-multilib disable-shared enable-threads=posix disable-checking  enable-languages=all  enable-static enable-shared=libstdc++,libgcc_eh</p>\n<h5 id=\"8\"><a href=\"#8\" class=\"headerlink\" title=\"8\"></a>8</h5><p>cc1plus: error: unrecognized command line option -Wno-narrowing<br></p>\n<h5 id=\"9\"><a href=\"#9\" class=\"headerlink\" title=\"9\"></a>9</h5><p>/usr/include/string.h:550:18: error: unknown type name __locale_t<br></p>\n<h5 id=\"10\"><a href=\"#10\" class=\"headerlink\" title=\"10\"></a>10</h5><p>/usr/lib64/libstdc++.so.6: undefined symbol: _ZNSt7num_getIcSt19istreambuf_iteratorIcSt11char_traitsIcEEE2idE, version GLIBCXX_3.4</p>\n<h3 id=\"GlibC\"><a href=\"#GlibC\" class=\"headerlink\" title=\"GlibC\"></a>GlibC</h3><p>Glibc</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">strings /lib64/libc.so.6 |grep GLIBC</span><br></pre></td></tr></table></figure>\n<p>glibc</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo mkdir glic</span><br><span class=\"line\">cd glic</span><br><span class=\"line\">sudo wget http://ftp.gnu.org/pub/gnu/glibc/glibc-2.7.tar.gz</span><br><span class=\"line\">sudo wget http://ftp.gnu.org/pub/gnu/glibc/glibc-2.9.tar.gz</span><br><span class=\"line\">//sudo wget http://ftp.gnu.org/pub/gnu/glibc/glibc-2.10.1.tar.gz</span><br><span class=\"line\">sudo wget http://ftp.gnu.org/pub/gnu/glibc/glibc-2.14.tar.gz</span><br><span class=\"line\"></span><br><span class=\"line\">sudo tar zxvf glibc-2.7.tar.gz</span><br><span class=\"line\">sudo tar zxvf glibc-2.9.tar.gz</span><br><span class=\"line\">sudo tar zxvf glibc-2.10.1.tar.gz</span><br><span class=\"line\">sudo tar zxvf glibc-2.14.tar.gz</span><br><span class=\"line\"></span><br><span class=\"line\">sudo mkdir glibc-build-2.7</span><br><span class=\"line\">sudo mkdir glibc-build-2.9</span><br><span class=\"line\">sudo mkdir glibc-build-2.10.1</span><br><span class=\"line\">sudo mkdir glibc-build-2.14</span><br><span class=\"line\"></span><br><span class=\"line\">cd glibc-build-2.7</span><br><span class=\"line\"></span><br><span class=\"line\">sudo ../glibc-2.7/configure</span><br></pre></td></tr></table></figure>\n<p><br>configure: error: no acceptable C compiler found in $PATH<br>gcc(rpm -qa |grep gcc  4.1.2glibc2.10gcc&gt;=4.3.3)</p>\n<p></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">*** On GNU/Linux systems the GNU C Library should not be installed into</span><br><span class=\"line\">*** /usr/local since this might make your system totally unusable.</span><br><span class=\"line\">*** We strongly advise to use a different prefix.  For details read the FAQ.</span><br></pre></td></tr></table></figure>\n<p>INSTALL</p>\n<blockquote>\n<p><code>configure&#39; takes many options, but the only one that is usually\nmandatory is</code>prefix.  This option tells <code>configure&#39; where you want\nglibc installed.  This defaults to</code>/usr/local, but the normal setting<br>to install as the standard system library is <code>--prefix=/usr&#39; for\nGNU/linux systems and</code>prefix= (an empty prefix) for GNU/Hurd<br>systems.</p>\n</blockquote>\n<p>:</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">--prefix=PREFIX</span><br></pre></td></tr></table></figure>\n<p> /usr/local<br>Linux /lib  /usr  prefix=/usr  /lib  /usr/lib PREFIX</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo ../glibc-2.7/configure --prefix=/usr --disable-multi-arch</span><br><span class=\"line\">sudo ../glibc-2.9/configure --prefix=/usr --disable-multi-arch</span><br><span class=\"line\">sudo ../glibc-2.14/configure --prefix=/usr --disable-multi-arch</span><br></pre></td></tr></table></figure>\n<p>buildglibc</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo ../glibc-2.7/configure --prefix=/usr --disable-multi-arch</span><br><span class=\"line\">sudo ../glibc-2.9/configure --prefix=/usr --disable-multi-arch</span><br><span class=\"line\">sudo ../glibc-2.10.1/configure --prefix=/usr --disable-multi-arch</span><br></pre></td></tr></table></figure>\n<p>build( glibc-build-xx )</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo make all &amp;&amp; make install</span><br></pre></td></tr></table></figure>\n<p>sudo make install</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">make[2]: *** No rule to make target `/home/admin/glibc-build/dlfcn/libdl.so.2', needed by `/home/admin/glibc-build/elf/sprof'.  Stop.</span><br><span class=\"line\">make[2]: Leaving directory `/home/admin/glibc-2.7/elf'</span><br><span class=\"line\">make[1]: *** [elf/subdir_install] Error 2</span><br><span class=\"line\">make[1]: Leaving directory `/home/admin/glibc-2.7'</span><br><span class=\"line\">make: *** [install] Error 2</span><br></pre></td></tr></table></figure>\n<p>(make all  make install);</p>\n<p></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Your new glibc installation seems to be ok.</span><br><span class=\"line\">make[1]: Leaving directory `/home/admin/glibc-2.7'</span><br></pre></td></tr></table></figure>\n<h5 id=\"1\"><a href=\"#1\" class=\"headerlink\" title=\"1\"></a>1</h5><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/lib/modules/2.6.32-220.23.2.ali927.el5.x86_64/build/include/linux/swab.h:6:22: fatal error: asm/swab.h: No such file or directory</span><br><span class=\"line\"><span class=\"meta\"> #</span>include &lt;asm/swab.h&gt;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo touch /lib/modules/2.6.32-220.23.2.ali927.el5.x86_64/build/include/asm-x86/swab.h</span><br></pre></td></tr></table></figure>\n<p><a href=\"https://bbs.archlinux.org/viewtopic.php?id=70488\" target=\"_blank\" rel=\"noopener\">https://bbs.archlinux.org/viewtopic.php?id=70488</a></p>\n<h5 id=\"2\"><a href=\"#2\" class=\"headerlink\" title=\"2\"></a>2</h5><p>configure: error: assembler too old, .cfi_personality support missing<br>googlegcc</p>\n<h5 id=\"3\"><a href=\"#3\" class=\"headerlink\" title=\"3\"></a>3</h5><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/usr/bin/ld: cannot find -lgcc_eh</span><br></pre></td></tr></table></figure>\n<p> glibcgcc_ehenable-sharedgccdisable-sharedshared<br>gcc_ehsudo gcc -lgcc_eh verbose</p>\n<p></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo find / -name libgcc.a</span><br><span class=\"line\">sudo cp libgcc.a libgcc_eh.a</span><br></pre></td></tr></table></figure>\n<p><br><a href=\"http://www.linuxfromscratch.org/clfs/view/clfs-2.0/arm/cross-tools/glibc.html\" target=\"_blank\" rel=\"noopener\">http://www.linuxfromscratch.org/clfs/view/clfs-2.0/arm/cross-tools/glibc.html</a><br><a href=\"https://gcc.gnu.org/ml/gcc-patches/2005-02/msg00532.html\" target=\"_blank\" rel=\"noopener\">https://gcc.gnu.org/ml/gcc-patches/2005-02/msg00532.html</a><br><a href=\"http://lists.linuxfromscratch.org/pipermail/lfs-support/2012-December/044174.html\" target=\"_blank\" rel=\"noopener\">http://lists.linuxfromscratch.org/pipermail/lfs-support/2012-December/044174.html</a></p>\n<h5 id=\"4\"><a href=\"#4\" class=\"headerlink\" title=\"4\"></a>4</h5><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Can't open configuration file /usr/etc/ld.so.conf: No such file or directory</span><br></pre></td></tr></table></figure>\n<p><br><a href=\"http://www.math.ias.edu/~tarzadon/pages/posts/install-opam-on-springdalerhelcentossl-5.x-111.php\" target=\"_blank\" rel=\"noopener\">http://www.math.ias.edu/~tarzadon/pages/posts/install-opam-on-springdalerhelcentossl-5.x-111.php</a></p>\n<h5 id=\"5\"><a href=\"#5\" class=\"headerlink\" title=\"5\"></a>5</h5><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/build/include/linux/capability.h:73: error: expected specifier-qualifier-list before __le32</span><br></pre></td></tr></table></figure>\n<p><br><br><a href=\"https://github.com/spotify/linux/blob/master/include/linux/capability.h\" target=\"_blank\" rel=\"noopener\">https://github.com/spotify/linux/blob/master/include/linux/capability.h</a><br>sudo yum install openssl-devel gnutls-devel libcap-devel<br><br>strings /lib64/libc.so.6 |grep GLIBC</p>\n<h3 id=\"GLIBCXX\"><a href=\"#GLIBCXX\" class=\"headerlink\" title=\"GLIBCXX\"></a>GLIBCXX</h3><p>strings /usr/lib64/libstdc++.so.6 |grep GLIBCXX<br>ls -l /usr/lib64/libstdc++.so.6<br>lrwxrwxrwx 1 root root 18 Aug 14  2015 /usr/lib64/libstdc++.so.6 -&gt; libstdc++.so.6.0.8</p>\n<p>gcc</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo wget http://xxx/libstdc%2B%2B.so.6.0.13</span><br><span class=\"line\">sudo cp libstdc++.so.6.0.13 /usr/lib</span><br><span class=\"line\">sudo cp libstdc++.so.6.0.13 /usr/lib64</span><br><span class=\"line\"></span><br><span class=\"line\">cd /usr/lib</span><br><span class=\"line\">sudo ln -sf libstdc++.so.6.0.13  libstdc++.so.6</span><br><span class=\"line\"></span><br><span class=\"line\">cd /usr/lib64</span><br><span class=\"line\">sudo ln -sf libstdc++.so.6.0.13  libstdc++.so.6</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">strings /usr/lib64/libstdc++.so.6 |grep GLIBCXX</span><br></pre></td></tr></table></figure>\n<p></p>\n<h3 id=\"MACphantomJS\"><a href=\"#MACphantomJS\" class=\"headerlink\" title=\"MACphantomJS\"></a>MACphantomJS</h3><p><br></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vi .bash_profile</span><br><span class=\"line\">export PATH=$PATH:/Users/xinyuan/soft/phantomjs-2.5.0-beta-macos/bin</span><br><span class=\"line\">source  .bash_profile</span><br></pre></td></tr></table></figure>\n<p>webp</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\" &lt; /dev/null 2&gt; /dev/null</span><br><span class=\"line\">brew install webp</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ln -s  /usr/local/opt/webp/lib/libwebp.7.dylib /usr/local/opt/webp/lib/libwebp.6.dylib</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">phantomjs -v</span><br><span class=\"line\">2.5.0-development</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>OSlinux5ugcc4.1.2glibcglibxxgmpmpfrmpcphantomjsJSmakeinstall 30phantomjs  dockerlinux</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><a href=\"http://blog.csdn.net/tsaiyong_ahnselina/article/details/21552485\" target=\"_blank\" rel=\"noopener\">http://blog.csdn.net/tsaiyong_ahnselina/article/details/21552485</a><br><a href=\"http://siliconcali.com/2012/10/glibcxx_3-4-9-not-found-in-red-hatfedoracentos-linux/\" target=\"_blank\" rel=\"noopener\">http://siliconcali.com/2012/10/glibcxx_3-4-9-not-found-in-red-hatfedoracentos-linux/</a><br><a href=\"http://blog.csdn.net/tengdazhang770960436/article/details/41348035\" target=\"_blank\" rel=\"noopener\">http://blog.csdn.net/tengdazhang770960436/article/details/41348035</a><br><a href=\"http://www.cnblogs.com/LitLeo/p/3534196.html\" target=\"_blank\" rel=\"noopener\">http://www.cnblogs.com/LitLeo/p/3534196.html</a><br><a href=\"http://blog.csdn.net/wtfmonking/article/details/17577925\" target=\"_blank\" rel=\"noopener\">http://blog.csdn.net/wtfmonking/article/details/17577925</a><br><a href=\"http://www.cnblogs.com/coolulu/p/4124803.html\" target=\"_blank\" rel=\"noopener\">http://www.cnblogs.com/coolulu/p/4124803.html</a></p>\n","site":{"data":{}},"excerpt":"","more":"<blockquote>\n<p><br>HTMLHTMLheadlessphantomJSHeadless ChromephantomJS</p>\n</blockquote>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>5uglibc2.5 PhantomJSLinux 64-bitGLIBCXX_3.4.9  GLIBC_2.7/GLIBC_2.9/GLIBC_2.10<br><img src=\"/images/posts/20170921/15059814992587.jpg\" alt=\"\"></p>\n<p></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">strings /lib64/libc.so.6 |grep GLIBC</span><br><span class=\"line\">strings /usr/lib64/libstdc++.so.6 |grep GLIBCXX</span><br></pre></td></tr></table></figure>\n<p><img src=\"/images/posts/20170921/15059815133485.jpg\" alt=\"\"></p>\n<p>GLIBCXX_3.4.9  GLIBC_2.7</p>\n<h3 id=\"phantoomjs\"><a href=\"#phantoomjs\" class=\"headerlink\" title=\"phantoomjs\"></a>phantoomjs</h3><h4 id=\"1-node\"><a href=\"#1-node\" class=\"headerlink\" title=\"1. node\"></a>1. node</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo wget  http:<span class=\"comment\">//xxxxx/node-v6.11.2-linux-x64.tar.xz</span></span><br><span class=\"line\">sudo xz -d node-v6.11.2-linux-x64.tar.xz</span><br><span class=\"line\">sudo tar xvf node-v6.11.2-linux-x64.tar</span><br><span class=\"line\"></span><br><span class=\"line\">sudo ln -s /home/admin/phantomjs/node-v6.11.2-linux-x64/bin/node /usr/local/bin/node</span><br><span class=\"line\">sudo ln -s /home/admin/phantomjs/node-v6.11.2-linux-x64/bin/npm /usr/local/bin/npm</span><br><span class=\"line\"></span><br><span class=\"line\">sudo vi /etc/profile</span><br><span class=\"line\">PATH=$PATH:/home/admin/phantomjs/node-v6.11.2-linux-x64/bin</span><br><span class=\"line\"></span><br><span class=\"line\">node -v</span><br></pre></td></tr></table></figure>\n<h4 id=\"2-npm\"><a href=\"#2-npm\" class=\"headerlink\" title=\"2. npm\"></a>2. npm</h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -vvvL https://npmjs.com/install.sh &gt;/dev/null</span><br></pre></td></tr></table></figure>\n<h4 id=\"3-phantomJS\"><a href=\"#3-phantomJS\" class=\"headerlink\" title=\"3. phantomJS\"></a>3. phantomJS</h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo wget http://xxxx/phantomjs-2.1.1-linux-x86_64.tar.bz2</span><br><span class=\"line\">sudo tar -jxvf phantomjs-2.1.1-linux-x86_64.tar.bz2</span><br><span class=\"line\">sudo ln -s /home/admin/phantomjs/phantomjs-2.1.1-linux-x86_64/bin/phantomjs /usr/local/bin/phantomjs</span><br><span class=\"line\"></span><br><span class=\"line\">phantomjs --version</span><br></pre></td></tr></table></figure>\n<p><img src=\"/images/posts/20170921/15059819937015.jpg\" alt=\"\"><br>7u</p>\n<h3 id=\"GCC\"><a href=\"#GCC\" class=\"headerlink\" title=\"GCC\"></a>GCC</h3><p>GlibcGCCGCC4.1.2glibc2.10gcc&gt;=4.3.3</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd  /home/admin/gcc/gcc-build</span><br><span class=\"line\">sudo yum install libstdc++-devel.i686</span><br><span class=\"line\">sudo yum install  libstdc++-devel.x86_64</span><br><span class=\"line\">sudo ../gcc-4.8.2/configure --prefix=/usr/local/gcc-4.8.2  --with-gmp=/usr/local/gmp-6.0.0 --with-mpfr=/usr/local/mpfr-3.1.2 --with-mpc=/usr/local/mpc-1.0.1  --with-java-home=/opt/taobao/java --disable-multilib  --disable-shared --enable-threads=posix --disable-checking  --enable-languages=all  --enable-static --enable-shared=libstdc++,libgcc_eh</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo ../gcc-4.8.2/configure --prefix=/usr/local/gcc-4.8.2 --enable-threads=posix  --with-gmp=/usr/local/gmp-6.0.0 --with-mpfr=/usr/local/mpfr-3.1.2 --with-mpc=/usr/local/mpc-1.0.1  --mandir=/usr/share/man --infodir=/usr/share/info --enable-shared --disable-multilib --enable-checking=release --with-system-zlib --enable-__cxa_atexit --disable-libunwind-exceptions --enable-libgcj-multifile --enable-languages=c,c++,objc,obj-c++,java --disable-dssi --disable-plugin --with-java-home=/opt/taobao/java/jre --with-cpu=generic</span><br><span class=\"line\"></span><br><span class=\"line\">sudo make</span><br><span class=\"line\">sudo make install </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span></span><br><span class=\"line\">sudo vi /etc/profile</span><br><span class=\"line\">export PATH=$PATH:/usr/local/gcc-4.8.2</span><br><span class=\"line\">source /etc/profile</span><br><span class=\"line\"></span><br><span class=\"line\">sudo rm /usr/bin/gcc    //  </span><br><span class=\"line\">sudo ln -s /usr/local/gcc-4.8.2/bin/gcc /usr/bin/gcc //</span><br></pre></td></tr></table></figure>\n<p>GCC<br><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">$</span>gcc -v</span><br><span class=\"line\">Using built-in specs.</span><br><span class=\"line\">COLLECT_GCC=gcc</span><br><span class=\"line\">COLLECT_LTO_WRAPPER=/usr/local/gcc-4.8.2/libexec/gcc/x86_64-unknown-linux-gnu/4.8.2/lto-wrapper</span><br><span class=\"line\">Target: x86_64-unknown-linux-gnu</span><br><span class=\"line\">Configured with: ../gcc-4.8.2/configure --prefix=/usr/local/gcc-4.8.2 --with-gmp=/usr/local/gmp-6.0.0 --with-mpfr=/usr/local/mpfr-3.1.2 --with-mpc=/usr/local/mpc-1.0.1 --with-java-home=/opt/taobao/java --disable-multilib --disable-shared --enable-threads=posix --disable-checking --enable-static --enable-shared=libstdc++</span><br><span class=\"line\">Thread model: posix</span><br><span class=\"line\">gcc version 4.8.2 (GCC)</span><br></pre></td></tr></table></figure></p>\n<h5 id=\"1\"><a href=\"#1\" class=\"headerlink\" title=\"1\"></a>1</h5><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">configure: error: cannot compute suffix of object files: cannot compile See `config.log' for more details</span><br></pre></td></tr></table></figure>\n<p>config.log</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/home/admin/gcc/gcc-build/./gcc/cc1: error while loading shared libraries: libmpc.so.3: cannot open shared object file: No such file or directory</span><br></pre></td></tr></table></figure>\n<p>&amp;ldconfig</p>\n<h5 id=\"2\"><a href=\"#2\" class=\"headerlink\" title=\"2\"></a>2</h5><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/usr/local/include/gnu/stubs.h:7:27: fatal error: gnu/stubs-32.h: No such file or directory</span><br><span class=\"line\">compilation terminated.</span><br></pre></td></tr></table></figure>\n<p><br>yum list available glibc-devel<br>sudo yum install glibc-devel<br>sudo yum install libstdc++-devel.i686</p>\n<h5 id=\"3\"><a href=\"#3\" class=\"headerlink\" title=\"3\"></a>3</h5><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/usr/lib/gcc/x86_64-redhat-linux/4.1.2/../../../../include/c++/4.1.2/iosfwd:44:28: error: bits/c++config.h: No such file or directory</span><br><span class=\"line\">/usr/lib/gcc/x86_64-redhat-linux/4.1.2/../../../../include/c++/4.1.2/iosfwd:45:29: error: bits/c++locale.h: No such file or directory</span><br><span class=\"line\">/usr/lib/gcc/x86_64-redhat-linux/4.1.2/../../../../include/c++/4.1.2/iosfwd:46:25: error: bits/c++io.h: No such file or directory</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo yum install  libstdc++-devel.x86_64</span><br></pre></td></tr></table></figure>\n<h5 id=\"4\"><a href=\"#4\" class=\"headerlink\" title=\"4\"></a>4</h5><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">lib/libgmp.so: could not read symbols: File in wrong format collect2: error: ld returned 1 exit status</span><br><span class=\"line\">/home/admin/gcc/gcc-build/x86_64-unknown-linux-gnu/32/libjava/classpath/native/jni/java-math'</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo ../gcc-4.8.2/configure --prefix=/usr/local/gcc-4.8.2 --enable-threads=posix --disable-checking --with-gmp=/usr/local/gmp-6.0.0 --with-mpfr=/usr/local/mpfr-3.1.2 --with-mpc=/usr/local/mpc-1.0.1 --enable-shared --enable-languages=all  --enable-libgomp --enable-lto --enable-tls --with-fpmath=sse --disable-multilib --build=x86_64-redhat-linux    --with-java-home=/opt/taobao/java</span><br></pre></td></tr></table></figure>\n<h5 id=\"5\"><a href=\"#5\" class=\"headerlink\" title=\"5\"></a>5</h5><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Error: unrecognized symbol type \"gnu_unique_object\"</span><br></pre></td></tr></table></figure>\n<p> configure gnu_unique_object </p>\n<h5 id=\"6\"><a href=\"#6\" class=\"headerlink\" title=\"6\"></a>6</h5><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">configure: error: libXtst not found, required by java.awt.Robot</span><br></pre></td></tr></table></figure>\n<p> configure java.awt </p>\n<h5 id=\"7\"><a href=\"#7\" class=\"headerlink\" title=\"7\"></a>7</h5><p>libtool: compile: not configured to build any kind of library<br><br>sudo ../gcc-4.8.2/configure prefix=/usr/local/gcc-4.8.2  with-gmp=/usr/local/gmp-6.0.0 with-mpfr=/usr/local/mpfr-3.1.2 with-mpc=/usr/local/mpc-1.0.1  with-java-home=/opt/taobao/java disable-multilib disable-shared enable-threads=posix disable-checking  enable-languages=all  enable-static enable-shared=libstdc++,libgcc_eh</p>\n<h5 id=\"8\"><a href=\"#8\" class=\"headerlink\" title=\"8\"></a>8</h5><p>cc1plus: error: unrecognized command line option -Wno-narrowing<br></p>\n<h5 id=\"9\"><a href=\"#9\" class=\"headerlink\" title=\"9\"></a>9</h5><p>/usr/include/string.h:550:18: error: unknown type name __locale_t<br></p>\n<h5 id=\"10\"><a href=\"#10\" class=\"headerlink\" title=\"10\"></a>10</h5><p>/usr/lib64/libstdc++.so.6: undefined symbol: _ZNSt7num_getIcSt19istreambuf_iteratorIcSt11char_traitsIcEEE2idE, version GLIBCXX_3.4</p>\n<h3 id=\"GlibC\"><a href=\"#GlibC\" class=\"headerlink\" title=\"GlibC\"></a>GlibC</h3><p>Glibc</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">strings /lib64/libc.so.6 |grep GLIBC</span><br></pre></td></tr></table></figure>\n<p>glibc</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo mkdir glic</span><br><span class=\"line\">cd glic</span><br><span class=\"line\">sudo wget http://ftp.gnu.org/pub/gnu/glibc/glibc-2.7.tar.gz</span><br><span class=\"line\">sudo wget http://ftp.gnu.org/pub/gnu/glibc/glibc-2.9.tar.gz</span><br><span class=\"line\">//sudo wget http://ftp.gnu.org/pub/gnu/glibc/glibc-2.10.1.tar.gz</span><br><span class=\"line\">sudo wget http://ftp.gnu.org/pub/gnu/glibc/glibc-2.14.tar.gz</span><br><span class=\"line\"></span><br><span class=\"line\">sudo tar zxvf glibc-2.7.tar.gz</span><br><span class=\"line\">sudo tar zxvf glibc-2.9.tar.gz</span><br><span class=\"line\">sudo tar zxvf glibc-2.10.1.tar.gz</span><br><span class=\"line\">sudo tar zxvf glibc-2.14.tar.gz</span><br><span class=\"line\"></span><br><span class=\"line\">sudo mkdir glibc-build-2.7</span><br><span class=\"line\">sudo mkdir glibc-build-2.9</span><br><span class=\"line\">sudo mkdir glibc-build-2.10.1</span><br><span class=\"line\">sudo mkdir glibc-build-2.14</span><br><span class=\"line\"></span><br><span class=\"line\">cd glibc-build-2.7</span><br><span class=\"line\"></span><br><span class=\"line\">sudo ../glibc-2.7/configure</span><br></pre></td></tr></table></figure>\n<p><br>configure: error: no acceptable C compiler found in $PATH<br>gcc(rpm -qa |grep gcc  4.1.2glibc2.10gcc&gt;=4.3.3)</p>\n<p></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">*** On GNU/Linux systems the GNU C Library should not be installed into</span><br><span class=\"line\">*** /usr/local since this might make your system totally unusable.</span><br><span class=\"line\">*** We strongly advise to use a different prefix.  For details read the FAQ.</span><br></pre></td></tr></table></figure>\n<p>INSTALL</p>\n<blockquote>\n<p><code>configure&#39; takes many options, but the only one that is usually\nmandatory is</code>prefix.  This option tells <code>configure&#39; where you want\nglibc installed.  This defaults to</code>/usr/local, but the normal setting<br>to install as the standard system library is <code>--prefix=/usr&#39; for\nGNU/linux systems and</code>prefix= (an empty prefix) for GNU/Hurd<br>systems.</p>\n</blockquote>\n<p>:</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">--prefix=PREFIX</span><br></pre></td></tr></table></figure>\n<p> /usr/local<br>Linux /lib  /usr  prefix=/usr  /lib  /usr/lib PREFIX</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo ../glibc-2.7/configure --prefix=/usr --disable-multi-arch</span><br><span class=\"line\">sudo ../glibc-2.9/configure --prefix=/usr --disable-multi-arch</span><br><span class=\"line\">sudo ../glibc-2.14/configure --prefix=/usr --disable-multi-arch</span><br></pre></td></tr></table></figure>\n<p>buildglibc</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo ../glibc-2.7/configure --prefix=/usr --disable-multi-arch</span><br><span class=\"line\">sudo ../glibc-2.9/configure --prefix=/usr --disable-multi-arch</span><br><span class=\"line\">sudo ../glibc-2.10.1/configure --prefix=/usr --disable-multi-arch</span><br></pre></td></tr></table></figure>\n<p>build( glibc-build-xx )</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo make all &amp;&amp; make install</span><br></pre></td></tr></table></figure>\n<p>sudo make install</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">make[2]: *** No rule to make target `/home/admin/glibc-build/dlfcn/libdl.so.2', needed by `/home/admin/glibc-build/elf/sprof'.  Stop.</span><br><span class=\"line\">make[2]: Leaving directory `/home/admin/glibc-2.7/elf'</span><br><span class=\"line\">make[1]: *** [elf/subdir_install] Error 2</span><br><span class=\"line\">make[1]: Leaving directory `/home/admin/glibc-2.7'</span><br><span class=\"line\">make: *** [install] Error 2</span><br></pre></td></tr></table></figure>\n<p>(make all  make install);</p>\n<p></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Your new glibc installation seems to be ok.</span><br><span class=\"line\">make[1]: Leaving directory `/home/admin/glibc-2.7'</span><br></pre></td></tr></table></figure>\n<h5 id=\"1\"><a href=\"#1\" class=\"headerlink\" title=\"1\"></a>1</h5><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/lib/modules/2.6.32-220.23.2.ali927.el5.x86_64/build/include/linux/swab.h:6:22: fatal error: asm/swab.h: No such file or directory</span><br><span class=\"line\"><span class=\"meta\"> #</span>include &lt;asm/swab.h&gt;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo touch /lib/modules/2.6.32-220.23.2.ali927.el5.x86_64/build/include/asm-x86/swab.h</span><br></pre></td></tr></table></figure>\n<p><a href=\"https://bbs.archlinux.org/viewtopic.php?id=70488\" target=\"_blank\" rel=\"noopener\">https://bbs.archlinux.org/viewtopic.php?id=70488</a></p>\n<h5 id=\"2\"><a href=\"#2\" class=\"headerlink\" title=\"2\"></a>2</h5><p>configure: error: assembler too old, .cfi_personality support missing<br>googlegcc</p>\n<h5 id=\"3\"><a href=\"#3\" class=\"headerlink\" title=\"3\"></a>3</h5><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/usr/bin/ld: cannot find -lgcc_eh</span><br></pre></td></tr></table></figure>\n<p> glibcgcc_ehenable-sharedgccdisable-sharedshared<br>gcc_ehsudo gcc -lgcc_eh verbose</p>\n<p></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo find / -name libgcc.a</span><br><span class=\"line\">sudo cp libgcc.a libgcc_eh.a</span><br></pre></td></tr></table></figure>\n<p><br><a href=\"http://www.linuxfromscratch.org/clfs/view/clfs-2.0/arm/cross-tools/glibc.html\" target=\"_blank\" rel=\"noopener\">http://www.linuxfromscratch.org/clfs/view/clfs-2.0/arm/cross-tools/glibc.html</a><br><a href=\"https://gcc.gnu.org/ml/gcc-patches/2005-02/msg00532.html\" target=\"_blank\" rel=\"noopener\">https://gcc.gnu.org/ml/gcc-patches/2005-02/msg00532.html</a><br><a href=\"http://lists.linuxfromscratch.org/pipermail/lfs-support/2012-December/044174.html\" target=\"_blank\" rel=\"noopener\">http://lists.linuxfromscratch.org/pipermail/lfs-support/2012-December/044174.html</a></p>\n<h5 id=\"4\"><a href=\"#4\" class=\"headerlink\" title=\"4\"></a>4</h5><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Can't open configuration file /usr/etc/ld.so.conf: No such file or directory</span><br></pre></td></tr></table></figure>\n<p><br><a href=\"http://www.math.ias.edu/~tarzadon/pages/posts/install-opam-on-springdalerhelcentossl-5.x-111.php\" target=\"_blank\" rel=\"noopener\">http://www.math.ias.edu/~tarzadon/pages/posts/install-opam-on-springdalerhelcentossl-5.x-111.php</a></p>\n<h5 id=\"5\"><a href=\"#5\" class=\"headerlink\" title=\"5\"></a>5</h5><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/build/include/linux/capability.h:73: error: expected specifier-qualifier-list before __le32</span><br></pre></td></tr></table></figure>\n<p><br><br><a href=\"https://github.com/spotify/linux/blob/master/include/linux/capability.h\" target=\"_blank\" rel=\"noopener\">https://github.com/spotify/linux/blob/master/include/linux/capability.h</a><br>sudo yum install openssl-devel gnutls-devel libcap-devel<br><br>strings /lib64/libc.so.6 |grep GLIBC</p>\n<h3 id=\"GLIBCXX\"><a href=\"#GLIBCXX\" class=\"headerlink\" title=\"GLIBCXX\"></a>GLIBCXX</h3><p>strings /usr/lib64/libstdc++.so.6 |grep GLIBCXX<br>ls -l /usr/lib64/libstdc++.so.6<br>lrwxrwxrwx 1 root root 18 Aug 14  2015 /usr/lib64/libstdc++.so.6 -&gt; libstdc++.so.6.0.8</p>\n<p>gcc</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo wget http://xxx/libstdc%2B%2B.so.6.0.13</span><br><span class=\"line\">sudo cp libstdc++.so.6.0.13 /usr/lib</span><br><span class=\"line\">sudo cp libstdc++.so.6.0.13 /usr/lib64</span><br><span class=\"line\"></span><br><span class=\"line\">cd /usr/lib</span><br><span class=\"line\">sudo ln -sf libstdc++.so.6.0.13  libstdc++.so.6</span><br><span class=\"line\"></span><br><span class=\"line\">cd /usr/lib64</span><br><span class=\"line\">sudo ln -sf libstdc++.so.6.0.13  libstdc++.so.6</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">strings /usr/lib64/libstdc++.so.6 |grep GLIBCXX</span><br></pre></td></tr></table></figure>\n<p></p>\n<h3 id=\"MACphantomJS\"><a href=\"#MACphantomJS\" class=\"headerlink\" title=\"MACphantomJS\"></a>MACphantomJS</h3><p><br></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vi .bash_profile</span><br><span class=\"line\">export PATH=$PATH:/Users/xinyuan/soft/phantomjs-2.5.0-beta-macos/bin</span><br><span class=\"line\">source  .bash_profile</span><br></pre></td></tr></table></figure>\n<p>webp</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\" &lt; /dev/null 2&gt; /dev/null</span><br><span class=\"line\">brew install webp</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ln -s  /usr/local/opt/webp/lib/libwebp.7.dylib /usr/local/opt/webp/lib/libwebp.6.dylib</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">phantomjs -v</span><br><span class=\"line\">2.5.0-development</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>OSlinux5ugcc4.1.2glibcglibxxgmpmpfrmpcphantomjsJSmakeinstall 30phantomjs  dockerlinux</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><a href=\"http://blog.csdn.net/tsaiyong_ahnselina/article/details/21552485\" target=\"_blank\" rel=\"noopener\">http://blog.csdn.net/tsaiyong_ahnselina/article/details/21552485</a><br><a href=\"http://siliconcali.com/2012/10/glibcxx_3-4-9-not-found-in-red-hatfedoracentos-linux/\" target=\"_blank\" rel=\"noopener\">http://siliconcali.com/2012/10/glibcxx_3-4-9-not-found-in-red-hatfedoracentos-linux/</a><br><a href=\"http://blog.csdn.net/tengdazhang770960436/article/details/41348035\" target=\"_blank\" rel=\"noopener\">http://blog.csdn.net/tengdazhang770960436/article/details/41348035</a><br><a href=\"http://www.cnblogs.com/LitLeo/p/3534196.html\" target=\"_blank\" rel=\"noopener\">http://www.cnblogs.com/LitLeo/p/3534196.html</a><br><a href=\"http://blog.csdn.net/wtfmonking/article/details/17577925\" target=\"_blank\" rel=\"noopener\">http://blog.csdn.net/wtfmonking/article/details/17577925</a><br><a href=\"http://www.cnblogs.com/coolulu/p/4124803.html\" target=\"_blank\" rel=\"noopener\">http://www.cnblogs.com/coolulu/p/4124803.html</a></p>\n"},{"layout":"post","title":"spring quartz trigger","description":null,"keywords":"quartz","date":"2018-03-05T16:00:00.000Z","_content":"\nspring-quartz\n\nspring-quartz\n\n### \ntriggerspring-quartz cluster\nspring-quartz cluster \n\nQuartzSchedulerThreadJOB\nQuartzSchedulerThreadrun\n\n\n```java\n//triggerSCHED_NAMEWAITING30\ntriggers = qsRsrcs.getJobStore().acquireNextTriggers(\n                                now + idleWaitTime, Math.min(availThreadCount, qsRsrcs.getMaxBatchSize()), qsRsrcs.getBatchTimeWindow());\n....                  \n//\nList<TriggerFiredResult> res = qsRsrcs.getJobStore().triggersFired(triggers);                                                          \n...\n//\nqsRsrcs.getJobStore().releaseAcquiredTrigger(triggers.get(i));\n...\n//\nqsRsrcs.getJobStore().triggeredJobComplete(triggers.get(i), bndle.getJobDetail(), CompletedExecutionInstruction.SET_ALL_JOB_TRIGGERS_ERROR);                          \n```\n\nacquireNextTriggersIDtrigger\n\nacquireNextTriggerstriggertrigger\n\n\n### ID\nspring-quartzorg.quartz.scheduler.instanceIdAUTOSimpleInstanceIdGenerator ID\n\n```java\npublic class SimpleInstanceIdGenerator implements InstanceIdGenerator {\n    public String generateInstanceId() throws SchedulerException {\n        try {\n            return InetAddress.getLocalHost().getHostName() + System.currentTimeMillis();\n        } catch (Exception e) {\n            throw new SchedulerException(\"Couldn't get host name!\", e);\n        }\n    }\n}\n```\nSimpleInstanceIdGenerator instanceId,hostName(Linux)IPID\n\nInstanceIdGeneratorIDQuartzSchedulerInstanceIdGenerator\n\n```java\npublic class QuartzSchedulerInstanceIdGenerator implements InstanceIdGenerator {\n    private static final Logger log = LoggerFactory.getLogger(QuartzSchedulerInstanceIdGenerator.class);\n    private static final String OS_NAME = \"os.name\";\n    private static final String WINDOWS = \"Windows\";\n    private static final String MAC = \"Mac OS\";\n\n    @Override\n    public String generateInstanceId() throws SchedulerException {\n        String id;\n        try {\n            if (isLocalDev()) {\n                id = getHostName();\n            } else {\n                id = IpUtil.getIp();\n            }\n\n            if (StringUtils.isBlank(id)) {\n                id = InetAddress.getLocalHost().getHostName() + System.currentTimeMillis();\n            }\n        } catch (Exception e) {\n            throw new SchedulerException(\"Couldn't generate instance id!\", e);\n        }\n        return id;\n    }\n\n    private String getHostName() throws SchedulerException {\n        try {\n            return InetAddress.getLocalHost().getHostName();\n        } catch (Exception e) {\n            throw new SchedulerException(\"Couldn't get host name!\", e);\n        }\n    }\n\n    private boolean isLocalDev() {\n        if (StringUtils.indexOfIgnoreCase(System.getProperty(OS_NAME), WINDOWS) >= 0) {\n            return true;\n        }\n\n        if (StringUtils.indexOfIgnoreCase(System.getProperty(OS_NAME), MAC) >= 0) {\n            return true;\n        }\n        return false;\n    }\n}\n```\n\nquartz.properties\n\n```java\norg.quartz.scheduler.instanceIdGenerator.class=com.xx.ext.QuartzSchedulerInstanceIdGenerator\n```\n\n### StdJDBCDelegate\nSchedulerFactoryBean BeanSchedulerFactorySchedulerjobStorejobtriggerDriverDelegateSpringLocalDataSourceJobStoreJobStore\n\nSchedulerFactoryinitSchedulerFactory:\n\n```java\n       if (this.configLocation != null) {\n\t\t\tif (logger.isInfoEnabled()) {\n\t\t\t\tlogger.info(\"Loading Quartz config from [\" + this.configLocation + \"]\");\n\t\t\t}\n\t\t\tPropertiesLoaderUtils.fillProperties(mergedProps, this.configLocation);\n\t   }\n\n\t\tCollectionUtils.mergePropertiesIntoMap(this.quartzProperties, mergedProps);\n\n\t\tif (this.dataSource != null) {\n\t\t\tmergedProps.put(StdSchedulerFactory.PROP_JOB_STORE_CLASS, LocalDataSourceJobStore.class.getName());\n\t\t}\n```\nSchedulerFactoryBeanPROP_JOB_STORE_CLASSPROP_JOB_STORE_CLASSSpringLocalDataSourceJobStorequartz.propertiesorg.quartz.jobStore.classLocalDataSourceJobStore\n\n\nLocalDataSourceJobStoreJobStoreSupportJobStoreSupportStdJDBCDelegateStdJDBCDelegateorg.quartz.jobStore.driverDelegateClassdriverDelegateDelegate\n\n\nquartz.properties\n\n```java\norg.quartz.jobStore.driverDelegateClass=com.xx.ext.StdJDBCDelegateExt\n```\n\n${table_prefix}_quartz_triggersINSTANCE_NAMEInstanceIdGeneratorIDStdJDBCDelegateinstanceIdStdJDBCDelegateinstanceIdtrigger\n\n```java\npublic class StdJDBCDelegateExt extends StdJDBCDelegate {\n\n    String INSTANCE_NAME_VALUE = \"{2}\";\n\n    String SELECT_NEXT_TRIGGER_TO_ACQUIRE_EXT = \"SELECT \"\n        + COL_TRIGGER_NAME + \", \" + COL_TRIGGER_GROUP + \", \"\n        + COL_NEXT_FIRE_TIME + \", \" + COL_PRIORITY + \" FROM \"\n        + TABLE_PREFIX_SUBST + TABLE_TRIGGERS + \" WHERE \"\n        + COL_SCHEDULER_NAME + \" = \" + SCHED_NAME_SUBST\n        + \" AND \" + COL_TRIGGER_STATE + \" = ? AND \" + COL_NEXT_FIRE_TIME + \" <= ? \"\n        + \" AND (\" + COL_INSTANCE_NAME + \" IS NULL OR \" + COL_INSTANCE_NAME + \" = \" + INSTANCE_NAME_VALUE + \")\"\n        + \"AND (\" + COL_MISFIRE_INSTRUCTION + \" = -1 OR (\" + COL_MISFIRE_INSTRUCTION + \" != -1 AND \"\n        + COL_NEXT_FIRE_TIME + \" >= ?)) \"\n        + \"ORDER BY \" + COL_NEXT_FIRE_TIME + \" ASC, \" + COL_PRIORITY + \" DESC\";\n\n    /**\n     * trigger \n     *\n     * @param conn\n     * @param noLaterThan\n     * @param noEarlierThan\n     * @param maxCount\n     * @return\n     * @throws SQLException\n     */\n    @Override\n    public List<TriggerKey> selectTriggerToAcquire(Connection conn, long noLaterThan, long noEarlierThan, int maxCount)\n        throws SQLException {\n        PreparedStatement ps = null;\n        ResultSet rs = null;\n        List<TriggerKey> nextTriggers = new LinkedList<TriggerKey>();\n        try {\n            ps = conn.prepareStatement(rtp(SELECT_NEXT_TRIGGER_TO_ACQUIRE_EXT, instanceId));\n\n            // Set max rows to retrieve\n            if (maxCount < 1) {\n                maxCount = 1;\n            }\n            ps.setMaxRows(maxCount);\n\n            // Try to give jdbc driver a hint to hopefully not pull over more than the few rows we actually need.\n            // Note: in some jdbc drivers, such as MySQL, you must set maxRows before fetchSize, or you get exception!\n            ps.setFetchSize(maxCount);\n\n            ps.setString(1, STATE_WAITING);\n            ps.setBigDecimal(2, new BigDecimal(String.valueOf(noLaterThan)));\n            ps.setBigDecimal(3, new BigDecimal(String.valueOf(noEarlierThan)));\n            rs = ps.executeQuery();\n\n            while (rs.next() && nextTriggers.size() <= maxCount) {\n                nextTriggers.add(triggerKey(\n                    rs.getString(COL_TRIGGER_NAME),\n                    rs.getString(COL_TRIGGER_GROUP)));\n            }\n\n            return nextTriggers;\n        } finally {\n            closeResultSet(rs);\n            closeStatement(ps);\n        }\n    }\n\n    protected final String rtp(String query, String instanceName) {\n        return MessageFormat.format(query,\n            new Object[] {tablePrefix, getSchedulerNameLiteral(), \"'\" + instanceName + \"'\"});\n    }\n}\n```\n\ntriggerinstanceIdtriggerinstanceId\n\n\n\n","source":"_posts/Java/2018-03-06-spring-quartz-trigger.md","raw":"---\nlayout: post\ntitle: spring quartz trigger\ncategories: Java\ndescription:\nkeywords: quartz\ndate: 2018-03-06\n---\n\nspring-quartz\n\nspring-quartz\n\n### \ntriggerspring-quartz cluster\nspring-quartz cluster \n\nQuartzSchedulerThreadJOB\nQuartzSchedulerThreadrun\n\n\n```java\n//triggerSCHED_NAMEWAITING30\ntriggers = qsRsrcs.getJobStore().acquireNextTriggers(\n                                now + idleWaitTime, Math.min(availThreadCount, qsRsrcs.getMaxBatchSize()), qsRsrcs.getBatchTimeWindow());\n....                  \n//\nList<TriggerFiredResult> res = qsRsrcs.getJobStore().triggersFired(triggers);                                                          \n...\n//\nqsRsrcs.getJobStore().releaseAcquiredTrigger(triggers.get(i));\n...\n//\nqsRsrcs.getJobStore().triggeredJobComplete(triggers.get(i), bndle.getJobDetail(), CompletedExecutionInstruction.SET_ALL_JOB_TRIGGERS_ERROR);                          \n```\n\nacquireNextTriggersIDtrigger\n\nacquireNextTriggerstriggertrigger\n\n\n### ID\nspring-quartzorg.quartz.scheduler.instanceIdAUTOSimpleInstanceIdGenerator ID\n\n```java\npublic class SimpleInstanceIdGenerator implements InstanceIdGenerator {\n    public String generateInstanceId() throws SchedulerException {\n        try {\n            return InetAddress.getLocalHost().getHostName() + System.currentTimeMillis();\n        } catch (Exception e) {\n            throw new SchedulerException(\"Couldn't get host name!\", e);\n        }\n    }\n}\n```\nSimpleInstanceIdGenerator instanceId,hostName(Linux)IPID\n\nInstanceIdGeneratorIDQuartzSchedulerInstanceIdGenerator\n\n```java\npublic class QuartzSchedulerInstanceIdGenerator implements InstanceIdGenerator {\n    private static final Logger log = LoggerFactory.getLogger(QuartzSchedulerInstanceIdGenerator.class);\n    private static final String OS_NAME = \"os.name\";\n    private static final String WINDOWS = \"Windows\";\n    private static final String MAC = \"Mac OS\";\n\n    @Override\n    public String generateInstanceId() throws SchedulerException {\n        String id;\n        try {\n            if (isLocalDev()) {\n                id = getHostName();\n            } else {\n                id = IpUtil.getIp();\n            }\n\n            if (StringUtils.isBlank(id)) {\n                id = InetAddress.getLocalHost().getHostName() + System.currentTimeMillis();\n            }\n        } catch (Exception e) {\n            throw new SchedulerException(\"Couldn't generate instance id!\", e);\n        }\n        return id;\n    }\n\n    private String getHostName() throws SchedulerException {\n        try {\n            return InetAddress.getLocalHost().getHostName();\n        } catch (Exception e) {\n            throw new SchedulerException(\"Couldn't get host name!\", e);\n        }\n    }\n\n    private boolean isLocalDev() {\n        if (StringUtils.indexOfIgnoreCase(System.getProperty(OS_NAME), WINDOWS) >= 0) {\n            return true;\n        }\n\n        if (StringUtils.indexOfIgnoreCase(System.getProperty(OS_NAME), MAC) >= 0) {\n            return true;\n        }\n        return false;\n    }\n}\n```\n\nquartz.properties\n\n```java\norg.quartz.scheduler.instanceIdGenerator.class=com.xx.ext.QuartzSchedulerInstanceIdGenerator\n```\n\n### StdJDBCDelegate\nSchedulerFactoryBean BeanSchedulerFactorySchedulerjobStorejobtriggerDriverDelegateSpringLocalDataSourceJobStoreJobStore\n\nSchedulerFactoryinitSchedulerFactory:\n\n```java\n       if (this.configLocation != null) {\n\t\t\tif (logger.isInfoEnabled()) {\n\t\t\t\tlogger.info(\"Loading Quartz config from [\" + this.configLocation + \"]\");\n\t\t\t}\n\t\t\tPropertiesLoaderUtils.fillProperties(mergedProps, this.configLocation);\n\t   }\n\n\t\tCollectionUtils.mergePropertiesIntoMap(this.quartzProperties, mergedProps);\n\n\t\tif (this.dataSource != null) {\n\t\t\tmergedProps.put(StdSchedulerFactory.PROP_JOB_STORE_CLASS, LocalDataSourceJobStore.class.getName());\n\t\t}\n```\nSchedulerFactoryBeanPROP_JOB_STORE_CLASSPROP_JOB_STORE_CLASSSpringLocalDataSourceJobStorequartz.propertiesorg.quartz.jobStore.classLocalDataSourceJobStore\n\n\nLocalDataSourceJobStoreJobStoreSupportJobStoreSupportStdJDBCDelegateStdJDBCDelegateorg.quartz.jobStore.driverDelegateClassdriverDelegateDelegate\n\n\nquartz.properties\n\n```java\norg.quartz.jobStore.driverDelegateClass=com.xx.ext.StdJDBCDelegateExt\n```\n\n${table_prefix}_quartz_triggersINSTANCE_NAMEInstanceIdGeneratorIDStdJDBCDelegateinstanceIdStdJDBCDelegateinstanceIdtrigger\n\n```java\npublic class StdJDBCDelegateExt extends StdJDBCDelegate {\n\n    String INSTANCE_NAME_VALUE = \"{2}\";\n\n    String SELECT_NEXT_TRIGGER_TO_ACQUIRE_EXT = \"SELECT \"\n        + COL_TRIGGER_NAME + \", \" + COL_TRIGGER_GROUP + \", \"\n        + COL_NEXT_FIRE_TIME + \", \" + COL_PRIORITY + \" FROM \"\n        + TABLE_PREFIX_SUBST + TABLE_TRIGGERS + \" WHERE \"\n        + COL_SCHEDULER_NAME + \" = \" + SCHED_NAME_SUBST\n        + \" AND \" + COL_TRIGGER_STATE + \" = ? AND \" + COL_NEXT_FIRE_TIME + \" <= ? \"\n        + \" AND (\" + COL_INSTANCE_NAME + \" IS NULL OR \" + COL_INSTANCE_NAME + \" = \" + INSTANCE_NAME_VALUE + \")\"\n        + \"AND (\" + COL_MISFIRE_INSTRUCTION + \" = -1 OR (\" + COL_MISFIRE_INSTRUCTION + \" != -1 AND \"\n        + COL_NEXT_FIRE_TIME + \" >= ?)) \"\n        + \"ORDER BY \" + COL_NEXT_FIRE_TIME + \" ASC, \" + COL_PRIORITY + \" DESC\";\n\n    /**\n     * trigger \n     *\n     * @param conn\n     * @param noLaterThan\n     * @param noEarlierThan\n     * @param maxCount\n     * @return\n     * @throws SQLException\n     */\n    @Override\n    public List<TriggerKey> selectTriggerToAcquire(Connection conn, long noLaterThan, long noEarlierThan, int maxCount)\n        throws SQLException {\n        PreparedStatement ps = null;\n        ResultSet rs = null;\n        List<TriggerKey> nextTriggers = new LinkedList<TriggerKey>();\n        try {\n            ps = conn.prepareStatement(rtp(SELECT_NEXT_TRIGGER_TO_ACQUIRE_EXT, instanceId));\n\n            // Set max rows to retrieve\n            if (maxCount < 1) {\n                maxCount = 1;\n            }\n            ps.setMaxRows(maxCount);\n\n            // Try to give jdbc driver a hint to hopefully not pull over more than the few rows we actually need.\n            // Note: in some jdbc drivers, such as MySQL, you must set maxRows before fetchSize, or you get exception!\n            ps.setFetchSize(maxCount);\n\n            ps.setString(1, STATE_WAITING);\n            ps.setBigDecimal(2, new BigDecimal(String.valueOf(noLaterThan)));\n            ps.setBigDecimal(3, new BigDecimal(String.valueOf(noEarlierThan)));\n            rs = ps.executeQuery();\n\n            while (rs.next() && nextTriggers.size() <= maxCount) {\n                nextTriggers.add(triggerKey(\n                    rs.getString(COL_TRIGGER_NAME),\n                    rs.getString(COL_TRIGGER_GROUP)));\n            }\n\n            return nextTriggers;\n        } finally {\n            closeResultSet(rs);\n            closeStatement(ps);\n        }\n    }\n\n    protected final String rtp(String query, String instanceName) {\n        return MessageFormat.format(query,\n            new Object[] {tablePrefix, getSchedulerNameLiteral(), \"'\" + instanceName + \"'\"});\n    }\n}\n```\n\ntriggerinstanceIdtriggerinstanceId\n\n\n\n","slug":"Java/2018-03-06-spring-quartz-trigger","published":1,"updated":"2018-11-10T08:59:09.803Z","comments":1,"photos":[],"link":"","_id":"cjtohbkaz00646f12601lngth","content":"<p>spring-quartz</p>\n<p>spring-quartz</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>triggerspring-quartz cluster<br>spring-quartz cluster </p>\n<p>QuartzSchedulerThreadJOB<br>QuartzSchedulerThreadrun</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//triggerSCHED_NAMEWAITING30</span></span><br><span class=\"line\">triggers = qsRsrcs.getJobStore().acquireNextTriggers(</span><br><span class=\"line\">                                now + idleWaitTime, Math.min(availThreadCount, qsRsrcs.getMaxBatchSize()), qsRsrcs.getBatchTimeWindow());</span><br><span class=\"line\">....                  </span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">List&lt;TriggerFiredResult&gt; res = qsRsrcs.getJobStore().triggersFired(triggers);                                                          </span><br><span class=\"line\">...</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">qsRsrcs.getJobStore().releaseAcquiredTrigger(triggers.get(i));</span><br><span class=\"line\">...</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">qsRsrcs.getJobStore().triggeredJobComplete(triggers.get(i), bndle.getJobDetail(), CompletedExecutionInstruction.SET_ALL_JOB_TRIGGERS_ERROR);</span><br></pre></td></tr></table></figure>\n<p>acquireNextTriggersIDtrigger</p>\n<p>acquireNextTriggerstriggertrigger</p>\n<h3 id=\"ID\"><a href=\"#ID\" class=\"headerlink\" title=\"ID\"></a>ID</h3><p>spring-quartzorg.quartz.scheduler.instanceIdAUTOSimpleInstanceIdGenerator ID</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">SimpleInstanceIdGenerator</span> <span class=\"keyword\">implements</span> <span class=\"title\">InstanceIdGenerator</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">generateInstanceId</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> SchedulerException </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> InetAddress.getLocalHost().getHostName() + System.currentTimeMillis();</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> SchedulerException(<span class=\"string\">\"Couldn't get host name!\"</span>, e);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>SimpleInstanceIdGenerator instanceId,hostName(Linux)IPID</p>\n<p>InstanceIdGeneratorIDQuartzSchedulerInstanceIdGenerator</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">QuartzSchedulerInstanceIdGenerator</span> <span class=\"keyword\">implements</span> <span class=\"title\">InstanceIdGenerator</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> Logger log = LoggerFactory.getLogger(QuartzSchedulerInstanceIdGenerator.class);</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> String OS_NAME = <span class=\"string\">\"os.name\"</span>;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> String WINDOWS = <span class=\"string\">\"Windows\"</span>;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> String MAC = <span class=\"string\">\"Mac OS\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">generateInstanceId</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> SchedulerException </span>&#123;</span><br><span class=\"line\">        String id;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (isLocalDev()) &#123;</span><br><span class=\"line\">                id = getHostName();</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                id = IpUtil.getIp();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (StringUtils.isBlank(id)) &#123;</span><br><span class=\"line\">                id = InetAddress.getLocalHost().getHostName() + System.currentTimeMillis();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> SchedulerException(<span class=\"string\">\"Couldn't generate instance id!\"</span>, e);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> id;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> String <span class=\"title\">getHostName</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> SchedulerException </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> InetAddress.getLocalHost().getHostName();</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> SchedulerException(<span class=\"string\">\"Couldn't get host name!\"</span>, e);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">boolean</span> <span class=\"title\">isLocalDev</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (StringUtils.indexOfIgnoreCase(System.getProperty(OS_NAME), WINDOWS) &gt;= <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (StringUtils.indexOfIgnoreCase(System.getProperty(OS_NAME), MAC) &gt;= <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>quartz.properties</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">org.quartz.scheduler.instanceIdGenerator.class=com.xx.ext.QuartzSchedulerInstanceIdGenerator</span><br></pre></td></tr></table></figure>\n<h3 id=\"StdJDBCDelegate\"><a href=\"#StdJDBCDelegate\" class=\"headerlink\" title=\"StdJDBCDelegate\"></a>StdJDBCDelegate</h3><p>SchedulerFactoryBean BeanSchedulerFactorySchedulerjobStorejobtriggerDriverDelegateSpringLocalDataSourceJobStoreJobStore</p>\n<p>SchedulerFactoryinitSchedulerFactory:</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">     <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.configLocation != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (logger.isInfoEnabled()) &#123;</span><br><span class=\"line\">\t\tlogger.info(<span class=\"string\">\"Loading Quartz config from [\"</span> + <span class=\"keyword\">this</span>.configLocation + <span class=\"string\">\"]\"</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tPropertiesLoaderUtils.fillProperties(mergedProps, <span class=\"keyword\">this</span>.configLocation);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">CollectionUtils.mergePropertiesIntoMap(<span class=\"keyword\">this</span>.quartzProperties, mergedProps);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.dataSource != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">\tmergedProps.put(StdSchedulerFactory.PROP_JOB_STORE_CLASS, LocalDataSourceJobStore.class.getName());</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>SchedulerFactoryBeanPROP_JOB_STORE_CLASSPROP_JOB_STORE_CLASSSpringLocalDataSourceJobStorequartz.propertiesorg.quartz.jobStore.classLocalDataSourceJobStore</p>\n<p>LocalDataSourceJobStoreJobStoreSupportJobStoreSupportStdJDBCDelegateStdJDBCDelegateorg.quartz.jobStore.driverDelegateClassdriverDelegateDelegate</p>\n<p>quartz.properties</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">org.quartz.jobStore.driverDelegateClass=com.xx.ext.StdJDBCDelegateExt</span><br></pre></td></tr></table></figure>\n<p>${table_prefix}_quartz_triggersINSTANCE_NAMEInstanceIdGeneratorIDStdJDBCDelegateinstanceIdStdJDBCDelegateinstanceIdtrigger</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">StdJDBCDelegateExt</span> <span class=\"keyword\">extends</span> <span class=\"title\">StdJDBCDelegate</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    String INSTANCE_NAME_VALUE = <span class=\"string\">\"&#123;2&#125;\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    String SELECT_NEXT_TRIGGER_TO_ACQUIRE_EXT = <span class=\"string\">\"SELECT \"</span></span><br><span class=\"line\">        + COL_TRIGGER_NAME + <span class=\"string\">\", \"</span> + COL_TRIGGER_GROUP + <span class=\"string\">\", \"</span></span><br><span class=\"line\">        + COL_NEXT_FIRE_TIME + <span class=\"string\">\", \"</span> + COL_PRIORITY + <span class=\"string\">\" FROM \"</span></span><br><span class=\"line\">        + TABLE_PREFIX_SUBST + TABLE_TRIGGERS + <span class=\"string\">\" WHERE \"</span></span><br><span class=\"line\">        + COL_SCHEDULER_NAME + <span class=\"string\">\" = \"</span> + SCHED_NAME_SUBST</span><br><span class=\"line\">        + <span class=\"string\">\" AND \"</span> + COL_TRIGGER_STATE + <span class=\"string\">\" = ? AND \"</span> + COL_NEXT_FIRE_TIME + <span class=\"string\">\" &lt;= ? \"</span></span><br><span class=\"line\">        + <span class=\"string\">\" AND (\"</span> + COL_INSTANCE_NAME + <span class=\"string\">\" IS NULL OR \"</span> + COL_INSTANCE_NAME + <span class=\"string\">\" = \"</span> + INSTANCE_NAME_VALUE + <span class=\"string\">\")\"</span></span><br><span class=\"line\">        + <span class=\"string\">\"AND (\"</span> + COL_MISFIRE_INSTRUCTION + <span class=\"string\">\" = -1 OR (\"</span> + COL_MISFIRE_INSTRUCTION + <span class=\"string\">\" != -1 AND \"</span></span><br><span class=\"line\">        + COL_NEXT_FIRE_TIME + <span class=\"string\">\" &gt;= ?)) \"</span></span><br><span class=\"line\">        + <span class=\"string\">\"ORDER BY \"</span> + COL_NEXT_FIRE_TIME + <span class=\"string\">\" ASC, \"</span> + COL_PRIORITY + <span class=\"string\">\" DESC\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * trigger </span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> conn</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> noLaterThan</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> noEarlierThan</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> maxCount</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span></span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@throws</span> SQLException</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> List&lt;TriggerKey&gt; <span class=\"title\">selectTriggerToAcquire</span><span class=\"params\">(Connection conn, <span class=\"keyword\">long</span> noLaterThan, <span class=\"keyword\">long</span> noEarlierThan, <span class=\"keyword\">int</span> maxCount)</span></span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"keyword\">throws</span> SQLException </span>&#123;</span><br><span class=\"line\">        PreparedStatement ps = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        ResultSet rs = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        List&lt;TriggerKey&gt; nextTriggers = <span class=\"keyword\">new</span> LinkedList&lt;TriggerKey&gt;();</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            ps = conn.prepareStatement(rtp(SELECT_NEXT_TRIGGER_TO_ACQUIRE_EXT, instanceId));</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// Set max rows to retrieve</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (maxCount &lt; <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">                maxCount = <span class=\"number\">1</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            ps.setMaxRows(maxCount);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// Try to give jdbc driver a hint to hopefully not pull over more than the few rows we actually need.</span></span><br><span class=\"line\">            <span class=\"comment\">// Note: in some jdbc drivers, such as MySQL, you must set maxRows before fetchSize, or you get exception!</span></span><br><span class=\"line\">            ps.setFetchSize(maxCount);</span><br><span class=\"line\"></span><br><span class=\"line\">            ps.setString(<span class=\"number\">1</span>, STATE_WAITING);</span><br><span class=\"line\">            ps.setBigDecimal(<span class=\"number\">2</span>, <span class=\"keyword\">new</span> BigDecimal(String.valueOf(noLaterThan)));</span><br><span class=\"line\">            ps.setBigDecimal(<span class=\"number\">3</span>, <span class=\"keyword\">new</span> BigDecimal(String.valueOf(noEarlierThan)));</span><br><span class=\"line\">            rs = ps.executeQuery();</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">while</span> (rs.next() &amp;&amp; nextTriggers.size() &lt;= maxCount) &#123;</span><br><span class=\"line\">                nextTriggers.add(triggerKey(</span><br><span class=\"line\">                    rs.getString(COL_TRIGGER_NAME),</span><br><span class=\"line\">                    rs.getString(COL_TRIGGER_GROUP)));</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">return</span> nextTriggers;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">            closeResultSet(rs);</span><br><span class=\"line\">            closeStatement(ps);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">final</span> String <span class=\"title\">rtp</span><span class=\"params\">(String query, String instanceName)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> MessageFormat.format(query,</span><br><span class=\"line\">            <span class=\"keyword\">new</span> Object[] &#123;tablePrefix, getSchedulerNameLiteral(), <span class=\"string\">\"'\"</span> + instanceName + <span class=\"string\">\"'\"</span>&#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>triggerinstanceIdtriggerinstanceId</p>\n","site":{"data":{}},"excerpt":"","more":"<p>spring-quartz</p>\n<p>spring-quartz</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>triggerspring-quartz cluster<br>spring-quartz cluster </p>\n<p>QuartzSchedulerThreadJOB<br>QuartzSchedulerThreadrun</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//triggerSCHED_NAMEWAITING30</span></span><br><span class=\"line\">triggers = qsRsrcs.getJobStore().acquireNextTriggers(</span><br><span class=\"line\">                                now + idleWaitTime, Math.min(availThreadCount, qsRsrcs.getMaxBatchSize()), qsRsrcs.getBatchTimeWindow());</span><br><span class=\"line\">....                  </span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">List&lt;TriggerFiredResult&gt; res = qsRsrcs.getJobStore().triggersFired(triggers);                                                          </span><br><span class=\"line\">...</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">qsRsrcs.getJobStore().releaseAcquiredTrigger(triggers.get(i));</span><br><span class=\"line\">...</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">qsRsrcs.getJobStore().triggeredJobComplete(triggers.get(i), bndle.getJobDetail(), CompletedExecutionInstruction.SET_ALL_JOB_TRIGGERS_ERROR);</span><br></pre></td></tr></table></figure>\n<p>acquireNextTriggersIDtrigger</p>\n<p>acquireNextTriggerstriggertrigger</p>\n<h3 id=\"ID\"><a href=\"#ID\" class=\"headerlink\" title=\"ID\"></a>ID</h3><p>spring-quartzorg.quartz.scheduler.instanceIdAUTOSimpleInstanceIdGenerator ID</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">SimpleInstanceIdGenerator</span> <span class=\"keyword\">implements</span> <span class=\"title\">InstanceIdGenerator</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">generateInstanceId</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> SchedulerException </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> InetAddress.getLocalHost().getHostName() + System.currentTimeMillis();</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> SchedulerException(<span class=\"string\">\"Couldn't get host name!\"</span>, e);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>SimpleInstanceIdGenerator instanceId,hostName(Linux)IPID</p>\n<p>InstanceIdGeneratorIDQuartzSchedulerInstanceIdGenerator</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">QuartzSchedulerInstanceIdGenerator</span> <span class=\"keyword\">implements</span> <span class=\"title\">InstanceIdGenerator</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> Logger log = LoggerFactory.getLogger(QuartzSchedulerInstanceIdGenerator.class);</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> String OS_NAME = <span class=\"string\">\"os.name\"</span>;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> String WINDOWS = <span class=\"string\">\"Windows\"</span>;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> String MAC = <span class=\"string\">\"Mac OS\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">generateInstanceId</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> SchedulerException </span>&#123;</span><br><span class=\"line\">        String id;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (isLocalDev()) &#123;</span><br><span class=\"line\">                id = getHostName();</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                id = IpUtil.getIp();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (StringUtils.isBlank(id)) &#123;</span><br><span class=\"line\">                id = InetAddress.getLocalHost().getHostName() + System.currentTimeMillis();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> SchedulerException(<span class=\"string\">\"Couldn't generate instance id!\"</span>, e);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> id;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> String <span class=\"title\">getHostName</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> SchedulerException </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> InetAddress.getLocalHost().getHostName();</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> SchedulerException(<span class=\"string\">\"Couldn't get host name!\"</span>, e);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">boolean</span> <span class=\"title\">isLocalDev</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (StringUtils.indexOfIgnoreCase(System.getProperty(OS_NAME), WINDOWS) &gt;= <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (StringUtils.indexOfIgnoreCase(System.getProperty(OS_NAME), MAC) &gt;= <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>quartz.properties</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">org.quartz.scheduler.instanceIdGenerator.class=com.xx.ext.QuartzSchedulerInstanceIdGenerator</span><br></pre></td></tr></table></figure>\n<h3 id=\"StdJDBCDelegate\"><a href=\"#StdJDBCDelegate\" class=\"headerlink\" title=\"StdJDBCDelegate\"></a>StdJDBCDelegate</h3><p>SchedulerFactoryBean BeanSchedulerFactorySchedulerjobStorejobtriggerDriverDelegateSpringLocalDataSourceJobStoreJobStore</p>\n<p>SchedulerFactoryinitSchedulerFactory:</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">     <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.configLocation != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (logger.isInfoEnabled()) &#123;</span><br><span class=\"line\">\t\tlogger.info(<span class=\"string\">\"Loading Quartz config from [\"</span> + <span class=\"keyword\">this</span>.configLocation + <span class=\"string\">\"]\"</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tPropertiesLoaderUtils.fillProperties(mergedProps, <span class=\"keyword\">this</span>.configLocation);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">CollectionUtils.mergePropertiesIntoMap(<span class=\"keyword\">this</span>.quartzProperties, mergedProps);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.dataSource != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">\tmergedProps.put(StdSchedulerFactory.PROP_JOB_STORE_CLASS, LocalDataSourceJobStore.class.getName());</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>SchedulerFactoryBeanPROP_JOB_STORE_CLASSPROP_JOB_STORE_CLASSSpringLocalDataSourceJobStorequartz.propertiesorg.quartz.jobStore.classLocalDataSourceJobStore</p>\n<p>LocalDataSourceJobStoreJobStoreSupportJobStoreSupportStdJDBCDelegateStdJDBCDelegateorg.quartz.jobStore.driverDelegateClassdriverDelegateDelegate</p>\n<p>quartz.properties</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">org.quartz.jobStore.driverDelegateClass=com.xx.ext.StdJDBCDelegateExt</span><br></pre></td></tr></table></figure>\n<p>${table_prefix}_quartz_triggersINSTANCE_NAMEInstanceIdGeneratorIDStdJDBCDelegateinstanceIdStdJDBCDelegateinstanceIdtrigger</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">StdJDBCDelegateExt</span> <span class=\"keyword\">extends</span> <span class=\"title\">StdJDBCDelegate</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    String INSTANCE_NAME_VALUE = <span class=\"string\">\"&#123;2&#125;\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    String SELECT_NEXT_TRIGGER_TO_ACQUIRE_EXT = <span class=\"string\">\"SELECT \"</span></span><br><span class=\"line\">        + COL_TRIGGER_NAME + <span class=\"string\">\", \"</span> + COL_TRIGGER_GROUP + <span class=\"string\">\", \"</span></span><br><span class=\"line\">        + COL_NEXT_FIRE_TIME + <span class=\"string\">\", \"</span> + COL_PRIORITY + <span class=\"string\">\" FROM \"</span></span><br><span class=\"line\">        + TABLE_PREFIX_SUBST + TABLE_TRIGGERS + <span class=\"string\">\" WHERE \"</span></span><br><span class=\"line\">        + COL_SCHEDULER_NAME + <span class=\"string\">\" = \"</span> + SCHED_NAME_SUBST</span><br><span class=\"line\">        + <span class=\"string\">\" AND \"</span> + COL_TRIGGER_STATE + <span class=\"string\">\" = ? AND \"</span> + COL_NEXT_FIRE_TIME + <span class=\"string\">\" &lt;= ? \"</span></span><br><span class=\"line\">        + <span class=\"string\">\" AND (\"</span> + COL_INSTANCE_NAME + <span class=\"string\">\" IS NULL OR \"</span> + COL_INSTANCE_NAME + <span class=\"string\">\" = \"</span> + INSTANCE_NAME_VALUE + <span class=\"string\">\")\"</span></span><br><span class=\"line\">        + <span class=\"string\">\"AND (\"</span> + COL_MISFIRE_INSTRUCTION + <span class=\"string\">\" = -1 OR (\"</span> + COL_MISFIRE_INSTRUCTION + <span class=\"string\">\" != -1 AND \"</span></span><br><span class=\"line\">        + COL_NEXT_FIRE_TIME + <span class=\"string\">\" &gt;= ?)) \"</span></span><br><span class=\"line\">        + <span class=\"string\">\"ORDER BY \"</span> + COL_NEXT_FIRE_TIME + <span class=\"string\">\" ASC, \"</span> + COL_PRIORITY + <span class=\"string\">\" DESC\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * trigger </span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> conn</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> noLaterThan</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> noEarlierThan</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> maxCount</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span></span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@throws</span> SQLException</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> List&lt;TriggerKey&gt; <span class=\"title\">selectTriggerToAcquire</span><span class=\"params\">(Connection conn, <span class=\"keyword\">long</span> noLaterThan, <span class=\"keyword\">long</span> noEarlierThan, <span class=\"keyword\">int</span> maxCount)</span></span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"keyword\">throws</span> SQLException </span>&#123;</span><br><span class=\"line\">        PreparedStatement ps = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        ResultSet rs = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        List&lt;TriggerKey&gt; nextTriggers = <span class=\"keyword\">new</span> LinkedList&lt;TriggerKey&gt;();</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            ps = conn.prepareStatement(rtp(SELECT_NEXT_TRIGGER_TO_ACQUIRE_EXT, instanceId));</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// Set max rows to retrieve</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (maxCount &lt; <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">                maxCount = <span class=\"number\">1</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            ps.setMaxRows(maxCount);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// Try to give jdbc driver a hint to hopefully not pull over more than the few rows we actually need.</span></span><br><span class=\"line\">            <span class=\"comment\">// Note: in some jdbc drivers, such as MySQL, you must set maxRows before fetchSize, or you get exception!</span></span><br><span class=\"line\">            ps.setFetchSize(maxCount);</span><br><span class=\"line\"></span><br><span class=\"line\">            ps.setString(<span class=\"number\">1</span>, STATE_WAITING);</span><br><span class=\"line\">            ps.setBigDecimal(<span class=\"number\">2</span>, <span class=\"keyword\">new</span> BigDecimal(String.valueOf(noLaterThan)));</span><br><span class=\"line\">            ps.setBigDecimal(<span class=\"number\">3</span>, <span class=\"keyword\">new</span> BigDecimal(String.valueOf(noEarlierThan)));</span><br><span class=\"line\">            rs = ps.executeQuery();</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">while</span> (rs.next() &amp;&amp; nextTriggers.size() &lt;= maxCount) &#123;</span><br><span class=\"line\">                nextTriggers.add(triggerKey(</span><br><span class=\"line\">                    rs.getString(COL_TRIGGER_NAME),</span><br><span class=\"line\">                    rs.getString(COL_TRIGGER_GROUP)));</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">return</span> nextTriggers;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">            closeResultSet(rs);</span><br><span class=\"line\">            closeStatement(ps);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">final</span> String <span class=\"title\">rtp</span><span class=\"params\">(String query, String instanceName)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> MessageFormat.format(query,</span><br><span class=\"line\">            <span class=\"keyword\">new</span> Object[] &#123;tablePrefix, getSchedulerNameLiteral(), <span class=\"string\">\"'\"</span> + instanceName + <span class=\"string\">\"'\"</span>&#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>triggerinstanceIdtriggerinstanceId</p>\n"},{"layout":"post","title":"Taobao SSO ","description":null,"keywords":"SSO taobao  ","date":"2018-01-03T16:00:00.000Z","_content":"cookie\n\n## \n1. CookieSessionhttps://github.com/astaxie/build-web-application-with-golang/blob/master/zh/06.1.md\n2. SSO\n\n\n## \n1. www.taobao.com  login.taobao.com\n    * 302 www.taobao.com\n    * Post  login.taobao.com , response  set-cookieredirectURL www.taobao.com\n2.  www.tmall.com\n    * www.tmall.com tmcc.tmall.com/pass.com\n3.  https://tmcc.tmall.com/pass.htm\n    *  302  https://login.taobao.com/jump?target=https://tmcc.tmall.com/pass.htm?tbpm=1\n    * tbpm=1tbsession\n4.  https://login.taobao.com/jump?target=https://tmcc.tmall.com/pass.htm?tbpm=1\n    * login.taobao.com/jumptaobao.comcookie\n    * 302https://pass.tmall.com/add?_tb_token_=eef03e35fbe&u......&target=https%3A%2F%2Ftmcc.tmall.com%2Fpass.htm%3Ftbpm%3D1\n    * taobaocookie302url  query string\n5.  https://pass.tmall.com/add?_tb_token_=eef03e35fbe&u......&target=https%3A%2F%2Ftmcc.tmall.com%2Fpass.htm%3Ftbpm%3D1\n    * cookie query string  tmall.comcookie\n    * cookieset  cookietmall.comcookie\n    * 302  https://tmcc.tmall.com/pass.htm?tbpm=1\n6. https://tmcc.tmall.com/pass.htm?tbpm=1 302  https://tmcc.tmall.com/pass.htm\n\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/87d35687c06bdf7d01ea78c3aa1f8c7f.png)\n\n\n\n\n1.  www.alitrip.comhttps://ffa.alitrip.com/userInfo.htm\n2. https://ffa.alitrip.com/userInfo.htm\n    *  302 https://login.taobao.com/jump?target=https%3A%2F%2Fffa.alitrip.com%2FuserInfo.htm\n3. https://login.taobao.com/jump?target=https%3A%2F%2Fffa.alitrip.com%2FuserIn\n    * login.taobao.com/jumptaobao.comcookie\n    * 302https://pass.alitrip.com/add?_tb_token_=eef03e35fbe&uss=UtBTusG4\n    * taobaocookie302url  query string\n4. https://pass.alitrip.com/add?_tb_token_=eef03e35fbe&uss=UtBTusG4\n    * cookie query string  alitrip.com cookie\n    * cookieset  cookietmall.comcookie;\n\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/ad93fbcaff26e6b4bc3ca3af620468e9.png)\n1. url tmcc.tmall.com\n2. login.taobao.com/jump\n3. pass.tmall.com\n4. urltbpm\n5. urltbpm\n\ntaobao.comcookielogin.tmall.comcookie\nlogin.tmall.comlogin.taobao.comcookietaobaotmallcookie\n\n\nlogin.taobao.com/clear, set-cookie session cookiecookie 302  https://pass.tmall.com/clear cookie 302  https://pass.etao.com/clear cookie 302 https://pass.etao.com/clear  cookiecookie\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/eafb7fc66c6139c50a6a8bbb5bd89e58.png)\nlogin.taobao.com/member/logout.jhtml , 302 pass ,\n\n\n## Cookie\ncookiecookiecookiecookie\n\n## Session \n1. cookie\n2. \n3. session\n\ntbsessionpasscookie\n\n1. tbsessionsessiontbsession 1 + 2\n2. passcookiecookiecookie\n\n## \ncookie  session\n\ncookiecookiecookiePermanent CookiesSession Cookie    cookieCSRFcookiesessionCSRFsessioncookieJSessionId IDjsessionidsessionCSRFcookiesession\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/877347f9c7fc1318a494640818519c2a.png)\n\n\n\nsessionId CookieCookiecookiepostmancrsf_token ,CookiehttpOnlyJSCookiehttpshttptcpssl\n\nhttpsCSRF\n\nhttpsCSRFCookieCookieCookiehttpsCookie\n\n\n## Session \nsessionId\nhttps://github.com/astaxie/build-web-application-with-golang/blob/master/zh/06.4.md\n\nsession \n\n1. POST  + Referer\n    * \n    * 1.POSTRestFul2.referer\n2. csrf_token(token)tokenCSRFcookie_tb_token_\n\ncsrftoken\n\n* csrftoken    \n* csrftoken\n* csrftoken\n* csrftoken\n* csrftoken\n* csrftoken\n\ncsrf_token csrf_token\n\n## \nSSO \n\n## \n1.  mac  Charles\n2. https\n3. Charles -> Help -> SSL Proxying -> Install Charles Root Certificate\n4. Proxy -> SSL Proxying Setting -> SSL Proxying \n\n","source":"_posts/Program/2018-01-04-taobao-sso.md","raw":"---\nlayout: post\ntitle: Taobao SSO \ncategories: Program\ndescription:\nkeywords: SSO taobao  \ndate: 2018-01-04\n---\ncookie\n\n## \n1. CookieSessionhttps://github.com/astaxie/build-web-application-with-golang/blob/master/zh/06.1.md\n2. SSO\n\n\n## \n1. www.taobao.com  login.taobao.com\n    * 302 www.taobao.com\n    * Post  login.taobao.com , response  set-cookieredirectURL www.taobao.com\n2.  www.tmall.com\n    * www.tmall.com tmcc.tmall.com/pass.com\n3.  https://tmcc.tmall.com/pass.htm\n    *  302  https://login.taobao.com/jump?target=https://tmcc.tmall.com/pass.htm?tbpm=1\n    * tbpm=1tbsession\n4.  https://login.taobao.com/jump?target=https://tmcc.tmall.com/pass.htm?tbpm=1\n    * login.taobao.com/jumptaobao.comcookie\n    * 302https://pass.tmall.com/add?_tb_token_=eef03e35fbe&u......&target=https%3A%2F%2Ftmcc.tmall.com%2Fpass.htm%3Ftbpm%3D1\n    * taobaocookie302url  query string\n5.  https://pass.tmall.com/add?_tb_token_=eef03e35fbe&u......&target=https%3A%2F%2Ftmcc.tmall.com%2Fpass.htm%3Ftbpm%3D1\n    * cookie query string  tmall.comcookie\n    * cookieset  cookietmall.comcookie\n    * 302  https://tmcc.tmall.com/pass.htm?tbpm=1\n6. https://tmcc.tmall.com/pass.htm?tbpm=1 302  https://tmcc.tmall.com/pass.htm\n\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/87d35687c06bdf7d01ea78c3aa1f8c7f.png)\n\n\n\n\n1.  www.alitrip.comhttps://ffa.alitrip.com/userInfo.htm\n2. https://ffa.alitrip.com/userInfo.htm\n    *  302 https://login.taobao.com/jump?target=https%3A%2F%2Fffa.alitrip.com%2FuserInfo.htm\n3. https://login.taobao.com/jump?target=https%3A%2F%2Fffa.alitrip.com%2FuserIn\n    * login.taobao.com/jumptaobao.comcookie\n    * 302https://pass.alitrip.com/add?_tb_token_=eef03e35fbe&uss=UtBTusG4\n    * taobaocookie302url  query string\n4. https://pass.alitrip.com/add?_tb_token_=eef03e35fbe&uss=UtBTusG4\n    * cookie query string  alitrip.com cookie\n    * cookieset  cookietmall.comcookie;\n\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/ad93fbcaff26e6b4bc3ca3af620468e9.png)\n1. url tmcc.tmall.com\n2. login.taobao.com/jump\n3. pass.tmall.com\n4. urltbpm\n5. urltbpm\n\ntaobao.comcookielogin.tmall.comcookie\nlogin.tmall.comlogin.taobao.comcookietaobaotmallcookie\n\n\nlogin.taobao.com/clear, set-cookie session cookiecookie 302  https://pass.tmall.com/clear cookie 302  https://pass.etao.com/clear cookie 302 https://pass.etao.com/clear  cookiecookie\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/eafb7fc66c6139c50a6a8bbb5bd89e58.png)\nlogin.taobao.com/member/logout.jhtml , 302 pass ,\n\n\n## Cookie\ncookiecookiecookiecookie\n\n## Session \n1. cookie\n2. \n3. session\n\ntbsessionpasscookie\n\n1. tbsessionsessiontbsession 1 + 2\n2. passcookiecookiecookie\n\n## \ncookie  session\n\ncookiecookiecookiePermanent CookiesSession Cookie    cookieCSRFcookiesessionCSRFsessioncookieJSessionId IDjsessionidsessionCSRFcookiesession\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/877347f9c7fc1318a494640818519c2a.png)\n\n\n\nsessionId CookieCookiecookiepostmancrsf_token ,CookiehttpOnlyJSCookiehttpshttptcpssl\n\nhttpsCSRF\n\nhttpsCSRFCookieCookieCookiehttpsCookie\n\n\n## Session \nsessionId\nhttps://github.com/astaxie/build-web-application-with-golang/blob/master/zh/06.4.md\n\nsession \n\n1. POST  + Referer\n    * \n    * 1.POSTRestFul2.referer\n2. csrf_token(token)tokenCSRFcookie_tb_token_\n\ncsrftoken\n\n* csrftoken    \n* csrftoken\n* csrftoken\n* csrftoken\n* csrftoken\n* csrftoken\n\ncsrf_token csrf_token\n\n## \nSSO \n\n## \n1.  mac  Charles\n2. https\n3. Charles -> Help -> SSL Proxying -> Install Charles Root Certificate\n4. Proxy -> SSL Proxying Setting -> SSL Proxying \n\n","slug":"Program/2018-01-04-taobao-sso","published":1,"updated":"2018-11-10T08:59:09.807Z","comments":1,"photos":[],"link":"","_id":"cjtohbkb000666f1280ku5z1t","content":"<p>cookie</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li>CookieSession<a href=\"https://github.com/astaxie/build-web-application-with-golang/blob/master/zh/06.1.md\" target=\"_blank\" rel=\"noopener\">https://github.com/astaxie/build-web-application-with-golang/blob/master/zh/06.1.md</a></li>\n<li>SSO</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li><a href=\"http://www.taobao.com\" target=\"_blank\" rel=\"noopener\">www.taobao.com</a>  login.taobao.com<ul>\n<li>302 <a href=\"http://www.taobao.com\" target=\"_blank\" rel=\"noopener\">www.taobao.com</a></li>\n<li>Post  login.taobao.com , response  set-cookieredirectURL <a href=\"http://www.taobao.com\" target=\"_blank\" rel=\"noopener\">www.taobao.com</a></li>\n</ul>\n</li>\n<li> <a href=\"http://www.tmall.com\" target=\"_blank\" rel=\"noopener\">www.tmall.com</a><ul>\n<li><a href=\"http://www.tmall.com\" target=\"_blank\" rel=\"noopener\">www.tmall.com</a> tmcc.tmall.com/pass.com</li>\n</ul>\n</li>\n<li> <a href=\"https://tmcc.tmall.com/pass.htm\" target=\"_blank\" rel=\"noopener\">https://tmcc.tmall.com/pass.htm</a><ul>\n<li> 302  <a href=\"https://login.taobao.com/jump?target=https://tmcc.tmall.com/pass.htm?tbpm=1\" target=\"_blank\" rel=\"noopener\">https://login.taobao.com/jump?target=https://tmcc.tmall.com/pass.htm?tbpm=1</a></li>\n<li>tbpm=1tbsession</li>\n</ul>\n</li>\n<li> <a href=\"https://login.taobao.com/jump?target=https://tmcc.tmall.com/pass.htm?tbpm=1\" target=\"_blank\" rel=\"noopener\">https://login.taobao.com/jump?target=https://tmcc.tmall.com/pass.htm?tbpm=1</a><ul>\n<li>login.taobao.com/jumptaobao.comcookie</li>\n<li>302<a href=\"https://pass.tmall.com/add?_tb_token_=eef03e35fbe&amp;u......&amp;target=https%3A%2F%2Ftmcc.tmall.com%2Fpass.htm%3Ftbpm%3D1\" target=\"_blank\" rel=\"noopener\">https://pass.tmall.com/add?_tb_token_=eef03e35fbe&amp;u......&amp;target=https%3A%2F%2Ftmcc.tmall.com%2Fpass.htm%3Ftbpm%3D1</a></li>\n<li>taobaocookie302url  query string</li>\n</ul>\n</li>\n<li> <a href=\"https://pass.tmall.com/add?_tb_token_=eef03e35fbe&amp;u......&amp;target=https%3A%2F%2Ftmcc.tmall.com%2Fpass.htm%3Ftbpm%3D1\" target=\"_blank\" rel=\"noopener\">https://pass.tmall.com/add?_tb_token_=eef03e35fbe&amp;u......&amp;target=https%3A%2F%2Ftmcc.tmall.com%2Fpass.htm%3Ftbpm%3D1</a><ul>\n<li>cookie query string  tmall.comcookie</li>\n<li>cookieset  cookietmall.comcookie</li>\n<li>302  <a href=\"https://tmcc.tmall.com/pass.htm?tbpm=1\" target=\"_blank\" rel=\"noopener\">https://tmcc.tmall.com/pass.htm?tbpm=1</a></li>\n</ul>\n</li>\n<li><a href=\"https://tmcc.tmall.com/pass.htm?tbpm=1\" target=\"_blank\" rel=\"noopener\">https://tmcc.tmall.com/pass.htm?tbpm=1</a> 302  <a href=\"https://tmcc.tmall.com/pass.htm\" target=\"_blank\" rel=\"noopener\">https://tmcc.tmall.com/pass.htm</a></li>\n</ol>\n<p><br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/87d35687c06bdf7d01ea78c3aa1f8c7f.png\" alt=\"\"><br></p>\n<p></p>\n<ol>\n<li> <a href=\"http://www.alitrip.comhttps://ffa.alitrip.com/userInfo.htm\" target=\"_blank\" rel=\"noopener\">www.alitrip.comhttps://ffa.alitrip.com/userInfo.htm</a></li>\n<li><a href=\"https://ffa.alitrip.com/userInfo.htm\" target=\"_blank\" rel=\"noopener\">https://ffa.alitrip.com/userInfo.htm</a><ul>\n<li> 302 <a href=\"https://login.taobao.com/jump?target=https%3A%2F%2Fffa.alitrip.com%2FuserInfo.htm\" target=\"_blank\" rel=\"noopener\">https://login.taobao.com/jump?target=https%3A%2F%2Fffa.alitrip.com%2FuserInfo.htm</a></li>\n</ul>\n</li>\n<li><a href=\"https://login.taobao.com/jump?target=https%3A%2F%2Fffa.alitrip.com%2FuserIn\" target=\"_blank\" rel=\"noopener\">https://login.taobao.com/jump?target=https%3A%2F%2Fffa.alitrip.com%2FuserIn</a><ul>\n<li>login.taobao.com/jumptaobao.comcookie</li>\n<li>302<a href=\"https://pass.alitrip.com/add?_tb_token_=eef03e35fbe&amp;uss=UtBTusG4\" target=\"_blank\" rel=\"noopener\">https://pass.alitrip.com/add?_tb_token_=eef03e35fbe&amp;uss=UtBTusG4</a></li>\n<li>taobaocookie302url  query string</li>\n</ul>\n</li>\n<li><a href=\"https://pass.alitrip.com/add?_tb_token_=eef03e35fbe&amp;uss=UtBTusG4\" target=\"_blank\" rel=\"noopener\">https://pass.alitrip.com/add?_tb_token_=eef03e35fbe&amp;uss=UtBTusG4</a><ul>\n<li>cookie query string  alitrip.com cookie</li>\n<li>cookieset  cookietmall.comcookie;</li>\n</ul>\n</li>\n</ol>\n<p><br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/ad93fbcaff26e6b4bc3ca3af620468e9.png\" alt=\"\"></p>\n<ol>\n<li>url tmcc.tmall.com</li>\n<li>login.taobao.com/jump</li>\n<li>pass.tmall.com</li>\n<li>urltbpm</li>\n<li>urltbpm</li>\n</ol>\n<p>taobao.comcookielogin.tmall.comcookie<br>login.tmall.comlogin.taobao.comcookietaobaotmallcookie</p>\n<p>login.taobao.com/clear, set-cookie session cookiecookie 302  <a href=\"https://pass.tmall.com/clear\" target=\"_blank\" rel=\"noopener\">https://pass.tmall.com/clear</a> cookie 302  <a href=\"https://pass.etao.com/clear\" target=\"_blank\" rel=\"noopener\">https://pass.etao.com/clear</a> cookie 302 <a href=\"https://pass.etao.com/clear\" target=\"_blank\" rel=\"noopener\">https://pass.etao.com/clear</a>  cookiecookie<br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/eafb7fc66c6139c50a6a8bbb5bd89e58.png\" alt=\"\"><br>login.taobao.com/member/logout.jhtml , 302 pass ,</p>\n<h2 id=\"Cookie\"><a href=\"#Cookie\" class=\"headerlink\" title=\"Cookie\"></a>Cookie</h2><p>cookiecookiecookiecookie</p>\n<h2 id=\"Session-\"><a href=\"#Session-\" class=\"headerlink\" title=\"Session \"></a>Session </h2><ol>\n<li>cookie</li>\n<li></li>\n<li>session</li>\n</ol>\n<p>tbsessionpasscookie</p>\n<ol>\n<li>tbsessionsessiontbsession 1 + 2</li>\n<li>passcookiecookiecookie</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>cookie  session</p>\n<p>cookiecookiecookiePermanent CookiesSession Cookie    cookieCSRFcookiesessionCSRFsessioncookieJSessionId IDjsessionidsessionCSRFcookiesession<br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/877347f9c7fc1318a494640818519c2a.png\" alt=\"\"></p>\n<p></p>\n<p>sessionId CookieCookiecookiepostmancrsf_token ,CookiehttpOnlyJSCookiehttpshttptcpssl</p>\n<p>httpsCSRF</p>\n<p>httpsCSRFCookieCookieCookiehttpsCookie</p>\n<h2 id=\"Session-\"><a href=\"#Session-\" class=\"headerlink\" title=\"Session \"></a>Session </h2><p>sessionId<br><a href=\"https://github.com/astaxie/build-web-application-with-golang/blob/master/zh/06.4.md\" target=\"_blank\" rel=\"noopener\">https://github.com/astaxie/build-web-application-with-golang/blob/master/zh/06.4.md</a></p>\n<p>session </p>\n<ol>\n<li>POST  + Referer<ul>\n<li></li>\n<li>1.POSTRestFul2.referer</li>\n</ul>\n</li>\n<li>csrf_token(token)tokenCSRFcookie_tb_token_</li>\n</ol>\n<p>csrftoken</p>\n<ul>\n<li>csrftoken    </li>\n<li>csrftoken</li>\n<li>csrftoken</li>\n<li>csrftoken</li>\n<li>csrftoken</li>\n<li>csrftoken</li>\n</ul>\n<p>csrf_token csrf_token</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>SSO </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li> mac  Charles</li>\n<li>https</li>\n<li>Charles -&gt; Help -&gt; SSL Proxying -&gt; Install Charles Root Certificate</li>\n<li>Proxy -&gt; SSL Proxying Setting -&gt; SSL Proxying </li>\n</ol>\n","site":{"data":{}},"excerpt":"","more":"<p>cookie</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li>CookieSession<a href=\"https://github.com/astaxie/build-web-application-with-golang/blob/master/zh/06.1.md\" target=\"_blank\" rel=\"noopener\">https://github.com/astaxie/build-web-application-with-golang/blob/master/zh/06.1.md</a></li>\n<li>SSO</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li><a href=\"http://www.taobao.com\" target=\"_blank\" rel=\"noopener\">www.taobao.com</a>  login.taobao.com<ul>\n<li>302 <a href=\"http://www.taobao.com\" target=\"_blank\" rel=\"noopener\">www.taobao.com</a></li>\n<li>Post  login.taobao.com , response  set-cookieredirectURL <a href=\"http://www.taobao.com\" target=\"_blank\" rel=\"noopener\">www.taobao.com</a></li>\n</ul>\n</li>\n<li> <a href=\"http://www.tmall.com\" target=\"_blank\" rel=\"noopener\">www.tmall.com</a><ul>\n<li><a href=\"http://www.tmall.com\" target=\"_blank\" rel=\"noopener\">www.tmall.com</a> tmcc.tmall.com/pass.com</li>\n</ul>\n</li>\n<li> <a href=\"https://tmcc.tmall.com/pass.htm\" target=\"_blank\" rel=\"noopener\">https://tmcc.tmall.com/pass.htm</a><ul>\n<li> 302  <a href=\"https://login.taobao.com/jump?target=https://tmcc.tmall.com/pass.htm?tbpm=1\" target=\"_blank\" rel=\"noopener\">https://login.taobao.com/jump?target=https://tmcc.tmall.com/pass.htm?tbpm=1</a></li>\n<li>tbpm=1tbsession</li>\n</ul>\n</li>\n<li> <a href=\"https://login.taobao.com/jump?target=https://tmcc.tmall.com/pass.htm?tbpm=1\" target=\"_blank\" rel=\"noopener\">https://login.taobao.com/jump?target=https://tmcc.tmall.com/pass.htm?tbpm=1</a><ul>\n<li>login.taobao.com/jumptaobao.comcookie</li>\n<li>302<a href=\"https://pass.tmall.com/add?_tb_token_=eef03e35fbe&amp;u......&amp;target=https%3A%2F%2Ftmcc.tmall.com%2Fpass.htm%3Ftbpm%3D1\" target=\"_blank\" rel=\"noopener\">https://pass.tmall.com/add?_tb_token_=eef03e35fbe&amp;u......&amp;target=https%3A%2F%2Ftmcc.tmall.com%2Fpass.htm%3Ftbpm%3D1</a></li>\n<li>taobaocookie302url  query string</li>\n</ul>\n</li>\n<li> <a href=\"https://pass.tmall.com/add?_tb_token_=eef03e35fbe&amp;u......&amp;target=https%3A%2F%2Ftmcc.tmall.com%2Fpass.htm%3Ftbpm%3D1\" target=\"_blank\" rel=\"noopener\">https://pass.tmall.com/add?_tb_token_=eef03e35fbe&amp;u......&amp;target=https%3A%2F%2Ftmcc.tmall.com%2Fpass.htm%3Ftbpm%3D1</a><ul>\n<li>cookie query string  tmall.comcookie</li>\n<li>cookieset  cookietmall.comcookie</li>\n<li>302  <a href=\"https://tmcc.tmall.com/pass.htm?tbpm=1\" target=\"_blank\" rel=\"noopener\">https://tmcc.tmall.com/pass.htm?tbpm=1</a></li>\n</ul>\n</li>\n<li><a href=\"https://tmcc.tmall.com/pass.htm?tbpm=1\" target=\"_blank\" rel=\"noopener\">https://tmcc.tmall.com/pass.htm?tbpm=1</a> 302  <a href=\"https://tmcc.tmall.com/pass.htm\" target=\"_blank\" rel=\"noopener\">https://tmcc.tmall.com/pass.htm</a></li>\n</ol>\n<p><br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/87d35687c06bdf7d01ea78c3aa1f8c7f.png\" alt=\"\"><br></p>\n<p></p>\n<ol>\n<li> <a href=\"http://www.alitrip.comhttps://ffa.alitrip.com/userInfo.htm\" target=\"_blank\" rel=\"noopener\">www.alitrip.comhttps://ffa.alitrip.com/userInfo.htm</a></li>\n<li><a href=\"https://ffa.alitrip.com/userInfo.htm\" target=\"_blank\" rel=\"noopener\">https://ffa.alitrip.com/userInfo.htm</a><ul>\n<li> 302 <a href=\"https://login.taobao.com/jump?target=https%3A%2F%2Fffa.alitrip.com%2FuserInfo.htm\" target=\"_blank\" rel=\"noopener\">https://login.taobao.com/jump?target=https%3A%2F%2Fffa.alitrip.com%2FuserInfo.htm</a></li>\n</ul>\n</li>\n<li><a href=\"https://login.taobao.com/jump?target=https%3A%2F%2Fffa.alitrip.com%2FuserIn\" target=\"_blank\" rel=\"noopener\">https://login.taobao.com/jump?target=https%3A%2F%2Fffa.alitrip.com%2FuserIn</a><ul>\n<li>login.taobao.com/jumptaobao.comcookie</li>\n<li>302<a href=\"https://pass.alitrip.com/add?_tb_token_=eef03e35fbe&amp;uss=UtBTusG4\" target=\"_blank\" rel=\"noopener\">https://pass.alitrip.com/add?_tb_token_=eef03e35fbe&amp;uss=UtBTusG4</a></li>\n<li>taobaocookie302url  query string</li>\n</ul>\n</li>\n<li><a href=\"https://pass.alitrip.com/add?_tb_token_=eef03e35fbe&amp;uss=UtBTusG4\" target=\"_blank\" rel=\"noopener\">https://pass.alitrip.com/add?_tb_token_=eef03e35fbe&amp;uss=UtBTusG4</a><ul>\n<li>cookie query string  alitrip.com cookie</li>\n<li>cookieset  cookietmall.comcookie;</li>\n</ul>\n</li>\n</ol>\n<p><br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/ad93fbcaff26e6b4bc3ca3af620468e9.png\" alt=\"\"></p>\n<ol>\n<li>url tmcc.tmall.com</li>\n<li>login.taobao.com/jump</li>\n<li>pass.tmall.com</li>\n<li>urltbpm</li>\n<li>urltbpm</li>\n</ol>\n<p>taobao.comcookielogin.tmall.comcookie<br>login.tmall.comlogin.taobao.comcookietaobaotmallcookie</p>\n<p>login.taobao.com/clear, set-cookie session cookiecookie 302  <a href=\"https://pass.tmall.com/clear\" target=\"_blank\" rel=\"noopener\">https://pass.tmall.com/clear</a> cookie 302  <a href=\"https://pass.etao.com/clear\" target=\"_blank\" rel=\"noopener\">https://pass.etao.com/clear</a> cookie 302 <a href=\"https://pass.etao.com/clear\" target=\"_blank\" rel=\"noopener\">https://pass.etao.com/clear</a>  cookiecookie<br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/eafb7fc66c6139c50a6a8bbb5bd89e58.png\" alt=\"\"><br>login.taobao.com/member/logout.jhtml , 302 pass ,</p>\n<h2 id=\"Cookie\"><a href=\"#Cookie\" class=\"headerlink\" title=\"Cookie\"></a>Cookie</h2><p>cookiecookiecookiecookie</p>\n<h2 id=\"Session-\"><a href=\"#Session-\" class=\"headerlink\" title=\"Session \"></a>Session </h2><ol>\n<li>cookie</li>\n<li></li>\n<li>session</li>\n</ol>\n<p>tbsessionpasscookie</p>\n<ol>\n<li>tbsessionsessiontbsession 1 + 2</li>\n<li>passcookiecookiecookie</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>cookie  session</p>\n<p>cookiecookiecookiePermanent CookiesSession Cookie    cookieCSRFcookiesessionCSRFsessioncookieJSessionId IDjsessionidsessionCSRFcookiesession<br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/877347f9c7fc1318a494640818519c2a.png\" alt=\"\"></p>\n<p></p>\n<p>sessionId CookieCookiecookiepostmancrsf_token ,CookiehttpOnlyJSCookiehttpshttptcpssl</p>\n<p>httpsCSRF</p>\n<p>httpsCSRFCookieCookieCookiehttpsCookie</p>\n<h2 id=\"Session-\"><a href=\"#Session-\" class=\"headerlink\" title=\"Session \"></a>Session </h2><p>sessionId<br><a href=\"https://github.com/astaxie/build-web-application-with-golang/blob/master/zh/06.4.md\" target=\"_blank\" rel=\"noopener\">https://github.com/astaxie/build-web-application-with-golang/blob/master/zh/06.4.md</a></p>\n<p>session </p>\n<ol>\n<li>POST  + Referer<ul>\n<li></li>\n<li>1.POSTRestFul2.referer</li>\n</ul>\n</li>\n<li>csrf_token(token)tokenCSRFcookie_tb_token_</li>\n</ol>\n<p>csrftoken</p>\n<ul>\n<li>csrftoken    </li>\n<li>csrftoken</li>\n<li>csrftoken</li>\n<li>csrftoken</li>\n<li>csrftoken</li>\n<li>csrftoken</li>\n</ul>\n<p>csrf_token csrf_token</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>SSO </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li> mac  Charles</li>\n<li>https</li>\n<li>Charles -&gt; Help -&gt; SSL Proxying -&gt; Install Charles Root Certificate</li>\n<li>Proxy -&gt; SSL Proxying Setting -&gt; SSL Proxying </li>\n</ol>\n"},{"layout":"post","title":"  Redis","description":null,"keywords":"redis product ","date":"2016-06-28T16:00:00.000Z","_content":" RedisRedis\n\n## Jedis \n JedisSpring Bean  JedisJedisClassNotDefFoundJedisRedisretryreconnectcluster-node-time\n\n## Jedis\n\n### \nRedisRedisRedisRedisRedisRedisRedisRedisRedisRedisECSredisECSRedisRedisJedisSpring BeanRedisRedisDBDBDBRedisNode15sNodeSlaveMaster\n\n### hot-key \n hot-keyhot-keyehcacheproxyproxyhot-keyredishot-keyproxyhot-keyproxyproxy\n\n### big-key \nbig-key\n### TTL\nKeyKeykeykey\n\n### key \nDBDB (expire)(maxExpire)\n\n:\n\n1. :\n   \n    * ;\n    * DB\n2. \n    * \n    * \n        * \n        * \n\n **** Redis\n\n## RedisKey\nRedisRedisRedisRedis:\n\n\n\n\n\nKeyValueRedisKeyKeyMD5\n\nRedisHash\n\n\nKey :\n\n>::::\n\nKeyKeyKey\n\n## Redis-Cluster MultiKey\n\nRedisMSETMGETRedis ClusterMSETMGETRedisHash Tagkeyhash\n\n>key {} keyhash {} hash\n\nhashRedis NodeRedisJedis\n\n\n```java\nJedisClusterMaxRedirectionsException: Too many Cluster redirections?\n```\n![](https://gw.alipayobjects.com/zos/skylark/bddb8985-d638-41b8-8a3f-f57eeda4c8c9/2018/png/6bd4929a-22b7-4dd9-a7b6-6fe36cefb957.png)\nMulti KeyRedis NodeRedis Node Hash Tagkey{}Hashslotslot[](http://redis.io/topics/cluster-spec#overview-of-redis-cluster-main-components)\n\n\n```java\nHASH_SLOT = CRC16(key) mod 16384\n```\nCRC16C[CRC16](http://redis.io/topics/cluster-spec#appendix)Crc16[RedisCRC](http://blog.csdn.net/guodongxiaren/article/details/44706613)\nJedisslotredis.clients.util.JedisClusterCRC16.getSlot()\nRedis RedisProxy[twemproxy](https://github.com/twitter/twemproxy)multi keyQPS\n\n## \n\nRedis-Cluster14KV-StoreRedisRedisRedisNSSDRedis\n\n\n","source":"_posts/Redis/2016-06-29-product-system-redis.md","raw":"---\nlayout: post\ntitle:   Redis\ncategories: Redis\ndescription:\nkeywords: redis product \ndate: 2016-06-29\n---\n RedisRedis\n\n## Jedis \n JedisSpring Bean  JedisJedisClassNotDefFoundJedisRedisretryreconnectcluster-node-time\n\n## Jedis\n\n### \nRedisRedisRedisRedisRedisRedisRedisRedisRedisRedisECSredisECSRedisRedisJedisSpring BeanRedisRedisDBDBDBRedisNode15sNodeSlaveMaster\n\n### hot-key \n hot-keyhot-keyehcacheproxyproxyhot-keyredishot-keyproxyhot-keyproxyproxy\n\n### big-key \nbig-key\n### TTL\nKeyKeykeykey\n\n### key \nDBDB (expire)(maxExpire)\n\n:\n\n1. :\n   \n    * ;\n    * DB\n2. \n    * \n    * \n        * \n        * \n\n **** Redis\n\n## RedisKey\nRedisRedisRedisRedis:\n\n\n\n\n\nKeyValueRedisKeyKeyMD5\n\nRedisHash\n\n\nKey :\n\n>::::\n\nKeyKeyKey\n\n## Redis-Cluster MultiKey\n\nRedisMSETMGETRedis ClusterMSETMGETRedisHash Tagkeyhash\n\n>key {} keyhash {} hash\n\nhashRedis NodeRedisJedis\n\n\n```java\nJedisClusterMaxRedirectionsException: Too many Cluster redirections?\n```\n![](https://gw.alipayobjects.com/zos/skylark/bddb8985-d638-41b8-8a3f-f57eeda4c8c9/2018/png/6bd4929a-22b7-4dd9-a7b6-6fe36cefb957.png)\nMulti KeyRedis NodeRedis Node Hash Tagkey{}Hashslotslot[](http://redis.io/topics/cluster-spec#overview-of-redis-cluster-main-components)\n\n\n```java\nHASH_SLOT = CRC16(key) mod 16384\n```\nCRC16C[CRC16](http://redis.io/topics/cluster-spec#appendix)Crc16[RedisCRC](http://blog.csdn.net/guodongxiaren/article/details/44706613)\nJedisslotredis.clients.util.JedisClusterCRC16.getSlot()\nRedis RedisProxy[twemproxy](https://github.com/twitter/twemproxy)multi keyQPS\n\n## \n\nRedis-Cluster14KV-StoreRedisRedisRedisNSSDRedis\n\n\n","slug":"Redis/2016-06-29-product-system-redis","published":1,"updated":"2018-11-10T08:59:09.807Z","comments":1,"photos":[],"link":"","_id":"cjtohbkb100696f12n7i9zbff","content":"<p> RedisRedis</p>\n<h2 id=\"Jedis-\"><a href=\"#Jedis-\" class=\"headerlink\" title=\"Jedis \"></a>Jedis </h2><p> JedisSpring Bean  JedisJedisClassNotDefFoundJedisRedisretryreconnectcluster-node-time</p>\n<h2 id=\"Jedis\"><a href=\"#Jedis\" class=\"headerlink\" title=\"Jedis\"></a>Jedis</h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>RedisRedisRedisRedisRedisRedisRedisRedisRedisRedisECSredisECSRedisRedisJedisSpring BeanRedisRedisDBDBDBRedisNode15sNodeSlaveMaster</p>\n<h3 id=\"hot-key-\"><a href=\"#hot-key-\" class=\"headerlink\" title=\"hot-key \"></a>hot-key </h3><p> hot-keyhot-keyehcacheproxyproxyhot-keyredishot-keyproxyhot-keyproxyproxy</p>\n<h3 id=\"big-key-\"><a href=\"#big-key-\" class=\"headerlink\" title=\"big-key \"></a>big-key </h3><p>big-key</p>\n<h3 id=\"TTL\"><a href=\"#TTL\" class=\"headerlink\" title=\"TTL\"></a>TTL</h3><p>KeyKeykeykey</p>\n<h3 id=\"key-\"><a href=\"#key-\" class=\"headerlink\" title=\"key \"></a>key </h3><p>DBDB (expire)(maxExpire)</p>\n<p>:</p>\n<ol>\n<li><p>:</p>\n<ul>\n<li>;</li>\n<li>DB</li>\n</ul>\n</li>\n<li><p></p>\n<ul>\n<li></li>\n<li><ul>\n<li></li>\n<li></li>\n</ul>\n</li>\n</ul>\n<p><strong></strong> Redis</p>\n</li>\n</ol>\n<h2 id=\"RedisKey\"><a href=\"#RedisKey\" class=\"headerlink\" title=\"RedisKey\"></a>RedisKey</h2><p>RedisRedisRedisRedis:</p>\n<p></p>\n<p></p>\n<p>KeyValueRedisKeyKeyMD5</p>\n<p>RedisHash</p>\n<p>Key :</p>\n<blockquote>\n<p>::::</p>\n</blockquote>\n<p>KeyKeyKey</p>\n<h2 id=\"Redis-Cluster-MultiKey\"><a href=\"#Redis-Cluster-MultiKey\" class=\"headerlink\" title=\"Redis-Cluster MultiKey\"></a>Redis-Cluster MultiKey</h2><p>RedisMSETMGETRedis ClusterMSETMGETRedisHash Tagkeyhash</p>\n<blockquote>\n<p>key {} keyhash {} hash</p>\n</blockquote>\n<p>hashRedis NodeRedisJedis</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">JedisClusterMaxRedirectionsException: Too many Cluster redirections?</span><br></pre></td></tr></table></figure>\n<p><img src=\"https://gw.alipayobjects.com/zos/skylark/bddb8985-d638-41b8-8a3f-f57eeda4c8c9/2018/png/6bd4929a-22b7-4dd9-a7b6-6fe36cefb957.png\" alt=\"\"><br>Multi KeyRedis NodeRedis Node Hash Tagkey{}Hashslotslot<a href=\"http://redis.io/topics/cluster-spec#overview-of-redis-cluster-main-components\" target=\"_blank\" rel=\"noopener\"></a></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">HASH_SLOT = CRC16(key) mod <span class=\"number\">16384</span></span><br></pre></td></tr></table></figure>\n<p>CRC16C<a href=\"http://redis.io/topics/cluster-spec#appendix\" target=\"_blank\" rel=\"noopener\">CRC16</a>Crc16<a href=\"http://blog.csdn.net/guodongxiaren/article/details/44706613\" target=\"_blank\" rel=\"noopener\">RedisCRC</a><br>Jedisslotredis.clients.util.JedisClusterCRC16.getSlot()<br>Redis RedisProxy<a href=\"https://github.com/twitter/twemproxy\" target=\"_blank\" rel=\"noopener\">twemproxy</a>multi keyQPS</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Redis-Cluster14KV-StoreRedisRedisRedisNSSDRedis</p>\n","site":{"data":{}},"excerpt":"","more":"<p> RedisRedis</p>\n<h2 id=\"Jedis-\"><a href=\"#Jedis-\" class=\"headerlink\" title=\"Jedis \"></a>Jedis </h2><p> JedisSpring Bean  JedisJedisClassNotDefFoundJedisRedisretryreconnectcluster-node-time</p>\n<h2 id=\"Jedis\"><a href=\"#Jedis\" class=\"headerlink\" title=\"Jedis\"></a>Jedis</h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>RedisRedisRedisRedisRedisRedisRedisRedisRedisRedisECSredisECSRedisRedisJedisSpring BeanRedisRedisDBDBDBRedisNode15sNodeSlaveMaster</p>\n<h3 id=\"hot-key-\"><a href=\"#hot-key-\" class=\"headerlink\" title=\"hot-key \"></a>hot-key </h3><p> hot-keyhot-keyehcacheproxyproxyhot-keyredishot-keyproxyhot-keyproxyproxy</p>\n<h3 id=\"big-key-\"><a href=\"#big-key-\" class=\"headerlink\" title=\"big-key \"></a>big-key </h3><p>big-key</p>\n<h3 id=\"TTL\"><a href=\"#TTL\" class=\"headerlink\" title=\"TTL\"></a>TTL</h3><p>KeyKeykeykey</p>\n<h3 id=\"key-\"><a href=\"#key-\" class=\"headerlink\" title=\"key \"></a>key </h3><p>DBDB (expire)(maxExpire)</p>\n<p>:</p>\n<ol>\n<li><p>:</p>\n<ul>\n<li>;</li>\n<li>DB</li>\n</ul>\n</li>\n<li><p></p>\n<ul>\n<li></li>\n<li><ul>\n<li></li>\n<li></li>\n</ul>\n</li>\n</ul>\n<p><strong></strong> Redis</p>\n</li>\n</ol>\n<h2 id=\"RedisKey\"><a href=\"#RedisKey\" class=\"headerlink\" title=\"RedisKey\"></a>RedisKey</h2><p>RedisRedisRedisRedis:</p>\n<p></p>\n<p></p>\n<p>KeyValueRedisKeyKeyMD5</p>\n<p>RedisHash</p>\n<p>Key :</p>\n<blockquote>\n<p>::::</p>\n</blockquote>\n<p>KeyKeyKey</p>\n<h2 id=\"Redis-Cluster-MultiKey\"><a href=\"#Redis-Cluster-MultiKey\" class=\"headerlink\" title=\"Redis-Cluster MultiKey\"></a>Redis-Cluster MultiKey</h2><p>RedisMSETMGETRedis ClusterMSETMGETRedisHash Tagkeyhash</p>\n<blockquote>\n<p>key {} keyhash {} hash</p>\n</blockquote>\n<p>hashRedis NodeRedisJedis</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">JedisClusterMaxRedirectionsException: Too many Cluster redirections?</span><br></pre></td></tr></table></figure>\n<p><img src=\"https://gw.alipayobjects.com/zos/skylark/bddb8985-d638-41b8-8a3f-f57eeda4c8c9/2018/png/6bd4929a-22b7-4dd9-a7b6-6fe36cefb957.png\" alt=\"\"><br>Multi KeyRedis NodeRedis Node Hash Tagkey{}Hashslotslot<a href=\"http://redis.io/topics/cluster-spec#overview-of-redis-cluster-main-components\" target=\"_blank\" rel=\"noopener\"></a></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">HASH_SLOT = CRC16(key) mod <span class=\"number\">16384</span></span><br></pre></td></tr></table></figure>\n<p>CRC16C<a href=\"http://redis.io/topics/cluster-spec#appendix\" target=\"_blank\" rel=\"noopener\">CRC16</a>Crc16<a href=\"http://blog.csdn.net/guodongxiaren/article/details/44706613\" target=\"_blank\" rel=\"noopener\">RedisCRC</a><br>Jedisslotredis.clients.util.JedisClusterCRC16.getSlot()<br>Redis RedisProxy<a href=\"https://github.com/twitter/twemproxy\" target=\"_blank\" rel=\"noopener\">twemproxy</a>multi keyQPS</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Redis-Cluster14KV-StoreRedisRedisRedisNSSDRedis</p>\n"},{"layout":"post","title":"","description":null,"keywords":"grow summary  ","date":"2017-02-26T16:00:00.000Z","_content":"\n\n\n\n\n\n## \n20119\n\nCICDTOASTCITAETAE\n\n20144JavaTAE\n\n## \n20149\n\n20146000W3C2CB2C\n\nOpenSearchSCMGroovy+SQL10\n\n201CEO\n\n\n\n## \n\n\nTITLE\n\n","source":"_posts/Think/2017-02-27-see-your-grow-up.md","raw":"---\nlayout: post\ntitle: \ncategories: Think\ndescription:\nkeywords: grow summary  \ndate: 2017-02-27\n---\n\n\n\n\n\n\n## \n20119\n\nCICDTOASTCITAETAE\n\n20144JavaTAE\n\n## \n20149\n\n20146000W3C2CB2C\n\nOpenSearchSCMGroovy+SQL10\n\n201CEO\n\n\n\n## \n\n\nTITLE\n\n","slug":"Think/2017-02-27-see-your-grow-up","published":1,"updated":"2018-11-10T08:59:09.810Z","comments":1,"photos":[],"link":"","_id":"cjtohbkb3006c6f127cefsnit","content":"<p></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>20119</p>\n<p>CICDTOASTCITAETAE</p>\n<p>20144JavaTAE</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>20149</p>\n<p>20146000W3C2CB2C</p>\n<p>OpenSearchSCMGroovy+SQL10</p>\n<p>201CEO</p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>TITLE</p>\n","site":{"data":{}},"excerpt":"","more":"<p></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>20119</p>\n<p>CICDTOASTCITAETAE</p>\n<p>20144JavaTAE</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>20149</p>\n<p>20146000W3C2CB2C</p>\n<p>OpenSearchSCMGroovy+SQL10</p>\n<p>201CEO</p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>TITLE</p>\n"},{"layout":"post","title":"","description":null,"keywords":"annual-summary     ","date":"2017-12-28T16:00:00.000Z","_content":"\n2017\n\n2017\n\n>\n\n\n\n## 1. \n\n\n\n****\n\n\n\n\n![](/images/posts/20171229/2017-12-12-renzhi-lay.jpeg)\n                            \n\n\n\n\n\n\n\n## 2. \n\n![](/images/posts/20171229/2017-12-12-stock.jpeg)\n\n****\n\n\n\n2017\n\n## 3. \n\n\n![](/images/posts/20171229/2017-12-12-yunnan-lgh.jpeg)\n\n\n40\n\n\n\n\n\n## 4. \n\n5********\n\n## 5. \n\n\n55\n\n\n\n\n\n## 6. \n\n\n\n## 7. \n![](/images/posts/20171229/2017-12-12-yunnan-party.jpeg)\n\nMM\n\n\n\n## 8. \n![](/images/posts/20171229/2017-12-12-aliyun-profile-money.png)\n\n5\n\n## 9. \n\nPass\n\n\n\n\n\n\n","source":"_posts/Think/2017-12-29-2017-my-success-and-fail.md","raw":"---\nlayout: post\ntitle: \ncategories: Think\ndescription:\nkeywords: annual-summary     \ndate: 2017-12-29\n---\n\n2017\n\n2017\n\n>\n\n\n\n## 1. \n\n\n\n****\n\n\n\n\n![](/images/posts/20171229/2017-12-12-renzhi-lay.jpeg)\n                            \n\n\n\n\n\n\n\n## 2. \n\n![](/images/posts/20171229/2017-12-12-stock.jpeg)\n\n****\n\n\n\n2017\n\n## 3. \n\n\n![](/images/posts/20171229/2017-12-12-yunnan-lgh.jpeg)\n\n\n40\n\n\n\n\n\n## 4. \n\n5********\n\n## 5. \n\n\n55\n\n\n\n\n\n## 6. \n\n\n\n## 7. \n![](/images/posts/20171229/2017-12-12-yunnan-party.jpeg)\n\nMM\n\n\n\n## 8. \n![](/images/posts/20171229/2017-12-12-aliyun-profile-money.png)\n\n5\n\n## 9. \n\nPass\n\n\n\n\n\n\n","slug":"Think/2017-12-29-2017-my-success-and-fail","published":1,"updated":"2018-11-10T08:59:09.811Z","comments":1,"photos":[],"link":"","_id":"cjtohbkb4006g6f12q2saq1ii","content":"<p>2017</p>\n<p>2017</p>\n<blockquote>\n<p></p>\n</blockquote>\n<p></p>\n<h2 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"1. \"></a>1. </h2><p></p>\n<p><strong></strong></p>\n<p></p>\n<p><img src=\"/images/posts/20171229/2017-12-12-renzhi-lay.jpeg\" alt=\"\"><br>                            </p>\n<p></p>\n<p></p>\n<h2 id=\"2-\"><a href=\"#2-\" class=\"headerlink\" title=\"2. \"></a>2. </h2><p><img src=\"/images/posts/20171229/2017-12-12-stock.jpeg\" alt=\"\"></p>\n<p><strong></strong></p>\n<p></p>\n<p>2017</p>\n<h2 id=\"3-\"><a href=\"#3-\" class=\"headerlink\" title=\"3. \"></a>3. </h2><p><img src=\"/images/posts/20171229/2017-12-12-yunnan-lgh.jpeg\" alt=\"\"></p>\n<p>40</p>\n<p></p>\n<p></p>\n<h2 id=\"4-\"><a href=\"#4-\" class=\"headerlink\" title=\"4. \"></a>4. </h2><p>5<strong></strong><strong></strong></p>\n<h2 id=\"5-\"><a href=\"#5-\" class=\"headerlink\" title=\"5. \"></a>5. </h2><p>55</p>\n<p></p>\n<p></p>\n<h2 id=\"6-\"><a href=\"#6-\" class=\"headerlink\" title=\"6. \"></a>6. </h2><p></p>\n<h2 id=\"7-\"><a href=\"#7-\" class=\"headerlink\" title=\"7. \"></a>7. </h2><p><img src=\"/images/posts/20171229/2017-12-12-yunnan-party.jpeg\" alt=\"\"></p>\n<p>MM</p>\n<p></p>\n<h2 id=\"8-\"><a href=\"#8-\" class=\"headerlink\" title=\"8. \"></a>8. </h2><p><img src=\"/images/posts/20171229/2017-12-12-aliyun-profile-money.png\" alt=\"\"></p>\n<p>5</p>\n<h2 id=\"9-\"><a href=\"#9-\" class=\"headerlink\" title=\"9. \"></a>9. </h2><p>Pass</p>\n","site":{"data":{}},"excerpt":"","more":"<p>2017</p>\n<p>2017</p>\n<blockquote>\n<p></p>\n</blockquote>\n<p></p>\n<h2 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"1. \"></a>1. </h2><p></p>\n<p><strong></strong></p>\n<p></p>\n<p><img src=\"/images/posts/20171229/2017-12-12-renzhi-lay.jpeg\" alt=\"\"><br>                            </p>\n<p></p>\n<p></p>\n<h2 id=\"2-\"><a href=\"#2-\" class=\"headerlink\" title=\"2. \"></a>2. </h2><p><img src=\"/images/posts/20171229/2017-12-12-stock.jpeg\" alt=\"\"></p>\n<p><strong></strong></p>\n<p></p>\n<p>2017</p>\n<h2 id=\"3-\"><a href=\"#3-\" class=\"headerlink\" title=\"3. \"></a>3. </h2><p><img src=\"/images/posts/20171229/2017-12-12-yunnan-lgh.jpeg\" alt=\"\"></p>\n<p>40</p>\n<p></p>\n<p></p>\n<h2 id=\"4-\"><a href=\"#4-\" class=\"headerlink\" title=\"4. \"></a>4. </h2><p>5<strong></strong><strong></strong></p>\n<h2 id=\"5-\"><a href=\"#5-\" class=\"headerlink\" title=\"5. \"></a>5. </h2><p>55</p>\n<p></p>\n<p></p>\n<h2 id=\"6-\"><a href=\"#6-\" class=\"headerlink\" title=\"6. \"></a>6. </h2><p></p>\n<h2 id=\"7-\"><a href=\"#7-\" class=\"headerlink\" title=\"7. \"></a>7. </h2><p><img src=\"/images/posts/20171229/2017-12-12-yunnan-party.jpeg\" alt=\"\"></p>\n<p>MM</p>\n<p></p>\n<h2 id=\"8-\"><a href=\"#8-\" class=\"headerlink\" title=\"8. \"></a>8. </h2><p><img src=\"/images/posts/20171229/2017-12-12-aliyun-profile-money.png\" alt=\"\"></p>\n<p>5</p>\n<h2 id=\"9-\"><a href=\"#9-\" class=\"headerlink\" title=\"9. \"></a>9. </h2><p>Pass</p>\n"},{"layout":"post","title":"","description":null,"keywords":"tech-anxious  ","date":"2018-04-12T16:00:00.000Z","_content":"8\n\n\n\n\n## \n\n#### \n\n1. 2. <!--more-->\n\n\n#### \n\nJavaJava710ServiceMeshServerlessFaaS\n\n#### \n\n126Deadline Coding ****\n\n********\n\n\n## \n\n\n#### \n\n\n\n\n#### \n************\n\n\n\n#### \n,,,\n\n  =  + spring Mybatis()springMybatisRedisCPUFIFO\n\n\n\n\n#### \n  \n\n \n\n","source":"_posts/Think/2018-04-13-how-to-resolve-tech-anxious.md","raw":"---\nlayout: post\ntitle: \ncategories: Think\ndescription:\nkeywords: tech-anxious  \ndate: 2018-04-13\n---\n8\n\n\n\n\n## \n\n#### \n\n1. 2. <!--more-->\n\n\n#### \n\nJavaJava710ServiceMeshServerlessFaaS\n\n#### \n\n126Deadline Coding ****\n\n********\n\n\n## \n\n\n#### \n\n\n\n\n#### \n************\n\n\n\n#### \n,,,\n\n  =  + spring Mybatis()springMybatisRedisCPUFIFO\n\n\n\n\n#### \n  \n\n \n\n","slug":"Think/2018-04-13-how-to-resolve-tech-anxious","published":1,"updated":"2018-11-10T08:59:09.811Z","comments":1,"photos":[],"link":"","_id":"cjtohbkb6006i6f123sgodrkp","content":"<p>8</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>1. 2. <a id=\"more\"></a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>JavaJava710ServiceMeshServerlessFaaS</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>126Deadline Coding <strong></strong></p>\n<p><strong></strong><strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><strong></strong><strong></strong><strong></strong></p>\n<p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>,,,</p>\n<p>  =  + spring Mybatis()springMybatisRedisCPUFIFO</p>\n<p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>  </p>\n<p> </p>\n","site":{"data":{}},"excerpt":"<p>8</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>1. 2. ","more":"</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>JavaJava710ServiceMeshServerlessFaaS</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>126Deadline Coding <strong></strong></p>\n<p><strong></strong><strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><strong></strong><strong></strong><strong></strong></p>\n<p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>,,,</p>\n<p>  =  + spring Mybatis()springMybatisRedisCPUFIFO</p>\n<p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>  </p>\n<p> </p>"},{"title":"","date":"2018-11-10T09:27:20.000Z","_content":"\n\n\n\n\n<a name=\"wgbkts\"></a>\n### \n****<!--more-->\n\n\n\n \n\n<a name=\"2lv6tr\"></a>\n### \n<br />****\n\n<a name=\"lyw4kr\"></a>\n### \n'\n\n\n\n,.,.,??\n\n****\n\n<a name=\"227krc\"></a>\n### \n  \n\n****\n\nCEO\n\n\n\n<a name=\"lgmxum\"></a>\n### \n\n\n\n<a name=\"gznzgi\"></a>\n### \n\n\n","source":"_posts/Think/2018-11-10-my-life-rule.md","raw":"---\ntitle: \ndate: 2018-11-10 17:27:20 +0800\ntags: [, , ]\ncategories: \n---\n\n\n\n\n\n<a name=\"wgbkts\"></a>\n### \n****<!--more-->\n\n\n\n \n\n<a name=\"2lv6tr\"></a>\n### \n<br />****\n\n<a name=\"lyw4kr\"></a>\n### \n'\n\n\n\n,.,.,??\n\n****\n\n<a name=\"227krc\"></a>\n### \n  \n\n****\n\nCEO\n\n\n\n<a name=\"lgmxum\"></a>\n### \n\n\n\n<a name=\"gznzgi\"></a>\n### \n\n\n","slug":"Think/2018-11-10-my-life-rule","published":1,"updated":"2019-03-25T14:48:09.211Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjtohbkb6006k6f12vybo5cls","content":"<p></p>\n<p></p>\n<p><a name=\"wgbkts\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><strong></strong><a id=\"more\"></a></p>\n<p></p>\n<p> </p>\n<p><a name=\"2lv6tr\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><br><strong></strong></p>\n<p><a name=\"lyw4kr\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p></p>\n<p>,.,.,??</p>\n<p><strong></strong></p>\n<p><a name=\"227krc\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>  </p>\n<p><strong></strong></p>\n<p>CEO</p>\n<p></p>\n<p><a name=\"lgmxum\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p><br><a name=\"gznzgi\"></a></p>\n<p>### </p>\n","site":{"data":{}},"excerpt":"<p></p>\n<p></p>\n<p><a name=\"wgbkts\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><strong></strong>","more":"</p>\n<p></p>\n<p> </p>\n<p><a name=\"2lv6tr\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><br><strong></strong></p>\n<p><a name=\"lyw4kr\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p></p>\n<p>,.,.,??</p>\n<p><strong></strong></p>\n<p><a name=\"227krc\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>  </p>\n<p><strong></strong></p>\n<p>CEO</p>\n<p></p>\n<p><a name=\"lgmxum\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p><br><a name=\"gznzgi\"></a></p>\n<p>### </p>"},{"layout":"post","title":"WiresharkHttps","description":null,"keywords":"https Wireshark","date":"2016-06-05T16:00:00.000Z","_content":"\nHttpsClientServer\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/fbcfb4b7d254a68b4e39ddbeef776927.png)\n\nKeyKeyKey()KeyKeyKeyKey\n\n[http://www.jianshu.com/p/15703d8c34e9](http://www.jianshu.com/p/15703d8c34e9)\n\n### \nWireshark(2.0.3)Mac OS 10.11X11OS X  X11 XQuartz  OS X  X11  XQuartz\nWireshark >  >  \n [https://www.dnspod.cn](https://www.dnspod.cn) [https://www.dnspod.cn](https://www.dnspod.cn) IP59.37.116.101Wireshark \n\n\n```java\nip.src==59.37.116.101  or ip.dst==59.37.116.101\n```\n\nIP\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/f3fea5e73ee24a7e97bf9f43a7e29534.png)\n\ntcpClient Hello tcpTransmission Control Protool,Stream Index Stream Index WiresharkTCP\n\n![](/images/posts/20160606/wirdshark-tencent-cloud-tcp-stream-get.png)\n\n\n\n```java\nip.src==59.37.116.101  or ip.dst==59.37.116.101 and tcp.stream eq 28\n```\n\n#### 1. TCP\nTLSTCPTCP\n\n![](/images/posts/20160606/tcp-third-handshake.png)\n\n##### \nFlags=SYNSeq = 0 \n\n![](/images/posts/20160606/tcp-first-handshake.png)\n\nSYN00\n##### \nFlags=SYNACKseqNum=0,ackNum=1\n\n![](/images/posts/20160606/tcp-second-handshake.png)\n\n##### \n(ACK) SYN0,ACK1.ACK+1,.ISN+1\n\n![](/images/posts/20160606/tcp-third-time-handshake.png)\n\nWireShark\n\n![](/images/posts/20160606/https-tcp-graph.png)\n\nTCP[TCP/IP  ](http://mp.weixin.qq.com/s?__biz=MzAxOTc0NzExNg==&mid=2665513094&idx=1&sn=a2accfc41107ac08d74ec3317995955e&scene=23&srcid=0605GAETrvLCgoti5SQnXy0o#rd)\n\n#### 2. Client Hello\n\n![](/images/posts/20160606/https-tcp-client-hello.png)\n\n01622\n\nClient Hello001\n\n##### Random\n\n\n![](/images/posts/20160606/https-tcp-client-hello-random.png)\n\n\nUnixUTC197011a1 60 cf bd 28\n\n##### SIDSession ID\n\n![](/images/posts/20160606/https-tcp-client-hello-sid.png)\n\n##### Random\n\n\nsession ID session IDsession ID\n\nSIDNullwww.baidu.com\n\nsession IDsession IDsession ticketFirefoxChromehttpssession ticket\n\n##### Cipher Suites\n\n![](/images/posts/20160606/https-tcp-client-hello-cipher.png)\n\nRFC2246--TLS_RSA_WITH_AES_256_CBC_SHATLSRSAAES_256_CBC256CBCSHA\n\n##### Server_name\n\n![](/images/posts/20160606/https-tcp-client-hello-servername.png)\n\nDNSipipipserver_nameserverServer_name\n\n#### 3. Server Hello\n![](/images/posts/20160606/https-tcp-server-hello.png)\n\n\nclient helloACKclient helloServer helloSession ID,Cipher Suite,Random \n\nclient hello2121TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256ECDHE-RSAAES_128_GCMSHA256 \n\nsession ID\n\n1. session IDclient helloclient hellosession IDsession\n2. session IDclient hellosession IDsession IDclient hellosession IDsession ID\n3. NULLsessionsession ID\n\n#### 4. Certificate\n![](/images/posts/20160606/https-tcp-certificate.png)\n\nCA3259 byte \n\nServer Hello DonehelloTLSwebhttps(UU)webclientserver\n\n#### 5. \nalgorithmIdentifierSHA_RSAclientserverCipher SuitesCipher SuitesencryptedCA\n\n#### 6. Client Key Exchange\nRSAECDHE-RSARSARSA\n\n\n1. premaster_secretserver hello2client hello1master_secretpremaster_secretpremaster_secret48246\n\n\n2. premaster_secretpremaster_secretpremaster_secretmaster_secretmaster_secretMAC \n   \n   >master_secret =PRF(pre_master_secret, master secret, ClientHello.random +ServerHello.random)\n   \n   pre_master_secretmastersecretASCIIrandom1random2PRFASCIIMD5SHA-1MD5SHA-1PRF\n\n\n3. master_secretPRFkey block\nclient_write_MAC_secretserver_write_MAC_secret MAC \nclient_write_keyserver_write_key or\nclient_write_IVserver _write_IV modeCBC\n6PRF\n\n\n4. premaster_secretClient Key ExchangeRSApremasterRSAserver-helloECDHE_RSAEC Diffie-Hellman Client Params\n\n    ![](/images/posts/20160606/https-tcp-client-key-exchanger.png)\n\n5. Client Key ExchangeChange Cipher Spec MAC\n\n\n6.  Change Cipher Spec  Hashclient_write_MAC_secrethashMACHandShake Messag\n\n\n7. premaster_secretMACChange Cipher SpecMAC Hash client_write_MAC_secretMAC MAC\n    ![](/images/posts/20160606/https-tcp-secret-encrypted.png)\n\n\n8. Change Cipher Spec MACNew Session Tickethttpshttps\n\n\n9.  Hashserver_write_MAC_secrethashMACHandShake Message\n\n\n10. MAC Hash server_write_MAC_secretMAC MAC\n\n\n11. \n\n\n#### 7. \n6SSLApplication Dataencrypted application datahttpclient_write_keyserver_write_keyhttpSSLhttp\n\n\n![](/images/posts/20160606/https-tcp-data-transport.png)\n\nwireshark\n[http://pan.baidu.com/s/1hsi5U4W](http://pan.baidu.com/s/1hsi5U4W)\n\n\n#### \n[http://www.jianshu.com/p/a766bbf31417](http://www.jianshu.com/p/a766bbf31417)\n\n[http://www.cnblogs.com/TankXiao/archive/2012/10/10/2711777.html](http://www.cnblogs.com/TankXiao/archive/2012/10/10/2711777.html)\n\n","source":"_posts/Basic/2016-06-06-https-with-wireshark.md","raw":"---\nlayout: post\ntitle: WiresharkHttps\ncategories: Basic\ndescription:\nkeywords: https Wireshark\ndate: 2016-06-06\n---\n\nHttpsClientServer\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/fbcfb4b7d254a68b4e39ddbeef776927.png)\n\nKeyKeyKey()KeyKeyKeyKey\n\n[http://www.jianshu.com/p/15703d8c34e9](http://www.jianshu.com/p/15703d8c34e9)\n\n### \nWireshark(2.0.3)Mac OS 10.11X11OS X  X11 XQuartz  OS X  X11  XQuartz\nWireshark >  >  \n [https://www.dnspod.cn](https://www.dnspod.cn) [https://www.dnspod.cn](https://www.dnspod.cn) IP59.37.116.101Wireshark \n\n\n```java\nip.src==59.37.116.101  or ip.dst==59.37.116.101\n```\n\nIP\n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/f3fea5e73ee24a7e97bf9f43a7e29534.png)\n\ntcpClient Hello tcpTransmission Control Protool,Stream Index Stream Index WiresharkTCP\n\n![](/images/posts/20160606/wirdshark-tencent-cloud-tcp-stream-get.png)\n\n\n\n```java\nip.src==59.37.116.101  or ip.dst==59.37.116.101 and tcp.stream eq 28\n```\n\n#### 1. TCP\nTLSTCPTCP\n\n![](/images/posts/20160606/tcp-third-handshake.png)\n\n##### \nFlags=SYNSeq = 0 \n\n![](/images/posts/20160606/tcp-first-handshake.png)\n\nSYN00\n##### \nFlags=SYNACKseqNum=0,ackNum=1\n\n![](/images/posts/20160606/tcp-second-handshake.png)\n\n##### \n(ACK) SYN0,ACK1.ACK+1,.ISN+1\n\n![](/images/posts/20160606/tcp-third-time-handshake.png)\n\nWireShark\n\n![](/images/posts/20160606/https-tcp-graph.png)\n\nTCP[TCP/IP  ](http://mp.weixin.qq.com/s?__biz=MzAxOTc0NzExNg==&mid=2665513094&idx=1&sn=a2accfc41107ac08d74ec3317995955e&scene=23&srcid=0605GAETrvLCgoti5SQnXy0o#rd)\n\n#### 2. Client Hello\n\n![](/images/posts/20160606/https-tcp-client-hello.png)\n\n01622\n\nClient Hello001\n\n##### Random\n\n\n![](/images/posts/20160606/https-tcp-client-hello-random.png)\n\n\nUnixUTC197011a1 60 cf bd 28\n\n##### SIDSession ID\n\n![](/images/posts/20160606/https-tcp-client-hello-sid.png)\n\n##### Random\n\n\nsession ID session IDsession ID\n\nSIDNullwww.baidu.com\n\nsession IDsession IDsession ticketFirefoxChromehttpssession ticket\n\n##### Cipher Suites\n\n![](/images/posts/20160606/https-tcp-client-hello-cipher.png)\n\nRFC2246--TLS_RSA_WITH_AES_256_CBC_SHATLSRSAAES_256_CBC256CBCSHA\n\n##### Server_name\n\n![](/images/posts/20160606/https-tcp-client-hello-servername.png)\n\nDNSipipipserver_nameserverServer_name\n\n#### 3. Server Hello\n![](/images/posts/20160606/https-tcp-server-hello.png)\n\n\nclient helloACKclient helloServer helloSession ID,Cipher Suite,Random \n\nclient hello2121TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256ECDHE-RSAAES_128_GCMSHA256 \n\nsession ID\n\n1. session IDclient helloclient hellosession IDsession\n2. session IDclient hellosession IDsession IDclient hellosession IDsession ID\n3. NULLsessionsession ID\n\n#### 4. Certificate\n![](/images/posts/20160606/https-tcp-certificate.png)\n\nCA3259 byte \n\nServer Hello DonehelloTLSwebhttps(UU)webclientserver\n\n#### 5. \nalgorithmIdentifierSHA_RSAclientserverCipher SuitesCipher SuitesencryptedCA\n\n#### 6. Client Key Exchange\nRSAECDHE-RSARSARSA\n\n\n1. premaster_secretserver hello2client hello1master_secretpremaster_secretpremaster_secret48246\n\n\n2. premaster_secretpremaster_secretpremaster_secretmaster_secretmaster_secretMAC \n   \n   >master_secret =PRF(pre_master_secret, master secret, ClientHello.random +ServerHello.random)\n   \n   pre_master_secretmastersecretASCIIrandom1random2PRFASCIIMD5SHA-1MD5SHA-1PRF\n\n\n3. master_secretPRFkey block\nclient_write_MAC_secretserver_write_MAC_secret MAC \nclient_write_keyserver_write_key or\nclient_write_IVserver _write_IV modeCBC\n6PRF\n\n\n4. premaster_secretClient Key ExchangeRSApremasterRSAserver-helloECDHE_RSAEC Diffie-Hellman Client Params\n\n    ![](/images/posts/20160606/https-tcp-client-key-exchanger.png)\n\n5. Client Key ExchangeChange Cipher Spec MAC\n\n\n6.  Change Cipher Spec  Hashclient_write_MAC_secrethashMACHandShake Messag\n\n\n7. premaster_secretMACChange Cipher SpecMAC Hash client_write_MAC_secretMAC MAC\n    ![](/images/posts/20160606/https-tcp-secret-encrypted.png)\n\n\n8. Change Cipher Spec MACNew Session Tickethttpshttps\n\n\n9.  Hashserver_write_MAC_secrethashMACHandShake Message\n\n\n10. MAC Hash server_write_MAC_secretMAC MAC\n\n\n11. \n\n\n#### 7. \n6SSLApplication Dataencrypted application datahttpclient_write_keyserver_write_keyhttpSSLhttp\n\n\n![](/images/posts/20160606/https-tcp-data-transport.png)\n\nwireshark\n[http://pan.baidu.com/s/1hsi5U4W](http://pan.baidu.com/s/1hsi5U4W)\n\n\n#### \n[http://www.jianshu.com/p/a766bbf31417](http://www.jianshu.com/p/a766bbf31417)\n\n[http://www.cnblogs.com/TankXiao/archive/2012/10/10/2711777.html](http://www.cnblogs.com/TankXiao/archive/2012/10/10/2711777.html)\n\n","slug":"Basic/2016-06-06-https-with-wireshark","published":1,"updated":"2018-11-10T08:59:09.794Z","comments":1,"photos":[],"link":"","_id":"cjtohbkbk006x6f12nbb7otor","content":"<p>HttpsClientServer<br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/fbcfb4b7d254a68b4e39ddbeef776927.png\" alt=\"\"></p>\n<p>KeyKeyKey()KeyKeyKeyKey</p>\n<p><a href=\"http://www.jianshu.com/p/15703d8c34e9\" target=\"_blank\" rel=\"noopener\">http://www.jianshu.com/p/15703d8c34e9</a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Wireshark(2.0.3)Mac OS 10.11X11OS X  X11 XQuartz  OS X  X11  XQuartz<br>Wireshark &gt;  &gt;  <br> <a href=\"https://www.dnspod.cn\" target=\"_blank\" rel=\"noopener\">https://www.dnspod.cn</a> <a href=\"https://www.dnspod.cn\" target=\"_blank\" rel=\"noopener\">https://www.dnspod.cn</a> IP59.37.116.101Wireshark </p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ip.src==<span class=\"number\">59.37</span>.116.101  or ip.dst==<span class=\"number\">59.37</span>.116.101</span><br></pre></td></tr></table></figure>\n<p>IP</p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/f3fea5e73ee24a7e97bf9f43a7e29534.png\" alt=\"\"></p>\n<p>tcpClient Hello tcpTransmission Control Protool,Stream Index Stream Index WiresharkTCP</p>\n<p><img src=\"/images/posts/20160606/wirdshark-tencent-cloud-tcp-stream-get.png\" alt=\"\"></p>\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ip.src==<span class=\"number\">59.37</span>.116.101  or ip.dst==<span class=\"number\">59.37</span>.116.101 and tcp.stream eq <span class=\"number\">28</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"1-TCP\"><a href=\"#1-TCP\" class=\"headerlink\" title=\"1. TCP\"></a>1. TCP</h4><p>TLSTCPTCP</p>\n<p><img src=\"/images/posts/20160606/tcp-third-handshake.png\" alt=\"\"></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>Flags=SYNSeq = 0 </p>\n<p><img src=\"/images/posts/20160606/tcp-first-handshake.png\" alt=\"\"></p>\n<p>SYN00</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>Flags=SYNACKseqNum=0,ackNum=1</p>\n<p><img src=\"/images/posts/20160606/tcp-second-handshake.png\" alt=\"\"></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>(ACK) SYN0,ACK1.ACK+1,.ISN+1</p>\n<p><img src=\"/images/posts/20160606/tcp-third-time-handshake.png\" alt=\"\"></p>\n<p>WireShark</p>\n<p><img src=\"/images/posts/20160606/https-tcp-graph.png\" alt=\"\"></p>\n<p>TCP<a href=\"http://mp.weixin.qq.com/s?__biz=MzAxOTc0NzExNg==&amp;mid=2665513094&amp;idx=1&amp;sn=a2accfc41107ac08d74ec3317995955e&amp;scene=23&amp;srcid=0605GAETrvLCgoti5SQnXy0o#rd\" target=\"_blank\" rel=\"noopener\">TCP/IP  </a></p>\n<h4 id=\"2-Client-Hello\"><a href=\"#2-Client-Hello\" class=\"headerlink\" title=\"2. Client Hello\"></a>2. Client Hello</h4><p><img src=\"/images/posts/20160606/https-tcp-client-hello.png\" alt=\"\"></p>\n<p>01622</p>\n<p>Client Hello001</p>\n<h5 id=\"Random\"><a href=\"#Random\" class=\"headerlink\" title=\"Random\"></a>Random</h5><p><img src=\"/images/posts/20160606/https-tcp-client-hello-random.png\" alt=\"\"></p>\n<p>UnixUTC197011a1 60 cf bd 28</p>\n<h5 id=\"SIDSession-ID\"><a href=\"#SIDSession-ID\" class=\"headerlink\" title=\"SIDSession ID\"></a>SIDSession ID</h5><p><img src=\"/images/posts/20160606/https-tcp-client-hello-sid.png\" alt=\"\"></p>\n<h5 id=\"Random\"><a href=\"#Random\" class=\"headerlink\" title=\"Random\"></a>Random</h5><p>session ID session IDsession ID</p>\n<p>SIDNull<a href=\"http://www.baidu.com\" target=\"_blank\" rel=\"noopener\">www.baidu.com</a></p>\n<p>session IDsession IDsession ticketFirefoxChromehttpssession ticket</p>\n<h5 id=\"Cipher-Suites\"><a href=\"#Cipher-Suites\" class=\"headerlink\" title=\"Cipher Suites\"></a>Cipher Suites</h5><p><img src=\"/images/posts/20160606/https-tcp-client-hello-cipher.png\" alt=\"\"></p>\n<p>RFC2246--TLS_RSA_WITH_AES_256_CBC_SHATLSRSAAES_256_CBC256CBCSHA</p>\n<h5 id=\"Server-name\"><a href=\"#Server-name\" class=\"headerlink\" title=\"Server_name\"></a>Server_name</h5><p><img src=\"/images/posts/20160606/https-tcp-client-hello-servername.png\" alt=\"\"></p>\n<p>DNSipipipserver_nameserverServer_name</p>\n<h4 id=\"3-Server-Hello\"><a href=\"#3-Server-Hello\" class=\"headerlink\" title=\"3. Server Hello\"></a>3. Server Hello</h4><p><img src=\"/images/posts/20160606/https-tcp-server-hello.png\" alt=\"\"></p>\n<p>client helloACKclient helloServer helloSession ID,Cipher Suite,Random </p>\n<p>client hello2121TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256ECDHE-RSAAES_128_GCMSHA256 </p>\n<p>session ID</p>\n<ol>\n<li>session IDclient helloclient hellosession IDsession</li>\n<li>session IDclient hellosession IDsession IDclient hellosession IDsession ID</li>\n<li>NULLsessionsession ID</li>\n</ol>\n<h4 id=\"4-Certificate\"><a href=\"#4-Certificate\" class=\"headerlink\" title=\"4. Certificate\"></a>4. Certificate</h4><p><img src=\"/images/posts/20160606/https-tcp-certificate.png\" alt=\"\"></p>\n<p>CA3259 byte </p>\n<p>Server Hello DonehelloTLSwebhttps(UU)webclientserver</p>\n<h4 id=\"5-\"><a href=\"#5-\" class=\"headerlink\" title=\"5. \"></a>5. </h4><p>algorithmIdentifierSHA_RSAclientserverCipher SuitesCipher SuitesencryptedCA</p>\n<h4 id=\"6-Client-Key-Exchange\"><a href=\"#6-Client-Key-Exchange\" class=\"headerlink\" title=\"6. Client Key Exchange\"></a>6. Client Key Exchange</h4><p>RSAECDHE-RSARSARSA</p>\n<ol>\n<li>premaster_secretserver hello2client hello1master_secretpremaster_secretpremaster_secret48246</li>\n</ol>\n<ol start=\"2\">\n<li><p>premaster_secretpremaster_secretpremaster_secretmaster_secretmaster_secretMAC </p>\n<blockquote>\n<p>master_secret =PRF(pre_master_secret, master secret, ClientHello.random +ServerHello.random)</p>\n</blockquote>\n<p>pre_master_secretmastersecretASCIIrandom1random2PRFASCIIMD5SHA-1MD5SHA-1PRF</p>\n</li>\n</ol>\n<ol start=\"3\">\n<li>master_secretPRFkey block<br>client_write_MAC_secretserver_write_MAC_secret MAC <br>client_write_keyserver_write_key or<br>client_write_IVserver _write_IV modeCBC<br>6PRF</li>\n</ol>\n<ol start=\"4\">\n<li><p>premaster_secretClient Key ExchangeRSApremasterRSAserver-helloECDHE_RSAEC Diffie-Hellman Client Params</p>\n<p> <img src=\"/images/posts/20160606/https-tcp-client-key-exchanger.png\" alt=\"\"></p>\n</li>\n<li><p>Client Key ExchangeChange Cipher Spec MAC</p>\n</li>\n</ol>\n<ol start=\"6\">\n<li> Change Cipher Spec  Hashclient_write_MAC_secrethashMACHandShake Messag</li>\n</ol>\n<ol start=\"7\">\n<li>premaster_secretMACChange Cipher SpecMAC Hash client_write_MAC_secretMAC MAC<br> <img src=\"/images/posts/20160606/https-tcp-secret-encrypted.png\" alt=\"\"></li>\n</ol>\n<ol start=\"8\">\n<li>Change Cipher Spec MACNew Session Tickethttpshttps</li>\n</ol>\n<ol start=\"9\">\n<li> Hashserver_write_MAC_secrethashMACHandShake Message</li>\n</ol>\n<ol start=\"10\">\n<li>MAC Hash server_write_MAC_secretMAC MAC</li>\n</ol>\n<ol start=\"11\">\n<li></li>\n</ol>\n<h4 id=\"7-\"><a href=\"#7-\" class=\"headerlink\" title=\"7. \"></a>7. </h4><p>6SSLApplication Dataencrypted application datahttpclient_write_keyserver_write_keyhttpSSLhttp</p>\n<p><img src=\"/images/posts/20160606/https-tcp-data-transport.png\" alt=\"\"></p>\n<p>wireshark<br><a href=\"http://pan.baidu.com/s/1hsi5U4W\" target=\"_blank\" rel=\"noopener\">http://pan.baidu.com/s/1hsi5U4W</a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><a href=\"http://www.jianshu.com/p/a766bbf31417\" target=\"_blank\" rel=\"noopener\">http://www.jianshu.com/p/a766bbf31417</a></p>\n<p><a href=\"http://www.cnblogs.com/TankXiao/archive/2012/10/10/2711777.html\" target=\"_blank\" rel=\"noopener\">http://www.cnblogs.com/TankXiao/archive/2012/10/10/2711777.html</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p>HttpsClientServer<br><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/fbcfb4b7d254a68b4e39ddbeef776927.png\" alt=\"\"></p>\n<p>KeyKeyKey()KeyKeyKeyKey</p>\n<p><a href=\"http://www.jianshu.com/p/15703d8c34e9\" target=\"_blank\" rel=\"noopener\">http://www.jianshu.com/p/15703d8c34e9</a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Wireshark(2.0.3)Mac OS 10.11X11OS X  X11 XQuartz  OS X  X11  XQuartz<br>Wireshark &gt;  &gt;  <br> <a href=\"https://www.dnspod.cn\" target=\"_blank\" rel=\"noopener\">https://www.dnspod.cn</a> <a href=\"https://www.dnspod.cn\" target=\"_blank\" rel=\"noopener\">https://www.dnspod.cn</a> IP59.37.116.101Wireshark </p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ip.src==<span class=\"number\">59.37</span>.116.101  or ip.dst==<span class=\"number\">59.37</span>.116.101</span><br></pre></td></tr></table></figure>\n<p>IP</p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/f3fea5e73ee24a7e97bf9f43a7e29534.png\" alt=\"\"></p>\n<p>tcpClient Hello tcpTransmission Control Protool,Stream Index Stream Index WiresharkTCP</p>\n<p><img src=\"/images/posts/20160606/wirdshark-tencent-cloud-tcp-stream-get.png\" alt=\"\"></p>\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ip.src==<span class=\"number\">59.37</span>.116.101  or ip.dst==<span class=\"number\">59.37</span>.116.101 and tcp.stream eq <span class=\"number\">28</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"1-TCP\"><a href=\"#1-TCP\" class=\"headerlink\" title=\"1. TCP\"></a>1. TCP</h4><p>TLSTCPTCP</p>\n<p><img src=\"/images/posts/20160606/tcp-third-handshake.png\" alt=\"\"></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>Flags=SYNSeq = 0 </p>\n<p><img src=\"/images/posts/20160606/tcp-first-handshake.png\" alt=\"\"></p>\n<p>SYN00</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>Flags=SYNACKseqNum=0,ackNum=1</p>\n<p><img src=\"/images/posts/20160606/tcp-second-handshake.png\" alt=\"\"></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>(ACK) SYN0,ACK1.ACK+1,.ISN+1</p>\n<p><img src=\"/images/posts/20160606/tcp-third-time-handshake.png\" alt=\"\"></p>\n<p>WireShark</p>\n<p><img src=\"/images/posts/20160606/https-tcp-graph.png\" alt=\"\"></p>\n<p>TCP<a href=\"http://mp.weixin.qq.com/s?__biz=MzAxOTc0NzExNg==&amp;mid=2665513094&amp;idx=1&amp;sn=a2accfc41107ac08d74ec3317995955e&amp;scene=23&amp;srcid=0605GAETrvLCgoti5SQnXy0o#rd\" target=\"_blank\" rel=\"noopener\">TCP/IP  </a></p>\n<h4 id=\"2-Client-Hello\"><a href=\"#2-Client-Hello\" class=\"headerlink\" title=\"2. Client Hello\"></a>2. Client Hello</h4><p><img src=\"/images/posts/20160606/https-tcp-client-hello.png\" alt=\"\"></p>\n<p>01622</p>\n<p>Client Hello001</p>\n<h5 id=\"Random\"><a href=\"#Random\" class=\"headerlink\" title=\"Random\"></a>Random</h5><p><img src=\"/images/posts/20160606/https-tcp-client-hello-random.png\" alt=\"\"></p>\n<p>UnixUTC197011a1 60 cf bd 28</p>\n<h5 id=\"SIDSession-ID\"><a href=\"#SIDSession-ID\" class=\"headerlink\" title=\"SIDSession ID\"></a>SIDSession ID</h5><p><img src=\"/images/posts/20160606/https-tcp-client-hello-sid.png\" alt=\"\"></p>\n<h5 id=\"Random\"><a href=\"#Random\" class=\"headerlink\" title=\"Random\"></a>Random</h5><p>session ID session IDsession ID</p>\n<p>SIDNull<a href=\"http://www.baidu.com\" target=\"_blank\" rel=\"noopener\">www.baidu.com</a></p>\n<p>session IDsession IDsession ticketFirefoxChromehttpssession ticket</p>\n<h5 id=\"Cipher-Suites\"><a href=\"#Cipher-Suites\" class=\"headerlink\" title=\"Cipher Suites\"></a>Cipher Suites</h5><p><img src=\"/images/posts/20160606/https-tcp-client-hello-cipher.png\" alt=\"\"></p>\n<p>RFC2246--TLS_RSA_WITH_AES_256_CBC_SHATLSRSAAES_256_CBC256CBCSHA</p>\n<h5 id=\"Server-name\"><a href=\"#Server-name\" class=\"headerlink\" title=\"Server_name\"></a>Server_name</h5><p><img src=\"/images/posts/20160606/https-tcp-client-hello-servername.png\" alt=\"\"></p>\n<p>DNSipipipserver_nameserverServer_name</p>\n<h4 id=\"3-Server-Hello\"><a href=\"#3-Server-Hello\" class=\"headerlink\" title=\"3. Server Hello\"></a>3. Server Hello</h4><p><img src=\"/images/posts/20160606/https-tcp-server-hello.png\" alt=\"\"></p>\n<p>client helloACKclient helloServer helloSession ID,Cipher Suite,Random </p>\n<p>client hello2121TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256ECDHE-RSAAES_128_GCMSHA256 </p>\n<p>session ID</p>\n<ol>\n<li>session IDclient helloclient hellosession IDsession</li>\n<li>session IDclient hellosession IDsession IDclient hellosession IDsession ID</li>\n<li>NULLsessionsession ID</li>\n</ol>\n<h4 id=\"4-Certificate\"><a href=\"#4-Certificate\" class=\"headerlink\" title=\"4. Certificate\"></a>4. Certificate</h4><p><img src=\"/images/posts/20160606/https-tcp-certificate.png\" alt=\"\"></p>\n<p>CA3259 byte </p>\n<p>Server Hello DonehelloTLSwebhttps(UU)webclientserver</p>\n<h4 id=\"5-\"><a href=\"#5-\" class=\"headerlink\" title=\"5. \"></a>5. </h4><p>algorithmIdentifierSHA_RSAclientserverCipher SuitesCipher SuitesencryptedCA</p>\n<h4 id=\"6-Client-Key-Exchange\"><a href=\"#6-Client-Key-Exchange\" class=\"headerlink\" title=\"6. Client Key Exchange\"></a>6. Client Key Exchange</h4><p>RSAECDHE-RSARSARSA</p>\n<ol>\n<li>premaster_secretserver hello2client hello1master_secretpremaster_secretpremaster_secret48246</li>\n</ol>\n<ol start=\"2\">\n<li><p>premaster_secretpremaster_secretpremaster_secretmaster_secretmaster_secretMAC </p>\n<blockquote>\n<p>master_secret =PRF(pre_master_secret, master secret, ClientHello.random +ServerHello.random)</p>\n</blockquote>\n<p>pre_master_secretmastersecretASCIIrandom1random2PRFASCIIMD5SHA-1MD5SHA-1PRF</p>\n</li>\n</ol>\n<ol start=\"3\">\n<li>master_secretPRFkey block<br>client_write_MAC_secretserver_write_MAC_secret MAC <br>client_write_keyserver_write_key or<br>client_write_IVserver _write_IV modeCBC<br>6PRF</li>\n</ol>\n<ol start=\"4\">\n<li><p>premaster_secretClient Key ExchangeRSApremasterRSAserver-helloECDHE_RSAEC Diffie-Hellman Client Params</p>\n<p> <img src=\"/images/posts/20160606/https-tcp-client-key-exchanger.png\" alt=\"\"></p>\n</li>\n<li><p>Client Key ExchangeChange Cipher Spec MAC</p>\n</li>\n</ol>\n<ol start=\"6\">\n<li> Change Cipher Spec  Hashclient_write_MAC_secrethashMACHandShake Messag</li>\n</ol>\n<ol start=\"7\">\n<li>premaster_secretMACChange Cipher SpecMAC Hash client_write_MAC_secretMAC MAC<br> <img src=\"/images/posts/20160606/https-tcp-secret-encrypted.png\" alt=\"\"></li>\n</ol>\n<ol start=\"8\">\n<li>Change Cipher Spec MACNew Session Tickethttpshttps</li>\n</ol>\n<ol start=\"9\">\n<li> Hashserver_write_MAC_secrethashMACHandShake Message</li>\n</ol>\n<ol start=\"10\">\n<li>MAC Hash server_write_MAC_secretMAC MAC</li>\n</ol>\n<ol start=\"11\">\n<li></li>\n</ol>\n<h4 id=\"7-\"><a href=\"#7-\" class=\"headerlink\" title=\"7. \"></a>7. </h4><p>6SSLApplication Dataencrypted application datahttpclient_write_keyserver_write_keyhttpSSLhttp</p>\n<p><img src=\"/images/posts/20160606/https-tcp-data-transport.png\" alt=\"\"></p>\n<p>wireshark<br><a href=\"http://pan.baidu.com/s/1hsi5U4W\" target=\"_blank\" rel=\"noopener\">http://pan.baidu.com/s/1hsi5U4W</a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><a href=\"http://www.jianshu.com/p/a766bbf31417\" target=\"_blank\" rel=\"noopener\">http://www.jianshu.com/p/a766bbf31417</a></p>\n<p><a href=\"http://www.cnblogs.com/TankXiao/archive/2012/10/10/2711777.html\" target=\"_blank\" rel=\"noopener\">http://www.cnblogs.com/TankXiao/archive/2012/10/10/2711777.html</a></p>\n"},{"title":"","date":"2019-03-25T09:17:37.000Z","_content":"\n<a name=\"fa77ab6c\"></a>\n### \n38<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/104361/1553507051995-7cce4dc5-7479-4a82-bf77-a8b48fb4928d.png#align=left&display=inline&height=241&name=image.png&originHeight=245&originWidth=722&size=135506&status=done&width=711)<br />CPU\n\nHSFHSF<br /><!--more--><br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/104361/1553520952926-7421d58c-8fe0-45ff-a091-5bad1bc04a8f.png#align=left&display=inline&height=288&name=image.png&originHeight=576&originWidth=1428&size=450665&status=done&width=714)\n\n<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/104361/1553520978790-be1d0a79-07eb-408a-b261-b9be01186024.png#align=left&display=inline&height=375&name=image.png&originHeight=750&originWidth=1384&size=331071&status=done&width=692)<br />160\n\n<a name=\"0aff8430\"></a>\n#### \n\n\n\n<a name=\"258c8519\"></a>\n### \n312 ~ 15 Dataprocess315<br />\n1. ArrayBlockingQueueLinkedBlockingQueue\n1. DiscardPolicyDiscardOldestPolicypoll\n1. \n\n\n<a name=\"722d8e0f\"></a>\n### \n<a name=\"52e514c1\"></a>\n#### \ntsar <br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/104361/1553507935197-8e95d494-47bf-4d22-97d6-548945fd18ea.png#align=left&display=inline&height=300&name=image.png&originHeight=384&originWidth=956&size=119399&status=done&width=746)<br />load8core cpuload<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/104361/1553507967263-1ff8e52b-aafc-4b58-921d-947f3a7d3125.png#align=left&display=inline&height=244&name=image.png&originHeight=370&originWidth=1130&size=176313&status=done&width=745)<br /><br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/104361/1553508026297-6ee1935f-98f8-43f8-83b2-42da9faeeed2.png#align=left&display=inline&height=151&name=image.png&originHeight=368&originWidth=1822&size=168486&status=done&width=746)<br />io\n\njvmjvm<br /><br /> 10G-Xms<br /> 10G-Xmx<br />4G-Xmn<br />256m -XX:MetaspaceSize<br />512m -XX:MaxMetaspaceSize\n\n<a name=\"b5a52648\"></a>\n#### Jstack\njstack<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/104361/1553510300293-c8173e97-09fd-41a5-ab38-c8c91976834f.png#align=left&display=inline&height=443&name=image.png&originHeight=885&originWidth=2000&size=514798&status=done&width=1000)\n\n 69%blocked<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/104361/1553510331156-ccad2748-8d71-4b8a-accc-62d6acdfaaf8.png#align=left&display=inline&height=375&name=image.png&originHeight=749&originWidth=2000&size=462845&status=done&width=1000)<br />HSFBizProcessorBlockedlog-handler-threadblocked\n\n![image.png](https://cdn.nlark.com/yuque/0/2019/png/104361/1553510391861-aa83d7a9-85af-4980-94e0-0876c73d26ed.png#align=left&display=inline&height=142&name=image.png&originHeight=284&originWidth=2000&size=335659&status=done&width=1000)\n\nblockedHSF\n\n```\nHSFBizProcessor-DEFAULT-12-thread-1673 - priority:10 - threadId:0x0000000006d32000 - nativeId:0x4f72 - nativeId (decimal):20338 - state:BLOCKED\nstackTrace:\njava.lang.Thread.State: BLOCKED (on object monitor)\nat java.util.Arrays.copyOf(Arrays.java:3181)\nat java.text.DateFormatSymbols.getShortMonths(DateFormatSymbols.java:433)\nat java.util.Calendar.getFieldStrings(Calendar.java:2241)\nat java.util.Calendar.getDisplayName(Calendar.java:2111)\nat java.text.SimpleDateFormat.subFormat(SimpleDateFormat.java:1125)\nat java.text.SimpleDateFormat.format(SimpleDateFormat.java:966)\nat java.text.SimpleDateFormat.format(SimpleDateFormat.java:936)\nat java.text.DateFormat.format(DateFormat.java:345)\nat ch.qos.logback.core.util.CachingDateFormatter.format(CachingDateFormatter.java:48)\n- locked <0x00000006223577e8> (a ch.qos.logback.core.util.CachingDateFormatter)\nat ch.qos.logback.classic.pattern.DateConverter.convert(DateConverter.java:61)\nat ch.qos.logback.classic.pattern.DateConverter.convert(DateConverter.java:23)\nat ch.qos.logback.core.pattern.FormattingConverter.write(FormattingConverter.java:36)\nat ch.qos.logback.core.pattern.PatternLayoutBase.writeLoopOnConverters(PatternLayoutBase.java:115)\nat ch.qos.logback.classic.PatternLayout.doLayout(PatternLayout.java:141)\nat ch.qos.logback.classic.PatternLayout.doLayout(PatternLayout.java:39)\nat ch.qos.logback.core.encoder.LayoutWrappingEncoder.encode(LayoutWrappingEncoder.java:115)\nat ch.qos.logback.core.OutputStreamAppender.subAppend(OutputStreamAppender.java:230)\nat ch.qos.logback.core.rolling.RollingFileAppender.subAppend(RollingFileAppender.java:235)\nat ch.qos.logback.core.OutputStreamAppender.append(OutputStreamAppender.java:102)\nat ch.qos.logback.core.UnsynchronizedAppenderBase.doAppend(UnsynchronizedAppenderBase.java:84)\nat ch.qos.logback.core.spi.AppenderAttachableImpl.appendLoopOnAppendersForStructLog(AppenderAttachableImpl.java:54)\nat ch.qos.logback.classic.Logger.appendLoopOnAppenders(Logger.java:273)\nat ch.qos.logback.classic.Logger.callAppenders(Logger.java:260)\nat ch.qos.logback.classic.Logger.buildLoggingEventAndAppend(Logger.java:424)\nat ch.qos.logback.classic.Logger.filterAndLog_0_Or3Plus(Logger.java:386)\nat ch.qos.logback.classic.Logger.info(Logger.java:582)\n....\nat sun.reflect.GeneratedMethodAccessor134.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat com.taobao.hsf.remoting.provider.ReflectInvocationHandler.handleRequest0(ReflectInvocationHandler.java:84)\nat com.taobao.hsf.remoting.provider.ReflectInvocationHandler.invoke(ReflectInvocationHandler.java:164)\nat com.taobao.hsf2dubbo.DubboServerFilterAsyncInvocationHandlerInterceptor.invoke(DubboServerFilterAsyncInvocationHandlerInterceptor.java:54)\nat com.taobao.hsf.invocation.filter.RPCFilterBuilder$TailNode.invoke(RPCFilterBuilder.java:280)\nat com.taobao.hsf.debug.DebugServerFilter.invoke(DebugServerFilter.java:25)\nat com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)\nat com.taobao.hsf.plugins.spas.SpasServerFilter.invoke(SpasServerFilter.java:143)\nat com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)\nat com.taobao.hsf.edas.tps.component.WhiteListServerFilter.invoke(WhiteListServerFilter.java:67)\nat com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)\nat com.taobao.hsf.tps.component.TPSServerFilter.invoke(TPSServerFilter.java:68)\nat com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)\nat com.taobao.hsf.edas.tps.component.TPSServerFilter.invoke(TPSServerFilter.java:67)\nat com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)\nat com.taobao.hsf.invocation.stats.InvocationStatsServerFilter.invoke(InvocationStatsServerFilter.java:47)\nat com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)\nat com.taobao.hsf.monitor.log.filter.MonitorLogServerFilter.invoke(MonitorLogServerFilter.java:45)\nat com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)\nat com.taobao.hsf.profiler.ProfilerServerFilter.invoke(ProfilerServerFilter.java:32)\nat com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)\nat com.taobao.hsf.plugins.eagleeye.EagleEyeServerFilter.invoke(EagleEyeServerFilter.java:66)\nat com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)\nat com.taobao.hsf.rpc.server.MethodAbsenceFilter.invoke(MethodAbsenceFilter.java:48)\nat com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)\nat com.taobao.hsf.rpc.server.EchoFilter.invoke(EchoFilter.java:45)\nat com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)\nat com.taobao.hsf.rpc.generic.GenericInvocationServerFilter.invoke(GenericInvocationServerFilter.java:106)\nat com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)\nat com.taobao.hsf2dubbo.DubboGenericServerFilter.invoke(DubboGenericServerFilter.java:36)\nat com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)\nat com.taobao.hsf.rpc.server.ServiceAbsenceFilter.invoke(ServiceAbsenceFilter.java:47)\nat com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)\nat com.taobao.hsf.common.filter.CommonServerFilter.invoke(CommonServerFilter.java:24)\nat com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)\nat com.taobao.hsf2dubbo.context.DubboRPCContextServerFilter.invoke(DubboRPCContextServerFilter.java:48)\nat com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)\nat com.taobao.hsf.context.RPCContextServerFilter.invoke(RPCContextServerFilter.java:39)\nat com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)\nat com.taobao.hsf.invocation.filter.RPCFilterBuilder$HeadNode.invoke(RPCFilterBuilder.java:246)\nat com.taobao.hsf.invocation.filter.FilterInvocationHandler.invoke(FilterInvocationHandler.java:28)\nat com.taobao.hsf.remoting.provider.ServerContextInvocationHandler.invoke(ServerContextInvocationHandler.java:35)\nat com.taobao.hsf.remoting.provider.ProviderProcessor.handleRequest(ProviderProcessor.java:52)\nat com.taobao.hsf.io.remoting.hsf.message.HSFServerHandler$1.run(HSFServerHandler.java:177)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1152)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:627)\nat java.lang.Thread.run(Thread.java:882)\n```\n\n\nblocktransport-api hanler<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/104361/1553510475994-942259f9-f93a-4089-8510-1007c06a1cd4.png#align=left&display=inline&height=346&name=image.png&originHeight=692&originWidth=1788&size=680633&status=done&width=894)\n\nCachingDateFormatterSimpleDateFormat \n\n<a name=\"71b33d03\"></a>\n#### \n* transport-api\n* -AsyncAppenderRollingFileAppender\n\n![image.png](https://cdn.nlark.com/yuque/0/2019/png/104361/1553521107922-304a7a22-3f14-4920-bb2a-0f2f802cc3fe.png#align=left&display=inline&height=374&name=image.png&originHeight=748&originWidth=1478&size=881357&status=done&width=739)\n\n\n\n<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/104361/1553520842927-d75f27b2-8d65-4122-838a-637fe8a8f06d.png#align=left&display=inline&height=325&name=image.png&originHeight=650&originWidth=1292&size=232677&status=done&width=646)\n\njstackjstack 184019\n\nqps<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/104361/1553520885065-2f331c65-4c83-485a-800e-624cf259b34f.png#align=left&display=inline&height=238&name=image.png&originHeight=476&originWidth=1500&size=331575&status=done&width=750)\n\n<a name=\"9e497c48\"></a>\n#### \nagent\n\n<a name=\"915db64d\"></a>\n#### \n* AHAS \n\n\nSLA:\n\n![image.png](https://cdn.nlark.com/yuque/0/2019/png/104361/1552975918909-f06b3f7c-0b3e-4b2b-ba67-a95fa643e574.png#align=left&display=inline&height=352&name=image.png&originHeight=704&originWidth=2246&size=340212&status=done&width=1123)\n\nofflinejstack\n\n![image.png](https://cdn.nlark.com/yuque/0/2019/png/104361/1552976809337-e3bdae4a-7539-433a-9dd6-4261c6527c8b.png#align=left&display=inline&height=220&name=image.png&originHeight=440&originWidth=2178&size=332568&status=done&width=1089)<br />hsfjstack \n\n\n* \n\n\n<a name=\"4a1602db\"></a>\n#### GC\nGC<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/104361/1553510944011-8128b5a2-5a3e-4452-a559-a33651c2fde4.png#align=left&display=inline&height=494&name=image.png&originHeight=987&originWidth=2000&size=383029&status=done&width=1000)<br />fgcfgcold gc<br /><br />jmap<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/104361/1553521339182-edde4ea1-1868-4c42-b641-da11d0b9341c.png#align=left&display=inline&height=368&name=image.png&originHeight=736&originWidth=1480&size=589499&status=done&width=740)<br /><br />ots3GOTSclient\n\n<a name=\"9a39e603\"></a>\n#### \nOTStablestoreWriteAyncClientbuffer\n1. AyncClient\n1. tablestoreWriteRingBuffer\n\n\n<a name=\"216c0e94\"></a>\n#### \nOTShangblock<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/104361/1553521398649-dfe5511c-8d94-4f44-a50f-c15f86e35fb5.png#align=left&display=inline&height=265&name=image.png&originHeight=530&originWidth=1538&size=378791&status=done&width=769)\n\n jstack<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/104361/1553076983556-e1aa1249-0711-4f7c-9986-27dc6a52cf54.png#align=left&display=inline&height=346&name=image.png&originHeight=692&originWidth=1284&size=281191&status=done&width=642)\n\n![image.png](https://cdn.nlark.com/yuque/0/2019/png/104361/1553521506624-1e2cd35c-105f-4237-b2f0-9aff7fdab0a0.png#align=left&display=inline&height=252&name=image.png&originHeight=504&originWidth=1476&size=492669&status=done&width=738)\n\n\n*   \n* otsblock\n* TableStoreWriter\n\n\nofflinehang\n\n\nOTSreviewRingBufferDiscardPolicyhang<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/104361/1553154377682-13135f96-d88e-49fb-8eb6-07508cc6559f.png#align=left&display=inline&height=136&name=image.png&originHeight=271&originWidth=1558&size=336841&status=done&width=779)<br />discardhangOTSRingBufferSemaphoreexecutorhangOTS Clientbug\n\n<a name=\"83616992\"></a>\n#### \n* 1\n* 0ots\n\n<a name=\"8c9d507e\"></a>\n### \n\n\n<a name=\"1917fd08\"></a>\n### \ntop  # CPUMem<br />top -Hp pid #cpu pidnidprintf '0x%x'<br />iostat -d -k 1 10 # IO<br />tsar --cpu --mem --traffic --io  #tsar<br />jmap -histo:live pid | head -20 #20<br />jstack pid > jstack.log # fastthread.io<br />jstat gcutil [pid] 1000 10 # gc\n\n\n<a name=\"1b3b6b96\"></a>\n### \n[https://gceasy.io/](https://gceasy.io/)    gc<br />[https://fastthread.io/](https://fastthread.io/)  <br />[https://github.com/alibaba/arthas](https://github.com/alibaba/arthas) Arthas;\n\n\n","source":"_posts/Java/2019-03-25-application-no-response.md","raw":"---\ntitle: \ndate: 2019-03-25 17:17:37 +0800\ntags: [, ]\ncategories: \n---\n\n<a name=\"fa77ab6c\"></a>\n### \n38<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/104361/1553507051995-7cce4dc5-7479-4a82-bf77-a8b48fb4928d.png#align=left&display=inline&height=241&name=image.png&originHeight=245&originWidth=722&size=135506&status=done&width=711)<br />CPU\n\nHSFHSF<br /><!--more--><br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/104361/1553520952926-7421d58c-8fe0-45ff-a091-5bad1bc04a8f.png#align=left&display=inline&height=288&name=image.png&originHeight=576&originWidth=1428&size=450665&status=done&width=714)\n\n<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/104361/1553520978790-be1d0a79-07eb-408a-b261-b9be01186024.png#align=left&display=inline&height=375&name=image.png&originHeight=750&originWidth=1384&size=331071&status=done&width=692)<br />160\n\n<a name=\"0aff8430\"></a>\n#### \n\n\n\n<a name=\"258c8519\"></a>\n### \n312 ~ 15 Dataprocess315<br />\n1. ArrayBlockingQueueLinkedBlockingQueue\n1. DiscardPolicyDiscardOldestPolicypoll\n1. \n\n\n<a name=\"722d8e0f\"></a>\n### \n<a name=\"52e514c1\"></a>\n#### \ntsar <br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/104361/1553507935197-8e95d494-47bf-4d22-97d6-548945fd18ea.png#align=left&display=inline&height=300&name=image.png&originHeight=384&originWidth=956&size=119399&status=done&width=746)<br />load8core cpuload<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/104361/1553507967263-1ff8e52b-aafc-4b58-921d-947f3a7d3125.png#align=left&display=inline&height=244&name=image.png&originHeight=370&originWidth=1130&size=176313&status=done&width=745)<br /><br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/104361/1553508026297-6ee1935f-98f8-43f8-83b2-42da9faeeed2.png#align=left&display=inline&height=151&name=image.png&originHeight=368&originWidth=1822&size=168486&status=done&width=746)<br />io\n\njvmjvm<br /><br /> 10G-Xms<br /> 10G-Xmx<br />4G-Xmn<br />256m -XX:MetaspaceSize<br />512m -XX:MaxMetaspaceSize\n\n<a name=\"b5a52648\"></a>\n#### Jstack\njstack<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/104361/1553510300293-c8173e97-09fd-41a5-ab38-c8c91976834f.png#align=left&display=inline&height=443&name=image.png&originHeight=885&originWidth=2000&size=514798&status=done&width=1000)\n\n 69%blocked<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/104361/1553510331156-ccad2748-8d71-4b8a-accc-62d6acdfaaf8.png#align=left&display=inline&height=375&name=image.png&originHeight=749&originWidth=2000&size=462845&status=done&width=1000)<br />HSFBizProcessorBlockedlog-handler-threadblocked\n\n![image.png](https://cdn.nlark.com/yuque/0/2019/png/104361/1553510391861-aa83d7a9-85af-4980-94e0-0876c73d26ed.png#align=left&display=inline&height=142&name=image.png&originHeight=284&originWidth=2000&size=335659&status=done&width=1000)\n\nblockedHSF\n\n```\nHSFBizProcessor-DEFAULT-12-thread-1673 - priority:10 - threadId:0x0000000006d32000 - nativeId:0x4f72 - nativeId (decimal):20338 - state:BLOCKED\nstackTrace:\njava.lang.Thread.State: BLOCKED (on object monitor)\nat java.util.Arrays.copyOf(Arrays.java:3181)\nat java.text.DateFormatSymbols.getShortMonths(DateFormatSymbols.java:433)\nat java.util.Calendar.getFieldStrings(Calendar.java:2241)\nat java.util.Calendar.getDisplayName(Calendar.java:2111)\nat java.text.SimpleDateFormat.subFormat(SimpleDateFormat.java:1125)\nat java.text.SimpleDateFormat.format(SimpleDateFormat.java:966)\nat java.text.SimpleDateFormat.format(SimpleDateFormat.java:936)\nat java.text.DateFormat.format(DateFormat.java:345)\nat ch.qos.logback.core.util.CachingDateFormatter.format(CachingDateFormatter.java:48)\n- locked <0x00000006223577e8> (a ch.qos.logback.core.util.CachingDateFormatter)\nat ch.qos.logback.classic.pattern.DateConverter.convert(DateConverter.java:61)\nat ch.qos.logback.classic.pattern.DateConverter.convert(DateConverter.java:23)\nat ch.qos.logback.core.pattern.FormattingConverter.write(FormattingConverter.java:36)\nat ch.qos.logback.core.pattern.PatternLayoutBase.writeLoopOnConverters(PatternLayoutBase.java:115)\nat ch.qos.logback.classic.PatternLayout.doLayout(PatternLayout.java:141)\nat ch.qos.logback.classic.PatternLayout.doLayout(PatternLayout.java:39)\nat ch.qos.logback.core.encoder.LayoutWrappingEncoder.encode(LayoutWrappingEncoder.java:115)\nat ch.qos.logback.core.OutputStreamAppender.subAppend(OutputStreamAppender.java:230)\nat ch.qos.logback.core.rolling.RollingFileAppender.subAppend(RollingFileAppender.java:235)\nat ch.qos.logback.core.OutputStreamAppender.append(OutputStreamAppender.java:102)\nat ch.qos.logback.core.UnsynchronizedAppenderBase.doAppend(UnsynchronizedAppenderBase.java:84)\nat ch.qos.logback.core.spi.AppenderAttachableImpl.appendLoopOnAppendersForStructLog(AppenderAttachableImpl.java:54)\nat ch.qos.logback.classic.Logger.appendLoopOnAppenders(Logger.java:273)\nat ch.qos.logback.classic.Logger.callAppenders(Logger.java:260)\nat ch.qos.logback.classic.Logger.buildLoggingEventAndAppend(Logger.java:424)\nat ch.qos.logback.classic.Logger.filterAndLog_0_Or3Plus(Logger.java:386)\nat ch.qos.logback.classic.Logger.info(Logger.java:582)\n....\nat sun.reflect.GeneratedMethodAccessor134.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat com.taobao.hsf.remoting.provider.ReflectInvocationHandler.handleRequest0(ReflectInvocationHandler.java:84)\nat com.taobao.hsf.remoting.provider.ReflectInvocationHandler.invoke(ReflectInvocationHandler.java:164)\nat com.taobao.hsf2dubbo.DubboServerFilterAsyncInvocationHandlerInterceptor.invoke(DubboServerFilterAsyncInvocationHandlerInterceptor.java:54)\nat com.taobao.hsf.invocation.filter.RPCFilterBuilder$TailNode.invoke(RPCFilterBuilder.java:280)\nat com.taobao.hsf.debug.DebugServerFilter.invoke(DebugServerFilter.java:25)\nat com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)\nat com.taobao.hsf.plugins.spas.SpasServerFilter.invoke(SpasServerFilter.java:143)\nat com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)\nat com.taobao.hsf.edas.tps.component.WhiteListServerFilter.invoke(WhiteListServerFilter.java:67)\nat com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)\nat com.taobao.hsf.tps.component.TPSServerFilter.invoke(TPSServerFilter.java:68)\nat com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)\nat com.taobao.hsf.edas.tps.component.TPSServerFilter.invoke(TPSServerFilter.java:67)\nat com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)\nat com.taobao.hsf.invocation.stats.InvocationStatsServerFilter.invoke(InvocationStatsServerFilter.java:47)\nat com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)\nat com.taobao.hsf.monitor.log.filter.MonitorLogServerFilter.invoke(MonitorLogServerFilter.java:45)\nat com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)\nat com.taobao.hsf.profiler.ProfilerServerFilter.invoke(ProfilerServerFilter.java:32)\nat com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)\nat com.taobao.hsf.plugins.eagleeye.EagleEyeServerFilter.invoke(EagleEyeServerFilter.java:66)\nat com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)\nat com.taobao.hsf.rpc.server.MethodAbsenceFilter.invoke(MethodAbsenceFilter.java:48)\nat com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)\nat com.taobao.hsf.rpc.server.EchoFilter.invoke(EchoFilter.java:45)\nat com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)\nat com.taobao.hsf.rpc.generic.GenericInvocationServerFilter.invoke(GenericInvocationServerFilter.java:106)\nat com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)\nat com.taobao.hsf2dubbo.DubboGenericServerFilter.invoke(DubboGenericServerFilter.java:36)\nat com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)\nat com.taobao.hsf.rpc.server.ServiceAbsenceFilter.invoke(ServiceAbsenceFilter.java:47)\nat com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)\nat com.taobao.hsf.common.filter.CommonServerFilter.invoke(CommonServerFilter.java:24)\nat com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)\nat com.taobao.hsf2dubbo.context.DubboRPCContextServerFilter.invoke(DubboRPCContextServerFilter.java:48)\nat com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)\nat com.taobao.hsf.context.RPCContextServerFilter.invoke(RPCContextServerFilter.java:39)\nat com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)\nat com.taobao.hsf.invocation.filter.RPCFilterBuilder$HeadNode.invoke(RPCFilterBuilder.java:246)\nat com.taobao.hsf.invocation.filter.FilterInvocationHandler.invoke(FilterInvocationHandler.java:28)\nat com.taobao.hsf.remoting.provider.ServerContextInvocationHandler.invoke(ServerContextInvocationHandler.java:35)\nat com.taobao.hsf.remoting.provider.ProviderProcessor.handleRequest(ProviderProcessor.java:52)\nat com.taobao.hsf.io.remoting.hsf.message.HSFServerHandler$1.run(HSFServerHandler.java:177)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1152)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:627)\nat java.lang.Thread.run(Thread.java:882)\n```\n\n\nblocktransport-api hanler<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/104361/1553510475994-942259f9-f93a-4089-8510-1007c06a1cd4.png#align=left&display=inline&height=346&name=image.png&originHeight=692&originWidth=1788&size=680633&status=done&width=894)\n\nCachingDateFormatterSimpleDateFormat \n\n<a name=\"71b33d03\"></a>\n#### \n* transport-api\n* -AsyncAppenderRollingFileAppender\n\n![image.png](https://cdn.nlark.com/yuque/0/2019/png/104361/1553521107922-304a7a22-3f14-4920-bb2a-0f2f802cc3fe.png#align=left&display=inline&height=374&name=image.png&originHeight=748&originWidth=1478&size=881357&status=done&width=739)\n\n\n\n<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/104361/1553520842927-d75f27b2-8d65-4122-838a-637fe8a8f06d.png#align=left&display=inline&height=325&name=image.png&originHeight=650&originWidth=1292&size=232677&status=done&width=646)\n\njstackjstack 184019\n\nqps<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/104361/1553520885065-2f331c65-4c83-485a-800e-624cf259b34f.png#align=left&display=inline&height=238&name=image.png&originHeight=476&originWidth=1500&size=331575&status=done&width=750)\n\n<a name=\"9e497c48\"></a>\n#### \nagent\n\n<a name=\"915db64d\"></a>\n#### \n* AHAS \n\n\nSLA:\n\n![image.png](https://cdn.nlark.com/yuque/0/2019/png/104361/1552975918909-f06b3f7c-0b3e-4b2b-ba67-a95fa643e574.png#align=left&display=inline&height=352&name=image.png&originHeight=704&originWidth=2246&size=340212&status=done&width=1123)\n\nofflinejstack\n\n![image.png](https://cdn.nlark.com/yuque/0/2019/png/104361/1552976809337-e3bdae4a-7539-433a-9dd6-4261c6527c8b.png#align=left&display=inline&height=220&name=image.png&originHeight=440&originWidth=2178&size=332568&status=done&width=1089)<br />hsfjstack \n\n\n* \n\n\n<a name=\"4a1602db\"></a>\n#### GC\nGC<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/104361/1553510944011-8128b5a2-5a3e-4452-a559-a33651c2fde4.png#align=left&display=inline&height=494&name=image.png&originHeight=987&originWidth=2000&size=383029&status=done&width=1000)<br />fgcfgcold gc<br /><br />jmap<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/104361/1553521339182-edde4ea1-1868-4c42-b641-da11d0b9341c.png#align=left&display=inline&height=368&name=image.png&originHeight=736&originWidth=1480&size=589499&status=done&width=740)<br /><br />ots3GOTSclient\n\n<a name=\"9a39e603\"></a>\n#### \nOTStablestoreWriteAyncClientbuffer\n1. AyncClient\n1. tablestoreWriteRingBuffer\n\n\n<a name=\"216c0e94\"></a>\n#### \nOTShangblock<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/104361/1553521398649-dfe5511c-8d94-4f44-a50f-c15f86e35fb5.png#align=left&display=inline&height=265&name=image.png&originHeight=530&originWidth=1538&size=378791&status=done&width=769)\n\n jstack<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/104361/1553076983556-e1aa1249-0711-4f7c-9986-27dc6a52cf54.png#align=left&display=inline&height=346&name=image.png&originHeight=692&originWidth=1284&size=281191&status=done&width=642)\n\n![image.png](https://cdn.nlark.com/yuque/0/2019/png/104361/1553521506624-1e2cd35c-105f-4237-b2f0-9aff7fdab0a0.png#align=left&display=inline&height=252&name=image.png&originHeight=504&originWidth=1476&size=492669&status=done&width=738)\n\n\n*   \n* otsblock\n* TableStoreWriter\n\n\nofflinehang\n\n\nOTSreviewRingBufferDiscardPolicyhang<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/104361/1553154377682-13135f96-d88e-49fb-8eb6-07508cc6559f.png#align=left&display=inline&height=136&name=image.png&originHeight=271&originWidth=1558&size=336841&status=done&width=779)<br />discardhangOTSRingBufferSemaphoreexecutorhangOTS Clientbug\n\n<a name=\"83616992\"></a>\n#### \n* 1\n* 0ots\n\n<a name=\"8c9d507e\"></a>\n### \n\n\n<a name=\"1917fd08\"></a>\n### \ntop  # CPUMem<br />top -Hp pid #cpu pidnidprintf '0x%x'<br />iostat -d -k 1 10 # IO<br />tsar --cpu --mem --traffic --io  #tsar<br />jmap -histo:live pid | head -20 #20<br />jstack pid > jstack.log # fastthread.io<br />jstat gcutil [pid] 1000 10 # gc\n\n\n<a name=\"1b3b6b96\"></a>\n### \n[https://gceasy.io/](https://gceasy.io/)    gc<br />[https://fastthread.io/](https://fastthread.io/)  <br />[https://github.com/alibaba/arthas](https://github.com/alibaba/arthas) Arthas;\n\n\n","slug":"Java/2019-03-25-application-no-response","published":1,"updated":"2019-03-25T14:45:11.384Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjtohbkbl006y6f12meyggwhj","content":"<p><a name=\"fa77ab6c\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>38<br><img src=\"https://cdn.nlark.com/yuque/0/2019/png/104361/1553507051995-7cce4dc5-7479-4a82-bf77-a8b48fb4928d.png#align=left&amp;display=inline&amp;height=241&amp;name=image.png&amp;originHeight=245&amp;originWidth=722&amp;size=135506&amp;status=done&amp;width=711\" alt=\"image.png\"><br>CPU</p>\n<p>HSFHSF<br><a id=\"more\"></a><br><img src=\"https://cdn.nlark.com/yuque/0/2019/png/104361/1553520952926-7421d58c-8fe0-45ff-a091-5bad1bc04a8f.png#align=left&amp;display=inline&amp;height=288&amp;name=image.png&amp;originHeight=576&amp;originWidth=1428&amp;size=450665&amp;status=done&amp;width=714\" alt=\"image.png\"></p>\n<p><br><img src=\"https://cdn.nlark.com/yuque/0/2019/png/104361/1553520978790-be1d0a79-07eb-408a-b261-b9be01186024.png#align=left&amp;display=inline&amp;height=375&amp;name=image.png&amp;originHeight=750&amp;originWidth=1384&amp;size=331071&amp;status=done&amp;width=692\" alt=\"image.png\"><br>160</p>\n<p><a name=\"0aff8430\"></a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<p><a name=\"258c8519\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>312 ~ 15 Dataprocess315<br></p>\n<ol>\n<li>ArrayBlockingQueueLinkedBlockingQueue</li>\n<li>DiscardPolicyDiscardOldestPolicypoll</li>\n<li></li>\n</ol>\n<p><a name=\"722d8e0f\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><a name=\"52e514c1\"></a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>tsar <br><img src=\"https://cdn.nlark.com/yuque/0/2019/png/104361/1553507935197-8e95d494-47bf-4d22-97d6-548945fd18ea.png#align=left&amp;display=inline&amp;height=300&amp;name=image.png&amp;originHeight=384&amp;originWidth=956&amp;size=119399&amp;status=done&amp;width=746\" alt=\"image.png\"><br>load8core cpuload<br><img src=\"https://cdn.nlark.com/yuque/0/2019/png/104361/1553507967263-1ff8e52b-aafc-4b58-921d-947f3a7d3125.png#align=left&amp;display=inline&amp;height=244&amp;name=image.png&amp;originHeight=370&amp;originWidth=1130&amp;size=176313&amp;status=done&amp;width=745\" alt=\"image.png\"><br><br><img src=\"https://cdn.nlark.com/yuque/0/2019/png/104361/1553508026297-6ee1935f-98f8-43f8-83b2-42da9faeeed2.png#align=left&amp;display=inline&amp;height=151&amp;name=image.png&amp;originHeight=368&amp;originWidth=1822&amp;size=168486&amp;status=done&amp;width=746\" alt=\"image.png\"><br>io</p>\n<p>jvmjvm<br><br> 10G-Xms<br> 10G-Xmx<br>4G-Xmn<br>256m -XX:MetaspaceSize<br>512m -XX:MaxMetaspaceSize</p>\n<p><a name=\"b5a52648\"></a></p>\n<h4 id=\"Jstack\"><a href=\"#Jstack\" class=\"headerlink\" title=\"Jstack\"></a>Jstack</h4><p>jstack<br><img src=\"https://cdn.nlark.com/yuque/0/2019/png/104361/1553510300293-c8173e97-09fd-41a5-ab38-c8c91976834f.png#align=left&amp;display=inline&amp;height=443&amp;name=image.png&amp;originHeight=885&amp;originWidth=2000&amp;size=514798&amp;status=done&amp;width=1000\" alt=\"image.png\"></p>\n<p>  69%blocked<br><img src=\"https://cdn.nlark.com/yuque/0/2019/png/104361/1553510331156-ccad2748-8d71-4b8a-accc-62d6acdfaaf8.png#align=left&amp;display=inline&amp;height=375&amp;name=image.png&amp;originHeight=749&amp;originWidth=2000&amp;size=462845&amp;status=done&amp;width=1000\" alt=\"image.png\"><br>HSFBizProcessorBlockedlog-handler-threadblocked</p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2019/png/104361/1553510391861-aa83d7a9-85af-4980-94e0-0876c73d26ed.png#align=left&amp;display=inline&amp;height=142&amp;name=image.png&amp;originHeight=284&amp;originWidth=2000&amp;size=335659&amp;status=done&amp;width=1000\" alt=\"image.png\"></p>\n<p>blockedHSF</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">HSFBizProcessor-DEFAULT-12-thread-1673 - priority:10 - threadId:0x0000000006d32000 - nativeId:0x4f72 - nativeId (decimal):20338 - state:BLOCKED</span><br><span class=\"line\">stackTrace:</span><br><span class=\"line\">java.lang.Thread.State: BLOCKED (on object monitor)</span><br><span class=\"line\">at java.util.Arrays.copyOf(Arrays.java:3181)</span><br><span class=\"line\">at java.text.DateFormatSymbols.getShortMonths(DateFormatSymbols.java:433)</span><br><span class=\"line\">at java.util.Calendar.getFieldStrings(Calendar.java:2241)</span><br><span class=\"line\">at java.util.Calendar.getDisplayName(Calendar.java:2111)</span><br><span class=\"line\">at java.text.SimpleDateFormat.subFormat(SimpleDateFormat.java:1125)</span><br><span class=\"line\">at java.text.SimpleDateFormat.format(SimpleDateFormat.java:966)</span><br><span class=\"line\">at java.text.SimpleDateFormat.format(SimpleDateFormat.java:936)</span><br><span class=\"line\">at java.text.DateFormat.format(DateFormat.java:345)</span><br><span class=\"line\">at ch.qos.logback.core.util.CachingDateFormatter.format(CachingDateFormatter.java:48)</span><br><span class=\"line\">- locked &lt;0x00000006223577e8&gt; (a ch.qos.logback.core.util.CachingDateFormatter)</span><br><span class=\"line\">at ch.qos.logback.classic.pattern.DateConverter.convert(DateConverter.java:61)</span><br><span class=\"line\">at ch.qos.logback.classic.pattern.DateConverter.convert(DateConverter.java:23)</span><br><span class=\"line\">at ch.qos.logback.core.pattern.FormattingConverter.write(FormattingConverter.java:36)</span><br><span class=\"line\">at ch.qos.logback.core.pattern.PatternLayoutBase.writeLoopOnConverters(PatternLayoutBase.java:115)</span><br><span class=\"line\">at ch.qos.logback.classic.PatternLayout.doLayout(PatternLayout.java:141)</span><br><span class=\"line\">at ch.qos.logback.classic.PatternLayout.doLayout(PatternLayout.java:39)</span><br><span class=\"line\">at ch.qos.logback.core.encoder.LayoutWrappingEncoder.encode(LayoutWrappingEncoder.java:115)</span><br><span class=\"line\">at ch.qos.logback.core.OutputStreamAppender.subAppend(OutputStreamAppender.java:230)</span><br><span class=\"line\">at ch.qos.logback.core.rolling.RollingFileAppender.subAppend(RollingFileAppender.java:235)</span><br><span class=\"line\">at ch.qos.logback.core.OutputStreamAppender.append(OutputStreamAppender.java:102)</span><br><span class=\"line\">at ch.qos.logback.core.UnsynchronizedAppenderBase.doAppend(UnsynchronizedAppenderBase.java:84)</span><br><span class=\"line\">at ch.qos.logback.core.spi.AppenderAttachableImpl.appendLoopOnAppendersForStructLog(AppenderAttachableImpl.java:54)</span><br><span class=\"line\">at ch.qos.logback.classic.Logger.appendLoopOnAppenders(Logger.java:273)</span><br><span class=\"line\">at ch.qos.logback.classic.Logger.callAppenders(Logger.java:260)</span><br><span class=\"line\">at ch.qos.logback.classic.Logger.buildLoggingEventAndAppend(Logger.java:424)</span><br><span class=\"line\">at ch.qos.logback.classic.Logger.filterAndLog_0_Or3Plus(Logger.java:386)</span><br><span class=\"line\">at ch.qos.logback.classic.Logger.info(Logger.java:582)</span><br><span class=\"line\">....</span><br><span class=\"line\">at sun.reflect.GeneratedMethodAccessor134.invoke(Unknown Source)</span><br><span class=\"line\">at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)</span><br><span class=\"line\">at java.lang.reflect.Method.invoke(Method.java:498)</span><br><span class=\"line\">at com.taobao.hsf.remoting.provider.ReflectInvocationHandler.handleRequest0(ReflectInvocationHandler.java:84)</span><br><span class=\"line\">at com.taobao.hsf.remoting.provider.ReflectInvocationHandler.invoke(ReflectInvocationHandler.java:164)</span><br><span class=\"line\">at com.taobao.hsf2dubbo.DubboServerFilterAsyncInvocationHandlerInterceptor.invoke(DubboServerFilterAsyncInvocationHandlerInterceptor.java:54)</span><br><span class=\"line\">at com.taobao.hsf.invocation.filter.RPCFilterBuilder$TailNode.invoke(RPCFilterBuilder.java:280)</span><br><span class=\"line\">at com.taobao.hsf.debug.DebugServerFilter.invoke(DebugServerFilter.java:25)</span><br><span class=\"line\">at com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)</span><br><span class=\"line\">at com.taobao.hsf.plugins.spas.SpasServerFilter.invoke(SpasServerFilter.java:143)</span><br><span class=\"line\">at com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)</span><br><span class=\"line\">at com.taobao.hsf.edas.tps.component.WhiteListServerFilter.invoke(WhiteListServerFilter.java:67)</span><br><span class=\"line\">at com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)</span><br><span class=\"line\">at com.taobao.hsf.tps.component.TPSServerFilter.invoke(TPSServerFilter.java:68)</span><br><span class=\"line\">at com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)</span><br><span class=\"line\">at com.taobao.hsf.edas.tps.component.TPSServerFilter.invoke(TPSServerFilter.java:67)</span><br><span class=\"line\">at com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)</span><br><span class=\"line\">at com.taobao.hsf.invocation.stats.InvocationStatsServerFilter.invoke(InvocationStatsServerFilter.java:47)</span><br><span class=\"line\">at com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)</span><br><span class=\"line\">at com.taobao.hsf.monitor.log.filter.MonitorLogServerFilter.invoke(MonitorLogServerFilter.java:45)</span><br><span class=\"line\">at com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)</span><br><span class=\"line\">at com.taobao.hsf.profiler.ProfilerServerFilter.invoke(ProfilerServerFilter.java:32)</span><br><span class=\"line\">at com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)</span><br><span class=\"line\">at com.taobao.hsf.plugins.eagleeye.EagleEyeServerFilter.invoke(EagleEyeServerFilter.java:66)</span><br><span class=\"line\">at com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)</span><br><span class=\"line\">at com.taobao.hsf.rpc.server.MethodAbsenceFilter.invoke(MethodAbsenceFilter.java:48)</span><br><span class=\"line\">at com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)</span><br><span class=\"line\">at com.taobao.hsf.rpc.server.EchoFilter.invoke(EchoFilter.java:45)</span><br><span class=\"line\">at com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)</span><br><span class=\"line\">at com.taobao.hsf.rpc.generic.GenericInvocationServerFilter.invoke(GenericInvocationServerFilter.java:106)</span><br><span class=\"line\">at com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)</span><br><span class=\"line\">at com.taobao.hsf2dubbo.DubboGenericServerFilter.invoke(DubboGenericServerFilter.java:36)</span><br><span class=\"line\">at com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)</span><br><span class=\"line\">at com.taobao.hsf.rpc.server.ServiceAbsenceFilter.invoke(ServiceAbsenceFilter.java:47)</span><br><span class=\"line\">at com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)</span><br><span class=\"line\">at com.taobao.hsf.common.filter.CommonServerFilter.invoke(CommonServerFilter.java:24)</span><br><span class=\"line\">at com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)</span><br><span class=\"line\">at com.taobao.hsf2dubbo.context.DubboRPCContextServerFilter.invoke(DubboRPCContextServerFilter.java:48)</span><br><span class=\"line\">at com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)</span><br><span class=\"line\">at com.taobao.hsf.context.RPCContextServerFilter.invoke(RPCContextServerFilter.java:39)</span><br><span class=\"line\">at com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)</span><br><span class=\"line\">at com.taobao.hsf.invocation.filter.RPCFilterBuilder$HeadNode.invoke(RPCFilterBuilder.java:246)</span><br><span class=\"line\">at com.taobao.hsf.invocation.filter.FilterInvocationHandler.invoke(FilterInvocationHandler.java:28)</span><br><span class=\"line\">at com.taobao.hsf.remoting.provider.ServerContextInvocationHandler.invoke(ServerContextInvocationHandler.java:35)</span><br><span class=\"line\">at com.taobao.hsf.remoting.provider.ProviderProcessor.handleRequest(ProviderProcessor.java:52)</span><br><span class=\"line\">at com.taobao.hsf.io.remoting.hsf.message.HSFServerHandler$1.run(HSFServerHandler.java:177)</span><br><span class=\"line\">at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1152)</span><br><span class=\"line\">at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:627)</span><br><span class=\"line\">at java.lang.Thread.run(Thread.java:882)</span><br></pre></td></tr></table></figure>\n<p>blocktransport-api hanler<br><img src=\"https://cdn.nlark.com/yuque/0/2019/png/104361/1553510475994-942259f9-f93a-4089-8510-1007c06a1cd4.png#align=left&amp;display=inline&amp;height=346&amp;name=image.png&amp;originHeight=692&amp;originWidth=1788&amp;size=680633&amp;status=done&amp;width=894\" alt=\"image.png\"></p>\n<p>CachingDateFormatterSimpleDateFormat </p>\n<p><a name=\"71b33d03\"></a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>transport-api</li>\n<li>-AsyncAppenderRollingFileAppender</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2019/png/104361/1553521107922-304a7a22-3f14-4920-bb2a-0f2f802cc3fe.png#align=left&amp;display=inline&amp;height=374&amp;name=image.png&amp;originHeight=748&amp;originWidth=1478&amp;size=881357&amp;status=done&amp;width=739\" alt=\"image.png\"></p>\n<p></p>\n<p><br><img src=\"https://cdn.nlark.com/yuque/0/2019/png/104361/1553520842927-d75f27b2-8d65-4122-838a-637fe8a8f06d.png#align=left&amp;display=inline&amp;height=325&amp;name=image.png&amp;originHeight=650&amp;originWidth=1292&amp;size=232677&amp;status=done&amp;width=646\" alt=\"image.png\"></p>\n<p>jstackjstack 184019</p>\n<p>qps<br><img src=\"https://cdn.nlark.com/yuque/0/2019/png/104361/1553520885065-2f331c65-4c83-485a-800e-624cf259b34f.png#align=left&amp;display=inline&amp;height=238&amp;name=image.png&amp;originHeight=476&amp;originWidth=1500&amp;size=331575&amp;status=done&amp;width=750\" alt=\"image.png\"></p>\n<p><a name=\"9e497c48\"></a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>agent</p>\n<p><a name=\"915db64d\"></a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>AHAS </li>\n</ul>\n<p>SLA:</p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2019/png/104361/1552975918909-f06b3f7c-0b3e-4b2b-ba67-a95fa643e574.png#align=left&amp;display=inline&amp;height=352&amp;name=image.png&amp;originHeight=704&amp;originWidth=2246&amp;size=340212&amp;status=done&amp;width=1123\" alt=\"image.png\"></p>\n<p>offlinejstack</p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2019/png/104361/1552976809337-e3bdae4a-7539-433a-9dd6-4261c6527c8b.png#align=left&amp;display=inline&amp;height=220&amp;name=image.png&amp;originHeight=440&amp;originWidth=2178&amp;size=332568&amp;status=done&amp;width=1089\" alt=\"image.png\"><br>hsfjstack </p>\n<p></p>\n<ul>\n<li></li>\n</ul>\n<p><a name=\"4a1602db\"></a></p>\n<h4 id=\"GC\"><a href=\"#GC\" class=\"headerlink\" title=\"GC\"></a>GC</h4><p>GC<br><img src=\"https://cdn.nlark.com/yuque/0/2019/png/104361/1553510944011-8128b5a2-5a3e-4452-a559-a33651c2fde4.png#align=left&amp;display=inline&amp;height=494&amp;name=image.png&amp;originHeight=987&amp;originWidth=2000&amp;size=383029&amp;status=done&amp;width=1000\" alt=\"image.png\"><br>fgcfgcold gc<br><br>jmap<br><img src=\"https://cdn.nlark.com/yuque/0/2019/png/104361/1553521339182-edde4ea1-1868-4c42-b641-da11d0b9341c.png#align=left&amp;display=inline&amp;height=368&amp;name=image.png&amp;originHeight=736&amp;originWidth=1480&amp;size=589499&amp;status=done&amp;width=740\" alt=\"image.png\"><br><br>ots3GOTSclient</p>\n<p><a name=\"9a39e603\"></a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>OTStablestoreWriteAyncClientbuffer</p>\n<ol>\n<li>AyncClient</li>\n<li>tablestoreWriteRingBuffer</li>\n</ol>\n<p><a name=\"216c0e94\"></a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>OTShangblock<br><img src=\"https://cdn.nlark.com/yuque/0/2019/png/104361/1553521398649-dfe5511c-8d94-4f44-a50f-c15f86e35fb5.png#align=left&amp;display=inline&amp;height=265&amp;name=image.png&amp;originHeight=530&amp;originWidth=1538&amp;size=378791&amp;status=done&amp;width=769\" alt=\"image.png\"></p>\n<p> jstack<br><img src=\"https://cdn.nlark.com/yuque/0/2019/png/104361/1553076983556-e1aa1249-0711-4f7c-9986-27dc6a52cf54.png#align=left&amp;display=inline&amp;height=346&amp;name=image.png&amp;originHeight=692&amp;originWidth=1284&amp;size=281191&amp;status=done&amp;width=642\" alt=\"image.png\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2019/png/104361/1553521506624-1e2cd35c-105f-4237-b2f0-9aff7fdab0a0.png#align=left&amp;display=inline&amp;height=252&amp;name=image.png&amp;originHeight=504&amp;originWidth=1476&amp;size=492669&amp;status=done&amp;width=738\" alt=\"image.png\"></p>\n<p></p>\n<ul>\n<li>  </li>\n<li>otsblock</li>\n<li>TableStoreWriter</li>\n</ul>\n<p>offlinehang</p>\n<p>OTSreviewRingBufferDiscardPolicyhang<br><img src=\"https://cdn.nlark.com/yuque/0/2019/png/104361/1553154377682-13135f96-d88e-49fb-8eb6-07508cc6559f.png#align=left&amp;display=inline&amp;height=136&amp;name=image.png&amp;originHeight=271&amp;originWidth=1558&amp;size=336841&amp;status=done&amp;width=779\" alt=\"image.png\"><br>discardhangOTSRingBufferSemaphoreexecutorhangOTS Clientbug</p>\n<p><a name=\"83616992\"></a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>1</li>\n<li>0ots</li>\n</ul>\n<p><a name=\"8c9d507e\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p><a name=\"1917fd08\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>top  # CPUMem<br>top -Hp pid #cpu pidnidprintf 0x%x<br>iostat -d -k 1 10 # IO<br>tsar cpu  mem traffic  io  #tsar<br>jmap -histo:live pid | head -20  #20<br>jstack pid &gt; jstack.log # fastthread.io<br>jstat gcutil [pid] 1000 10 # gc</p>\n<p><a name=\"1b3b6b96\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><a href=\"https://gceasy.io/\" target=\"_blank\" rel=\"noopener\">https://gceasy.io/</a>         gc<br><a href=\"https://fastthread.io/\" target=\"_blank\" rel=\"noopener\">https://fastthread.io/</a>    <br><a href=\"https://github.com/alibaba/arthas\" target=\"_blank\" rel=\"noopener\">https://github.com/alibaba/arthas</a>  Arthas;</p>\n","site":{"data":{}},"excerpt":"<p><a name=\"fa77ab6c\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>38<br><img src=\"https://cdn.nlark.com/yuque/0/2019/png/104361/1553507051995-7cce4dc5-7479-4a82-bf77-a8b48fb4928d.png#align=left&amp;display=inline&amp;height=241&amp;name=image.png&amp;originHeight=245&amp;originWidth=722&amp;size=135506&amp;status=done&amp;width=711\" alt=\"image.png\"><br>CPU</p>\n<p>HSFHSF<br>","more":"<br><img src=\"https://cdn.nlark.com/yuque/0/2019/png/104361/1553520952926-7421d58c-8fe0-45ff-a091-5bad1bc04a8f.png#align=left&amp;display=inline&amp;height=288&amp;name=image.png&amp;originHeight=576&amp;originWidth=1428&amp;size=450665&amp;status=done&amp;width=714\" alt=\"image.png\"></p>\n<p><br><img src=\"https://cdn.nlark.com/yuque/0/2019/png/104361/1553520978790-be1d0a79-07eb-408a-b261-b9be01186024.png#align=left&amp;display=inline&amp;height=375&amp;name=image.png&amp;originHeight=750&amp;originWidth=1384&amp;size=331071&amp;status=done&amp;width=692\" alt=\"image.png\"><br>160</p>\n<p><a name=\"0aff8430\"></a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<p><a name=\"258c8519\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>312 ~ 15 Dataprocess315<br></p>\n<ol>\n<li>ArrayBlockingQueueLinkedBlockingQueue</li>\n<li>DiscardPolicyDiscardOldestPolicypoll</li>\n<li></li>\n</ol>\n<p><a name=\"722d8e0f\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><a name=\"52e514c1\"></a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>tsar <br><img src=\"https://cdn.nlark.com/yuque/0/2019/png/104361/1553507935197-8e95d494-47bf-4d22-97d6-548945fd18ea.png#align=left&amp;display=inline&amp;height=300&amp;name=image.png&amp;originHeight=384&amp;originWidth=956&amp;size=119399&amp;status=done&amp;width=746\" alt=\"image.png\"><br>load8core cpuload<br><img src=\"https://cdn.nlark.com/yuque/0/2019/png/104361/1553507967263-1ff8e52b-aafc-4b58-921d-947f3a7d3125.png#align=left&amp;display=inline&amp;height=244&amp;name=image.png&amp;originHeight=370&amp;originWidth=1130&amp;size=176313&amp;status=done&amp;width=745\" alt=\"image.png\"><br><br><img src=\"https://cdn.nlark.com/yuque/0/2019/png/104361/1553508026297-6ee1935f-98f8-43f8-83b2-42da9faeeed2.png#align=left&amp;display=inline&amp;height=151&amp;name=image.png&amp;originHeight=368&amp;originWidth=1822&amp;size=168486&amp;status=done&amp;width=746\" alt=\"image.png\"><br>io</p>\n<p>jvmjvm<br><br> 10G-Xms<br> 10G-Xmx<br>4G-Xmn<br>256m -XX:MetaspaceSize<br>512m -XX:MaxMetaspaceSize</p>\n<p><a name=\"b5a52648\"></a></p>\n<h4 id=\"Jstack\"><a href=\"#Jstack\" class=\"headerlink\" title=\"Jstack\"></a>Jstack</h4><p>jstack<br><img src=\"https://cdn.nlark.com/yuque/0/2019/png/104361/1553510300293-c8173e97-09fd-41a5-ab38-c8c91976834f.png#align=left&amp;display=inline&amp;height=443&amp;name=image.png&amp;originHeight=885&amp;originWidth=2000&amp;size=514798&amp;status=done&amp;width=1000\" alt=\"image.png\"></p>\n<p>  69%blocked<br><img src=\"https://cdn.nlark.com/yuque/0/2019/png/104361/1553510331156-ccad2748-8d71-4b8a-accc-62d6acdfaaf8.png#align=left&amp;display=inline&amp;height=375&amp;name=image.png&amp;originHeight=749&amp;originWidth=2000&amp;size=462845&amp;status=done&amp;width=1000\" alt=\"image.png\"><br>HSFBizProcessorBlockedlog-handler-threadblocked</p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2019/png/104361/1553510391861-aa83d7a9-85af-4980-94e0-0876c73d26ed.png#align=left&amp;display=inline&amp;height=142&amp;name=image.png&amp;originHeight=284&amp;originWidth=2000&amp;size=335659&amp;status=done&amp;width=1000\" alt=\"image.png\"></p>\n<p>blockedHSF</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">HSFBizProcessor-DEFAULT-12-thread-1673 - priority:10 - threadId:0x0000000006d32000 - nativeId:0x4f72 - nativeId (decimal):20338 - state:BLOCKED</span><br><span class=\"line\">stackTrace:</span><br><span class=\"line\">java.lang.Thread.State: BLOCKED (on object monitor)</span><br><span class=\"line\">at java.util.Arrays.copyOf(Arrays.java:3181)</span><br><span class=\"line\">at java.text.DateFormatSymbols.getShortMonths(DateFormatSymbols.java:433)</span><br><span class=\"line\">at java.util.Calendar.getFieldStrings(Calendar.java:2241)</span><br><span class=\"line\">at java.util.Calendar.getDisplayName(Calendar.java:2111)</span><br><span class=\"line\">at java.text.SimpleDateFormat.subFormat(SimpleDateFormat.java:1125)</span><br><span class=\"line\">at java.text.SimpleDateFormat.format(SimpleDateFormat.java:966)</span><br><span class=\"line\">at java.text.SimpleDateFormat.format(SimpleDateFormat.java:936)</span><br><span class=\"line\">at java.text.DateFormat.format(DateFormat.java:345)</span><br><span class=\"line\">at ch.qos.logback.core.util.CachingDateFormatter.format(CachingDateFormatter.java:48)</span><br><span class=\"line\">- locked &lt;0x00000006223577e8&gt; (a ch.qos.logback.core.util.CachingDateFormatter)</span><br><span class=\"line\">at ch.qos.logback.classic.pattern.DateConverter.convert(DateConverter.java:61)</span><br><span class=\"line\">at ch.qos.logback.classic.pattern.DateConverter.convert(DateConverter.java:23)</span><br><span class=\"line\">at ch.qos.logback.core.pattern.FormattingConverter.write(FormattingConverter.java:36)</span><br><span class=\"line\">at ch.qos.logback.core.pattern.PatternLayoutBase.writeLoopOnConverters(PatternLayoutBase.java:115)</span><br><span class=\"line\">at ch.qos.logback.classic.PatternLayout.doLayout(PatternLayout.java:141)</span><br><span class=\"line\">at ch.qos.logback.classic.PatternLayout.doLayout(PatternLayout.java:39)</span><br><span class=\"line\">at ch.qos.logback.core.encoder.LayoutWrappingEncoder.encode(LayoutWrappingEncoder.java:115)</span><br><span class=\"line\">at ch.qos.logback.core.OutputStreamAppender.subAppend(OutputStreamAppender.java:230)</span><br><span class=\"line\">at ch.qos.logback.core.rolling.RollingFileAppender.subAppend(RollingFileAppender.java:235)</span><br><span class=\"line\">at ch.qos.logback.core.OutputStreamAppender.append(OutputStreamAppender.java:102)</span><br><span class=\"line\">at ch.qos.logback.core.UnsynchronizedAppenderBase.doAppend(UnsynchronizedAppenderBase.java:84)</span><br><span class=\"line\">at ch.qos.logback.core.spi.AppenderAttachableImpl.appendLoopOnAppendersForStructLog(AppenderAttachableImpl.java:54)</span><br><span class=\"line\">at ch.qos.logback.classic.Logger.appendLoopOnAppenders(Logger.java:273)</span><br><span class=\"line\">at ch.qos.logback.classic.Logger.callAppenders(Logger.java:260)</span><br><span class=\"line\">at ch.qos.logback.classic.Logger.buildLoggingEventAndAppend(Logger.java:424)</span><br><span class=\"line\">at ch.qos.logback.classic.Logger.filterAndLog_0_Or3Plus(Logger.java:386)</span><br><span class=\"line\">at ch.qos.logback.classic.Logger.info(Logger.java:582)</span><br><span class=\"line\">....</span><br><span class=\"line\">at sun.reflect.GeneratedMethodAccessor134.invoke(Unknown Source)</span><br><span class=\"line\">at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)</span><br><span class=\"line\">at java.lang.reflect.Method.invoke(Method.java:498)</span><br><span class=\"line\">at com.taobao.hsf.remoting.provider.ReflectInvocationHandler.handleRequest0(ReflectInvocationHandler.java:84)</span><br><span class=\"line\">at com.taobao.hsf.remoting.provider.ReflectInvocationHandler.invoke(ReflectInvocationHandler.java:164)</span><br><span class=\"line\">at com.taobao.hsf2dubbo.DubboServerFilterAsyncInvocationHandlerInterceptor.invoke(DubboServerFilterAsyncInvocationHandlerInterceptor.java:54)</span><br><span class=\"line\">at com.taobao.hsf.invocation.filter.RPCFilterBuilder$TailNode.invoke(RPCFilterBuilder.java:280)</span><br><span class=\"line\">at com.taobao.hsf.debug.DebugServerFilter.invoke(DebugServerFilter.java:25)</span><br><span class=\"line\">at com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)</span><br><span class=\"line\">at com.taobao.hsf.plugins.spas.SpasServerFilter.invoke(SpasServerFilter.java:143)</span><br><span class=\"line\">at com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)</span><br><span class=\"line\">at com.taobao.hsf.edas.tps.component.WhiteListServerFilter.invoke(WhiteListServerFilter.java:67)</span><br><span class=\"line\">at com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)</span><br><span class=\"line\">at com.taobao.hsf.tps.component.TPSServerFilter.invoke(TPSServerFilter.java:68)</span><br><span class=\"line\">at com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)</span><br><span class=\"line\">at com.taobao.hsf.edas.tps.component.TPSServerFilter.invoke(TPSServerFilter.java:67)</span><br><span class=\"line\">at com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)</span><br><span class=\"line\">at com.taobao.hsf.invocation.stats.InvocationStatsServerFilter.invoke(InvocationStatsServerFilter.java:47)</span><br><span class=\"line\">at com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)</span><br><span class=\"line\">at com.taobao.hsf.monitor.log.filter.MonitorLogServerFilter.invoke(MonitorLogServerFilter.java:45)</span><br><span class=\"line\">at com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)</span><br><span class=\"line\">at com.taobao.hsf.profiler.ProfilerServerFilter.invoke(ProfilerServerFilter.java:32)</span><br><span class=\"line\">at com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)</span><br><span class=\"line\">at com.taobao.hsf.plugins.eagleeye.EagleEyeServerFilter.invoke(EagleEyeServerFilter.java:66)</span><br><span class=\"line\">at com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)</span><br><span class=\"line\">at com.taobao.hsf.rpc.server.MethodAbsenceFilter.invoke(MethodAbsenceFilter.java:48)</span><br><span class=\"line\">at com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)</span><br><span class=\"line\">at com.taobao.hsf.rpc.server.EchoFilter.invoke(EchoFilter.java:45)</span><br><span class=\"line\">at com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)</span><br><span class=\"line\">at com.taobao.hsf.rpc.generic.GenericInvocationServerFilter.invoke(GenericInvocationServerFilter.java:106)</span><br><span class=\"line\">at com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)</span><br><span class=\"line\">at com.taobao.hsf2dubbo.DubboGenericServerFilter.invoke(DubboGenericServerFilter.java:36)</span><br><span class=\"line\">at com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)</span><br><span class=\"line\">at com.taobao.hsf.rpc.server.ServiceAbsenceFilter.invoke(ServiceAbsenceFilter.java:47)</span><br><span class=\"line\">at com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)</span><br><span class=\"line\">at com.taobao.hsf.common.filter.CommonServerFilter.invoke(CommonServerFilter.java:24)</span><br><span class=\"line\">at com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)</span><br><span class=\"line\">at com.taobao.hsf2dubbo.context.DubboRPCContextServerFilter.invoke(DubboRPCContextServerFilter.java:48)</span><br><span class=\"line\">at com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)</span><br><span class=\"line\">at com.taobao.hsf.context.RPCContextServerFilter.invoke(RPCContextServerFilter.java:39)</span><br><span class=\"line\">at com.taobao.hsf.invocation.filter.RPCFilterNode.invoke(RPCFilterNode.java:71)</span><br><span class=\"line\">at com.taobao.hsf.invocation.filter.RPCFilterBuilder$HeadNode.invoke(RPCFilterBuilder.java:246)</span><br><span class=\"line\">at com.taobao.hsf.invocation.filter.FilterInvocationHandler.invoke(FilterInvocationHandler.java:28)</span><br><span class=\"line\">at com.taobao.hsf.remoting.provider.ServerContextInvocationHandler.invoke(ServerContextInvocationHandler.java:35)</span><br><span class=\"line\">at com.taobao.hsf.remoting.provider.ProviderProcessor.handleRequest(ProviderProcessor.java:52)</span><br><span class=\"line\">at com.taobao.hsf.io.remoting.hsf.message.HSFServerHandler$1.run(HSFServerHandler.java:177)</span><br><span class=\"line\">at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1152)</span><br><span class=\"line\">at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:627)</span><br><span class=\"line\">at java.lang.Thread.run(Thread.java:882)</span><br></pre></td></tr></table></figure>\n<p>blocktransport-api hanler<br><img src=\"https://cdn.nlark.com/yuque/0/2019/png/104361/1553510475994-942259f9-f93a-4089-8510-1007c06a1cd4.png#align=left&amp;display=inline&amp;height=346&amp;name=image.png&amp;originHeight=692&amp;originWidth=1788&amp;size=680633&amp;status=done&amp;width=894\" alt=\"image.png\"></p>\n<p>CachingDateFormatterSimpleDateFormat </p>\n<p><a name=\"71b33d03\"></a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>transport-api</li>\n<li>-AsyncAppenderRollingFileAppender</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2019/png/104361/1553521107922-304a7a22-3f14-4920-bb2a-0f2f802cc3fe.png#align=left&amp;display=inline&amp;height=374&amp;name=image.png&amp;originHeight=748&amp;originWidth=1478&amp;size=881357&amp;status=done&amp;width=739\" alt=\"image.png\"></p>\n<p></p>\n<p><br><img src=\"https://cdn.nlark.com/yuque/0/2019/png/104361/1553520842927-d75f27b2-8d65-4122-838a-637fe8a8f06d.png#align=left&amp;display=inline&amp;height=325&amp;name=image.png&amp;originHeight=650&amp;originWidth=1292&amp;size=232677&amp;status=done&amp;width=646\" alt=\"image.png\"></p>\n<p>jstackjstack 184019</p>\n<p>qps<br><img src=\"https://cdn.nlark.com/yuque/0/2019/png/104361/1553520885065-2f331c65-4c83-485a-800e-624cf259b34f.png#align=left&amp;display=inline&amp;height=238&amp;name=image.png&amp;originHeight=476&amp;originWidth=1500&amp;size=331575&amp;status=done&amp;width=750\" alt=\"image.png\"></p>\n<p><a name=\"9e497c48\"></a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>agent</p>\n<p><a name=\"915db64d\"></a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>AHAS </li>\n</ul>\n<p>SLA:</p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2019/png/104361/1552975918909-f06b3f7c-0b3e-4b2b-ba67-a95fa643e574.png#align=left&amp;display=inline&amp;height=352&amp;name=image.png&amp;originHeight=704&amp;originWidth=2246&amp;size=340212&amp;status=done&amp;width=1123\" alt=\"image.png\"></p>\n<p>offlinejstack</p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2019/png/104361/1552976809337-e3bdae4a-7539-433a-9dd6-4261c6527c8b.png#align=left&amp;display=inline&amp;height=220&amp;name=image.png&amp;originHeight=440&amp;originWidth=2178&amp;size=332568&amp;status=done&amp;width=1089\" alt=\"image.png\"><br>hsfjstack </p>\n<p></p>\n<ul>\n<li></li>\n</ul>\n<p><a name=\"4a1602db\"></a></p>\n<h4 id=\"GC\"><a href=\"#GC\" class=\"headerlink\" title=\"GC\"></a>GC</h4><p>GC<br><img src=\"https://cdn.nlark.com/yuque/0/2019/png/104361/1553510944011-8128b5a2-5a3e-4452-a559-a33651c2fde4.png#align=left&amp;display=inline&amp;height=494&amp;name=image.png&amp;originHeight=987&amp;originWidth=2000&amp;size=383029&amp;status=done&amp;width=1000\" alt=\"image.png\"><br>fgcfgcold gc<br><br>jmap<br><img src=\"https://cdn.nlark.com/yuque/0/2019/png/104361/1553521339182-edde4ea1-1868-4c42-b641-da11d0b9341c.png#align=left&amp;display=inline&amp;height=368&amp;name=image.png&amp;originHeight=736&amp;originWidth=1480&amp;size=589499&amp;status=done&amp;width=740\" alt=\"image.png\"><br><br>ots3GOTSclient</p>\n<p><a name=\"9a39e603\"></a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>OTStablestoreWriteAyncClientbuffer</p>\n<ol>\n<li>AyncClient</li>\n<li>tablestoreWriteRingBuffer</li>\n</ol>\n<p><a name=\"216c0e94\"></a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>OTShangblock<br><img src=\"https://cdn.nlark.com/yuque/0/2019/png/104361/1553521398649-dfe5511c-8d94-4f44-a50f-c15f86e35fb5.png#align=left&amp;display=inline&amp;height=265&amp;name=image.png&amp;originHeight=530&amp;originWidth=1538&amp;size=378791&amp;status=done&amp;width=769\" alt=\"image.png\"></p>\n<p> jstack<br><img src=\"https://cdn.nlark.com/yuque/0/2019/png/104361/1553076983556-e1aa1249-0711-4f7c-9986-27dc6a52cf54.png#align=left&amp;display=inline&amp;height=346&amp;name=image.png&amp;originHeight=692&amp;originWidth=1284&amp;size=281191&amp;status=done&amp;width=642\" alt=\"image.png\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2019/png/104361/1553521506624-1e2cd35c-105f-4237-b2f0-9aff7fdab0a0.png#align=left&amp;display=inline&amp;height=252&amp;name=image.png&amp;originHeight=504&amp;originWidth=1476&amp;size=492669&amp;status=done&amp;width=738\" alt=\"image.png\"></p>\n<p></p>\n<ul>\n<li>  </li>\n<li>otsblock</li>\n<li>TableStoreWriter</li>\n</ul>\n<p>offlinehang</p>\n<p>OTSreviewRingBufferDiscardPolicyhang<br><img src=\"https://cdn.nlark.com/yuque/0/2019/png/104361/1553154377682-13135f96-d88e-49fb-8eb6-07508cc6559f.png#align=left&amp;display=inline&amp;height=136&amp;name=image.png&amp;originHeight=271&amp;originWidth=1558&amp;size=336841&amp;status=done&amp;width=779\" alt=\"image.png\"><br>discardhangOTSRingBufferSemaphoreexecutorhangOTS Clientbug</p>\n<p><a name=\"83616992\"></a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>1</li>\n<li>0ots</li>\n</ul>\n<p><a name=\"8c9d507e\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p><a name=\"1917fd08\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>top  # CPUMem<br>top -Hp pid #cpu pidnidprintf 0x%x<br>iostat -d -k 1 10 # IO<br>tsar cpu  mem traffic  io  #tsar<br>jmap -histo:live pid | head -20  #20<br>jstack pid &gt; jstack.log # fastthread.io<br>jstat gcutil [pid] 1000 10 # gc</p>\n<p><a name=\"1b3b6b96\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><a href=\"https://gceasy.io/\" target=\"_blank\" rel=\"noopener\">https://gceasy.io/</a>         gc<br><a href=\"https://fastthread.io/\" target=\"_blank\" rel=\"noopener\">https://fastthread.io/</a>    <br><a href=\"https://github.com/alibaba/arthas\" target=\"_blank\" rel=\"noopener\">https://github.com/alibaba/arthas</a>  Arthas;</p>"},{"layout":"post","title":"Redis","description":null,"keywords":"redis pool ","date":"2016-06-01T16:00:00.000Z","_content":"\n>\n\n>RedisRedisServerTCP ESTABLISHED400minIdle=400redisRedisServer10000\n\n## \n* TCP4\n* RedisServer\n\n## \n###  \n JedisJedisClusterclose\n\n\n```java\n@Override\npublic void close() throws IOException {\n  if (connectionHandler != null) {\n    for (JedisPool pool : connectionHandler.getNodes().values()) {\n      try {\n        if (pool != null) {\n          pool.destroy();\n        }\n      } catch (Exception e) {\n        // pass\n      }\n    }\n  }\n}\n```\n\nspringdestroy-method\n\n\n    \n    \n    \n    \n    \n    \n    \nspringdestroy-method\n\n* org.springframework.context.support.AbstractApplicationContext.close()\n* org.springframework.context.support.AbstractApplicationContext.registerShutdownHook()killkill -9 shutdownHook\n\n\n```java\npublic void registerShutdownHook() {\n   if (this.shutdownHook == null) {\n      // No shutdown hook registered yet.\n      this.shutdownHook = new Thread() {\n         @Override\n         public void run() {\n            doClose();\n         }\n      };\n      Runtime.getRuntime().addShutdownHook(this.shutdownHook);\n   }\n}\n```\n\ncheckSpringdestroy-methoddubboMaindubboSpringDubbo(com.alibaba.dubbo.container.Main)\n\n\n```java\nif(\"true\".equals(System.getProperty(\"dubbo.shutdown.hook\"))) {\n    Runtime.getRuntime().addShutdownHook(new Thread() {\n        public void run() {\n            Iterator i$ = var8.iterator();\n\n            while(i$.hasNext()) {\n                Container container = (Container)i$.next();\n\n                try {\n                    container.stop();\n                    Main.logger.info(\"Dubbo \" + container.getClass().getSimpleName() + \" stopped!\");\n                } catch (Throwable var6) {\n                    Main.logger.error(var6.getMessage(), var6);\n                }\n\n                Class t = Main.class;\n                synchronized(Main.class) {\n                    Main.running = false;\n                    Main.class.notify();\n                }\n            }\n\n        }\n    });\n}\n```\n\n-Ddubbo.shutdown.hook=trueJvmcontainer.stop()containercom.alibaba.dubbo.container.spring.SpringContainer\n\n\n```java\npublic class SpringContainer implements Container {\n    private static final Logger logger = LoggerFactory.getLogger(SpringContainer.class);\n    public static final String SPRING_CONFIG = \"dubbo.spring.config\";\n    public static final String DEFAULT_SPRING_CONFIG = \"classpath*:META-INF/spring/*.xml\";\n    static ClassPathXmlApplicationContext context;\n\n    public SpringContainer() {\n    }\n\n    public static ClassPathXmlApplicationContext getContext() {\n        return context;\n    }\n\n    public void start() {\n        String configPath = ConfigUtils.getProperty(\"dubbo.spring.config\");\n        if(configPath == null || configPath.length() == 0) {\n            configPath = \"classpath*:META-INF/spring/*.xml\";\n        }\n\n        context = new ClassPathXmlApplicationContext(configPath.split(\"[,\\s]+\"));\n        context.start();\n    }\n\n    public void stop() {\n        try {\n            if(context != null) {\n                context.stop();\n                context.close();\n                context = null;\n            }\n        } catch (Throwable var2) {\n            logger.error(var2.getMessage(), var2);\n        }\n\n    }\n}\n```\n\nspringContainerstopspring-contextclosebeandestroy-method-Ddubbo.shutdown.hook=true\n\n \n\n>Redis\n\ntcpdump + wiresharkwiresharkredisgithubredis[http://blog.cheyo.net/257.html](http://blog.cheyo.net/257.html)????RedisServerRedisServier\n\n\n```shell\ntcpdump -nnnvvv -s0 -X port 6379 and host 10.163.242.152 -i eth0 -w xxx.wap\n netstat -anp |grep 10.163.242.152 | wc -l\n\n```\n\n\n\nJedisCusterminIdle1destroy-method\n\n1.  6TCPTCP32TCP\n\n![](https://gw.alipayobjects.com/zos/skylark/e83ac639-7c60-469a-8afa-96bc5718fb9f/2018/png/e5579d08-d8f9-45bd-bea9-2fdc7c3998e0.png)\n\n2.  JedisClustercloseRedisServeQuitRedisServerOKRedisServerFINACKRSTRedisServerJedisClsuterRedisServerRST\n\n![](https://gw.alipayobjects.com/zos/skylark/c371065a-7854-4479-b949-0de42a46ec54/2018/png/398cf6c3-e256-4025-9f3e-8a1a4a07385c.png)\n\n \n\n(1). TCP4RST\n\n(2).JedisClusterclose-Ddubbo.shutdown.hook=true\n\n(2)kill -9 JVMClientRedisServerRSTOSRedisServerSBClientServer\n\nkill -9:\n\n![](https://gw.alipayobjects.com/zos/skylark/6e148bf3-cf0e-448c-9d80-a5d7eaaae54b/2018/png/363b4efc-3011-4ff8-bf9f-5e81f316e7c3.png)\n\n(1)closeClientServerRSTJedisCluser\n\nredis.clients.jedis.Connection#connect\n\n```java\nsocket = new Socket();\n// ->@wjw_add\nsocket.setReuseAddress(true);\nsocket.setKeepAlive(true); // Will monitor the TCP connection is\n// valid\nsocket.setTcpNoDelay(true); // Socket buffer Whetherclosed, to\n// ensure timely delivery of data\nsocket.setSoLinger(true, 0); // Control calls close () method,\n// the underlying socket is closed\n// immediately\n// <-@wjw_add\n```\n\nJedisSocketsocket.setSoLinger(true, 0); socketcloseFINRST\n\nJedis\n\nTCPTCP4\n\n>ClientFINServerFINClientSocketACKClientClientFIN_WAITServerFINServerClientFINClientClientFINServerACKTIME_WAITServerACKServerACKClient2MSLServerClientOkTCP\n\nTCP\n\n![](https://gw.alipayobjects.com/zos/skylark/871df9be-0d09-4449-a858-b302159aeff2/2018/png/d4bf9da8-6201-40a4-82a8-34bf4c97c39d.png)\n\n****\n     \n     TCPTIME-WAITRSTGGJedis\n\n```java\nControl calls close () method,\n// the underlying socket is closed\n// immediately\n```\n\n RST\n\n[http://xiaoz5919.iteye.com/blog/1685138](http://xiaoz5919.iteye.com/blog/1685138)\n\nhttp://docs.oracle.com/javase/1.5.0/docs/guide/net/articles/connection](http://docs.oracle.com/javase/1.5.0/docs/guide/net/articles/connection)\n\n     TCP4JVMDdubbo.shutdown.hook=true\n\n### \n\nRedisServer\n\n  RedisServe\n\n\n```java\n# Close the connection after a client is idle for N seconds (0 to disable)\ntimeout 0\n```\n\nRedisServerN secondsidel00600Server\n\nJedis   \n\n![](https://gw.alipayobjects.com/zos/skylark/5d473e6b-6c35-4da3-9b34-16e253bea9b4/2018/png/94eb98c1-e1b2-426d-9a4a-ee38ce3aa64f.png)\n\nmget)\n\n\n\n```java\nredis.clients.jedis.exceptions.JedisClusterMaxRedirectionsException: Too many Cluster redirections?\n```\n\nCheckRedis1.3GRedisRedis-DBRedis-DBkeykey350M\n\nRedis-DB\n\n![](https://gw.alipayobjects.com/zos/skylark/9bad20ef-a810-4977-96ab-ec29b47791cf/2018/png/87ba7148-e01a-4fe0-bd05-95e17cbab107.png)\n\n\nRedis-DB\n\n![](https://gw.alipayobjects.com/zos/skylark/0de79097-cb5a-4be1-a347-cc768552f1e8/2018/png/be1e459a-944e-4044-bb7a-bec234f052bc.png)\n\n SBjedis20smsClientServerJedisServerJedis\n\n\n[https://github.com/xetorthio/jedis/issues/965](https://github.com/xetorthio/jedis/issues/965)RedisServer1. 2. RedisServerClient\n\n1.  RedisServertimeout = 0\n\n2.  Client\n\n1221\n\n\n```java\n\nprivate JedisPoolConfig getJedisPoolConfig(int redisMaxTotal, int redisMinIdle, int redisMaxWaitTime, int redisMaxIdle, boolean redisTestOnBorrow) {\n    JedisPoolConfig poolConfig = new JedisPoolConfig();\n    //, 20\n    poolConfig.setMaxTotal(redisMaxTotal);\n    //, 0\n    poolConfig.setMinIdle(redisMinIdle);\n    //(BlockWhenExhausted), , :,  - 1\n    poolConfig.setMaxWaitMillis(redisMaxWaitTime);\n    //, 20\n    poolConfig.setMaxIdle(redisMaxIdle);\n    //, false\n    poolConfig.setTestOnBorrow(redisTestOnBorrow);\n    poolConfig.setTestOnReturn(Boolean.FALSE);\n    //, false\n    poolConfig.setTestWhileIdle(Boolean.TRUE);\n    // 1800000(30)\n    poolConfig.setMinEvictableIdleTimeMillis(1800000);\n    //  : idleObjects.size / abs(n), 3\n    poolConfig.setNumTestsPerEvictionRun(3);\n    //,  >   > , MinEvictableIdleTimeMillis ()\n    poolConfig.setSoftMinEvictableIdleTimeMillis(1800000);\n    //() , ,  - 1\n    poolConfig.setTimeBetweenEvictionRunsMillis(60000);\n    return poolConfig;\n}\n```\n\n\n\n\n## \n\nsetTestWhileIdle(Boolean.True)setTimeBetweenEvictionRunsMillis(xxx) \n\nVIPRedisServertimeout0Kill -9Server\n\n\n\n","source":"_posts/Redis/2016-06-02-redis-conn-pool.md","raw":"---\nlayout: post\ntitle: Redis\ncategories: Redis\ndescription:\nkeywords: redis pool \ndate: 2016-06-02\n---\n\n>\n\n>RedisRedisServerTCP ESTABLISHED400minIdle=400redisRedisServer10000\n\n## \n* TCP4\n* RedisServer\n\n## \n###  \n JedisJedisClusterclose\n\n\n```java\n@Override\npublic void close() throws IOException {\n  if (connectionHandler != null) {\n    for (JedisPool pool : connectionHandler.getNodes().values()) {\n      try {\n        if (pool != null) {\n          pool.destroy();\n        }\n      } catch (Exception e) {\n        // pass\n      }\n    }\n  }\n}\n```\n\nspringdestroy-method\n\n\n    \n    \n    \n    \n    \n    \n    \nspringdestroy-method\n\n* org.springframework.context.support.AbstractApplicationContext.close()\n* org.springframework.context.support.AbstractApplicationContext.registerShutdownHook()killkill -9 shutdownHook\n\n\n```java\npublic void registerShutdownHook() {\n   if (this.shutdownHook == null) {\n      // No shutdown hook registered yet.\n      this.shutdownHook = new Thread() {\n         @Override\n         public void run() {\n            doClose();\n         }\n      };\n      Runtime.getRuntime().addShutdownHook(this.shutdownHook);\n   }\n}\n```\n\ncheckSpringdestroy-methoddubboMaindubboSpringDubbo(com.alibaba.dubbo.container.Main)\n\n\n```java\nif(\"true\".equals(System.getProperty(\"dubbo.shutdown.hook\"))) {\n    Runtime.getRuntime().addShutdownHook(new Thread() {\n        public void run() {\n            Iterator i$ = var8.iterator();\n\n            while(i$.hasNext()) {\n                Container container = (Container)i$.next();\n\n                try {\n                    container.stop();\n                    Main.logger.info(\"Dubbo \" + container.getClass().getSimpleName() + \" stopped!\");\n                } catch (Throwable var6) {\n                    Main.logger.error(var6.getMessage(), var6);\n                }\n\n                Class t = Main.class;\n                synchronized(Main.class) {\n                    Main.running = false;\n                    Main.class.notify();\n                }\n            }\n\n        }\n    });\n}\n```\n\n-Ddubbo.shutdown.hook=trueJvmcontainer.stop()containercom.alibaba.dubbo.container.spring.SpringContainer\n\n\n```java\npublic class SpringContainer implements Container {\n    private static final Logger logger = LoggerFactory.getLogger(SpringContainer.class);\n    public static final String SPRING_CONFIG = \"dubbo.spring.config\";\n    public static final String DEFAULT_SPRING_CONFIG = \"classpath*:META-INF/spring/*.xml\";\n    static ClassPathXmlApplicationContext context;\n\n    public SpringContainer() {\n    }\n\n    public static ClassPathXmlApplicationContext getContext() {\n        return context;\n    }\n\n    public void start() {\n        String configPath = ConfigUtils.getProperty(\"dubbo.spring.config\");\n        if(configPath == null || configPath.length() == 0) {\n            configPath = \"classpath*:META-INF/spring/*.xml\";\n        }\n\n        context = new ClassPathXmlApplicationContext(configPath.split(\"[,\\s]+\"));\n        context.start();\n    }\n\n    public void stop() {\n        try {\n            if(context != null) {\n                context.stop();\n                context.close();\n                context = null;\n            }\n        } catch (Throwable var2) {\n            logger.error(var2.getMessage(), var2);\n        }\n\n    }\n}\n```\n\nspringContainerstopspring-contextclosebeandestroy-method-Ddubbo.shutdown.hook=true\n\n \n\n>Redis\n\ntcpdump + wiresharkwiresharkredisgithubredis[http://blog.cheyo.net/257.html](http://blog.cheyo.net/257.html)????RedisServerRedisServier\n\n\n```shell\ntcpdump -nnnvvv -s0 -X port 6379 and host 10.163.242.152 -i eth0 -w xxx.wap\n netstat -anp |grep 10.163.242.152 | wc -l\n\n```\n\n\n\nJedisCusterminIdle1destroy-method\n\n1.  6TCPTCP32TCP\n\n![](https://gw.alipayobjects.com/zos/skylark/e83ac639-7c60-469a-8afa-96bc5718fb9f/2018/png/e5579d08-d8f9-45bd-bea9-2fdc7c3998e0.png)\n\n2.  JedisClustercloseRedisServeQuitRedisServerOKRedisServerFINACKRSTRedisServerJedisClsuterRedisServerRST\n\n![](https://gw.alipayobjects.com/zos/skylark/c371065a-7854-4479-b949-0de42a46ec54/2018/png/398cf6c3-e256-4025-9f3e-8a1a4a07385c.png)\n\n \n\n(1). TCP4RST\n\n(2).JedisClusterclose-Ddubbo.shutdown.hook=true\n\n(2)kill -9 JVMClientRedisServerRSTOSRedisServerSBClientServer\n\nkill -9:\n\n![](https://gw.alipayobjects.com/zos/skylark/6e148bf3-cf0e-448c-9d80-a5d7eaaae54b/2018/png/363b4efc-3011-4ff8-bf9f-5e81f316e7c3.png)\n\n(1)closeClientServerRSTJedisCluser\n\nredis.clients.jedis.Connection#connect\n\n```java\nsocket = new Socket();\n// ->@wjw_add\nsocket.setReuseAddress(true);\nsocket.setKeepAlive(true); // Will monitor the TCP connection is\n// valid\nsocket.setTcpNoDelay(true); // Socket buffer Whetherclosed, to\n// ensure timely delivery of data\nsocket.setSoLinger(true, 0); // Control calls close () method,\n// the underlying socket is closed\n// immediately\n// <-@wjw_add\n```\n\nJedisSocketsocket.setSoLinger(true, 0); socketcloseFINRST\n\nJedis\n\nTCPTCP4\n\n>ClientFINServerFINClientSocketACKClientClientFIN_WAITServerFINServerClientFINClientClientFINServerACKTIME_WAITServerACKServerACKClient2MSLServerClientOkTCP\n\nTCP\n\n![](https://gw.alipayobjects.com/zos/skylark/871df9be-0d09-4449-a858-b302159aeff2/2018/png/d4bf9da8-6201-40a4-82a8-34bf4c97c39d.png)\n\n****\n     \n     TCPTIME-WAITRSTGGJedis\n\n```java\nControl calls close () method,\n// the underlying socket is closed\n// immediately\n```\n\n RST\n\n[http://xiaoz5919.iteye.com/blog/1685138](http://xiaoz5919.iteye.com/blog/1685138)\n\nhttp://docs.oracle.com/javase/1.5.0/docs/guide/net/articles/connection](http://docs.oracle.com/javase/1.5.0/docs/guide/net/articles/connection)\n\n     TCP4JVMDdubbo.shutdown.hook=true\n\n### \n\nRedisServer\n\n  RedisServe\n\n\n```java\n# Close the connection after a client is idle for N seconds (0 to disable)\ntimeout 0\n```\n\nRedisServerN secondsidel00600Server\n\nJedis   \n\n![](https://gw.alipayobjects.com/zos/skylark/5d473e6b-6c35-4da3-9b34-16e253bea9b4/2018/png/94eb98c1-e1b2-426d-9a4a-ee38ce3aa64f.png)\n\nmget)\n\n\n\n```java\nredis.clients.jedis.exceptions.JedisClusterMaxRedirectionsException: Too many Cluster redirections?\n```\n\nCheckRedis1.3GRedisRedis-DBRedis-DBkeykey350M\n\nRedis-DB\n\n![](https://gw.alipayobjects.com/zos/skylark/9bad20ef-a810-4977-96ab-ec29b47791cf/2018/png/87ba7148-e01a-4fe0-bd05-95e17cbab107.png)\n\n\nRedis-DB\n\n![](https://gw.alipayobjects.com/zos/skylark/0de79097-cb5a-4be1-a347-cc768552f1e8/2018/png/be1e459a-944e-4044-bb7a-bec234f052bc.png)\n\n SBjedis20smsClientServerJedisServerJedis\n\n\n[https://github.com/xetorthio/jedis/issues/965](https://github.com/xetorthio/jedis/issues/965)RedisServer1. 2. RedisServerClient\n\n1.  RedisServertimeout = 0\n\n2.  Client\n\n1221\n\n\n```java\n\nprivate JedisPoolConfig getJedisPoolConfig(int redisMaxTotal, int redisMinIdle, int redisMaxWaitTime, int redisMaxIdle, boolean redisTestOnBorrow) {\n    JedisPoolConfig poolConfig = new JedisPoolConfig();\n    //, 20\n    poolConfig.setMaxTotal(redisMaxTotal);\n    //, 0\n    poolConfig.setMinIdle(redisMinIdle);\n    //(BlockWhenExhausted), , :,  - 1\n    poolConfig.setMaxWaitMillis(redisMaxWaitTime);\n    //, 20\n    poolConfig.setMaxIdle(redisMaxIdle);\n    //, false\n    poolConfig.setTestOnBorrow(redisTestOnBorrow);\n    poolConfig.setTestOnReturn(Boolean.FALSE);\n    //, false\n    poolConfig.setTestWhileIdle(Boolean.TRUE);\n    // 1800000(30)\n    poolConfig.setMinEvictableIdleTimeMillis(1800000);\n    //  : idleObjects.size / abs(n), 3\n    poolConfig.setNumTestsPerEvictionRun(3);\n    //,  >   > , MinEvictableIdleTimeMillis ()\n    poolConfig.setSoftMinEvictableIdleTimeMillis(1800000);\n    //() , ,  - 1\n    poolConfig.setTimeBetweenEvictionRunsMillis(60000);\n    return poolConfig;\n}\n```\n\n\n\n\n## \n\nsetTestWhileIdle(Boolean.True)setTimeBetweenEvictionRunsMillis(xxx) \n\nVIPRedisServertimeout0Kill -9Server\n\n\n\n","slug":"Redis/2016-06-02-redis-conn-pool","published":1,"updated":"2018-11-10T08:59:09.807Z","comments":1,"photos":[],"link":"","_id":"cjtohbkbm006z6f12cz1wx0u6","content":"<blockquote>\n<p></p>\n</blockquote>\n<blockquote>\n<p>RedisRedisServerTCP ESTABLISHED400minIdle=400redisRedisServer10000</p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li>TCP4</li>\n<li>RedisServer</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> JedisJedisClusterclose</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Override</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">close</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> IOException </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (connectionHandler != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (JedisPool pool : connectionHandler.getNodes().values()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (pool != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">          pool.destroy();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// pass</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>springdestroy-method</p>\n<p><br><br><br><br><br><br><br>springdestroy-method</p>\n<ul>\n<li>org.springframework.context.support.AbstractApplicationContext.close()</li>\n<li>org.springframework.context.support.AbstractApplicationContext.registerShutdownHook()killkill -9 shutdownHook</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">registerShutdownHook</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">   <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.shutdownHook == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// No shutdown hook registered yet.</span></span><br><span class=\"line\">      <span class=\"keyword\">this</span>.shutdownHook = <span class=\"keyword\">new</span> Thread() &#123;</span><br><span class=\"line\">         <span class=\"meta\">@Override</span></span><br><span class=\"line\">         <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">run</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">            doClose();</span><br><span class=\"line\">         &#125;</span><br><span class=\"line\">      &#125;;</span><br><span class=\"line\">      Runtime.getRuntime().addShutdownHook(<span class=\"keyword\">this</span>.shutdownHook);</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>checkSpringdestroy-methoddubboMaindubboSpringDubbo(com.alibaba.dubbo.container.Main)</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span>(<span class=\"string\">\"true\"</span>.equals(System.getProperty(<span class=\"string\">\"dubbo.shutdown.hook\"</span>))) &#123;</span><br><span class=\"line\">    Runtime.getRuntime().addShutdownHook(<span class=\"keyword\">new</span> Thread() &#123;</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">run</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">            Iterator i$ = var8.iterator();</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">while</span>(i$.hasNext()) &#123;</span><br><span class=\"line\">                Container container = (Container)i$.next();</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">                    container.stop();</span><br><span class=\"line\">                    Main.logger.info(<span class=\"string\">\"Dubbo \"</span> + container.getClass().getSimpleName() + <span class=\"string\">\" stopped!\"</span>);</span><br><span class=\"line\">                &#125; <span class=\"keyword\">catch</span> (Throwable var6) &#123;</span><br><span class=\"line\">                    Main.logger.error(var6.getMessage(), var6);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">                Class t = Main.class;</span><br><span class=\"line\">                <span class=\"keyword\">synchronized</span>(Main.class) &#123;</span><br><span class=\"line\">                    Main.running = <span class=\"keyword\">false</span>;</span><br><span class=\"line\">                    Main.class.notify();</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>-Ddubbo.shutdown.hook=trueJvmcontainer.stop()containercom.alibaba.dubbo.container.spring.SpringContainer</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">SpringContainer</span> <span class=\"keyword\">implements</span> <span class=\"title\">Container</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> Logger logger = LoggerFactory.getLogger(SpringContainer.class);</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> String SPRING_CONFIG = <span class=\"string\">\"dubbo.spring.config\"</span>;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> String DEFAULT_SPRING_CONFIG = <span class=\"string\">\"classpath*:META-INF/spring/*.xml\"</span>;</span><br><span class=\"line\">    <span class=\"keyword\">static</span> ClassPathXmlApplicationContext context;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">SpringContainer</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> ClassPathXmlApplicationContext <span class=\"title\">getContext</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> context;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">start</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        String configPath = ConfigUtils.getProperty(<span class=\"string\">\"dubbo.spring.config\"</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(configPath == <span class=\"keyword\">null</span> || configPath.length() == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            configPath = <span class=\"string\">\"classpath*:META-INF/spring/*.xml\"</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        context = <span class=\"keyword\">new</span> ClassPathXmlApplicationContext(configPath.split(<span class=\"string\">\"[,\\s]+\"</span>));</span><br><span class=\"line\">        context.start();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">stop</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(context != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                context.stop();</span><br><span class=\"line\">                context.close();</span><br><span class=\"line\">                context = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (Throwable var2) &#123;</span><br><span class=\"line\">            logger.error(var2.getMessage(), var2);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>springContainerstopspring-contextclosebeandestroy-method-Ddubbo.shutdown.hook=true</p>\n<blockquote>\n<p>Redis</p>\n</blockquote>\n<p>tcpdump + wiresharkwiresharkredisgithubredis<a href=\"http://blog.cheyo.net/257.html\" target=\"_blank\" rel=\"noopener\">http://blog.cheyo.net/257.html</a>????RedisServerRedisServier</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tcpdump -nnnvvv -s0 -X port 6379 and host 10.163.242.152 -i eth0 -w xxx.wap</span><br><span class=\"line\"> netstat -anp |grep 10.163.242.152 | wc -l</span><br></pre></td></tr></table></figure>\n<p></p>\n<p>JedisCusterminIdle1destroy-method</p>\n<ol>\n<li>6TCPTCP32TCP</li>\n</ol>\n<p><img src=\"https://gw.alipayobjects.com/zos/skylark/e83ac639-7c60-469a-8afa-96bc5718fb9f/2018/png/e5579d08-d8f9-45bd-bea9-2fdc7c3998e0.png\" alt=\"\"></p>\n<ol start=\"2\">\n<li>JedisClustercloseRedisServeQuitRedisServerOKRedisServerFINACKRSTRedisServerJedisClsuterRedisServerRST</li>\n</ol>\n<p><img src=\"https://gw.alipayobjects.com/zos/skylark/c371065a-7854-4479-b949-0de42a46ec54/2018/png/398cf6c3-e256-4025-9f3e-8a1a4a07385c.png\" alt=\"\"></p>\n<p> </p>\n<p>(1). TCP4RST</p>\n<p>(2).JedisClusterclose-Ddubbo.shutdown.hook=true</p>\n<p>(2)kill -9 JVMClientRedisServerRSTOSRedisServerSBClientServer</p>\n<p>kill -9:</p>\n<p><img src=\"https://gw.alipayobjects.com/zos/skylark/6e148bf3-cf0e-448c-9d80-a5d7eaaae54b/2018/png/363b4efc-3011-4ff8-bf9f-5e81f316e7c3.png\" alt=\"\"></p>\n<p>(1)closeClientServerRSTJedisCluser</p>\n<p>redis.clients.jedis.Connection#connect</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">socket = <span class=\"keyword\">new</span> Socket();</span><br><span class=\"line\"><span class=\"comment\">// -&gt;@wjw_add</span></span><br><span class=\"line\">socket.setReuseAddress(<span class=\"keyword\">true</span>);</span><br><span class=\"line\">socket.setKeepAlive(<span class=\"keyword\">true</span>); <span class=\"comment\">// Will monitor the TCP connection is</span></span><br><span class=\"line\"><span class=\"comment\">// valid</span></span><br><span class=\"line\">socket.setTcpNoDelay(<span class=\"keyword\">true</span>); <span class=\"comment\">// Socket buffer Whetherclosed, to</span></span><br><span class=\"line\"><span class=\"comment\">// ensure timely delivery of data</span></span><br><span class=\"line\">socket.setSoLinger(<span class=\"keyword\">true</span>, <span class=\"number\">0</span>); <span class=\"comment\">// Control calls close () method,</span></span><br><span class=\"line\"><span class=\"comment\">// the underlying socket is closed</span></span><br><span class=\"line\"><span class=\"comment\">// immediately</span></span><br><span class=\"line\"><span class=\"comment\">// &lt;-@wjw_add</span></span><br></pre></td></tr></table></figure>\n<p>JedisSocketsocket.setSoLinger(true, 0); socketcloseFINRST</p>\n<p>Jedis</p>\n<p>TCPTCP4</p>\n<blockquote>\n<p>ClientFINServerFINClientSocketACKClientClientFIN_WAITServerFINServerClientFINClientClientFINServerACKTIME_WAITServerACKServerACKClient2MSLServerClientOkTCP</p>\n</blockquote>\n<p>TCP</p>\n<p><img src=\"https://gw.alipayobjects.com/zos/skylark/871df9be-0d09-4449-a858-b302159aeff2/2018/png/d4bf9da8-6201-40a4-82a8-34bf4c97c39d.png\" alt=\"\"></p>\n<p><strong></strong><br><br>     TCPTIME-WAITRSTGGJedis</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\">Control calls <span class=\"title\">close</span> <span class=\"params\">()</span> method,</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"comment\">// the underlying socket is closed</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"comment\">// immediately</span></span></span><br></pre></td></tr></table></figure>\n<p> RST</p>\n<p><a href=\"http://xiaoz5919.iteye.com/blog/1685138\" target=\"_blank\" rel=\"noopener\">http://xiaoz5919.iteye.com/blog/1685138</a></p>\n<p><a href=\"http://docs.oracle.com/javase/1.5.0/docs/guide/net/articles/connection](http://docs.oracle.com/javase/1.5.0/docs/guide/net/articles/connection)\" target=\"_blank\" rel=\"noopener\">http://docs.oracle.com/javase/1.5.0/docs/guide/net/articles/connection](http://docs.oracle.com/javase/1.5.0/docs/guide/net/articles/connection)</a></p>\n<pre><code>TCP4JVMDdubbo.shutdown.hook=true\n</code></pre><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>RedisServer</p>\n<p>  RedisServe</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># Close the connection after a client is idle for N seconds (0 to disable)</span><br><span class=\"line\">timeout <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<p>RedisServerN secondsidel00600Server</p>\n<p>Jedis   </p>\n<p><img src=\"https://gw.alipayobjects.com/zos/skylark/5d473e6b-6c35-4da3-9b34-16e253bea9b4/2018/png/94eb98c1-e1b2-426d-9a4a-ee38ce3aa64f.png\" alt=\"\"></p>\n<p>mget)</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">redis.clients.jedis.exceptions.JedisClusterMaxRedirectionsException: Too many Cluster redirections?</span><br></pre></td></tr></table></figure>\n<p>CheckRedis1.3GRedisRedis-DBRedis-DBkeykey350M</p>\n<p>Redis-DB</p>\n<p><img src=\"https://gw.alipayobjects.com/zos/skylark/9bad20ef-a810-4977-96ab-ec29b47791cf/2018/png/87ba7148-e01a-4fe0-bd05-95e17cbab107.png\" alt=\"\"></p>\n<p>Redis-DB</p>\n<p><img src=\"https://gw.alipayobjects.com/zos/skylark/0de79097-cb5a-4be1-a347-cc768552f1e8/2018/png/be1e459a-944e-4044-bb7a-bec234f052bc.png\" alt=\"\"></p>\n<p> SBjedis20smsClientServerJedisServerJedis</p>\n<p><a href=\"https://github.com/xetorthio/jedis/issues/965\" target=\"_blank\" rel=\"noopener\">https://github.com/xetorthio/jedis/issues/965</a>RedisServer1. 2. RedisServerClient</p>\n<ol>\n<li><p>RedisServertimeout = 0</p>\n</li>\n<li><p>Client</p>\n</li>\n</ol>\n<p>1221</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> JedisPoolConfig <span class=\"title\">getJedisPoolConfig</span><span class=\"params\">(<span class=\"keyword\">int</span> redisMaxTotal, <span class=\"keyword\">int</span> redisMinIdle, <span class=\"keyword\">int</span> redisMaxWaitTime, <span class=\"keyword\">int</span> redisMaxIdle, <span class=\"keyword\">boolean</span> redisTestOnBorrow)</span> </span>&#123;</span><br><span class=\"line\">    JedisPoolConfig poolConfig = <span class=\"keyword\">new</span> JedisPoolConfig();</span><br><span class=\"line\">    <span class=\"comment\">//, 20</span></span><br><span class=\"line\">    poolConfig.setMaxTotal(redisMaxTotal);</span><br><span class=\"line\">    <span class=\"comment\">//, 0</span></span><br><span class=\"line\">    poolConfig.setMinIdle(redisMinIdle);</span><br><span class=\"line\">    <span class=\"comment\">//(BlockWhenExhausted), , :,  - 1</span></span><br><span class=\"line\">    poolConfig.setMaxWaitMillis(redisMaxWaitTime);</span><br><span class=\"line\">    <span class=\"comment\">//, 20</span></span><br><span class=\"line\">    poolConfig.setMaxIdle(redisMaxIdle);</span><br><span class=\"line\">    <span class=\"comment\">//, false</span></span><br><span class=\"line\">    poolConfig.setTestOnBorrow(redisTestOnBorrow);</span><br><span class=\"line\">    poolConfig.setTestOnReturn(Boolean.FALSE);</span><br><span class=\"line\">    <span class=\"comment\">//, false</span></span><br><span class=\"line\">    poolConfig.setTestWhileIdle(Boolean.TRUE);</span><br><span class=\"line\">    <span class=\"comment\">// 1800000(30)</span></span><br><span class=\"line\">    poolConfig.setMinEvictableIdleTimeMillis(<span class=\"number\">1800000</span>);</span><br><span class=\"line\">    <span class=\"comment\">//  : idleObjects.size / abs(n), 3</span></span><br><span class=\"line\">    poolConfig.setNumTestsPerEvictionRun(<span class=\"number\">3</span>);</span><br><span class=\"line\">    <span class=\"comment\">//,  &gt;   &gt; , MinEvictableIdleTimeMillis ()</span></span><br><span class=\"line\">    poolConfig.setSoftMinEvictableIdleTimeMillis(<span class=\"number\">1800000</span>);</span><br><span class=\"line\">    <span class=\"comment\">//() , ,  - 1</span></span><br><span class=\"line\">    poolConfig.setTimeBetweenEvictionRunsMillis(<span class=\"number\">60000</span>);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> poolConfig;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>setTestWhileIdle(Boolean.True)setTimeBetweenEvictionRunsMillis(xxx) </p>\n<p>VIPRedisServertimeout0Kill -9Server</p>\n","site":{"data":{}},"excerpt":"","more":"<blockquote>\n<p></p>\n</blockquote>\n<blockquote>\n<p>RedisRedisServerTCP ESTABLISHED400minIdle=400redisRedisServer10000</p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li>TCP4</li>\n<li>RedisServer</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> JedisJedisClusterclose</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Override</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">close</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> IOException </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (connectionHandler != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (JedisPool pool : connectionHandler.getNodes().values()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (pool != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">          pool.destroy();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// pass</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>springdestroy-method</p>\n<p><br><br><br><br><br><br><br>springdestroy-method</p>\n<ul>\n<li>org.springframework.context.support.AbstractApplicationContext.close()</li>\n<li>org.springframework.context.support.AbstractApplicationContext.registerShutdownHook()killkill -9 shutdownHook</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">registerShutdownHook</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">   <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.shutdownHook == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// No shutdown hook registered yet.</span></span><br><span class=\"line\">      <span class=\"keyword\">this</span>.shutdownHook = <span class=\"keyword\">new</span> Thread() &#123;</span><br><span class=\"line\">         <span class=\"meta\">@Override</span></span><br><span class=\"line\">         <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">run</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">            doClose();</span><br><span class=\"line\">         &#125;</span><br><span class=\"line\">      &#125;;</span><br><span class=\"line\">      Runtime.getRuntime().addShutdownHook(<span class=\"keyword\">this</span>.shutdownHook);</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>checkSpringdestroy-methoddubboMaindubboSpringDubbo(com.alibaba.dubbo.container.Main)</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span>(<span class=\"string\">\"true\"</span>.equals(System.getProperty(<span class=\"string\">\"dubbo.shutdown.hook\"</span>))) &#123;</span><br><span class=\"line\">    Runtime.getRuntime().addShutdownHook(<span class=\"keyword\">new</span> Thread() &#123;</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">run</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">            Iterator i$ = var8.iterator();</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">while</span>(i$.hasNext()) &#123;</span><br><span class=\"line\">                Container container = (Container)i$.next();</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">                    container.stop();</span><br><span class=\"line\">                    Main.logger.info(<span class=\"string\">\"Dubbo \"</span> + container.getClass().getSimpleName() + <span class=\"string\">\" stopped!\"</span>);</span><br><span class=\"line\">                &#125; <span class=\"keyword\">catch</span> (Throwable var6) &#123;</span><br><span class=\"line\">                    Main.logger.error(var6.getMessage(), var6);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">                Class t = Main.class;</span><br><span class=\"line\">                <span class=\"keyword\">synchronized</span>(Main.class) &#123;</span><br><span class=\"line\">                    Main.running = <span class=\"keyword\">false</span>;</span><br><span class=\"line\">                    Main.class.notify();</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>-Ddubbo.shutdown.hook=trueJvmcontainer.stop()containercom.alibaba.dubbo.container.spring.SpringContainer</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">SpringContainer</span> <span class=\"keyword\">implements</span> <span class=\"title\">Container</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> Logger logger = LoggerFactory.getLogger(SpringContainer.class);</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> String SPRING_CONFIG = <span class=\"string\">\"dubbo.spring.config\"</span>;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> String DEFAULT_SPRING_CONFIG = <span class=\"string\">\"classpath*:META-INF/spring/*.xml\"</span>;</span><br><span class=\"line\">    <span class=\"keyword\">static</span> ClassPathXmlApplicationContext context;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">SpringContainer</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> ClassPathXmlApplicationContext <span class=\"title\">getContext</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> context;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">start</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        String configPath = ConfigUtils.getProperty(<span class=\"string\">\"dubbo.spring.config\"</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(configPath == <span class=\"keyword\">null</span> || configPath.length() == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            configPath = <span class=\"string\">\"classpath*:META-INF/spring/*.xml\"</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        context = <span class=\"keyword\">new</span> ClassPathXmlApplicationContext(configPath.split(<span class=\"string\">\"[,\\s]+\"</span>));</span><br><span class=\"line\">        context.start();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">stop</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(context != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                context.stop();</span><br><span class=\"line\">                context.close();</span><br><span class=\"line\">                context = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (Throwable var2) &#123;</span><br><span class=\"line\">            logger.error(var2.getMessage(), var2);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>springContainerstopspring-contextclosebeandestroy-method-Ddubbo.shutdown.hook=true</p>\n<blockquote>\n<p>Redis</p>\n</blockquote>\n<p>tcpdump + wiresharkwiresharkredisgithubredis<a href=\"http://blog.cheyo.net/257.html\" target=\"_blank\" rel=\"noopener\">http://blog.cheyo.net/257.html</a>????RedisServerRedisServier</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tcpdump -nnnvvv -s0 -X port 6379 and host 10.163.242.152 -i eth0 -w xxx.wap</span><br><span class=\"line\"> netstat -anp |grep 10.163.242.152 | wc -l</span><br></pre></td></tr></table></figure>\n<p></p>\n<p>JedisCusterminIdle1destroy-method</p>\n<ol>\n<li>6TCPTCP32TCP</li>\n</ol>\n<p><img src=\"https://gw.alipayobjects.com/zos/skylark/e83ac639-7c60-469a-8afa-96bc5718fb9f/2018/png/e5579d08-d8f9-45bd-bea9-2fdc7c3998e0.png\" alt=\"\"></p>\n<ol start=\"2\">\n<li>JedisClustercloseRedisServeQuitRedisServerOKRedisServerFINACKRSTRedisServerJedisClsuterRedisServerRST</li>\n</ol>\n<p><img src=\"https://gw.alipayobjects.com/zos/skylark/c371065a-7854-4479-b949-0de42a46ec54/2018/png/398cf6c3-e256-4025-9f3e-8a1a4a07385c.png\" alt=\"\"></p>\n<p> </p>\n<p>(1). TCP4RST</p>\n<p>(2).JedisClusterclose-Ddubbo.shutdown.hook=true</p>\n<p>(2)kill -9 JVMClientRedisServerRSTOSRedisServerSBClientServer</p>\n<p>kill -9:</p>\n<p><img src=\"https://gw.alipayobjects.com/zos/skylark/6e148bf3-cf0e-448c-9d80-a5d7eaaae54b/2018/png/363b4efc-3011-4ff8-bf9f-5e81f316e7c3.png\" alt=\"\"></p>\n<p>(1)closeClientServerRSTJedisCluser</p>\n<p>redis.clients.jedis.Connection#connect</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">socket = <span class=\"keyword\">new</span> Socket();</span><br><span class=\"line\"><span class=\"comment\">// -&gt;@wjw_add</span></span><br><span class=\"line\">socket.setReuseAddress(<span class=\"keyword\">true</span>);</span><br><span class=\"line\">socket.setKeepAlive(<span class=\"keyword\">true</span>); <span class=\"comment\">// Will monitor the TCP connection is</span></span><br><span class=\"line\"><span class=\"comment\">// valid</span></span><br><span class=\"line\">socket.setTcpNoDelay(<span class=\"keyword\">true</span>); <span class=\"comment\">// Socket buffer Whetherclosed, to</span></span><br><span class=\"line\"><span class=\"comment\">// ensure timely delivery of data</span></span><br><span class=\"line\">socket.setSoLinger(<span class=\"keyword\">true</span>, <span class=\"number\">0</span>); <span class=\"comment\">// Control calls close () method,</span></span><br><span class=\"line\"><span class=\"comment\">// the underlying socket is closed</span></span><br><span class=\"line\"><span class=\"comment\">// immediately</span></span><br><span class=\"line\"><span class=\"comment\">// &lt;-@wjw_add</span></span><br></pre></td></tr></table></figure>\n<p>JedisSocketsocket.setSoLinger(true, 0); socketcloseFINRST</p>\n<p>Jedis</p>\n<p>TCPTCP4</p>\n<blockquote>\n<p>ClientFINServerFINClientSocketACKClientClientFIN_WAITServerFINServerClientFINClientClientFINServerACKTIME_WAITServerACKServerACKClient2MSLServerClientOkTCP</p>\n</blockquote>\n<p>TCP</p>\n<p><img src=\"https://gw.alipayobjects.com/zos/skylark/871df9be-0d09-4449-a858-b302159aeff2/2018/png/d4bf9da8-6201-40a4-82a8-34bf4c97c39d.png\" alt=\"\"></p>\n<p><strong></strong><br><br>     TCPTIME-WAITRSTGGJedis</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\">Control calls <span class=\"title\">close</span> <span class=\"params\">()</span> method,</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"comment\">// the underlying socket is closed</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"comment\">// immediately</span></span></span><br></pre></td></tr></table></figure>\n<p> RST</p>\n<p><a href=\"http://xiaoz5919.iteye.com/blog/1685138\" target=\"_blank\" rel=\"noopener\">http://xiaoz5919.iteye.com/blog/1685138</a></p>\n<p><a href=\"http://docs.oracle.com/javase/1.5.0/docs/guide/net/articles/connection](http://docs.oracle.com/javase/1.5.0/docs/guide/net/articles/connection)\" target=\"_blank\" rel=\"noopener\">http://docs.oracle.com/javase/1.5.0/docs/guide/net/articles/connection](http://docs.oracle.com/javase/1.5.0/docs/guide/net/articles/connection)</a></p>\n<pre><code>TCP4JVMDdubbo.shutdown.hook=true\n</code></pre><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>RedisServer</p>\n<p>  RedisServe</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># Close the connection after a client is idle for N seconds (0 to disable)</span><br><span class=\"line\">timeout <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<p>RedisServerN secondsidel00600Server</p>\n<p>Jedis   </p>\n<p><img src=\"https://gw.alipayobjects.com/zos/skylark/5d473e6b-6c35-4da3-9b34-16e253bea9b4/2018/png/94eb98c1-e1b2-426d-9a4a-ee38ce3aa64f.png\" alt=\"\"></p>\n<p>mget)</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">redis.clients.jedis.exceptions.JedisClusterMaxRedirectionsException: Too many Cluster redirections?</span><br></pre></td></tr></table></figure>\n<p>CheckRedis1.3GRedisRedis-DBRedis-DBkeykey350M</p>\n<p>Redis-DB</p>\n<p><img src=\"https://gw.alipayobjects.com/zos/skylark/9bad20ef-a810-4977-96ab-ec29b47791cf/2018/png/87ba7148-e01a-4fe0-bd05-95e17cbab107.png\" alt=\"\"></p>\n<p>Redis-DB</p>\n<p><img src=\"https://gw.alipayobjects.com/zos/skylark/0de79097-cb5a-4be1-a347-cc768552f1e8/2018/png/be1e459a-944e-4044-bb7a-bec234f052bc.png\" alt=\"\"></p>\n<p> SBjedis20smsClientServerJedisServerJedis</p>\n<p><a href=\"https://github.com/xetorthio/jedis/issues/965\" target=\"_blank\" rel=\"noopener\">https://github.com/xetorthio/jedis/issues/965</a>RedisServer1. 2. RedisServerClient</p>\n<ol>\n<li><p>RedisServertimeout = 0</p>\n</li>\n<li><p>Client</p>\n</li>\n</ol>\n<p>1221</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> JedisPoolConfig <span class=\"title\">getJedisPoolConfig</span><span class=\"params\">(<span class=\"keyword\">int</span> redisMaxTotal, <span class=\"keyword\">int</span> redisMinIdle, <span class=\"keyword\">int</span> redisMaxWaitTime, <span class=\"keyword\">int</span> redisMaxIdle, <span class=\"keyword\">boolean</span> redisTestOnBorrow)</span> </span>&#123;</span><br><span class=\"line\">    JedisPoolConfig poolConfig = <span class=\"keyword\">new</span> JedisPoolConfig();</span><br><span class=\"line\">    <span class=\"comment\">//, 20</span></span><br><span class=\"line\">    poolConfig.setMaxTotal(redisMaxTotal);</span><br><span class=\"line\">    <span class=\"comment\">//, 0</span></span><br><span class=\"line\">    poolConfig.setMinIdle(redisMinIdle);</span><br><span class=\"line\">    <span class=\"comment\">//(BlockWhenExhausted), , :,  - 1</span></span><br><span class=\"line\">    poolConfig.setMaxWaitMillis(redisMaxWaitTime);</span><br><span class=\"line\">    <span class=\"comment\">//, 20</span></span><br><span class=\"line\">    poolConfig.setMaxIdle(redisMaxIdle);</span><br><span class=\"line\">    <span class=\"comment\">//, false</span></span><br><span class=\"line\">    poolConfig.setTestOnBorrow(redisTestOnBorrow);</span><br><span class=\"line\">    poolConfig.setTestOnReturn(Boolean.FALSE);</span><br><span class=\"line\">    <span class=\"comment\">//, false</span></span><br><span class=\"line\">    poolConfig.setTestWhileIdle(Boolean.TRUE);</span><br><span class=\"line\">    <span class=\"comment\">// 1800000(30)</span></span><br><span class=\"line\">    poolConfig.setMinEvictableIdleTimeMillis(<span class=\"number\">1800000</span>);</span><br><span class=\"line\">    <span class=\"comment\">//  : idleObjects.size / abs(n), 3</span></span><br><span class=\"line\">    poolConfig.setNumTestsPerEvictionRun(<span class=\"number\">3</span>);</span><br><span class=\"line\">    <span class=\"comment\">//,  &gt;   &gt; , MinEvictableIdleTimeMillis ()</span></span><br><span class=\"line\">    poolConfig.setSoftMinEvictableIdleTimeMillis(<span class=\"number\">1800000</span>);</span><br><span class=\"line\">    <span class=\"comment\">//() , ,  - 1</span></span><br><span class=\"line\">    poolConfig.setTimeBetweenEvictionRunsMillis(<span class=\"number\">60000</span>);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> poolConfig;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>setTestWhileIdle(Boolean.True)setTimeBetweenEvictionRunsMillis(xxx) </p>\n<p>VIPRedisServertimeout0Kill -9Server</p>\n"},{"layout":"post","title":"","description":null,"keywords":"monitor monitor-system  ","date":"2018-03-13T16:00:00.000Z","_content":"## \n>\n\n\n\n![](https://gw.alicdn.com/tfscom/TB1nArGof2H8KJjy0FcXXaDlFXa.png)\n\n\n![](https://gw.alipayobjects.com/zos/skylark/155aa3d2-3444-4bd5-9588-ae9dfa39a0b2/2018/png/c59df181-ff42-4f6d-be01-3314a92f5e03.png)\n\n****\n\n**API Gateway**agent  Server API GatewayAPI GatewayMK\n\n**Data Collector**  \n\n**Data Transfer** \n\n**Config** AgentCollectorAnalyzer\n\n**Schedule** Schedule scheduleschedule\n\n**Diamond**Diamond\n\n**MQ** Data AnalyzerMQ\n\n**Data Analyzer** \n\n\n![](https://gw.alipayobjects.com/zos/skylark/03a23023-065f-4333-a11a-86afff4f770f/2018/png/f2c31281-de0d-49e7-830d-49c2474b6ddb.png)\n\n\n## \n#### OneAPM\n![](https://gw.alipayobjects.com/zos/skylark/1c75fc4a-de85-408c-a859-d943a7bccec3/2018/png/2e24513f-0c46-4f25-acd2-0aa293962b01.png)\n\n#### CAT\n![](https://gw.alipayobjects.com/zos/skylark/33fb5a1d-2b4a-45dd-a94b-f0b660b47339/2018/png/e956684e-e5ce-4e10-b424-6d51b2949502.png)\n\nhttps://tech.meituan.com/CAT_in_Depth_Java_Application_Monitoring.html\n\n## \n\n\n*  \n*  \n*  \n*  \n*  \n* \n\n\n### 3.1 \n\n\n1. -Push\n    * \n        * \n        * \n        * \n        * \n    * \n        * \n2. -Pull\n    * \n        * \n        * \n        * Edasstaragent\n    * \n        * \n        * (twitter)\n        * (twitter)\n\n\n\n\n|  |  |  |\n| --- | --- | --- |\n| AliMonitor | Push |  |\n| Ali-Sunfire | Pull |  |\n| TLog | Pull |  |\n| aliyun-sls-ilogtail | Push |  |\n| Zabbix | push+pull |  |\n| Open-falcon | Push |  |\n| OneAPM | Push |  |\n| Cacti | Pull |  |\n\n**Push**\n![](https://gw.alicdn.com/tfscom/TB1MJZKonvI8KJjSspjXXcgjXXa.png)\n\n\n\n**Pull**\n![](https://gw.alicdn.com/tfscom/TB19cEKonvI8KJjSspjXXcgjXXa.png)\n\n**Agent:**\n\n1. LogFinder: \n2. LogQuery: \n3. LogCompression \n\nLogAgent\n\n****\n\n* \n* \n* OSAgent\n* Agent\n* \n* \n* \n\n\n****\n> \n\n### 3.2 \nscheduleXQuartzQuartz quartzspringquartzquartz\nAPI\nspring-quartzSchedulerService \n\n### 3.3 Metric\nMetricTransferMetric\n\n\n\n* OS\n* \n\nMetric\n\n\n| category | Metric | Type | Tag | Description |\n| --- | --- | --- | --- | --- |\n| cpu | system.cpu.idle | GAUGE | host |  |\n|   | system.cpu.system | GAUGE | host |  |\n|  | system.cpu.user | GAUGE | host |  |\n|  | system.cpu.util | GAUGE | host | cpu |\n| load | system.load.1min | GAUGE | host |  |\n|  | system.load.5min | GAUGE | host |  |\n|  | system.load.15min | GAUGE | host |  |\n| mem | system.mem.buffers | GAUGE | host | buffer cache(kb) |\n|  | system.mem.cached | GAUGE | host | pagecache(kb) |\n|  | system.mem.free | GAUGE | host | (kb) |\n|  | system.mem.total | GAUGE  | host | (kb) |\n|  | system.mem.used | GAUGE | host | (kb) |\n|  | system.mem.util | GAUGE | host |  |\n| disk.partition | system.disk.partition.total | GAUGE | hostdevice |  |\n|  | system.disk.partition.free | GAUGE | hostdevice |  |\n|  | system.disk.partition.used | GAUGE | hostdevice |  |\n|  | system.disk.partition.used_ratio | GAUGE | hostdevice |  |\n| disk.io | system.disk.io.read_merge | GAUGE | hostdevice |  |\n|  | system.disk.io.write_merge | GAUGE | hostdevice |  |\n|  | system.disk.io.read | GAUGE | hostdevice |  |\n|  | system.disk.io.write | GAUGE | hostdevice |  |\n|  | system.disk.io.util | GAUGE | hostdevice | io |\n| processs | system.process.switches | GAUGE| host | |\n|  | system.process.total | GAUGE| host | |\n|traffic |system.net.in.bytes| GAUGE|host| |\n| |system.net.out.bytes| GAUGE|host| |\n| |system.net.in.packets| GAUGE|host| |\n| |system.net.out.packets| GAUGE|host| |\n| |system.net.packet.errs| GAUGE|host| |\n| |system.net.packet.dropped| GAUGE|host| |\n|tcp | system.tcp.active_opens| GAUGE | host | 1min|\n| | system.tcp.passive_opens| GAUGE | host | 1min|\n| | system.tcp.current_estab| GAUGE | host | 1minESTABLISHEDCLOSE-WAITTCP|\n| | system.tcp.estab_resets| GAUGE | host | 1minreset|\n| | system.tcp.out_segs| GAUGE | host | 1mintcp|\n| | system.tcp.in_segs| GAUGE | host | 1mintcp|\n| | system.tcp.attempt_fails| GAUGE | host | 1min|\n| | system.tcp.retran_segs| GAUGE | host | 1min|\n| udp| system.udp.in_dgm| GAUGE | host | udp |\n| | system.udp.out_dgm| GAUGE | host | udp |\n| | system.udp.noport| GAUGE | host | udp |\n| | system.udp.in_errs| GAUGE | host | udp |\n\n\nMetric\n\n| category | Metric | Type | Tag | Description |\n| --- | --- | --- | --- | --- |\n| servlet| app.servlet.request.count| COUNTER | hosttransactiondevice | |\n| | app.servlet.request.durations| COUNTER | hosttransactiondevice | |\n| | app.servlet.request.rt.mean| GAUGE | hosttransactiondevice | rt|\n| | app.servlet.request.rt.max| GAUGE | hosttransactiondevice | rt|\n| | app.servlet.request.rt.min| GAUGE | hosttransactiondevice | rt|\n| | app.servlet.request.error_count| COUNTER | hosttransactiondevice | |\n\ndeviceagentIdtransaction\n\n\n**Metric**\n\nkeytag[a-z][A-Z][0-9][-_./], , , key\nxxx.category[.sub_category]*, categorysub_category'_' '.'\n tag tagKeykey  key\n\n### 3.4 transfer\nsystemCPUmem\n\n\n```java\npublic interface MetricTransfer extends Transfer {\n\n    /**\n     * format  data to metric list\n     *\n     * @param sourceData\n     * @return\n     */\n    List<MetricObject> format(MetricMeta metricMeta, String sourceData);\n}\n```\n\n## \n### 4.1 \n\n\n\n* \n* Spark StreamingStormFlink\n![](https://gw.alicdn.com/tfscom/TB1kLTkodbJ8KJjy1zjXXaqapXa.png)\n\n\n\n### 4.2 \n\nCPU90%CPU90%Event\n\n\n![](https://gw.alicdn.com/tfscom/TB1sQtXov2H8KJjy1zkXXXr7pXa.png)\n\n****\n\nData AnalyzerRule SetRule SetfilterEvent Event \n\n****\n\n\n\n****\n\nloadRedis\n\n****\n\nHostsMetricstriggersfunctionsitemseventsactions\n\n* hosts \n* metrics\n* items \n* triggers\n* events \n* actions\n\n****\n\n ()\n{<host>:<metric>.<function>(<parameter>)}<operator><constant>\n\n****\n\n 11.23.45.67    load  2     \n{11.23.45.67:system.cpu.load.last(10m)}  > 2\n\n****\n\n* max\t\t\n* min\t\t\n* avg\t\t\n\n\n****\n\n\n\n* items\n* triggers\n* events\n* actions\n\n\n\n![](https://gw.alipayobjects.com/zos/skylark/5ec4918f-2d14-4c92-a637-cc5457c828a8/2018/png/f1dffd57-4a0e-4f98-a295-b39db045a6e2.png)\n\n1n1:11:1\n\n## \n### 5.1 \n\n\n1. Metric\n    * metrictagOS\n2. Event  Docker\n    * eventMkKitMetric\n3. Log \n    * eventtagtext\n4. Heartbeat \n    * agent\n5. Trace \n    * trace\n\n### 5.2 \nSQLNoSQLNoSQLSQL\n\nOpenTSDBHiTSDB MysqlMysql \n\n1003049G1kb5\n\n#### 5.3 \nCassandra\nInfluxDB\nMongoDB\nOpenTSDB\nKairosDB\nHBase\n\n### 5.4 \nmetric\n[](https://gw.alipayobjects.com/zos/skylark/02b7d493-9e02-490d-8f0c-243309a66ad5/2018/png/edcf8730-7203-48da-961b-1858d60a372c.png)\n\nmetricmetric keymetric tag\n\n1. metric key\n2. metric tag\n    * tag key: \n    * tag value: \n\nMetric\n![](https://gw.alicdn.com/tfscom/TB1Ey9PeAfb_uJkSne1XXbE4XXa.png)\n\n* metric keykey\n* metric tagtag\n* metric value\n* timestamp\n* metadata\n\nMetricnamespacescopemetric MetricObject \n\n\n|  |  |  |  |\n| --- | --- | --- | --- |\n|namespace | String | userId | |\n|scope | String | systemjvmhsfservlet | |\n|metric | String | Key | |\n|metricType | MetricType |  | |\n|tags | map<string,string> | tagtagmysqlnosql | OpenTSDBTag|\n|timestamp | Long |  | |\n|value | Double |  | |\n\n\n\n\n```json\n{\n    \"namespace\": \"1114805108664848\",\n    \"scope\": \"system\",\n    \"metric\": \"sys.memory.total\",\n    \"metricType\": \"COUNTER\",\n    \"tags\": {\n        \"host\": \"127.0.0.1\"\n    },\n    \"timestamp\": 1470298287916,\n    \"value\": 1167126\n}\n```\n\nMetricType (http://metrics.dropwizard.io/4.0.0/getting-started.html)\n\n* COUNTER: TomcatHTTP\n* GAUGE: loadJVM\n* METERQPS\n* HISTOGRAM\n\n**Tags **\n\nMysqlMetricMysqlschemalessTagskey-valueMysqltagTagskeyMysqltagsvalue\n\ntag\n\n\n|  |  |  |\n| --- | --- | --- |\n|tag_host |  | 127.0.0.1 |\n|tag_device |  | /usr/dev1 |\n|tag_trace |  | tid |\n|tag_transaction |  | createOrder |\n\nMysql\n![](https://gw.alipayobjects.com/zos/skylark/1936fc76-7df1-4485-aed2-00eda58b2903/2018/png/0a5f4d67-77ca-4030-a095-919918a948c6.png)\n\n## \n\n### 6.1 \n\n\n* \n* \n\n** **\n\n\n![](https://gw.alipayobjects.com/zos/skylark/ed6a20ea-c9d8-4ef7-be45-ab972ac211e2/2018/png/a9b705d7-cc05-43f2-8a3a-dc822ddfd7b2.png)\n\n\n### 6.2 \n\n()()()MetricAggregatorDown sample\n\nAggregatorCPUCPU\n\nDown sample5CPU11212\n\n### 6.3 \n\n![](https://gw.alipayobjects.com/zos/skylark/84e8e67c-e0a8-4a9d-a748-0e5383cc08ee/2018/png/4afc4ec7-84d4-42e9-b3b7-d17cdc57eae3.png)\n\n\n()zabbixtrendsMetricDBPass615151515\n\nMetricOpenTSDBAliyunHiTSDB+\n\n\n### 6.4 \nD1D2D3\n\n\n\n* \n* \n* \n* EWMA\n\n![](https://gw.alipayobjects.com/zos/skylark/b070bc51-d1db-46b0-9fb9-19461a360ecc/2018/png/ebfc264d-1e49-4ae2-b771-63e88e39e63d.png)\n\n![](https://gw.alipayobjects.com/zos/skylark/5d1585f9-8351-4eec-afee-d2b74531c268/2018/png/490d585e-700e-44f5-978c-d30a772d9e80.png)\n\nEWMAJava[EWMA.java](https://github.com/heartaway/metrics/blob/4.1-development/metrics-core/src/main/java/com/codahale/metrics/EWMA.java)\nEWMA Load1Load5Load15EWMA\n\n### 6.5 API\n\n\n\n## \nmetric\n\n[https://www.youtube.com/watch?v=czes-oa0yik](https://www.youtube.com/watch?v=czes-oa0yik)\n\n open-falcon\n\n[http://open-falcon.com/](http://open-falcon.com/)\n\n\n\n\n[http://blog.163yun.com/archives/900](http://blog.163yun.com/archives/900)\n\nsalesforce-Argus\n[https://github.com/salesforce/argus](https://github.com/salesforce/argus)\n\nMetrics\n\n[http://www.cnblogs.com/yangecnu/p/Using-Metrics-to-Profiling-WebService-Performance.html](http://www.cnblogs.com/yangecnu/p/Using-Metrics-to-Profiling-WebService-Performance.html)\n\n\n\n[http://www.infoq.com/cn/articles/pretreatment-in-sequential-databases](http://www.infoq.com/cn/articles/pretreatment-in-sequential-databases)\n\n\n\n\n\n","source":"_posts/HighAvailability/2018-03-14-monitor-system.md","raw":"---\nlayout: post\ntitle: \ncategories: HighAvailability\ndescription:\nkeywords: monitor monitor-system  \ndate: 2018-03-14\n---\n## \n>\n\n\n\n![](https://gw.alicdn.com/tfscom/TB1nArGof2H8KJjy0FcXXaDlFXa.png)\n\n\n![](https://gw.alipayobjects.com/zos/skylark/155aa3d2-3444-4bd5-9588-ae9dfa39a0b2/2018/png/c59df181-ff42-4f6d-be01-3314a92f5e03.png)\n\n****\n\n**API Gateway**agent  Server API GatewayAPI GatewayMK\n\n**Data Collector**  \n\n**Data Transfer** \n\n**Config** AgentCollectorAnalyzer\n\n**Schedule** Schedule scheduleschedule\n\n**Diamond**Diamond\n\n**MQ** Data AnalyzerMQ\n\n**Data Analyzer** \n\n\n![](https://gw.alipayobjects.com/zos/skylark/03a23023-065f-4333-a11a-86afff4f770f/2018/png/f2c31281-de0d-49e7-830d-49c2474b6ddb.png)\n\n\n## \n#### OneAPM\n![](https://gw.alipayobjects.com/zos/skylark/1c75fc4a-de85-408c-a859-d943a7bccec3/2018/png/2e24513f-0c46-4f25-acd2-0aa293962b01.png)\n\n#### CAT\n![](https://gw.alipayobjects.com/zos/skylark/33fb5a1d-2b4a-45dd-a94b-f0b660b47339/2018/png/e956684e-e5ce-4e10-b424-6d51b2949502.png)\n\nhttps://tech.meituan.com/CAT_in_Depth_Java_Application_Monitoring.html\n\n## \n\n\n*  \n*  \n*  \n*  \n*  \n* \n\n\n### 3.1 \n\n\n1. -Push\n    * \n        * \n        * \n        * \n        * \n    * \n        * \n2. -Pull\n    * \n        * \n        * \n        * Edasstaragent\n    * \n        * \n        * (twitter)\n        * (twitter)\n\n\n\n\n|  |  |  |\n| --- | --- | --- |\n| AliMonitor | Push |  |\n| Ali-Sunfire | Pull |  |\n| TLog | Pull |  |\n| aliyun-sls-ilogtail | Push |  |\n| Zabbix | push+pull |  |\n| Open-falcon | Push |  |\n| OneAPM | Push |  |\n| Cacti | Pull |  |\n\n**Push**\n![](https://gw.alicdn.com/tfscom/TB1MJZKonvI8KJjSspjXXcgjXXa.png)\n\n\n\n**Pull**\n![](https://gw.alicdn.com/tfscom/TB19cEKonvI8KJjSspjXXcgjXXa.png)\n\n**Agent:**\n\n1. LogFinder: \n2. LogQuery: \n3. LogCompression \n\nLogAgent\n\n****\n\n* \n* \n* OSAgent\n* Agent\n* \n* \n* \n\n\n****\n> \n\n### 3.2 \nscheduleXQuartzQuartz quartzspringquartzquartz\nAPI\nspring-quartzSchedulerService \n\n### 3.3 Metric\nMetricTransferMetric\n\n\n\n* OS\n* \n\nMetric\n\n\n| category | Metric | Type | Tag | Description |\n| --- | --- | --- | --- | --- |\n| cpu | system.cpu.idle | GAUGE | host |  |\n|   | system.cpu.system | GAUGE | host |  |\n|  | system.cpu.user | GAUGE | host |  |\n|  | system.cpu.util | GAUGE | host | cpu |\n| load | system.load.1min | GAUGE | host |  |\n|  | system.load.5min | GAUGE | host |  |\n|  | system.load.15min | GAUGE | host |  |\n| mem | system.mem.buffers | GAUGE | host | buffer cache(kb) |\n|  | system.mem.cached | GAUGE | host | pagecache(kb) |\n|  | system.mem.free | GAUGE | host | (kb) |\n|  | system.mem.total | GAUGE  | host | (kb) |\n|  | system.mem.used | GAUGE | host | (kb) |\n|  | system.mem.util | GAUGE | host |  |\n| disk.partition | system.disk.partition.total | GAUGE | hostdevice |  |\n|  | system.disk.partition.free | GAUGE | hostdevice |  |\n|  | system.disk.partition.used | GAUGE | hostdevice |  |\n|  | system.disk.partition.used_ratio | GAUGE | hostdevice |  |\n| disk.io | system.disk.io.read_merge | GAUGE | hostdevice |  |\n|  | system.disk.io.write_merge | GAUGE | hostdevice |  |\n|  | system.disk.io.read | GAUGE | hostdevice |  |\n|  | system.disk.io.write | GAUGE | hostdevice |  |\n|  | system.disk.io.util | GAUGE | hostdevice | io |\n| processs | system.process.switches | GAUGE| host | |\n|  | system.process.total | GAUGE| host | |\n|traffic |system.net.in.bytes| GAUGE|host| |\n| |system.net.out.bytes| GAUGE|host| |\n| |system.net.in.packets| GAUGE|host| |\n| |system.net.out.packets| GAUGE|host| |\n| |system.net.packet.errs| GAUGE|host| |\n| |system.net.packet.dropped| GAUGE|host| |\n|tcp | system.tcp.active_opens| GAUGE | host | 1min|\n| | system.tcp.passive_opens| GAUGE | host | 1min|\n| | system.tcp.current_estab| GAUGE | host | 1minESTABLISHEDCLOSE-WAITTCP|\n| | system.tcp.estab_resets| GAUGE | host | 1minreset|\n| | system.tcp.out_segs| GAUGE | host | 1mintcp|\n| | system.tcp.in_segs| GAUGE | host | 1mintcp|\n| | system.tcp.attempt_fails| GAUGE | host | 1min|\n| | system.tcp.retran_segs| GAUGE | host | 1min|\n| udp| system.udp.in_dgm| GAUGE | host | udp |\n| | system.udp.out_dgm| GAUGE | host | udp |\n| | system.udp.noport| GAUGE | host | udp |\n| | system.udp.in_errs| GAUGE | host | udp |\n\n\nMetric\n\n| category | Metric | Type | Tag | Description |\n| --- | --- | --- | --- | --- |\n| servlet| app.servlet.request.count| COUNTER | hosttransactiondevice | |\n| | app.servlet.request.durations| COUNTER | hosttransactiondevice | |\n| | app.servlet.request.rt.mean| GAUGE | hosttransactiondevice | rt|\n| | app.servlet.request.rt.max| GAUGE | hosttransactiondevice | rt|\n| | app.servlet.request.rt.min| GAUGE | hosttransactiondevice | rt|\n| | app.servlet.request.error_count| COUNTER | hosttransactiondevice | |\n\ndeviceagentIdtransaction\n\n\n**Metric**\n\nkeytag[a-z][A-Z][0-9][-_./], , , key\nxxx.category[.sub_category]*, categorysub_category'_' '.'\n tag tagKeykey  key\n\n### 3.4 transfer\nsystemCPUmem\n\n\n```java\npublic interface MetricTransfer extends Transfer {\n\n    /**\n     * format  data to metric list\n     *\n     * @param sourceData\n     * @return\n     */\n    List<MetricObject> format(MetricMeta metricMeta, String sourceData);\n}\n```\n\n## \n### 4.1 \n\n\n\n* \n* Spark StreamingStormFlink\n![](https://gw.alicdn.com/tfscom/TB1kLTkodbJ8KJjy1zjXXaqapXa.png)\n\n\n\n### 4.2 \n\nCPU90%CPU90%Event\n\n\n![](https://gw.alicdn.com/tfscom/TB1sQtXov2H8KJjy1zkXXXr7pXa.png)\n\n****\n\nData AnalyzerRule SetRule SetfilterEvent Event \n\n****\n\n\n\n****\n\nloadRedis\n\n****\n\nHostsMetricstriggersfunctionsitemseventsactions\n\n* hosts \n* metrics\n* items \n* triggers\n* events \n* actions\n\n****\n\n ()\n{<host>:<metric>.<function>(<parameter>)}<operator><constant>\n\n****\n\n 11.23.45.67    load  2     \n{11.23.45.67:system.cpu.load.last(10m)}  > 2\n\n****\n\n* max\t\t\n* min\t\t\n* avg\t\t\n\n\n****\n\n\n\n* items\n* triggers\n* events\n* actions\n\n\n\n![](https://gw.alipayobjects.com/zos/skylark/5ec4918f-2d14-4c92-a637-cc5457c828a8/2018/png/f1dffd57-4a0e-4f98-a295-b39db045a6e2.png)\n\n1n1:11:1\n\n## \n### 5.1 \n\n\n1. Metric\n    * metrictagOS\n2. Event  Docker\n    * eventMkKitMetric\n3. Log \n    * eventtagtext\n4. Heartbeat \n    * agent\n5. Trace \n    * trace\n\n### 5.2 \nSQLNoSQLNoSQLSQL\n\nOpenTSDBHiTSDB MysqlMysql \n\n1003049G1kb5\n\n#### 5.3 \nCassandra\nInfluxDB\nMongoDB\nOpenTSDB\nKairosDB\nHBase\n\n### 5.4 \nmetric\n[](https://gw.alipayobjects.com/zos/skylark/02b7d493-9e02-490d-8f0c-243309a66ad5/2018/png/edcf8730-7203-48da-961b-1858d60a372c.png)\n\nmetricmetric keymetric tag\n\n1. metric key\n2. metric tag\n    * tag key: \n    * tag value: \n\nMetric\n![](https://gw.alicdn.com/tfscom/TB1Ey9PeAfb_uJkSne1XXbE4XXa.png)\n\n* metric keykey\n* metric tagtag\n* metric value\n* timestamp\n* metadata\n\nMetricnamespacescopemetric MetricObject \n\n\n|  |  |  |  |\n| --- | --- | --- | --- |\n|namespace | String | userId | |\n|scope | String | systemjvmhsfservlet | |\n|metric | String | Key | |\n|metricType | MetricType |  | |\n|tags | map<string,string> | tagtagmysqlnosql | OpenTSDBTag|\n|timestamp | Long |  | |\n|value | Double |  | |\n\n\n\n\n```json\n{\n    \"namespace\": \"1114805108664848\",\n    \"scope\": \"system\",\n    \"metric\": \"sys.memory.total\",\n    \"metricType\": \"COUNTER\",\n    \"tags\": {\n        \"host\": \"127.0.0.1\"\n    },\n    \"timestamp\": 1470298287916,\n    \"value\": 1167126\n}\n```\n\nMetricType (http://metrics.dropwizard.io/4.0.0/getting-started.html)\n\n* COUNTER: TomcatHTTP\n* GAUGE: loadJVM\n* METERQPS\n* HISTOGRAM\n\n**Tags **\n\nMysqlMetricMysqlschemalessTagskey-valueMysqltagTagskeyMysqltagsvalue\n\ntag\n\n\n|  |  |  |\n| --- | --- | --- |\n|tag_host |  | 127.0.0.1 |\n|tag_device |  | /usr/dev1 |\n|tag_trace |  | tid |\n|tag_transaction |  | createOrder |\n\nMysql\n![](https://gw.alipayobjects.com/zos/skylark/1936fc76-7df1-4485-aed2-00eda58b2903/2018/png/0a5f4d67-77ca-4030-a095-919918a948c6.png)\n\n## \n\n### 6.1 \n\n\n* \n* \n\n** **\n\n\n![](https://gw.alipayobjects.com/zos/skylark/ed6a20ea-c9d8-4ef7-be45-ab972ac211e2/2018/png/a9b705d7-cc05-43f2-8a3a-dc822ddfd7b2.png)\n\n\n### 6.2 \n\n()()()MetricAggregatorDown sample\n\nAggregatorCPUCPU\n\nDown sample5CPU11212\n\n### 6.3 \n\n![](https://gw.alipayobjects.com/zos/skylark/84e8e67c-e0a8-4a9d-a748-0e5383cc08ee/2018/png/4afc4ec7-84d4-42e9-b3b7-d17cdc57eae3.png)\n\n\n()zabbixtrendsMetricDBPass615151515\n\nMetricOpenTSDBAliyunHiTSDB+\n\n\n### 6.4 \nD1D2D3\n\n\n\n* \n* \n* \n* EWMA\n\n![](https://gw.alipayobjects.com/zos/skylark/b070bc51-d1db-46b0-9fb9-19461a360ecc/2018/png/ebfc264d-1e49-4ae2-b771-63e88e39e63d.png)\n\n![](https://gw.alipayobjects.com/zos/skylark/5d1585f9-8351-4eec-afee-d2b74531c268/2018/png/490d585e-700e-44f5-978c-d30a772d9e80.png)\n\nEWMAJava[EWMA.java](https://github.com/heartaway/metrics/blob/4.1-development/metrics-core/src/main/java/com/codahale/metrics/EWMA.java)\nEWMA Load1Load5Load15EWMA\n\n### 6.5 API\n\n\n\n## \nmetric\n\n[https://www.youtube.com/watch?v=czes-oa0yik](https://www.youtube.com/watch?v=czes-oa0yik)\n\n open-falcon\n\n[http://open-falcon.com/](http://open-falcon.com/)\n\n\n\n\n[http://blog.163yun.com/archives/900](http://blog.163yun.com/archives/900)\n\nsalesforce-Argus\n[https://github.com/salesforce/argus](https://github.com/salesforce/argus)\n\nMetrics\n\n[http://www.cnblogs.com/yangecnu/p/Using-Metrics-to-Profiling-WebService-Performance.html](http://www.cnblogs.com/yangecnu/p/Using-Metrics-to-Profiling-WebService-Performance.html)\n\n\n\n[http://www.infoq.com/cn/articles/pretreatment-in-sequential-databases](http://www.infoq.com/cn/articles/pretreatment-in-sequential-databases)\n\n\n\n\n\n","slug":"HighAvailability/2018-03-14-monitor-system","published":1,"updated":"2018-11-10T08:59:09.795Z","comments":1,"photos":[],"link":"","_id":"cjtohbkbu00786f12ulpest8t","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<p><br></p>\n</blockquote>\n<p><br><img src=\"https://gw.alicdn.com/tfscom/TB1nArGof2H8KJjy0FcXXaDlFXa.png\" alt=\"\"></p>\n<p><br><img src=\"https://gw.alipayobjects.com/zos/skylark/155aa3d2-3444-4bd5-9588-ae9dfa39a0b2/2018/png/c59df181-ff42-4f6d-be01-3314a92f5e03.png\" alt=\"\"></p>\n<p><strong></strong></p>\n<p><strong>API Gateway</strong>agent  Server API GatewayAPI GatewayMK</p>\n<p><strong>Data Collector</strong>  </p>\n<p><strong>Data Transfer</strong> </p>\n<p><strong>Config</strong> AgentCollectorAnalyzer</p>\n<p><strong>Schedule</strong> Schedule scheduleschedule</p>\n<p><strong>Diamond</strong>Diamond</p>\n<p><strong>MQ</strong> Data AnalyzerMQ</p>\n<p><strong>Data Analyzer</strong> </p>\n<p><br><img src=\"https://gw.alipayobjects.com/zos/skylark/03a23023-065f-4333-a11a-86afff4f770f/2018/png/f2c31281-de0d-49e7-830d-49c2474b6ddb.png\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h4 id=\"OneAPM\"><a href=\"#OneAPM\" class=\"headerlink\" title=\"OneAPM\"></a>OneAPM</h4><p><img src=\"https://gw.alipayobjects.com/zos/skylark/1c75fc4a-de85-408c-a859-d943a7bccec3/2018/png/2e24513f-0c46-4f25-acd2-0aa293962b01.png\" alt=\"\"></p>\n<h4 id=\"CAT\"><a href=\"#CAT\" class=\"headerlink\" title=\"CAT\"></a>CAT</h4><p><img src=\"https://gw.alipayobjects.com/zos/skylark/33fb5a1d-2b4a-45dd-a94b-f0b660b47339/2018/png/e956684e-e5ce-4e10-b424-6d51b2949502.png\" alt=\"\"></p>\n<p><a href=\"https://tech.meituan.com/CAT_in_Depth_Java_Application_Monitoring.html\" target=\"_blank\" rel=\"noopener\">https://tech.meituan.com/CAT_in_Depth_Java_Application_Monitoring.html</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ul>\n<li> </li>\n<li> </li>\n<li> </li>\n<li> </li>\n<li> </li>\n<li></li>\n</ul>\n<h3 id=\"3-1-\"><a href=\"#3-1-\" class=\"headerlink\" title=\"3.1 \"></a>3.1 </h3><p></p>\n<ol>\n<li>-Push<ul>\n<li><ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n</li>\n<li><ul>\n<li></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>-Pull<ul>\n<li><ul>\n<li></li>\n<li></li>\n<li>Edasstaragent</li>\n</ul>\n</li>\n<li><ul>\n<li></li>\n<li>(twitter)</li>\n<li>(twitter)</li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n<p></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>AliMonitor</td>\n<td>Push</td>\n<td></td>\n</tr>\n<tr>\n<td>Ali-Sunfire</td>\n<td>Pull</td>\n<td></td>\n</tr>\n<tr>\n<td>TLog</td>\n<td>Pull</td>\n<td></td>\n</tr>\n<tr>\n<td>aliyun-sls-ilogtail</td>\n<td>Push</td>\n<td></td>\n</tr>\n<tr>\n<td>Zabbix</td>\n<td>push+pull</td>\n<td></td>\n</tr>\n<tr>\n<td>Open-falcon</td>\n<td>Push</td>\n<td></td>\n</tr>\n<tr>\n<td>OneAPM</td>\n<td>Push</td>\n<td></td>\n</tr>\n<tr>\n<td>Cacti</td>\n<td>Pull</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Push</strong><br><img src=\"https://gw.alicdn.com/tfscom/TB1MJZKonvI8KJjSspjXXcgjXXa.png\" alt=\"\"></p>\n<p></p>\n<p><strong>Pull</strong><br><img src=\"https://gw.alicdn.com/tfscom/TB19cEKonvI8KJjSspjXXcgjXXa.png\" alt=\"\"></p>\n<p><strong>Agent:</strong></p>\n<ol>\n<li>LogFinder: </li>\n<li>LogQuery: </li>\n<li>LogCompression </li>\n</ol>\n<p>LogAgent</p>\n<p><strong></strong></p>\n<ul>\n<li></li>\n<li></li>\n<li>OSAgent</li>\n<li>Agent</li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p><strong></strong></p>\n<blockquote>\n<p> </p>\n</blockquote>\n<h3 id=\"3-2-\"><a href=\"#3-2-\" class=\"headerlink\" title=\"3.2 \"></a>3.2 </h3><p>scheduleXQuartzQuartz quartzspringquartzquartz<br>API<br>spring-quartzSchedulerService </p>\n<h3 id=\"3-3-Metric\"><a href=\"#3-3-Metric\" class=\"headerlink\" title=\"3.3 Metric\"></a>3.3 Metric</h3><p>MetricTransferMetric</p>\n<p></p>\n<ul>\n<li>OS</li>\n<li></li>\n</ul>\n<p>Metric</p>\n<table>\n<thead>\n<tr>\n<th>category</th>\n<th>Metric</th>\n<th>Type</th>\n<th>Tag</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>cpu</td>\n<td>system.cpu.idle</td>\n<td>GAUGE</td>\n<td>host</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>system.cpu.system</td>\n<td>GAUGE</td>\n<td>host</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>system.cpu.user</td>\n<td>GAUGE</td>\n<td>host</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>system.cpu.util</td>\n<td>GAUGE</td>\n<td>host</td>\n<td>cpu</td>\n</tr>\n<tr>\n<td>load</td>\n<td>system.load.1min</td>\n<td>GAUGE</td>\n<td>host</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>system.load.5min</td>\n<td>GAUGE</td>\n<td>host</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>system.load.15min</td>\n<td>GAUGE</td>\n<td>host</td>\n<td></td>\n</tr>\n<tr>\n<td>mem</td>\n<td>system.mem.buffers</td>\n<td>GAUGE</td>\n<td>host</td>\n<td>buffer cache(kb)</td>\n</tr>\n<tr>\n<td></td>\n<td>system.mem.cached</td>\n<td>GAUGE</td>\n<td>host</td>\n<td>pagecache(kb)</td>\n</tr>\n<tr>\n<td></td>\n<td>system.mem.free</td>\n<td>GAUGE</td>\n<td>host</td>\n<td>(kb)</td>\n</tr>\n<tr>\n<td></td>\n<td>system.mem.total</td>\n<td>GAUGE</td>\n<td>host</td>\n<td>(kb)</td>\n</tr>\n<tr>\n<td></td>\n<td>system.mem.used</td>\n<td>GAUGE</td>\n<td>host</td>\n<td>(kb)</td>\n</tr>\n<tr>\n<td></td>\n<td>system.mem.util</td>\n<td>GAUGE</td>\n<td>host</td>\n<td></td>\n</tr>\n<tr>\n<td>disk.partition</td>\n<td>system.disk.partition.total</td>\n<td>GAUGE</td>\n<td>hostdevice</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>system.disk.partition.free</td>\n<td>GAUGE</td>\n<td>hostdevice</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>system.disk.partition.used</td>\n<td>GAUGE</td>\n<td>hostdevice</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>system.disk.partition.used_ratio</td>\n<td>GAUGE</td>\n<td>hostdevice</td>\n<td></td>\n</tr>\n<tr>\n<td>disk.io</td>\n<td>system.disk.io.read_merge</td>\n<td>GAUGE</td>\n<td>hostdevice</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>system.disk.io.write_merge</td>\n<td>GAUGE</td>\n<td>hostdevice</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>system.disk.io.read</td>\n<td>GAUGE</td>\n<td>hostdevice</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>system.disk.io.write</td>\n<td>GAUGE</td>\n<td>hostdevice</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>system.disk.io.util</td>\n<td>GAUGE</td>\n<td>hostdevice</td>\n<td>io</td>\n</tr>\n<tr>\n<td>processs</td>\n<td>system.process.switches</td>\n<td>GAUGE</td>\n<td>host</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>system.process.total</td>\n<td>GAUGE</td>\n<td>host</td>\n<td></td>\n</tr>\n<tr>\n<td>traffic</td>\n<td>system.net.in.bytes</td>\n<td>GAUGE</td>\n<td>host</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>system.net.out.bytes</td>\n<td>GAUGE</td>\n<td>host</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>system.net.in.packets</td>\n<td>GAUGE</td>\n<td>host</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>system.net.out.packets</td>\n<td>GAUGE</td>\n<td>host</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>system.net.packet.errs</td>\n<td>GAUGE</td>\n<td>host</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>system.net.packet.dropped</td>\n<td>GAUGE</td>\n<td>host</td>\n<td></td>\n</tr>\n<tr>\n<td>tcp</td>\n<td>system.tcp.active_opens</td>\n<td>GAUGE</td>\n<td>host</td>\n<td>1min</td>\n</tr>\n<tr>\n<td></td>\n<td>system.tcp.passive_opens</td>\n<td>GAUGE</td>\n<td>host</td>\n<td>1min</td>\n</tr>\n<tr>\n<td></td>\n<td>system.tcp.current_estab</td>\n<td>GAUGE</td>\n<td>host</td>\n<td>1minESTABLISHEDCLOSE-WAITTCP</td>\n</tr>\n<tr>\n<td></td>\n<td>system.tcp.estab_resets</td>\n<td>GAUGE</td>\n<td>host</td>\n<td>1minreset</td>\n</tr>\n<tr>\n<td></td>\n<td>system.tcp.out_segs</td>\n<td>GAUGE</td>\n<td>host</td>\n<td>1mintcp</td>\n</tr>\n<tr>\n<td></td>\n<td>system.tcp.in_segs</td>\n<td>GAUGE</td>\n<td>host</td>\n<td>1mintcp</td>\n</tr>\n<tr>\n<td></td>\n<td>system.tcp.attempt_fails</td>\n<td>GAUGE</td>\n<td>host</td>\n<td>1min</td>\n</tr>\n<tr>\n<td></td>\n<td>system.tcp.retran_segs</td>\n<td>GAUGE</td>\n<td>host</td>\n<td>1min</td>\n</tr>\n<tr>\n<td>udp</td>\n<td>system.udp.in_dgm</td>\n<td>GAUGE</td>\n<td>host</td>\n<td>udp</td>\n</tr>\n<tr>\n<td></td>\n<td>system.udp.out_dgm</td>\n<td>GAUGE</td>\n<td>host</td>\n<td>udp</td>\n</tr>\n<tr>\n<td></td>\n<td>system.udp.noport</td>\n<td>GAUGE</td>\n<td>host</td>\n<td>udp</td>\n</tr>\n<tr>\n<td></td>\n<td>system.udp.in_errs</td>\n<td>GAUGE</td>\n<td>host</td>\n<td>udp</td>\n</tr>\n</tbody>\n</table>\n<p>Metric</p>\n<table>\n<thead>\n<tr>\n<th>category</th>\n<th>Metric</th>\n<th>Type</th>\n<th>Tag</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>servlet</td>\n<td>app.servlet.request.count</td>\n<td>COUNTER</td>\n<td>hosttransactiondevice</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>app.servlet.request.durations</td>\n<td>COUNTER</td>\n<td>hosttransactiondevice</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>app.servlet.request.rt.mean</td>\n<td>GAUGE</td>\n<td>hosttransactiondevice</td>\n<td>rt</td>\n</tr>\n<tr>\n<td></td>\n<td>app.servlet.request.rt.max</td>\n<td>GAUGE</td>\n<td>hosttransactiondevice</td>\n<td>rt</td>\n</tr>\n<tr>\n<td></td>\n<td>app.servlet.request.rt.min</td>\n<td>GAUGE</td>\n<td>hosttransactiondevice</td>\n<td>rt</td>\n</tr>\n<tr>\n<td></td>\n<td>app.servlet.request.error_count</td>\n<td>COUNTER</td>\n<td>hosttransactiondevice</td>\n</tr>\n</tbody>\n</table>\n<p>deviceagentIdtransaction</p>\n<p><strong>Metric</strong></p>\n<p>keytag[a-z][A-Z][0-9][-_./], , , key<br>xxx.category[.sub_category]*, categorysub_category_ .<br> tag tagKeykey  key</p>\n<h3 id=\"3-4-transfer\"><a href=\"#3-4-transfer\" class=\"headerlink\" title=\"3.4 transfer\"></a>3.4 transfer</h3><p>systemCPUmem</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">MetricTransfer</span> <span class=\"keyword\">extends</span> <span class=\"title\">Transfer</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * format  data to metric list</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> sourceData</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span></span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\">List&lt;MetricObject&gt; <span class=\"title\">format</span><span class=\"params\">(MetricMeta metricMeta, String sourceData)</span></span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"4-1-\"><a href=\"#4-1-\" class=\"headerlink\" title=\"4.1 \"></a>4.1 </h3><p></p>\n<ul>\n<li></li>\n<li>Spark StreamingStormFlink<br><img src=\"https://gw.alicdn.com/tfscom/TB1kLTkodbJ8KJjy1zjXXaqapXa.png\" alt=\"\"></li>\n</ul>\n<p></p>\n<h3 id=\"4-2-\"><a href=\"#4-2-\" class=\"headerlink\" title=\"4.2 \"></a>4.2 </h3><p>CPU90%CPU90%Event</p>\n<p><br><img src=\"https://gw.alicdn.com/tfscom/TB1sQtXov2H8KJjy1zkXXXr7pXa.png\" alt=\"\"></p>\n<p><strong></strong></p>\n<p>Data AnalyzerRule SetRule SetfilterEvent Event </p>\n<p><strong></strong></p>\n<p></p>\n<p><strong></strong></p>\n<p>loadRedis</p>\n<p><strong></strong></p>\n<p>HostsMetricstriggersfunctionsitemseventsactions</p>\n<ul>\n<li>hosts </li>\n<li>metrics</li>\n<li>items </li>\n<li>triggers</li>\n<li>events </li>\n<li>actions</li>\n</ul>\n<p><strong></strong></p>\n<p> ()<br>{<host>:<metric>.<function>(<parameter>)}<operator><constant></constant></operator></parameter></function></metric></host></p>\n<p><strong></strong></p>\n<p> 11.23.45.67    load  2     <br>{11.23.45.67:system.cpu.load.last(10m)}  &gt; 2</p>\n<p><strong></strong></p>\n<ul>\n<li>max        </li>\n<li>min        </li>\n<li>avg        </li>\n</ul>\n<p><strong></strong></p>\n<p></p>\n<ul>\n<li>items</li>\n<li>triggers</li>\n<li>events</li>\n<li>actions</li>\n</ul>\n<p></p>\n<p><img src=\"https://gw.alipayobjects.com/zos/skylark/5ec4918f-2d14-4c92-a637-cc5457c828a8/2018/png/f1dffd57-4a0e-4f98-a295-b39db045a6e2.png\" alt=\"\"></p>\n<p>1n1:11:1</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"5-1-\"><a href=\"#5-1-\" class=\"headerlink\" title=\"5.1 \"></a>5.1 </h3><p></p>\n<ol>\n<li>Metric<ul>\n<li>metrictagOS</li>\n</ul>\n</li>\n<li>Event  Docker<ul>\n<li>eventMkKitMetric</li>\n</ul>\n</li>\n<li>Log <ul>\n<li>eventtagtext</li>\n</ul>\n</li>\n<li>Heartbeat <ul>\n<li>agent</li>\n</ul>\n</li>\n<li>Trace <ul>\n<li>trace</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"5-2-\"><a href=\"#5-2-\" class=\"headerlink\" title=\"5.2 \"></a>5.2 </h3><p>SQLNoSQLNoSQLSQL</p>\n<p>OpenTSDBHiTSDB MysqlMysql </p>\n<p>1003049G1kb5</p>\n<h4 id=\"5-3-\"><a href=\"#5-3-\" class=\"headerlink\" title=\"5.3 \"></a>5.3 </h4><p>Cassandra<br>InfluxDB<br>MongoDB<br>OpenTSDB<br>KairosDB<br>HBase</p>\n<h3 id=\"5-4-\"><a href=\"#5-4-\" class=\"headerlink\" title=\"5.4 \"></a>5.4 </h3><p>metric<br><a href=\"https://gw.alipayobjects.com/zos/skylark/02b7d493-9e02-490d-8f0c-243309a66ad5/2018/png/edcf8730-7203-48da-961b-1858d60a372c.png\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p>metricmetric keymetric tag</p>\n<ol>\n<li>metric key</li>\n<li>metric tag<ul>\n<li>tag key: </li>\n<li>tag value: </li>\n</ul>\n</li>\n</ol>\n<p>Metric<br><img src=\"https://gw.alicdn.com/tfscom/TB1Ey9PeAfb_uJkSne1XXbE4XXa.png\" alt=\"\"></p>\n<ul>\n<li>metric keykey</li>\n<li>metric tagtag</li>\n<li>metric value</li>\n<li>timestamp</li>\n<li>metadata</li>\n</ul>\n<p>Metricnamespacescopemetric MetricObject </p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>namespace</td>\n<td>String</td>\n<td>userId</td>\n<td></td>\n</tr>\n<tr>\n<td>scope</td>\n<td>String</td>\n<td>systemjvmhsfservlet</td>\n<td></td>\n</tr>\n<tr>\n<td>metric</td>\n<td>String</td>\n<td>Key</td>\n<td></td>\n</tr>\n<tr>\n<td>metricType</td>\n<td>MetricType</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>tags</td>\n<td>map&lt;string,string&gt;</td>\n<td>tagtagmysqlnosql</td>\n<td>OpenTSDBTag</td>\n</tr>\n<tr>\n<td>timestamp</td>\n<td>Long</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>value</td>\n<td>Double</td>\n<td></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<p></p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"attr\">\"namespace\"</span>: <span class=\"string\">\"1114805108664848\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"scope\"</span>: <span class=\"string\">\"system\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"metric\"</span>: <span class=\"string\">\"sys.memory.total\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"metricType\"</span>: <span class=\"string\">\"COUNTER\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"tags\"</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">\"host\"</span>: <span class=\"string\">\"127.0.0.1\"</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">\"timestamp\"</span>: <span class=\"number\">1470298287916</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"value\"</span>: <span class=\"number\">1167126</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>MetricType (<a href=\"http://metrics.dropwizard.io/4.0.0/getting-started.html)\" target=\"_blank\" rel=\"noopener\">http://metrics.dropwizard.io/4.0.0/getting-started.html)</a></p>\n<ul>\n<li>COUNTER: TomcatHTTP</li>\n<li>GAUGE: loadJVM</li>\n<li>METERQPS</li>\n<li>HISTOGRAM</li>\n</ul>\n<p><strong>Tags </strong></p>\n<p>MysqlMetricMysqlschemalessTagskey-valueMysqltagTagskeyMysqltagsvalue</p>\n<p>tag</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>tag_host</td>\n<td></td>\n<td>127.0.0.1</td>\n</tr>\n<tr>\n<td>tag_device</td>\n<td></td>\n<td>/usr/dev1</td>\n</tr>\n<tr>\n<td>tag_trace</td>\n<td></td>\n<td>tid</td>\n</tr>\n<tr>\n<td>tag_transaction</td>\n<td></td>\n<td>createOrder</td>\n</tr>\n</tbody>\n</table>\n<p>Mysql<br><img src=\"https://gw.alipayobjects.com/zos/skylark/1936fc76-7df1-4485-aed2-00eda58b2903/2018/png/0a5f4d67-77ca-4030-a095-919918a948c6.png\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"6-1-\"><a href=\"#6-1-\" class=\"headerlink\" title=\"6.1 \"></a>6.1 </h3><p></p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p><strong> </strong></p>\n<p><br><img src=\"https://gw.alipayobjects.com/zos/skylark/ed6a20ea-c9d8-4ef7-be45-ab972ac211e2/2018/png/a9b705d7-cc05-43f2-8a3a-dc822ddfd7b2.png\" alt=\"\"></p>\n<h3 id=\"6-2-\"><a href=\"#6-2-\" class=\"headerlink\" title=\"6.2 \"></a>6.2 </h3><p>()()()MetricAggregatorDown sample</p>\n<p>AggregatorCPUCPU</p>\n<p>Down sample5CPU11212</p>\n<h3 id=\"6-3-\"><a href=\"#6-3-\" class=\"headerlink\" title=\"6.3 \"></a>6.3 </h3><p><br><img src=\"https://gw.alipayobjects.com/zos/skylark/84e8e67c-e0a8-4a9d-a748-0e5383cc08ee/2018/png/4afc4ec7-84d4-42e9-b3b7-d17cdc57eae3.png\" alt=\"\"></p>\n<p>()zabbixtrendsMetricDBPass615151515</p>\n<p>MetricOpenTSDBAliyunHiTSDB+</p>\n<h3 id=\"6-4-\"><a href=\"#6-4-\" class=\"headerlink\" title=\"6.4 \"></a>6.4 </h3><p>D1D2D3</p>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li>EWMA</li>\n</ul>\n<p><img src=\"https://gw.alipayobjects.com/zos/skylark/b070bc51-d1db-46b0-9fb9-19461a360ecc/2018/png/ebfc264d-1e49-4ae2-b771-63e88e39e63d.png\" alt=\"\"></p>\n<p><img src=\"https://gw.alipayobjects.com/zos/skylark/5d1585f9-8351-4eec-afee-d2b74531c268/2018/png/490d585e-700e-44f5-978c-d30a772d9e80.png\" alt=\"\"></p>\n<p>EWMAJava<a href=\"https://github.com/heartaway/metrics/blob/4.1-development/metrics-core/src/main/java/com/codahale/metrics/EWMA.java\" target=\"_blank\" rel=\"noopener\">EWMA.java</a><br>EWMA Load1Load5Load15EWMA</p>\n<h3 id=\"6-5-API\"><a href=\"#6-5-API\" class=\"headerlink\" title=\"6.5 API\"></a>6.5 API</h3><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>metric</p>\n<p><a href=\"https://www.youtube.com/watch?v=czes-oa0yik\" target=\"_blank\" rel=\"noopener\">https://www.youtube.com/watch?v=czes-oa0yik</a></p>\n<p> open-falcon</p>\n<p><a href=\"http://open-falcon.com/\" target=\"_blank\" rel=\"noopener\">http://open-falcon.com/</a></p>\n<p></p>\n<p><a href=\"http://blog.163yun.com/archives/900\" target=\"_blank\" rel=\"noopener\">http://blog.163yun.com/archives/900</a></p>\n<p>salesforce-Argus<br><a href=\"https://github.com/salesforce/argus\" target=\"_blank\" rel=\"noopener\">https://github.com/salesforce/argus</a></p>\n<p>Metrics</p>\n<p><a href=\"http://www.cnblogs.com/yangecnu/p/Using-Metrics-to-Profiling-WebService-Performance.html\" target=\"_blank\" rel=\"noopener\">http://www.cnblogs.com/yangecnu/p/Using-Metrics-to-Profiling-WebService-Performance.html</a></p>\n<p></p>\n<p><a href=\"http://www.infoq.com/cn/articles/pretreatment-in-sequential-databases\" target=\"_blank\" rel=\"noopener\">http://www.infoq.com/cn/articles/pretreatment-in-sequential-databases</a></p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<p><br></p>\n</blockquote>\n<p><br><img src=\"https://gw.alicdn.com/tfscom/TB1nArGof2H8KJjy0FcXXaDlFXa.png\" alt=\"\"></p>\n<p><br><img src=\"https://gw.alipayobjects.com/zos/skylark/155aa3d2-3444-4bd5-9588-ae9dfa39a0b2/2018/png/c59df181-ff42-4f6d-be01-3314a92f5e03.png\" alt=\"\"></p>\n<p><strong></strong></p>\n<p><strong>API Gateway</strong>agent  Server API GatewayAPI GatewayMK</p>\n<p><strong>Data Collector</strong>  </p>\n<p><strong>Data Transfer</strong> </p>\n<p><strong>Config</strong> AgentCollectorAnalyzer</p>\n<p><strong>Schedule</strong> Schedule scheduleschedule</p>\n<p><strong>Diamond</strong>Diamond</p>\n<p><strong>MQ</strong> Data AnalyzerMQ</p>\n<p><strong>Data Analyzer</strong> </p>\n<p><br><img src=\"https://gw.alipayobjects.com/zos/skylark/03a23023-065f-4333-a11a-86afff4f770f/2018/png/f2c31281-de0d-49e7-830d-49c2474b6ddb.png\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h4 id=\"OneAPM\"><a href=\"#OneAPM\" class=\"headerlink\" title=\"OneAPM\"></a>OneAPM</h4><p><img src=\"https://gw.alipayobjects.com/zos/skylark/1c75fc4a-de85-408c-a859-d943a7bccec3/2018/png/2e24513f-0c46-4f25-acd2-0aa293962b01.png\" alt=\"\"></p>\n<h4 id=\"CAT\"><a href=\"#CAT\" class=\"headerlink\" title=\"CAT\"></a>CAT</h4><p><img src=\"https://gw.alipayobjects.com/zos/skylark/33fb5a1d-2b4a-45dd-a94b-f0b660b47339/2018/png/e956684e-e5ce-4e10-b424-6d51b2949502.png\" alt=\"\"></p>\n<p><a href=\"https://tech.meituan.com/CAT_in_Depth_Java_Application_Monitoring.html\" target=\"_blank\" rel=\"noopener\">https://tech.meituan.com/CAT_in_Depth_Java_Application_Monitoring.html</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ul>\n<li> </li>\n<li> </li>\n<li> </li>\n<li> </li>\n<li> </li>\n<li></li>\n</ul>\n<h3 id=\"3-1-\"><a href=\"#3-1-\" class=\"headerlink\" title=\"3.1 \"></a>3.1 </h3><p></p>\n<ol>\n<li>-Push<ul>\n<li><ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n</li>\n<li><ul>\n<li></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>-Pull<ul>\n<li><ul>\n<li></li>\n<li></li>\n<li>Edasstaragent</li>\n</ul>\n</li>\n<li><ul>\n<li></li>\n<li>(twitter)</li>\n<li>(twitter)</li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n<p></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>AliMonitor</td>\n<td>Push</td>\n<td></td>\n</tr>\n<tr>\n<td>Ali-Sunfire</td>\n<td>Pull</td>\n<td></td>\n</tr>\n<tr>\n<td>TLog</td>\n<td>Pull</td>\n<td></td>\n</tr>\n<tr>\n<td>aliyun-sls-ilogtail</td>\n<td>Push</td>\n<td></td>\n</tr>\n<tr>\n<td>Zabbix</td>\n<td>push+pull</td>\n<td></td>\n</tr>\n<tr>\n<td>Open-falcon</td>\n<td>Push</td>\n<td></td>\n</tr>\n<tr>\n<td>OneAPM</td>\n<td>Push</td>\n<td></td>\n</tr>\n<tr>\n<td>Cacti</td>\n<td>Pull</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Push</strong><br><img src=\"https://gw.alicdn.com/tfscom/TB1MJZKonvI8KJjSspjXXcgjXXa.png\" alt=\"\"></p>\n<p></p>\n<p><strong>Pull</strong><br><img src=\"https://gw.alicdn.com/tfscom/TB19cEKonvI8KJjSspjXXcgjXXa.png\" alt=\"\"></p>\n<p><strong>Agent:</strong></p>\n<ol>\n<li>LogFinder: </li>\n<li>LogQuery: </li>\n<li>LogCompression </li>\n</ol>\n<p>LogAgent</p>\n<p><strong></strong></p>\n<ul>\n<li></li>\n<li></li>\n<li>OSAgent</li>\n<li>Agent</li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p><strong></strong></p>\n<blockquote>\n<p> </p>\n</blockquote>\n<h3 id=\"3-2-\"><a href=\"#3-2-\" class=\"headerlink\" title=\"3.2 \"></a>3.2 </h3><p>scheduleXQuartzQuartz quartzspringquartzquartz<br>API<br>spring-quartzSchedulerService </p>\n<h3 id=\"3-3-Metric\"><a href=\"#3-3-Metric\" class=\"headerlink\" title=\"3.3 Metric\"></a>3.3 Metric</h3><p>MetricTransferMetric</p>\n<p></p>\n<ul>\n<li>OS</li>\n<li></li>\n</ul>\n<p>Metric</p>\n<table>\n<thead>\n<tr>\n<th>category</th>\n<th>Metric</th>\n<th>Type</th>\n<th>Tag</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>cpu</td>\n<td>system.cpu.idle</td>\n<td>GAUGE</td>\n<td>host</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>system.cpu.system</td>\n<td>GAUGE</td>\n<td>host</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>system.cpu.user</td>\n<td>GAUGE</td>\n<td>host</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>system.cpu.util</td>\n<td>GAUGE</td>\n<td>host</td>\n<td>cpu</td>\n</tr>\n<tr>\n<td>load</td>\n<td>system.load.1min</td>\n<td>GAUGE</td>\n<td>host</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>system.load.5min</td>\n<td>GAUGE</td>\n<td>host</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>system.load.15min</td>\n<td>GAUGE</td>\n<td>host</td>\n<td></td>\n</tr>\n<tr>\n<td>mem</td>\n<td>system.mem.buffers</td>\n<td>GAUGE</td>\n<td>host</td>\n<td>buffer cache(kb)</td>\n</tr>\n<tr>\n<td></td>\n<td>system.mem.cached</td>\n<td>GAUGE</td>\n<td>host</td>\n<td>pagecache(kb)</td>\n</tr>\n<tr>\n<td></td>\n<td>system.mem.free</td>\n<td>GAUGE</td>\n<td>host</td>\n<td>(kb)</td>\n</tr>\n<tr>\n<td></td>\n<td>system.mem.total</td>\n<td>GAUGE</td>\n<td>host</td>\n<td>(kb)</td>\n</tr>\n<tr>\n<td></td>\n<td>system.mem.used</td>\n<td>GAUGE</td>\n<td>host</td>\n<td>(kb)</td>\n</tr>\n<tr>\n<td></td>\n<td>system.mem.util</td>\n<td>GAUGE</td>\n<td>host</td>\n<td></td>\n</tr>\n<tr>\n<td>disk.partition</td>\n<td>system.disk.partition.total</td>\n<td>GAUGE</td>\n<td>hostdevice</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>system.disk.partition.free</td>\n<td>GAUGE</td>\n<td>hostdevice</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>system.disk.partition.used</td>\n<td>GAUGE</td>\n<td>hostdevice</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>system.disk.partition.used_ratio</td>\n<td>GAUGE</td>\n<td>hostdevice</td>\n<td></td>\n</tr>\n<tr>\n<td>disk.io</td>\n<td>system.disk.io.read_merge</td>\n<td>GAUGE</td>\n<td>hostdevice</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>system.disk.io.write_merge</td>\n<td>GAUGE</td>\n<td>hostdevice</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>system.disk.io.read</td>\n<td>GAUGE</td>\n<td>hostdevice</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>system.disk.io.write</td>\n<td>GAUGE</td>\n<td>hostdevice</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>system.disk.io.util</td>\n<td>GAUGE</td>\n<td>hostdevice</td>\n<td>io</td>\n</tr>\n<tr>\n<td>processs</td>\n<td>system.process.switches</td>\n<td>GAUGE</td>\n<td>host</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>system.process.total</td>\n<td>GAUGE</td>\n<td>host</td>\n<td></td>\n</tr>\n<tr>\n<td>traffic</td>\n<td>system.net.in.bytes</td>\n<td>GAUGE</td>\n<td>host</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>system.net.out.bytes</td>\n<td>GAUGE</td>\n<td>host</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>system.net.in.packets</td>\n<td>GAUGE</td>\n<td>host</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>system.net.out.packets</td>\n<td>GAUGE</td>\n<td>host</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>system.net.packet.errs</td>\n<td>GAUGE</td>\n<td>host</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>system.net.packet.dropped</td>\n<td>GAUGE</td>\n<td>host</td>\n<td></td>\n</tr>\n<tr>\n<td>tcp</td>\n<td>system.tcp.active_opens</td>\n<td>GAUGE</td>\n<td>host</td>\n<td>1min</td>\n</tr>\n<tr>\n<td></td>\n<td>system.tcp.passive_opens</td>\n<td>GAUGE</td>\n<td>host</td>\n<td>1min</td>\n</tr>\n<tr>\n<td></td>\n<td>system.tcp.current_estab</td>\n<td>GAUGE</td>\n<td>host</td>\n<td>1minESTABLISHEDCLOSE-WAITTCP</td>\n</tr>\n<tr>\n<td></td>\n<td>system.tcp.estab_resets</td>\n<td>GAUGE</td>\n<td>host</td>\n<td>1minreset</td>\n</tr>\n<tr>\n<td></td>\n<td>system.tcp.out_segs</td>\n<td>GAUGE</td>\n<td>host</td>\n<td>1mintcp</td>\n</tr>\n<tr>\n<td></td>\n<td>system.tcp.in_segs</td>\n<td>GAUGE</td>\n<td>host</td>\n<td>1mintcp</td>\n</tr>\n<tr>\n<td></td>\n<td>system.tcp.attempt_fails</td>\n<td>GAUGE</td>\n<td>host</td>\n<td>1min</td>\n</tr>\n<tr>\n<td></td>\n<td>system.tcp.retran_segs</td>\n<td>GAUGE</td>\n<td>host</td>\n<td>1min</td>\n</tr>\n<tr>\n<td>udp</td>\n<td>system.udp.in_dgm</td>\n<td>GAUGE</td>\n<td>host</td>\n<td>udp</td>\n</tr>\n<tr>\n<td></td>\n<td>system.udp.out_dgm</td>\n<td>GAUGE</td>\n<td>host</td>\n<td>udp</td>\n</tr>\n<tr>\n<td></td>\n<td>system.udp.noport</td>\n<td>GAUGE</td>\n<td>host</td>\n<td>udp</td>\n</tr>\n<tr>\n<td></td>\n<td>system.udp.in_errs</td>\n<td>GAUGE</td>\n<td>host</td>\n<td>udp</td>\n</tr>\n</tbody>\n</table>\n<p>Metric</p>\n<table>\n<thead>\n<tr>\n<th>category</th>\n<th>Metric</th>\n<th>Type</th>\n<th>Tag</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>servlet</td>\n<td>app.servlet.request.count</td>\n<td>COUNTER</td>\n<td>hosttransactiondevice</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>app.servlet.request.durations</td>\n<td>COUNTER</td>\n<td>hosttransactiondevice</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>app.servlet.request.rt.mean</td>\n<td>GAUGE</td>\n<td>hosttransactiondevice</td>\n<td>rt</td>\n</tr>\n<tr>\n<td></td>\n<td>app.servlet.request.rt.max</td>\n<td>GAUGE</td>\n<td>hosttransactiondevice</td>\n<td>rt</td>\n</tr>\n<tr>\n<td></td>\n<td>app.servlet.request.rt.min</td>\n<td>GAUGE</td>\n<td>hosttransactiondevice</td>\n<td>rt</td>\n</tr>\n<tr>\n<td></td>\n<td>app.servlet.request.error_count</td>\n<td>COUNTER</td>\n<td>hosttransactiondevice</td>\n</tr>\n</tbody>\n</table>\n<p>deviceagentIdtransaction</p>\n<p><strong>Metric</strong></p>\n<p>keytag[a-z][A-Z][0-9][-_./], , , key<br>xxx.category[.sub_category]*, categorysub_category_ .<br> tag tagKeykey  key</p>\n<h3 id=\"3-4-transfer\"><a href=\"#3-4-transfer\" class=\"headerlink\" title=\"3.4 transfer\"></a>3.4 transfer</h3><p>systemCPUmem</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">MetricTransfer</span> <span class=\"keyword\">extends</span> <span class=\"title\">Transfer</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * format  data to metric list</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> sourceData</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span></span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\">List&lt;MetricObject&gt; <span class=\"title\">format</span><span class=\"params\">(MetricMeta metricMeta, String sourceData)</span></span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"4-1-\"><a href=\"#4-1-\" class=\"headerlink\" title=\"4.1 \"></a>4.1 </h3><p></p>\n<ul>\n<li></li>\n<li>Spark StreamingStormFlink<br><img src=\"https://gw.alicdn.com/tfscom/TB1kLTkodbJ8KJjy1zjXXaqapXa.png\" alt=\"\"></li>\n</ul>\n<p></p>\n<h3 id=\"4-2-\"><a href=\"#4-2-\" class=\"headerlink\" title=\"4.2 \"></a>4.2 </h3><p>CPU90%CPU90%Event</p>\n<p><br><img src=\"https://gw.alicdn.com/tfscom/TB1sQtXov2H8KJjy1zkXXXr7pXa.png\" alt=\"\"></p>\n<p><strong></strong></p>\n<p>Data AnalyzerRule SetRule SetfilterEvent Event </p>\n<p><strong></strong></p>\n<p></p>\n<p><strong></strong></p>\n<p>loadRedis</p>\n<p><strong></strong></p>\n<p>HostsMetricstriggersfunctionsitemseventsactions</p>\n<ul>\n<li>hosts </li>\n<li>metrics</li>\n<li>items </li>\n<li>triggers</li>\n<li>events </li>\n<li>actions</li>\n</ul>\n<p><strong></strong></p>\n<p> ()<br>{<host>:<metric>.<function>(<parameter>)}<operator><constant></constant></operator></parameter></function></metric></host></p>\n<p><strong></strong></p>\n<p> 11.23.45.67    load  2     <br>{11.23.45.67:system.cpu.load.last(10m)}  &gt; 2</p>\n<p><strong></strong></p>\n<ul>\n<li>max        </li>\n<li>min        </li>\n<li>avg        </li>\n</ul>\n<p><strong></strong></p>\n<p></p>\n<ul>\n<li>items</li>\n<li>triggers</li>\n<li>events</li>\n<li>actions</li>\n</ul>\n<p></p>\n<p><img src=\"https://gw.alipayobjects.com/zos/skylark/5ec4918f-2d14-4c92-a637-cc5457c828a8/2018/png/f1dffd57-4a0e-4f98-a295-b39db045a6e2.png\" alt=\"\"></p>\n<p>1n1:11:1</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"5-1-\"><a href=\"#5-1-\" class=\"headerlink\" title=\"5.1 \"></a>5.1 </h3><p></p>\n<ol>\n<li>Metric<ul>\n<li>metrictagOS</li>\n</ul>\n</li>\n<li>Event  Docker<ul>\n<li>eventMkKitMetric</li>\n</ul>\n</li>\n<li>Log <ul>\n<li>eventtagtext</li>\n</ul>\n</li>\n<li>Heartbeat <ul>\n<li>agent</li>\n</ul>\n</li>\n<li>Trace <ul>\n<li>trace</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"5-2-\"><a href=\"#5-2-\" class=\"headerlink\" title=\"5.2 \"></a>5.2 </h3><p>SQLNoSQLNoSQLSQL</p>\n<p>OpenTSDBHiTSDB MysqlMysql </p>\n<p>1003049G1kb5</p>\n<h4 id=\"5-3-\"><a href=\"#5-3-\" class=\"headerlink\" title=\"5.3 \"></a>5.3 </h4><p>Cassandra<br>InfluxDB<br>MongoDB<br>OpenTSDB<br>KairosDB<br>HBase</p>\n<h3 id=\"5-4-\"><a href=\"#5-4-\" class=\"headerlink\" title=\"5.4 \"></a>5.4 </h3><p>metric<br><a href=\"https://gw.alipayobjects.com/zos/skylark/02b7d493-9e02-490d-8f0c-243309a66ad5/2018/png/edcf8730-7203-48da-961b-1858d60a372c.png\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p>metricmetric keymetric tag</p>\n<ol>\n<li>metric key</li>\n<li>metric tag<ul>\n<li>tag key: </li>\n<li>tag value: </li>\n</ul>\n</li>\n</ol>\n<p>Metric<br><img src=\"https://gw.alicdn.com/tfscom/TB1Ey9PeAfb_uJkSne1XXbE4XXa.png\" alt=\"\"></p>\n<ul>\n<li>metric keykey</li>\n<li>metric tagtag</li>\n<li>metric value</li>\n<li>timestamp</li>\n<li>metadata</li>\n</ul>\n<p>Metricnamespacescopemetric MetricObject </p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>namespace</td>\n<td>String</td>\n<td>userId</td>\n<td></td>\n</tr>\n<tr>\n<td>scope</td>\n<td>String</td>\n<td>systemjvmhsfservlet</td>\n<td></td>\n</tr>\n<tr>\n<td>metric</td>\n<td>String</td>\n<td>Key</td>\n<td></td>\n</tr>\n<tr>\n<td>metricType</td>\n<td>MetricType</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>tags</td>\n<td>map&lt;string,string&gt;</td>\n<td>tagtagmysqlnosql</td>\n<td>OpenTSDBTag</td>\n</tr>\n<tr>\n<td>timestamp</td>\n<td>Long</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>value</td>\n<td>Double</td>\n<td></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<p></p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"attr\">\"namespace\"</span>: <span class=\"string\">\"1114805108664848\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"scope\"</span>: <span class=\"string\">\"system\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"metric\"</span>: <span class=\"string\">\"sys.memory.total\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"metricType\"</span>: <span class=\"string\">\"COUNTER\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"tags\"</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">\"host\"</span>: <span class=\"string\">\"127.0.0.1\"</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">\"timestamp\"</span>: <span class=\"number\">1470298287916</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"value\"</span>: <span class=\"number\">1167126</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>MetricType (<a href=\"http://metrics.dropwizard.io/4.0.0/getting-started.html)\" target=\"_blank\" rel=\"noopener\">http://metrics.dropwizard.io/4.0.0/getting-started.html)</a></p>\n<ul>\n<li>COUNTER: TomcatHTTP</li>\n<li>GAUGE: loadJVM</li>\n<li>METERQPS</li>\n<li>HISTOGRAM</li>\n</ul>\n<p><strong>Tags </strong></p>\n<p>MysqlMetricMysqlschemalessTagskey-valueMysqltagTagskeyMysqltagsvalue</p>\n<p>tag</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>tag_host</td>\n<td></td>\n<td>127.0.0.1</td>\n</tr>\n<tr>\n<td>tag_device</td>\n<td></td>\n<td>/usr/dev1</td>\n</tr>\n<tr>\n<td>tag_trace</td>\n<td></td>\n<td>tid</td>\n</tr>\n<tr>\n<td>tag_transaction</td>\n<td></td>\n<td>createOrder</td>\n</tr>\n</tbody>\n</table>\n<p>Mysql<br><img src=\"https://gw.alipayobjects.com/zos/skylark/1936fc76-7df1-4485-aed2-00eda58b2903/2018/png/0a5f4d67-77ca-4030-a095-919918a948c6.png\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"6-1-\"><a href=\"#6-1-\" class=\"headerlink\" title=\"6.1 \"></a>6.1 </h3><p></p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p><strong> </strong></p>\n<p><br><img src=\"https://gw.alipayobjects.com/zos/skylark/ed6a20ea-c9d8-4ef7-be45-ab972ac211e2/2018/png/a9b705d7-cc05-43f2-8a3a-dc822ddfd7b2.png\" alt=\"\"></p>\n<h3 id=\"6-2-\"><a href=\"#6-2-\" class=\"headerlink\" title=\"6.2 \"></a>6.2 </h3><p>()()()MetricAggregatorDown sample</p>\n<p>AggregatorCPUCPU</p>\n<p>Down sample5CPU11212</p>\n<h3 id=\"6-3-\"><a href=\"#6-3-\" class=\"headerlink\" title=\"6.3 \"></a>6.3 </h3><p><br><img src=\"https://gw.alipayobjects.com/zos/skylark/84e8e67c-e0a8-4a9d-a748-0e5383cc08ee/2018/png/4afc4ec7-84d4-42e9-b3b7-d17cdc57eae3.png\" alt=\"\"></p>\n<p>()zabbixtrendsMetricDBPass615151515</p>\n<p>MetricOpenTSDBAliyunHiTSDB+</p>\n<h3 id=\"6-4-\"><a href=\"#6-4-\" class=\"headerlink\" title=\"6.4 \"></a>6.4 </h3><p>D1D2D3</p>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li>EWMA</li>\n</ul>\n<p><img src=\"https://gw.alipayobjects.com/zos/skylark/b070bc51-d1db-46b0-9fb9-19461a360ecc/2018/png/ebfc264d-1e49-4ae2-b771-63e88e39e63d.png\" alt=\"\"></p>\n<p><img src=\"https://gw.alipayobjects.com/zos/skylark/5d1585f9-8351-4eec-afee-d2b74531c268/2018/png/490d585e-700e-44f5-978c-d30a772d9e80.png\" alt=\"\"></p>\n<p>EWMAJava<a href=\"https://github.com/heartaway/metrics/blob/4.1-development/metrics-core/src/main/java/com/codahale/metrics/EWMA.java\" target=\"_blank\" rel=\"noopener\">EWMA.java</a><br>EWMA Load1Load5Load15EWMA</p>\n<h3 id=\"6-5-API\"><a href=\"#6-5-API\" class=\"headerlink\" title=\"6.5 API\"></a>6.5 API</h3><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>metric</p>\n<p><a href=\"https://www.youtube.com/watch?v=czes-oa0yik\" target=\"_blank\" rel=\"noopener\">https://www.youtube.com/watch?v=czes-oa0yik</a></p>\n<p> open-falcon</p>\n<p><a href=\"http://open-falcon.com/\" target=\"_blank\" rel=\"noopener\">http://open-falcon.com/</a></p>\n<p></p>\n<p><a href=\"http://blog.163yun.com/archives/900\" target=\"_blank\" rel=\"noopener\">http://blog.163yun.com/archives/900</a></p>\n<p>salesforce-Argus<br><a href=\"https://github.com/salesforce/argus\" target=\"_blank\" rel=\"noopener\">https://github.com/salesforce/argus</a></p>\n<p>Metrics</p>\n<p><a href=\"http://www.cnblogs.com/yangecnu/p/Using-Metrics-to-Profiling-WebService-Performance.html\" target=\"_blank\" rel=\"noopener\">http://www.cnblogs.com/yangecnu/p/Using-Metrics-to-Profiling-WebService-Performance.html</a></p>\n<p></p>\n<p><a href=\"http://www.infoq.com/cn/articles/pretreatment-in-sequential-databases\" target=\"_blank\" rel=\"noopener\">http://www.infoq.com/cn/articles/pretreatment-in-sequential-databases</a></p>\n"},{"layout":"post","title":"The Twelve-Factor App","description":null,"keywords":"design","date":"2017-12-26T16:00:00.000Z","_content":"## \nSaaS12-Factor  SaaS \n\n* \n* \n* \n* \n* \n* \n\n\n## \n Heroku \n\n SaaS   \n\n Martin Fowler  Patterns of Enterprise Application Architecture  Refactoring \n\n## \n SaaS \n\n-------\n# 12-factors\n\n## I. \nCodebasedeploy\n12-Factor()Git, Mercurial, Subversion code repository, code repo, repo\n\n SVN   Git  \n\n![](https://12factor.net/images/codebase-deploys.png)\n\n\n\n*  12-Factor \n*  12-Factor   \n\n  \n\n\n\n## II. \n dependency \n Perl  CPAN  Ruby  Rubygems  site packages vendoring  bunding\n\n12-Factor     \n\n Ruby  [Bundler](https://bundler.io/)  Gemfile  bundle exec Python   [Pip](http://www.pip-installer.org/en/latest/)  [Virtualenv](http://www.virtualenv.org/en/latest/)  C  [Autoconf](http://www.gnu.org/s/autoconf/)  12-Factor \n\n  Ruby/Bundler  bundle install Clojure/Leiningen  lein deps\n\n12-Factor  ImageMagick curl\n\n## III. \n\n    ()\n\n* Memcached  \n*  Amazon S3Twitter \n* \n\n 12-Factor \n\n\n\n Rails  config/routes.rb [Spring](http://spring.io/)  [](http://docs.spring.io/spring/docs/current/spring-framework-reference/html/beans.html) \n\n Rails  config/database.yml \n\n**12-Factor**   env vars, env  Java \n\nRails development,test,  production  staging qa   joes-staging \n\n12-Factor \n\n## IV. \n(backing services)\n[MySQL](http://dev.mysql.com/)[CouchDB](http://couchdb.apache.org/)/[RabbitMQ](http://www.rabbitmq.com/)[Beanstalkd](http://kr.github.com/beanstalkd/)SMTP [Postfix](http://www.postfix.org/)[Memcached](http://memcached.org/)\n\n SMTP [Postmark](http://postmarkapp.com/) [New Relic](http://newrelic.com/)  [Loggly](http://www.loggly.com/) [Amazon S3](http://http//aws.amazon.com/s3/) API  Twitter, Google Maps, Last.fm\n\n**12-Factor **  url   /12-Factor    MySQL  Amazon RDS SMTP  SMTP  Postmark  2 \n\n   MySQL  MySQL  2 12-Factor   \n\n![](https://12factor.net/images/attached-resources.png)\n\n##   \n\n\n## V. \n \n\n[](https://12factor.net/zh_cn/codebase) ()\n\n*   \n*    \n*   \n\n![](https://12factor.net/images/release.png)\n\n**12-factor ** \n\n [Capistrano]()  releases  rollback \n\n ID2011-04-06-20:32:17v100\n\n\n\n## VI. \n\n  \n\npython my_script.py  \n\n12-Factor      \n\n12-Factor\n\nJammit, django-compressor 12-Factor   Rails \n\n  session  session  session  12-Factor Session  Memcached  Redis \n\n## VII. \n(Port binding)\n PHP  Apache HTTPD  Java  Tomcat \n\n12-Factor    \n\nhttp://localhost:5000/\n\n  Python  Tornado, Ruby Thin , Java  JVM  Jetty  \n\nHTTP  XMPP  ejabberd   Redis   Redis \n\n   URL   \n\n## VIII. \n\nPHP  Apache Java  JVM (CPU ) 2 \n![](https://12factor.net/images/process-types.png)\n\n\n 12-factor 12-Factor  unix    HTTP  web  worker \n\n EventMachine, Twisted, Node.js /\n\n 12-Factor    \n\n12-Factor    PID ( systemd  Foreman )  \n\n## IX. \n\n12-Factor    disposable     \n\n     \n\n  SIGTERM  HTTP()\n\n worker RabbitMQ worker NACK Beanstalkd worker Delayed Job      \n\n Beanstalkd 12-Factor Crash-only design  \n\n## X. \n\n*  \n\n*  \n*  \n*   NginxSQLiteOS X ApacheMySQL  Linux\n\n  *    :\n\n* \n* \n* \n\n\n\n\t12-FACTOR \n\t\t\n VS \t\t\n VS \t\t\n   \n\n\n\t\t\t\n\tRuby/Rails\tActiveRecord\tMySQL, PostgreSQL, SQLite\n\tPython/Django\tCelery\tRabbitMQ, Beanstalkd, Redis\n\tRuby/Rails\tActiveSupport::Cache\tMemory, filesystem, Memcached\n SQLite  PostgreSQL Memcached\n\n12-Factor  \n\nHomebrewapt-getMemcachedPostgreSQLRabbitMQ  Chef  Puppet  Vagrant \n\n## \n\n\n## XI. \n\n\n \n\n  \n\n12-factor stdout\n\n Logplex  Fluentd \n\n Splunk  Hadoop/Hive \n\n\n\n\n## XII. \n\nprocess formation web \n\nDjango  manage.py migrate, Rails  rake db:migrate\n REPL shell REPL python  perl Ruby  irb, Rails  rails console\n\n        \n\n  Rubyweb bundle exec thin start  bundle exec rake db:migrate  Python  Virtualenv Tornado Web  manage.py  bin/python \n\n12-factor  REPL shell  shell ssh\n\nhttps://12factor.net/zh_cn/\n\n\n","source":"_posts/Program/2017-12-27-the-twelve-factor-app.md","raw":"---\nlayout: post\ntitle: The Twelve-Factor App\ncategories: Program\ndescription:\nkeywords: design\ndate: 2017-12-27\n---\n## \nSaaS12-Factor  SaaS \n\n* \n* \n* \n* \n* \n* \n\n\n## \n Heroku \n\n SaaS   \n\n Martin Fowler  Patterns of Enterprise Application Architecture  Refactoring \n\n## \n SaaS \n\n-------\n# 12-factors\n\n## I. \nCodebasedeploy\n12-Factor()Git, Mercurial, Subversion code repository, code repo, repo\n\n SVN   Git  \n\n![](https://12factor.net/images/codebase-deploys.png)\n\n\n\n*  12-Factor \n*  12-Factor   \n\n  \n\n\n\n## II. \n dependency \n Perl  CPAN  Ruby  Rubygems  site packages vendoring  bunding\n\n12-Factor     \n\n Ruby  [Bundler](https://bundler.io/)  Gemfile  bundle exec Python   [Pip](http://www.pip-installer.org/en/latest/)  [Virtualenv](http://www.virtualenv.org/en/latest/)  C  [Autoconf](http://www.gnu.org/s/autoconf/)  12-Factor \n\n  Ruby/Bundler  bundle install Clojure/Leiningen  lein deps\n\n12-Factor  ImageMagick curl\n\n## III. \n\n    ()\n\n* Memcached  \n*  Amazon S3Twitter \n* \n\n 12-Factor \n\n\n\n Rails  config/routes.rb [Spring](http://spring.io/)  [](http://docs.spring.io/spring/docs/current/spring-framework-reference/html/beans.html) \n\n Rails  config/database.yml \n\n**12-Factor**   env vars, env  Java \n\nRails development,test,  production  staging qa   joes-staging \n\n12-Factor \n\n## IV. \n(backing services)\n[MySQL](http://dev.mysql.com/)[CouchDB](http://couchdb.apache.org/)/[RabbitMQ](http://www.rabbitmq.com/)[Beanstalkd](http://kr.github.com/beanstalkd/)SMTP [Postfix](http://www.postfix.org/)[Memcached](http://memcached.org/)\n\n SMTP [Postmark](http://postmarkapp.com/) [New Relic](http://newrelic.com/)  [Loggly](http://www.loggly.com/) [Amazon S3](http://http//aws.amazon.com/s3/) API  Twitter, Google Maps, Last.fm\n\n**12-Factor **  url   /12-Factor    MySQL  Amazon RDS SMTP  SMTP  Postmark  2 \n\n   MySQL  MySQL  2 12-Factor   \n\n![](https://12factor.net/images/attached-resources.png)\n\n##   \n\n\n## V. \n \n\n[](https://12factor.net/zh_cn/codebase) ()\n\n*   \n*    \n*   \n\n![](https://12factor.net/images/release.png)\n\n**12-factor ** \n\n [Capistrano]()  releases  rollback \n\n ID2011-04-06-20:32:17v100\n\n\n\n## VI. \n\n  \n\npython my_script.py  \n\n12-Factor      \n\n12-Factor\n\nJammit, django-compressor 12-Factor   Rails \n\n  session  session  session  12-Factor Session  Memcached  Redis \n\n## VII. \n(Port binding)\n PHP  Apache HTTPD  Java  Tomcat \n\n12-Factor    \n\nhttp://localhost:5000/\n\n  Python  Tornado, Ruby Thin , Java  JVM  Jetty  \n\nHTTP  XMPP  ejabberd   Redis   Redis \n\n   URL   \n\n## VIII. \n\nPHP  Apache Java  JVM (CPU ) 2 \n![](https://12factor.net/images/process-types.png)\n\n\n 12-factor 12-Factor  unix    HTTP  web  worker \n\n EventMachine, Twisted, Node.js /\n\n 12-Factor    \n\n12-Factor    PID ( systemd  Foreman )  \n\n## IX. \n\n12-Factor    disposable     \n\n     \n\n  SIGTERM  HTTP()\n\n worker RabbitMQ worker NACK Beanstalkd worker Delayed Job      \n\n Beanstalkd 12-Factor Crash-only design  \n\n## X. \n\n*  \n\n*  \n*  \n*   NginxSQLiteOS X ApacheMySQL  Linux\n\n  *    :\n\n* \n* \n* \n\n\n\n\t12-FACTOR \n\t\t\n VS \t\t\n VS \t\t\n   \n\n\n\t\t\t\n\tRuby/Rails\tActiveRecord\tMySQL, PostgreSQL, SQLite\n\tPython/Django\tCelery\tRabbitMQ, Beanstalkd, Redis\n\tRuby/Rails\tActiveSupport::Cache\tMemory, filesystem, Memcached\n SQLite  PostgreSQL Memcached\n\n12-Factor  \n\nHomebrewapt-getMemcachedPostgreSQLRabbitMQ  Chef  Puppet  Vagrant \n\n## \n\n\n## XI. \n\n\n \n\n  \n\n12-factor stdout\n\n Logplex  Fluentd \n\n Splunk  Hadoop/Hive \n\n\n\n\n## XII. \n\nprocess formation web \n\nDjango  manage.py migrate, Rails  rake db:migrate\n REPL shell REPL python  perl Ruby  irb, Rails  rails console\n\n        \n\n  Rubyweb bundle exec thin start  bundle exec rake db:migrate  Python  Virtualenv Tornado Web  manage.py  bin/python \n\n12-factor  REPL shell  shell ssh\n\nhttps://12factor.net/zh_cn/\n\n\n","slug":"Program/2017-12-27-the-twelve-factor-app","published":1,"updated":"2018-11-10T08:59:09.807Z","comments":1,"photos":[],"link":"","_id":"cjtohbkbv00796f12kxdfyfrb","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>SaaS12-Factor  SaaS </p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> Heroku </p>\n<p> SaaS   </p>\n<p> Martin Fowler  Patterns of Enterprise Application Architecture  Refactoring </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> SaaS </p>\n<hr>\n<h1 id=\"12-factors\"><a href=\"#12-factors\" class=\"headerlink\" title=\"12-factors\"></a>12-factors</h1><h2 id=\"I-\"><a href=\"#I-\" class=\"headerlink\" title=\"I. \"></a>I. </h2><p>Codebasedeploy<br>12-Factor()Git, Mercurial, Subversion code repository, code repo, repo</p>\n<p> SVN   Git  </p>\n<p><img src=\"https://12factor.net/images/codebase-deploys.png\" alt=\"\"></p>\n<p></p>\n<ul>\n<li> 12-Factor </li>\n<li> 12-Factor   </li>\n</ul>\n<p>  </p>\n<p></p>\n<h2 id=\"II-\"><a href=\"#II-\" class=\"headerlink\" title=\"II. \"></a>II. </h2><p> dependency <br> Perl  CPAN  Ruby  Rubygems  site packages vendoring  bunding</p>\n<p>12-Factor     </p>\n<p> Ruby  <a href=\"https://bundler.io/\" target=\"_blank\" rel=\"noopener\">Bundler</a>  Gemfile  bundle exec Python   <a href=\"http://www.pip-installer.org/en/latest/\" target=\"_blank\" rel=\"noopener\">Pip</a>  <a href=\"http://www.virtualenv.org/en/latest/\" target=\"_blank\" rel=\"noopener\">Virtualenv</a>  C  <a href=\"http://www.gnu.org/s/autoconf/\" target=\"_blank\" rel=\"noopener\">Autoconf</a>  12-Factor </p>\n<p>  Ruby/Bundler  bundle install Clojure/Leiningen  lein deps</p>\n<p>12-Factor  ImageMagick curl</p>\n<h2 id=\"III-\"><a href=\"#III-\" class=\"headerlink\" title=\"III. \"></a>III. </h2><p><br>    ()</p>\n<ul>\n<li>Memcached  </li>\n<li> Amazon S3Twitter </li>\n<li></li>\n</ul>\n<p> 12-Factor </p>\n<p></p>\n<p> Rails  config/routes.rb <a href=\"http://spring.io/\" target=\"_blank\" rel=\"noopener\">Spring</a>  <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/beans.html\" target=\"_blank\" rel=\"noopener\"></a> </p>\n<p> Rails  config/database.yml </p>\n<p><strong>12-Factor</strong>   env vars, env  Java </p>\n<p>Rails development,test,  production  staging qa   joes-staging </p>\n<p>12-Factor </p>\n<h2 id=\"IV-\"><a href=\"#IV-\" class=\"headerlink\" title=\"IV. \"></a>IV. </h2><p>(backing services)<br><a href=\"http://dev.mysql.com/\" target=\"_blank\" rel=\"noopener\">MySQL</a><a href=\"http://couchdb.apache.org/\" target=\"_blank\" rel=\"noopener\">CouchDB</a>/<a href=\"http://www.rabbitmq.com/\" target=\"_blank\" rel=\"noopener\">RabbitMQ</a><a href=\"http://kr.github.com/beanstalkd/\" target=\"_blank\" rel=\"noopener\">Beanstalkd</a>SMTP <a href=\"http://www.postfix.org/\" target=\"_blank\" rel=\"noopener\">Postfix</a><a href=\"http://memcached.org/\" target=\"_blank\" rel=\"noopener\">Memcached</a></p>\n<p> SMTP <a href=\"http://postmarkapp.com/\" target=\"_blank\" rel=\"noopener\">Postmark</a> <a href=\"http://newrelic.com/\" target=\"_blank\" rel=\"noopener\">New Relic</a>  <a href=\"http://www.loggly.com/\" target=\"_blank\" rel=\"noopener\">Loggly</a> <a href=\"http://http//aws.amazon.com/s3/\" target=\"_blank\" rel=\"noopener\">Amazon S3</a> API  Twitter, Google Maps, Last.fm</p>\n<p><strong>12-Factor </strong>  url   /12-Factor    MySQL  Amazon RDS SMTP  SMTP  Postmark  2 </p>\n<p>   MySQL  MySQL  2 12-Factor   </p>\n<p><img src=\"https://12factor.net/images/attached-resources.png\" alt=\"\"></p>\n<p>##   </p>\n<h2 id=\"V-\"><a href=\"#V-\" class=\"headerlink\" title=\"V. \"></a>V. </h2><p> </p>\n<p><a href=\"https://12factor.net/zh_cn/codebase\" target=\"_blank\" rel=\"noopener\"></a> ()</p>\n<ul>\n<li>  </li>\n<li>   </li>\n<li>  </li>\n</ul>\n<p><img src=\"https://12factor.net/images/release.png\" alt=\"\"></p>\n<p><strong>12-factor </strong> </p>\n<p> <a href=\"\">Capistrano</a>  releases  rollback </p>\n<p> ID2011-04-06-20:32:17v100</p>\n<p></p>\n<h2 id=\"VI-\"><a href=\"#VI-\" class=\"headerlink\" title=\"VI. \"></a>VI. </h2><p><br>  </p>\n<p>python my_script.py  </p>\n<p>12-Factor      </p>\n<p>12-Factor</p>\n<p>Jammit, django-compressor 12-Factor   Rails </p>\n<p>  session  session  session  12-Factor Session  Memcached  Redis </p>\n<h2 id=\"VII-\"><a href=\"#VII-\" class=\"headerlink\" title=\"VII. \"></a>VII. </h2><p>(Port binding)<br> PHP  Apache HTTPD  Java  Tomcat </p>\n<p>12-Factor    </p>\n<p><a href=\"http://localhost:5000/\" target=\"_blank\" rel=\"noopener\">http://localhost:5000/</a></p>\n<p>  Python  Tornado, Ruby Thin , Java  JVM  Jetty  </p>\n<p>HTTP  XMPP  ejabberd   Redis   Redis </p>\n<p>   URL   </p>\n<h2 id=\"VIII-\"><a href=\"#VIII-\" class=\"headerlink\" title=\"VIII. \"></a>VIII. </h2><p><br>PHP  Apache Java  JVM (CPU ) 2 <br><img src=\"https://12factor.net/images/process-types.png\" alt=\"\"><br></p>\n<p> 12-factor 12-Factor  unix    HTTP  web  worker </p>\n<p> EventMachine, Twisted, Node.js /</p>\n<p> 12-Factor    </p>\n<p>12-Factor    PID ( systemd  Foreman )  </p>\n<h2 id=\"IX-\"><a href=\"#IX-\" class=\"headerlink\" title=\"IX. \"></a>IX. </h2><p><br>12-Factor    disposable     </p>\n<p>     </p>\n<p>  SIGTERM  HTTP()</p>\n<p> worker RabbitMQ worker NACK Beanstalkd worker Delayed Job      </p>\n<p> Beanstalkd 12-Factor Crash-only design  </p>\n<h2 id=\"X-\"><a href=\"#X-\" class=\"headerlink\" title=\"X. \"></a>X. </h2><p><br>*  </p>\n<ul>\n<li> </li>\n<li> </li>\n<li>  NginxSQLiteOS X ApacheMySQL  Linux</li>\n</ul>\n<p>  *    :</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<p>    12-FACTOR <br>        <br> VS         <br> VS         <br>   </p>\n<p>            <br>    Ruby/Rails    ActiveRecord    MySQL, PostgreSQL, SQLite<br>    Python/Django    Celery    RabbitMQ, Beanstalkd, Redis<br>    Ruby/Rails    ActiveSupport::Cache    Memory, filesystem, Memcached<br> SQLite  PostgreSQL Memcached</p>\n<p>12-Factor  </p>\n<p>Homebrewapt-getMemcachedPostgreSQLRabbitMQ  Chef  Puppet  Vagrant </p>\n<p>## </p>\n<h2 id=\"XI-\"><a href=\"#XI-\" class=\"headerlink\" title=\"XI. \"></a>XI. </h2><p><br> </p>\n<p>  </p>\n<p>12-factor stdout</p>\n<p> Logplex  Fluentd </p>\n<p> Splunk  Hadoop/Hive </p>\n<p><br><br></p>\n<h2 id=\"XII-\"><a href=\"#XII-\" class=\"headerlink\" title=\"XII. \"></a>XII. </h2><p><br>process formation web </p>\n<p>Django  manage.py migrate, Rails  rake db:migrate<br> REPL shell REPL python  perl Ruby  irb, Rails  rails console<br><br>        </p>\n<p>  Rubyweb bundle exec thin start  bundle exec rake db:migrate  Python  Virtualenv Tornado Web  manage.py  bin/python </p>\n<p>12-factor  REPL shell  shell ssh</p>\n<p><a href=\"https://12factor.net/zh_cn/\" target=\"_blank\" rel=\"noopener\">https://12factor.net/zh_cn/</a></p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>SaaS12-Factor  SaaS </p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> Heroku </p>\n<p> SaaS   </p>\n<p> Martin Fowler  Patterns of Enterprise Application Architecture  Refactoring </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> SaaS </p>\n<hr>\n<h1 id=\"12-factors\"><a href=\"#12-factors\" class=\"headerlink\" title=\"12-factors\"></a>12-factors</h1><h2 id=\"I-\"><a href=\"#I-\" class=\"headerlink\" title=\"I. \"></a>I. </h2><p>Codebasedeploy<br>12-Factor()Git, Mercurial, Subversion code repository, code repo, repo</p>\n<p> SVN   Git  </p>\n<p><img src=\"https://12factor.net/images/codebase-deploys.png\" alt=\"\"></p>\n<p></p>\n<ul>\n<li> 12-Factor </li>\n<li> 12-Factor   </li>\n</ul>\n<p>  </p>\n<p></p>\n<h2 id=\"II-\"><a href=\"#II-\" class=\"headerlink\" title=\"II. \"></a>II. </h2><p> dependency <br> Perl  CPAN  Ruby  Rubygems  site packages vendoring  bunding</p>\n<p>12-Factor     </p>\n<p> Ruby  <a href=\"https://bundler.io/\" target=\"_blank\" rel=\"noopener\">Bundler</a>  Gemfile  bundle exec Python   <a href=\"http://www.pip-installer.org/en/latest/\" target=\"_blank\" rel=\"noopener\">Pip</a>  <a href=\"http://www.virtualenv.org/en/latest/\" target=\"_blank\" rel=\"noopener\">Virtualenv</a>  C  <a href=\"http://www.gnu.org/s/autoconf/\" target=\"_blank\" rel=\"noopener\">Autoconf</a>  12-Factor </p>\n<p>  Ruby/Bundler  bundle install Clojure/Leiningen  lein deps</p>\n<p>12-Factor  ImageMagick curl</p>\n<h2 id=\"III-\"><a href=\"#III-\" class=\"headerlink\" title=\"III. \"></a>III. </h2><p><br>    ()</p>\n<ul>\n<li>Memcached  </li>\n<li> Amazon S3Twitter </li>\n<li></li>\n</ul>\n<p> 12-Factor </p>\n<p></p>\n<p> Rails  config/routes.rb <a href=\"http://spring.io/\" target=\"_blank\" rel=\"noopener\">Spring</a>  <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/beans.html\" target=\"_blank\" rel=\"noopener\"></a> </p>\n<p> Rails  config/database.yml </p>\n<p><strong>12-Factor</strong>   env vars, env  Java </p>\n<p>Rails development,test,  production  staging qa   joes-staging </p>\n<p>12-Factor </p>\n<h2 id=\"IV-\"><a href=\"#IV-\" class=\"headerlink\" title=\"IV. \"></a>IV. </h2><p>(backing services)<br><a href=\"http://dev.mysql.com/\" target=\"_blank\" rel=\"noopener\">MySQL</a><a href=\"http://couchdb.apache.org/\" target=\"_blank\" rel=\"noopener\">CouchDB</a>/<a href=\"http://www.rabbitmq.com/\" target=\"_blank\" rel=\"noopener\">RabbitMQ</a><a href=\"http://kr.github.com/beanstalkd/\" target=\"_blank\" rel=\"noopener\">Beanstalkd</a>SMTP <a href=\"http://www.postfix.org/\" target=\"_blank\" rel=\"noopener\">Postfix</a><a href=\"http://memcached.org/\" target=\"_blank\" rel=\"noopener\">Memcached</a></p>\n<p> SMTP <a href=\"http://postmarkapp.com/\" target=\"_blank\" rel=\"noopener\">Postmark</a> <a href=\"http://newrelic.com/\" target=\"_blank\" rel=\"noopener\">New Relic</a>  <a href=\"http://www.loggly.com/\" target=\"_blank\" rel=\"noopener\">Loggly</a> <a href=\"http://http//aws.amazon.com/s3/\" target=\"_blank\" rel=\"noopener\">Amazon S3</a> API  Twitter, Google Maps, Last.fm</p>\n<p><strong>12-Factor </strong>  url   /12-Factor    MySQL  Amazon RDS SMTP  SMTP  Postmark  2 </p>\n<p>   MySQL  MySQL  2 12-Factor   </p>\n<p><img src=\"https://12factor.net/images/attached-resources.png\" alt=\"\"></p>\n<p>##   </p>\n<h2 id=\"V-\"><a href=\"#V-\" class=\"headerlink\" title=\"V. \"></a>V. </h2><p> </p>\n<p><a href=\"https://12factor.net/zh_cn/codebase\" target=\"_blank\" rel=\"noopener\"></a> ()</p>\n<ul>\n<li>  </li>\n<li>   </li>\n<li>  </li>\n</ul>\n<p><img src=\"https://12factor.net/images/release.png\" alt=\"\"></p>\n<p><strong>12-factor </strong> </p>\n<p> <a href=\"\">Capistrano</a>  releases  rollback </p>\n<p> ID2011-04-06-20:32:17v100</p>\n<p></p>\n<h2 id=\"VI-\"><a href=\"#VI-\" class=\"headerlink\" title=\"VI. \"></a>VI. </h2><p><br>  </p>\n<p>python my_script.py  </p>\n<p>12-Factor      </p>\n<p>12-Factor</p>\n<p>Jammit, django-compressor 12-Factor   Rails </p>\n<p>  session  session  session  12-Factor Session  Memcached  Redis </p>\n<h2 id=\"VII-\"><a href=\"#VII-\" class=\"headerlink\" title=\"VII. \"></a>VII. </h2><p>(Port binding)<br> PHP  Apache HTTPD  Java  Tomcat </p>\n<p>12-Factor    </p>\n<p><a href=\"http://localhost:5000/\" target=\"_blank\" rel=\"noopener\">http://localhost:5000/</a></p>\n<p>  Python  Tornado, Ruby Thin , Java  JVM  Jetty  </p>\n<p>HTTP  XMPP  ejabberd   Redis   Redis </p>\n<p>   URL   </p>\n<h2 id=\"VIII-\"><a href=\"#VIII-\" class=\"headerlink\" title=\"VIII. \"></a>VIII. </h2><p><br>PHP  Apache Java  JVM (CPU ) 2 <br><img src=\"https://12factor.net/images/process-types.png\" alt=\"\"><br></p>\n<p> 12-factor 12-Factor  unix    HTTP  web  worker </p>\n<p> EventMachine, Twisted, Node.js /</p>\n<p> 12-Factor    </p>\n<p>12-Factor    PID ( systemd  Foreman )  </p>\n<h2 id=\"IX-\"><a href=\"#IX-\" class=\"headerlink\" title=\"IX. \"></a>IX. </h2><p><br>12-Factor    disposable     </p>\n<p>     </p>\n<p>  SIGTERM  HTTP()</p>\n<p> worker RabbitMQ worker NACK Beanstalkd worker Delayed Job      </p>\n<p> Beanstalkd 12-Factor Crash-only design  </p>\n<h2 id=\"X-\"><a href=\"#X-\" class=\"headerlink\" title=\"X. \"></a>X. </h2><p><br>*  </p>\n<ul>\n<li> </li>\n<li> </li>\n<li>  NginxSQLiteOS X ApacheMySQL  Linux</li>\n</ul>\n<p>  *    :</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<p>    12-FACTOR <br>        <br> VS         <br> VS         <br>   </p>\n<p>            <br>    Ruby/Rails    ActiveRecord    MySQL, PostgreSQL, SQLite<br>    Python/Django    Celery    RabbitMQ, Beanstalkd, Redis<br>    Ruby/Rails    ActiveSupport::Cache    Memory, filesystem, Memcached<br> SQLite  PostgreSQL Memcached</p>\n<p>12-Factor  </p>\n<p>Homebrewapt-getMemcachedPostgreSQLRabbitMQ  Chef  Puppet  Vagrant </p>\n<p>## </p>\n<h2 id=\"XI-\"><a href=\"#XI-\" class=\"headerlink\" title=\"XI. \"></a>XI. </h2><p><br> </p>\n<p>  </p>\n<p>12-factor stdout</p>\n<p> Logplex  Fluentd </p>\n<p> Splunk  Hadoop/Hive </p>\n<p><br><br></p>\n<h2 id=\"XII-\"><a href=\"#XII-\" class=\"headerlink\" title=\"XII. \"></a>XII. </h2><p><br>process formation web </p>\n<p>Django  manage.py migrate, Rails  rake db:migrate<br> REPL shell REPL python  perl Ruby  irb, Rails  rails console<br><br>        </p>\n<p>  Rubyweb bundle exec thin start  bundle exec rake db:migrate  Python  Virtualenv Tornado Web  manage.py  bin/python </p>\n<p>12-factor  REPL shell  shell ssh</p>\n<p><a href=\"https://12factor.net/zh_cn/\" target=\"_blank\" rel=\"noopener\">https://12factor.net/zh_cn/</a></p>\n"},{"layout":"post","title":"","description":null,"keywords":"school    ","date":"2017-12-19T16:00:00.000Z","_content":"> \n>\n>  35000 \n>\n> \n>\n> \n>\n> \n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/ebd88c6345e5ad414d1007e6f121417e.jpg)\n\n\n\n\n\n<!-- more -->\n\n\n\n\n\n\n\n\n\n\n\n2\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n3\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n4\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n5\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n6\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n7\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n8\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n9\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n10\n\n\n\n\n\n\n\n\n\n\n\n11\n\n\n\n\n\n12\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n13\n\n\n\n\n\n\n\n\n\n\n\n\n\n4\n\n\n\n2410\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n14\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n15\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n16\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n17\n\n\n\n\n\n\n\n4\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n18\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n19\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n20\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n21\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n22\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n23\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n24\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n25\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n26\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n27\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n28\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n29\n\n\n\n\n\n\n\n\n\n\n\n?\n\n\n\n\n\n\n\n\n\n\n\n30\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n31\n\n\n\n\n\n\n\n\n\n\n\n32\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n33\n\n\n\n\n\n34\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n35\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n36\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n37\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","source":"_posts/Think/2017-12-20-high-school-years.md","raw":"---\nlayout: post\ntitle: \ncategories: Think\ndescription:\nkeywords: school    \ndate: 2017-12-20\n---\n> \n>\n>  35000 \n>\n> \n>\n> \n>\n> \n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/ebd88c6345e5ad414d1007e6f121417e.jpg)\n\n\n\n\n\n<!-- more -->\n\n\n\n\n\n\n\n\n\n\n\n2\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n3\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n4\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n5\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n6\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n7\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n8\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n9\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n10\n\n\n\n\n\n\n\n\n\n\n\n11\n\n\n\n\n\n12\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n13\n\n\n\n\n\n\n\n\n\n\n\n\n\n4\n\n\n\n2410\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n14\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n15\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n16\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n17\n\n\n\n\n\n\n\n4\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n18\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n19\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n20\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n21\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n22\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n23\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n24\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n25\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n26\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n27\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n28\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n29\n\n\n\n\n\n\n\n\n\n\n\n?\n\n\n\n\n\n\n\n\n\n\n\n30\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n31\n\n\n\n\n\n\n\n\n\n\n\n32\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n33\n\n\n\n\n\n34\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n35\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n36\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n37\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","slug":"Think/2017-12-20-high-school-years","published":1,"updated":"2018-11-10T08:59:09.811Z","comments":1,"photos":[],"link":"","_id":"cjtohbkcq007d6f124pi83cna","content":"<blockquote>\n<p></p>\n<p> 35000 </p>\n<p></p>\n<p></p>\n<p></p>\n</blockquote>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/ebd88c6345e5ad414d1007e6f121417e.jpg\" alt=\"\"></p>\n<p></p>\n<p></p>\n<p><a id=\"more\"></a></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>2</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>3</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>4</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>5</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>6</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>7</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>8</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>9</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>10</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>11</p>\n<p></p>\n<p></p>\n<p>12</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>13</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>4</p>\n<p></p>\n<p>2410</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>14</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>15</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>16</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>17</p>\n<p></p>\n<p></p>\n<p></p>\n<p>4</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>18</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>19</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>20</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>21</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>22</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>23</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>24</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>25</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>26</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>27</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>28</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>29</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>?</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>30</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>31</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>32</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>33</p>\n<p></p>\n<p></p>\n<p>34</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>35</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>36</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>37</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n","site":{"data":{}},"excerpt":"<blockquote>\n<p></p>\n<p> 35000 </p>\n<p></p>\n<p></p>\n<p></p>\n</blockquote>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/ebd88c6345e5ad414d1007e6f121417e.jpg\" alt=\"\"></p>\n<p></p>\n<p></p>\n<p>","more":"</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>2</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>3</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>4</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>5</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>6</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>7</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>8</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>9</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>10</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>11</p>\n<p></p>\n<p></p>\n<p>12</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>13</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>4</p>\n<p></p>\n<p>2410</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>14</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>15</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>16</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>17</p>\n<p></p>\n<p></p>\n<p></p>\n<p>4</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>18</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>19</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>20</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>21</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>22</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>23</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>24</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>25</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>26</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>27</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>28</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>29</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>?</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>30</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>31</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>32</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>33</p>\n<p></p>\n<p></p>\n<p>34</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>35</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>36</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>37</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>"}],"PostAsset":[],"PostCategory":[{"post_id":"cjtohbk6y00006f12v93z8yr8","category_id":"cjtohbk7700046f12s58n1ug4","_id":"cjtohbk7i000c6f12a2553ry5"},{"post_id":"cjtohbk7500026f12f73ip3nt","category_id":"cjtohbk7700046f12s58n1ug4","_id":"cjtohbk7l000f6f12t2k2kvaa"},{"post_id":"cjtohbk7800056f12xrvwci8p","category_id":"cjtohbk7h000b6f12d5u08sk6","_id":"cjtohbk7o000l6f12mj53g5ma"},{"post_id":"cjtohbk7a00066f12sbkgk7ef","category_id":"cjtohbk7h000b6f12d5u08sk6","_id":"cjtohbk7q000p6f128gq78t7j"},{"post_id":"cjtohbk7b00076f12f7nr4inw","category_id":"cjtohbk7o000k6f12gcsrmel8","_id":"cjtohbk7t000v6f121cuo8py3"},{"post_id":"cjtohbk7e00096f12p49noxxs","category_id":"cjtohbk7o000k6f12gcsrmel8","_id":"cjtohbk7v000z6f124f3x8sq0"},{"post_id":"cjtohbk7h000a6f120cybx55w","category_id":"cjtohbk7t000u6f12tpohiivl","_id":"cjtohbk7x00136f12rfw45d1e"},{"post_id":"cjtohbk7i000d6f12l9wfbb25","category_id":"cjtohbk7v00106f124b2wuphq","_id":"cjtohbk7z00186f12b328fi41"},{"post_id":"cjtohbk7y00166f12oiga6cuo","category_id":"cjtohbk7x00156f12mak1c8z4","_id":"cjtohbk81001c6f12p5cskdmc"},{"post_id":"cjtohbk7k000e6f12fj0zvivt","category_id":"cjtohbk7x00156f12mak1c8z4","_id":"cjtohbk83001f6f12j1kwsriu"},{"post_id":"cjtohbk7y00176f1227285n97","category_id":"cjtohbk7x00156f12mak1c8z4","_id":"cjtohbk84001h6f12b2ikhuio"},{"post_id":"cjtohbk7z001a6f12fzsmawki","category_id":"cjtohbk7x00156f12mak1c8z4","_id":"cjtohbk85001k6f127j7h2uwb"},{"post_id":"cjtohbk7m000i6f12nm6da5zc","category_id":"cjtohbk7x00156f12mak1c8z4","_id":"cjtohbk85001m6f1239si9u72"},{"post_id":"cjtohbk81001b6f12rnbgy5y2","category_id":"cjtohbk7x00156f12mak1c8z4","_id":"cjtohbk88001p6f129e483al0"},{"post_id":"cjtohbk82001e6f12yitikoaw","category_id":"cjtohbk7x00156f12mak1c8z4","_id":"cjtohbk89001r6f12dwu1n711"},{"post_id":"cjtohbk7n000j6f12kgwi0kqm","category_id":"cjtohbk7x00156f12mak1c8z4","_id":"cjtohbk8a001u6f12id09aftt"},{"post_id":"cjtohbk83001g6f12n9kxfdkq","category_id":"cjtohbk7x00156f12mak1c8z4","_id":"cjtohbk8b001w6f12lum9stqm"},{"post_id":"cjtohbk84001j6f12cinsz5a8","category_id":"cjtohbk7x00156f12mak1c8z4","_id":"cjtohbk8d001z6f12ws87tsxc"},{"post_id":"cjtohbk7p000m6f1292pjaq9c","category_id":"cjtohbk7x00156f12mak1c8z4","_id":"cjtohbk8e00216f12ej194bqh"},{"post_id":"cjtohbk85001l6f126yzkhi48","category_id":"cjtohbk7x00156f12mak1c8z4","_id":"cjtohbk8g00246f12oxafh773"},{"post_id":"cjtohbk86001o6f127uf2hfae","category_id":"cjtohbk7x00156f12mak1c8z4","_id":"cjtohbk8h00266f12n9q29gqv"},{"post_id":"cjtohbk7p000o6f12ql1hussi","category_id":"cjtohbk7x00156f12mak1c8z4","_id":"cjtohbk8i00296f12vt3zah10"},{"post_id":"cjtohbk88001q6f12kl9mhjwp","category_id":"cjtohbk7x00156f12mak1c8z4","_id":"cjtohbk8j002b6f12sz6j573y"},{"post_id":"cjtohbk8a001t6f12pq1bqizv","category_id":"cjtohbk7x00156f12mak1c8z4","_id":"cjtohbk8k002e6f12weftszdq"},{"post_id":"cjtohbk7r000r6f121h7dzowz","category_id":"cjtohbk7x00156f12mak1c8z4","_id":"cjtohbk8l002g6f1227b8zipv"},{"post_id":"cjtohbk8b001v6f12qkwpvp6i","category_id":"cjtohbk7x00156f12mak1c8z4","_id":"cjtohbk8m002j6f12fmohxbtb"},{"post_id":"cjtohbk8c001y6f12cr9dom8s","category_id":"cjtohbk7x00156f12mak1c8z4","_id":"cjtohbk8n002l6f12ys5zsrvr"},{"post_id":"cjtohbk7s000s6f12p8ojfkey","category_id":"cjtohbk7x00156f12mak1c8z4","_id":"cjtohbk8p002o6f125k0hzgbr"},{"post_id":"cjtohbk8d00206f12fdp15dho","category_id":"cjtohbk7x00156f12mak1c8z4","_id":"cjtohbk8q002q6f125vemevz1"},{"post_id":"cjtohbk8f00236f12la52u16n","category_id":"cjtohbk7x00156f12mak1c8z4","_id":"cjtohbk8r002t6f121ofo58hv"},{"post_id":"cjtohbk7t000w6f12js15xpfd","category_id":"cjtohbk7x00156f12mak1c8z4","_id":"cjtohbk8t002v6f12emk0rois"},{"post_id":"cjtohbk8h00256f12x8ccjnqu","category_id":"cjtohbk7x00156f12mak1c8z4","_id":"cjtohbk8u002y6f1254uuy2ra"},{"post_id":"cjtohbk8i00286f12o0bykp4a","category_id":"cjtohbk7x00156f12mak1c8z4","_id":"cjtohbk8u00306f12jevayd8l"},{"post_id":"cjtohbk7u000y6f12cj8vbhok","category_id":"cjtohbk7x00156f12mak1c8z4","_id":"cjtohbk8w00336f12b0le9icq"},{"post_id":"cjtohbk8j002a6f12hmgkeuhy","category_id":"cjtohbk7x00156f12mak1c8z4","_id":"cjtohbk8x00356f12evf1ydtx"},{"post_id":"cjtohbk8k002d6f12n9b7imr8","category_id":"cjtohbk7x00156f12mak1c8z4","_id":"cjtohbk8z00386f129uiqajm0"},{"post_id":"cjtohbk7v00116f127b7v7qgs","category_id":"cjtohbk7x00156f12mak1c8z4","_id":"cjtohbk8z003a6f12n67urymu"},{"post_id":"cjtohbk8l002f6f12zmx4mvi6","category_id":"cjtohbk7x00156f12mak1c8z4","_id":"cjtohbk90003d6f12ima183pt"},{"post_id":"cjtohbk7w00126f12p279ly6b","category_id":"cjtohbk7x00156f12mak1c8z4","_id":"cjtohbk94003f6f124npko5lk"},{"post_id":"cjtohbk7x00146f12w3v3qwmj","category_id":"cjtohbk7x00156f12mak1c8z4","_id":"cjtohbk96003i6f125nkeavnk"},{"post_id":"cjtohbk8r002s6f12acvc2p6t","category_id":"cjtohbk8r002r6f12zk6nb3tr","_id":"cjtohbk97003k6f12ts5i75cx"},{"post_id":"cjtohbk8m002i6f12tfp7cblu","category_id":"cjtohbk8r002r6f12zk6nb3tr","_id":"cjtohbk99003m6f12jp1z7sob"},{"post_id":"cjtohbk8n002k6f12in6nqep4","category_id":"cjtohbk8r002r6f12zk6nb3tr","_id":"cjtohbk9a003p6f127v3t658v"},{"post_id":"cjtohbk8o002n6f12e16xriw2","category_id":"cjtohbk8r002r6f12zk6nb3tr","_id":"cjtohbk9c003r6f129iynt8m0"},{"post_id":"cjtohbk8q002p6f12fsiw5xmt","category_id":"cjtohbk8r002r6f12zk6nb3tr","_id":"cjtohbk9e003u6f12c250q429"},{"post_id":"cjtohbk8s002u6f12499p21yf","category_id":"cjtohbk90003b6f12j9mgh0j6","_id":"cjtohbk9f003w6f127zjnp0j0"},{"post_id":"cjtohbk8t002x6f12xsqjqui7","category_id":"cjtohbk94003g6f12ai1ehw0o","_id":"cjtohbk9g003z6f124mgbao88"},{"post_id":"cjtohbk8u002z6f12ua4swbiq","category_id":"cjtohbk94003g6f12ai1ehw0o","_id":"cjtohbk9h00416f12anuhnghu"},{"post_id":"cjtohbk8v00326f1287vvbeyl","category_id":"cjtohbk94003g6f12ai1ehw0o","_id":"cjtohbk9i00446f1207ixn1nc"},{"post_id":"cjtohbk8x00346f12m9io884n","category_id":"cjtohbk94003g6f12ai1ehw0o","_id":"cjtohbk9j00476f120zxm01ax"},{"post_id":"cjtohbk8y00376f12af3c7wmb","category_id":"cjtohbk94003g6f12ai1ehw0o","_id":"cjtohbk9l004b6f12ey8iejs7"},{"post_id":"cjtohbk8z00396f12vue3xq0i","category_id":"cjtohbk94003g6f12ai1ehw0o","_id":"cjtohbk9n004f6f12qnsgxmee"},{"post_id":"cjtohbk90003c6f12nptvw1a9","category_id":"cjtohbk94003g6f12ai1ehw0o","_id":"cjtohbk9q004j6f12euiz1qzx"},{"post_id":"cjtohbk91003e6f12v9j7phxb","category_id":"cjtohbk94003g6f12ai1ehw0o","_id":"cjtohbk9r004l6f12hisg2evb"},{"post_id":"cjtohbk95003h6f12z02a4cp4","category_id":"cjtohbk9p004i6f12rjmi30ta","_id":"cjtohbk9r004n6f12bsc72u4j"},{"post_id":"cjtohbk96003j6f124lfskb5g","category_id":"cjtohbk9r004m6f12uh1poxqw","_id":"cjtohbk9u004q6f12p3pj3usq"},{"post_id":"cjtohbk98003l6f12zaogh13p","category_id":"cjtohbk9r004m6f12uh1poxqw","_id":"cjtohbk9u004s6f12sbh6s38n"},{"post_id":"cjtohbk9a003o6f127zr0k7dz","category_id":"cjtohbk9r004m6f12uh1poxqw","_id":"cjtohbk9v004u6f12iysftfs3"},{"post_id":"cjtohbk9b003q6f124rihijdo","category_id":"cjtohbk9r004m6f12uh1poxqw","_id":"cjtohbk9v004w6f12eqvbbqi4"},{"post_id":"cjtohbk9d003t6f12cs1i8xc4","category_id":"cjtohbk9r004m6f12uh1poxqw","_id":"cjtohbk9w004y6f12ctc8hta2"},{"post_id":"cjtohbk9e003v6f12mlzs22iy","category_id":"cjtohbk9r004m6f12uh1poxqw","_id":"cjtohbk9x00506f12tl59geno"},{"post_id":"cjtohbk9f003y6f120nbc1zct","category_id":"cjtohbk9r004m6f12uh1poxqw","_id":"cjtohbk9y00526f12z96sg3e4"},{"post_id":"cjtohbk9g00406f129swpxspq","category_id":"cjtohbk9r004m6f12uh1poxqw","_id":"cjtohbka000546f12l9y7ant9"},{"post_id":"cjtohbk9i00436f12rxknxb3i","category_id":"cjtohbk9r004m6f12uh1poxqw","_id":"cjtohbka100566f12ieb8n37m"},{"post_id":"cjtohbk9i00456f124s5zpjx7","category_id":"cjtohbk9r004m6f12uh1poxqw","_id":"cjtohbka300586f12mdtaveb4"},{"post_id":"cjtohbk9k00486f12wy1ztgdt","category_id":"cjtohbk9r004m6f12uh1poxqw","_id":"cjtohbka4005a6f12t8xbqij3"},{"post_id":"cjtohbk9l00496f12wdwakjoz","category_id":"cjtohbk9r004m6f12uh1poxqw","_id":"cjtohbka4005c6f12cvyx6mfe"},{"post_id":"cjtohbk9m004c6f12byv1r8vi","category_id":"cjtohbk9r004m6f12uh1poxqw","_id":"cjtohbka6005e6f12tyzhbrge"},{"post_id":"cjtohbk9n004d6f126m1romlr","category_id":"cjtohbk9r004m6f12uh1poxqw","_id":"cjtohbka6005g6f12oiqoqtuu"},{"post_id":"cjtohbk9o004g6f12h3mjh997","category_id":"cjtohbk9r004m6f12uh1poxqw","_id":"cjtohbka7005h6f12j8493rm1"},{"post_id":"cjtohbk9o004h6f12r8dsqfdx","category_id":"cjtohbka6005f6f12g5jys9ki","_id":"cjtohbka7005j6f1204490rrc"},{"post_id":"cjtohbk9q004k6f12kx3hoew0","category_id":"cjtohbka6005f6f12g5jys9ki","_id":"cjtohbka7005k6f12key2xmy3"},{"post_id":"cjtohbkal005l6f12u9hjkd49","category_id":"cjtohbk7t000u6f12tpohiivl","_id":"cjtohbkap005s6f12t0hlu0cw"},{"post_id":"cjtohbkao005o6f127x6oz3rw","category_id":"cjtohbk7x00156f12mak1c8z4","_id":"cjtohbkar005v6f12afww1vxt"},{"post_id":"cjtohbkap005r6f12kbz0bdnt","category_id":"cjtohbk7x00156f12mak1c8z4","_id":"cjtohbkav005y6f12dkrh47ao"},{"post_id":"cjtohbkaq005t6f12mfunsfws","category_id":"cjtohbk7x00156f12mak1c8z4","_id":"cjtohbkaw00606f1234gw0v9o"},{"post_id":"cjtohbkam005n6f12kq3fipxf","category_id":"cjtohbkap005p6f12qknwa9wr","_id":"cjtohbkax00636f12z8zhs1tp"},{"post_id":"cjtohbkaq005u6f12dzrl8t0a","category_id":"cjtohbk7x00156f12mak1c8z4","_id":"cjtohbkaz00656f122np5u1bu"},{"post_id":"cjtohbkar005x6f12331zmemm","category_id":"cjtohbk7x00156f12mak1c8z4","_id":"cjtohbkb100676f12o0f4ijaa"},{"post_id":"cjtohbkaw005z6f12mkmyovmq","category_id":"cjtohbk7x00156f12mak1c8z4","_id":"cjtohbkb2006a6f12rgr0lz62"},{"post_id":"cjtohbkax00626f12tisnnkzk","category_id":"cjtohbk7x00156f12mak1c8z4","_id":"cjtohbkb3006d6f12q1zwt0fk"},{"post_id":"cjtohbkaz00646f12601lngth","category_id":"cjtohbk7x00156f12mak1c8z4","_id":"cjtohbkb5006h6f12nrqhgmn4"},{"post_id":"cjtohbkb000666f1280ku5z1t","category_id":"cjtohbk94003g6f12ai1ehw0o","_id":"cjtohbkb6006j6f12ggqh39c0"},{"post_id":"cjtohbkb3006c6f127cefsnit","category_id":"cjtohbk9r004m6f12uh1poxqw","_id":"cjtohbkb7006l6f12hxj0m8e0"},{"post_id":"cjtohbkb4006g6f12q2saq1ii","category_id":"cjtohbk9r004m6f12uh1poxqw","_id":"cjtohbkb7006m6f12u6ydeo6j"},{"post_id":"cjtohbkb6006i6f123sgodrkp","category_id":"cjtohbk9r004m6f12uh1poxqw","_id":"cjtohbkb9006p6f12onctwpyg"},{"post_id":"cjtohbkb100696f12n7i9zbff","category_id":"cjtohbkb4006f6f12f4tnp9fr","_id":"cjtohbkb9006q6f12hwixg5fl"},{"post_id":"cjtohbkb6006k6f12vybo5cls","category_id":"cjtohbkb8006n6f12oo3tsa6u","_id":"cjtohbkb9006s6f12b0urf5pe"},{"post_id":"cjtohbkbk006x6f12nbb7otor","category_id":"cjtohbk7700046f12s58n1ug4","_id":"cjtohbkbn00726f12uc22wt2g"},{"post_id":"cjtohbkbm006z6f12cz1wx0u6","category_id":"cjtohbkb4006f6f12f4tnp9fr","_id":"cjtohbkbn00736f12xwmhuzyl"},{"post_id":"cjtohbkbl006y6f12meyggwhj","category_id":"cjtohbkbn00706f12eh3hci27","_id":"cjtohbkbo00756f12dqg2u9id"},{"post_id":"cjtohbkbu00786f12ulpest8t","category_id":"cjtohbk7o000k6f12gcsrmel8","_id":"cjtohbkbv007a6f12frsedjj2"},{"post_id":"cjtohbkbv00796f12kxdfyfrb","category_id":"cjtohbk94003g6f12ai1ehw0o","_id":"cjtohbkbw007b6f12ughirwab"},{"post_id":"cjtohbkcq007d6f124pi83cna","category_id":"cjtohbk9r004m6f12uh1poxqw","_id":"cjtohbkcr007e6f12b1mj1opl"}],"PostTag":[{"post_id":"cjtohbk7i000d6f12l9wfbb25","tag_id":"cjtohbk7m000h6f12om4vtui2","_id":"cjtohbk7t000t6f12ra2xqtqi"},{"post_id":"cjtohbk7i000d6f12l9wfbb25","tag_id":"cjtohbk7p000n6f12dr1uwlnx","_id":"cjtohbk7u000x6f12m2j2fz00"},{"post_id":"cjtohbkam005n6f12kq3fipxf","tag_id":"cjtohbkap005q6f12r2rin34f","_id":"cjtohbkb100686f12zvsbilhk"},{"post_id":"cjtohbkam005n6f12kq3fipxf","tag_id":"cjtohbkar005w6f12yvctksh2","_id":"cjtohbkb2006b6f12m2whfelz"},{"post_id":"cjtohbkam005n6f12kq3fipxf","tag_id":"cjtohbkax00616f12vito6ey6","_id":"cjtohbkb4006e6f12ij1idt63"},{"post_id":"cjtohbkb6006k6f12vybo5cls","tag_id":"cjtohbkb9006o6f121abr4il2","_id":"cjtohbkb9006u6f12lzaca6is"},{"post_id":"cjtohbkb6006k6f12vybo5cls","tag_id":"cjtohbkb9006r6f1201491rjb","_id":"cjtohbkb9006v6f12o8k4frpd"},{"post_id":"cjtohbkb6006k6f12vybo5cls","tag_id":"cjtohbkb9006t6f12ehd3oxyx","_id":"cjtohbkba006w6f127xruki3u"},{"post_id":"cjtohbkbl006y6f12meyggwhj","tag_id":"cjtohbkbn00716f12t4jwflw0","_id":"cjtohbkbo00766f12p7prnafi"},{"post_id":"cjtohbkbl006y6f12meyggwhj","tag_id":"cjtohbkbn00746f12xm48hasq","_id":"cjtohbkbo00776f12pdrpu4ac"}],"Tag":[{"name":"","_id":"cjtohbk7m000h6f12om4vtui2"},{"name":"","_id":"cjtohbk7p000n6f12dr1uwlnx"},{"name":"","_id":"cjtohbkap005q6f12r2rin34f"},{"name":"","_id":"cjtohbkar005w6f12yvctksh2"},{"name":"AHAS","_id":"cjtohbkax00616f12vito6ey6"},{"name":"","_id":"cjtohbkb9006o6f121abr4il2"},{"name":"","_id":"cjtohbkb9006r6f1201491rjb"},{"name":"","_id":"cjtohbkb9006t6f12ehd3oxyx"},{"name":"","_id":"cjtohbkbn00716f12t4jwflw0"},{"name":"","_id":"cjtohbkbn00746f12xm48hasq"}]}}